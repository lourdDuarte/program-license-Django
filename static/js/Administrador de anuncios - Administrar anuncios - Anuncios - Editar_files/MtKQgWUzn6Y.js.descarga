if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins",["AdsImageUploadStartDataActionFlux","AdsImageUploadUploadFailDataActionFlux","AdsImageUploadUploadSuccessDataActionFlux","AdsMgmtPerfScenarioController","AdsPerfInteractionsController","AdsScenarioUtil"],function(a,b,c,d,e,f,g){"use strict";var h=0,i=d("AdsScenarioUtil").genScenarioInstanceKey("am:edit_ads:upload_asset_in_media_dialog");function j(a,b){return b.imagesData?{current_action_items_count:b.imagesData.imagesData.length}:{current_action_items_count:h}}a={log:function(a){var b;i=c("AdsMgmtPerfScenarioController").startScenario({name:"am:edit_ads:upload_asset_in_media_dialog",logData:j},d("AdsImageUploadStartDataActionFlux").actionType,a);c("AdsPerfInteractionsController").startInteraction("am.edit_ads.upload_asset_in_media_dialog",f.id+"_"+((b=a.perfInteractionComponent)!=null?b:"default"),{scenarioID:i,overrideTrackingSurface:a.perfInteractionComponent})}};b={log:function(a){var b;c("AdsMgmtPerfScenarioController").endScenarioFail(i,d("AdsImageUploadUploadFailDataActionFlux").actionType,a);c("AdsMgmtPerfScenarioController").endScenariosWithTrigger("ads_video_upload_thumbnail_fail",d("AdsImageUploadUploadFailDataActionFlux").actionType,a,(b={},b.message=a.imageData.errorMessage,b))}};e={log:function(a){c("AdsMgmtPerfScenarioController").endScenarioSuccess(i,d("AdsImageUploadUploadSuccessDataActionFlux").actionType,a),c("AdsMgmtPerfScenarioController").endScenariosWithTrigger("ads_video_upload_thumbnail_succeed",d("AdsImageUploadUploadSuccessDataActionFlux").actionType,a)}};g.AdsImageUploadDragDialogStartLoggerPlugin=a;g.AdsImageUploadDragDialogAndVideoThumbnailUploadFailLoggerPlugin=b;g.AdsImageUploadDragDialogAndVideoThumbnailUploadSuccessLoggerPlugin=e},98);
__d("AdsVideoEditPerfScenarioLoggerPlugins",["AdsInteractionIdController","AdsMgmtPerfScenarioController","VCECreateOverlaidVideoDataActionFlux","VCEEditVideoDataActionFlux","VCEUpdateUploadStatusDataActionFlux","VCEUploadStatus"],function(a,b,c,d,e,f,g){"use strict";a={log:function(a){if(a.videoEdits.cropping_params!==null){var b=c("AdsMgmtPerfScenarioController").startScenario({name:"am:edit_video:manual_crop",logData:function(){var b,c;return c={},c.video_ids=a.videoID,c.crop_ratios=(b=a.videoEdits.cropping_params)==null?void 0:b.aspect_ratio,c}},d("VCEEditVideoDataActionFlux").actionType,a);d("AdsInteractionIdController").attachScenarioIDToInteraction("am.edit_video.manual_crop",b)}if(a.videoEdits.trimming_params!==null){b=c("AdsMgmtPerfScenarioController").startScenario({name:"am:edit_video:trim",logData:function(){var b;return b={},b.video_ids=a.videoID,b.edit_action_params=a.videoEdits.trimming_params,b}},d("VCEEditVideoDataActionFlux").actionType,a);d("AdsInteractionIdController").attachScenarioIDToInteraction("am.edit_video.trim",b)}}};b={log:function(a){var b=c("AdsMgmtPerfScenarioController").startScenario({name:"am:edit_video:overlay",logData:function(){var b;return b={},b.video_ids=a.originalVideoID,b.overlay=a.overlaySpecs,b}},d("VCECreateOverlaidVideoDataActionFlux").actionType,a);d("AdsInteractionIdController").attachScenarioIDToInteraction("am.edit_video.overlay",b)}};e={log:function(a){if(a.status===c("VCEUploadStatus").SUCCESS){var b;c("AdsMgmtPerfScenarioController").endScenariosWithTrigger("ads_video_edit_succeed",d("VCEUpdateUploadStatusDataActionFlux").actionType,a,(b={},b.video_id=a.videoID,b))}a.status===c("VCEUploadStatus").ABORT&&c("AdsMgmtPerfScenarioController").endScenariosWithTrigger("ads_video_edit_abandon",d("VCEUpdateUploadStatusDataActionFlux").actionType,a);if(a.status===c("VCEUploadStatus").ERROR){c("AdsMgmtPerfScenarioController").endScenariosWithTrigger("ads_video_edit_fail",d("VCEUpdateUploadStatusDataActionFlux").actionType,a,(b={},b.message=(a=a.error)==null?void 0:a.message,b))}}};g.AdsVideoManualCropAndTrimStartLoggerPlugin=a;g.AdsVideoOverlayStartLoggerPlugin=b;g.AdsVideoEditFinishLoggerPlugin=e},98);
__d("AdsAccountImageSourceImageListProviderPlugin",["AdsAccountImageSourceDataLoaderV2","LoadObject","PaginationLoadObjectMap","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return new(c("PaginationLoadObjectMap"))({imageIDs:c("immutable").OrderedSet([]),uploadedImageIDs:c("immutable").OrderedSet([]),after:null},c("AdsAccountImageSourceDataLoaderV2").load,function(b,d){a(function(a){return a.update(b,function(e){return c("LoadObject").withValue({after:d.after,imageIDs:a.get(b).getValueEnforcing().imageIDs.union(d.imageIDs),uploadedImageIDs:a.get(b).getValueEnforcing().uploadedImageIDs.subtract(d.imageIDs)})})})},function(b,c){a(function(a){return a.update(b,function(a){return a.setError(c).done()})})})}};b=a;g["default"]=b},98);
__d("AdsAdAccountUpdateGraphQLFetchKeyProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{refetchTrigger:0}};b=a;f["default"]=b},66);
__d("AdsAllImageQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsAutoExtractImageQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsAutoExtractImageSourceImageListUpdateReducerPlugin",["AdsAssetAutoExtractImageDataUtils","LoadObject"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var e=b.query;b=b.value;var f=a.get(e);if(f.isLoadingOrEmpty())return a.set(e,c("LoadObject").withValue({after:b.after,imageIDs:b.imageIDs,totalImagesCount:b.totalImagesCount,extractionStatus:b.extractionStatus}));else return a.set(e,c("LoadObject").withValue(d("AdsAssetAutoExtractImageDataUtils").mergeAutoExtractImageValues(f.getValueEnforcing(),b,!0)))}};b=a;g["default"]=b},98);
__d("AdsAutoExtractImageSourceImageListProviderPlugin",["AdsAssetAutoExtractImageDataUtils","AdsAssetAutoExtractImagePollingDataManager","AdsAutoExtractImageSourceDataLoader","LoadObject","PaginationLoadObjectMap","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return new(c("PaginationLoadObjectMap"))({imageIDs:c("immutable").OrderedSet([]),after:null,totalImagesCount:0,extractionStatus:null},c("AdsAutoExtractImageSourceDataLoader").load,function(b,e){var f;a(function(a){var g=a.get(b).getValueEnforcing();f=g.after;return a.update(b,function(a){return c("LoadObject").withValue(d("AdsAssetAutoExtractImageDataUtils").mergeAutoExtractImageValues(g,e,!1))})});e.extractionStatus=="IN_PROGRESS"&&d("AdsAssetAutoExtractImagePollingDataManager").pollForPendingAutoExtractImageQuery(b,e,f,0)},function(b,c){a(function(a){return a.update(b,function(a){return a.setError(c).done()})})})}};b=a;g["default"]=b},98);
__d("AdsBusinessImageQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsBusinessImageSourceCreativeFoldersQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsBusinessImageSourceImageListProviderPlugin",["AdsBusinessImageSourceDataLoader","LoadObject","PaginationLoadObjectMap","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return new(c("PaginationLoadObjectMap"))({imageIDs:c("immutable").OrderedSet([]),after:null},c("AdsBusinessImageSourceDataLoader").load,function(b,d){a(function(a){var e=a.get(b).getValueEnforcing().imageIDs.union(d.imageIDs);return a.set(b,c("LoadObject").withValue({imageIDs:e,after:d.after}))})})}};b=a;g["default"]=b},98);
__d("AdsBusinessSourceCreativeFolderListProviderPlugin",["AdsBusinessCreativeFoldersDataLoader","LoadObject","PaginationLoadObjectMap","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return new(c("PaginationLoadObjectMap"))({creativeFolders:c("immutable").OrderedMap([]),after:null},c("AdsBusinessCreativeFoldersDataLoader").load,function(b,d){a(function(a){var e=a.get(b).getValueEnforcing().creativeFolders.concat(d.creativeFolders);return a.set(b,c("LoadObject").withValue({creativeFolders:e,after:d.after}))})})}};b=a;g["default"]=b},98);
__d("AdsBusinessVideoSourceCreativeFoldersQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsInstagramMediaListV2DataProviderPlugin",["AdsInstagramAccountMediaListDataManager","LoadObject","PaginationLoadObjectMap","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return new(c("PaginationLoadObjectMap"))({after:null,mediaSet:c("immutable").OrderedSet([])},c("AdsInstagramAccountMediaListDataManager").loadMediasFromUserV2ID,function(b,d){a(function(a){return a.update(b,function(e){return c("LoadObject").withValue({after:d.after,mediaSet:a.get(b).getValueEnforcing().mediaSet.union(d.mediaSet)})})})},function(b,c){a(function(a){return a.update(b,function(a){return a.setError(c).done()})})})}};b=a;g["default"]=b},98);
__d("AdsNewlyUploadedImageAestheticScoreProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:c("immutable").Map()};b=a;g["default"]=b},98);
__d("AdsPageImageQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsPageImageSourceImageListProviderPlugin",["AdsPageImageListDataLoader","LoadObject","PaginationLoadObjectMap","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return new(c("PaginationLoadObjectMap"))({imageIDs:c("immutable").OrderedSet([]),after:null},c("AdsPageImageListDataLoader").load,function(b,d){a(function(a){var e=a.get(b).getValueEnforcing().imageIDs.union(d.imageIDs);return a.set(b,c("LoadObject").withValue({imageIDs:e,after:d.after}))})})}};b=a;g["default"]=b},98);
__d("AdsStockImageQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{searchText:""}};b=a;f["default"]=b},66);
__d("AdsAdBuilderBlockAdsManagerProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{visible:!1}};b=a;f["default"]=b},66);
__d("AdsAdBuilderReportProblemModalVisibilityProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{isShown:!1,apiFormat:null}};b=a;f["default"]=b},66);
__d("AdsAdPreviewErrorsDataProviderPlugin",["AdsAdPreviewDataProviderPluginHelper","AdsPreviewErrorAllowedFormatsSitevarConfig","AdsPreviewRenderPropsAllowedFormatsSitevarConfig","AdsSelectedPreviewLoadScenarioLogger","AsyncRequest","LoadObject","LoadObjectMap","Promise","WebApiApplication","XAdPreviewErrorsV2Controller","adsPreviewGetPageletAPIVersion","cancelAnimationFrame","chunkArray","immutable","promiseDone","regeneratorRuntime","requestAnimationFrame"],function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=200,m=0,n=function(a,b,d){return d(function(d){return d.set(a,c("LoadObject").withValue(((d=d.get(a).getValue())!=null?d:c("immutable").Map()).merge(b)))})},o=function(a,b,d){var e;e=(e=i.get(a.context))!=null?e:c("immutable").Map();i.set(a.context,e.merge(b));e=j.get(a.context);if(e==null){b=c("requestAnimationFrame")(function(){var b;b=(b=i.get(a.context))!=null?b:c("immutable").Map();n(a,b,d);i["delete"](a.context);j["delete"](a.context)});j.set(a.context,b)}};a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(e){a(function(a){m+=e.size;if(m>l){m=e.size;return a.clear().setLoading(e)}return a.setLoading(e)}),e.forEach(function(e){var f=d("AdsAdPreviewDataProviderPluginHelper").createErrorsKey(e);if(f===k.get(e.context))return;k.set(e.context,f);q(e.context);var g=!1;f=function(b){g||(a(function(a){return a.setKeyStale(b)}),g=!0)};c("promiseDone")(b("Promise").all(p(e,f).map(function(b){return b.then(function(b){return o(e,b,a)})})))})},d("AdsAdPreviewDataProviderPluginHelper").createErrorsKey)}};var p=function(a,b){var d=a.placements.filter(function(a){return c("AdsPreviewErrorAllowedFormatsSitevarConfig").ALLOWED_FORMATS.includes(a)});return c("chunkArray")(d,c("AdsPreviewRenderPropsAllowedFormatsSitevarConfig").MAX_FORMATS_PER_REQUEST).map(function(c){return r(a,c,b)})},q=function(a){var b;if(a==null)return;b=(b=h.get(a))!=null?b:{};Object.values(b).forEach(function(a){a instanceof c("AsyncRequest")&&a.abort()});i["delete"](a);b=j.get(a);b!=null&&c("cancelAnimationFrame")(b);j["delete"](a);h["delete"](a)},r=function(a,e,f){var g,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:g=c("XAdPreviewErrorsV2Controller").getURIBuilder().setEnumVector("formats",e).setInt("appid",d("WebApiApplication").getClientID()).setInt("adaccountid",a.adAccountId).setString("version",c("adsPreviewGetPageletAPIVersion")()).setString("request_uuid",a.requestUUID).setString("creative",JSON.stringify(a.creative));i=d("AdsSelectedPreviewLoadScenarioLogger").getQPLJoinID();j=d("AdsSelectedPreviewLoadScenarioLogger").makeQPLRequestID("errors");i!=null&&(g.setString("selectedPreviewLoadJoinID",i),g.setString("selectedPreviewLoadRequestID",j));k=g.getURI();l=new(c("AsyncRequest"))(k);o.next=8;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,e){var g,i=(g=h.get(a.context))!=null?g:{};h.set(a.context,i);d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestStart(j);l.setHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(j);b(a);delete i[l.id];return c("AsyncRequest").suppressOnloadToken}).setErrorHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(j),delete i[l.id],e(a)}).setAbortHandler(function(){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(j),delete i[l.id],f(a)}).send();i[l.id]=l}));case 8:m=o.sent;n=m.getPayload();return o.abrupt("return",c("immutable").Map(n.payload));case 11:case"end":return o.stop()}},null,this)};e=a;g["default"]=e},98);
__d("AdsAdPreviewRenderPropsDataProviderPlugin",["AdsAdPreviewDataProviderPluginHelper","AdsPreviewRenderPropsAllowedFormatsSitevarConfig","AdsSelectedPreviewLoadScenarioLogger","AsyncRequest","LoadObject","LoadObjectMap","Promise","WebApiApplication","XAdPreviewPropsV2Controller","adsPreviewGetPageletAPIVersion","cancelAnimationFrame","chunkArray","promiseDone","regeneratorRuntime","requestAnimationFrame"],function(a,b,c,d,e,f,g){"use strict";var h={version:"v2",callToActionData:{callToActionDataCells:[]},commonData:{apiAdFormat:"INSTAGRAM_STORY"},identityData:{profileName:null,brandedContentSponsorName:null,profilePictureUrl:null},mediaData:{mediaDataCells:[]},textData:{headlines:[],primaryText:""}},i=new Map(),j=new Map(),k=new Map(),l=new Map(),m=200,n=0,o=function(a,b,d){return d(function(d){return d.set(a,c("LoadObject").withValue(babelHelpers["extends"]({},d.get(a).getValue(),b)))})},p=function(a,b,d){var e;e=(e=j.get(a.context))!=null?e:{};j.set(a.context,babelHelpers["extends"]({},e,b));e=k.get(a.context);if(e==null){b=c("requestAnimationFrame")(function(){var b;b=(b=j.get(a.context))!=null?b:{};o(a,b,d);j["delete"](a.context);k["delete"](a.context)});k.set(a.context,b)}};a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(e){a(function(a){n+=e.size;if(n>m){n=e.size;return a.clear().setLoading(e)}return a.setLoading(e)}),e.forEach(function(e){var f=d("AdsAdPreviewDataProviderPluginHelper").createRenderPropsKey(e);if(f===l.get(e.context))return;l.set(e.context,f);r(e.context);var g=!1;f=function(b){g||(a(function(a){return a.setKeyStale(b)}),g=!0)};c("promiseDone")(b("Promise").all(q(e,f).map(function(b){return b.then(function(b){return p(e,b,a)})})))})},d("AdsAdPreviewDataProviderPluginHelper").createRenderPropsKey)}};var q=function(a,b){var d=a.placements.filter(function(a){return c("AdsPreviewRenderPropsAllowedFormatsSitevarConfig").ALLOWED_FORMATS.includes(a)});return c("chunkArray")(d,c("AdsPreviewRenderPropsAllowedFormatsSitevarConfig").MAX_FORMATS_PER_REQUEST).map(function(c){return s(a,c,b)})},r=function(a){var b;if(a==null)return;b=(b=i.get(a))!=null?b:{};Object.values(b).forEach(function(a){a instanceof c("AsyncRequest")&&a.abort()});j["delete"](a);b=k.get(a);b!=null&&c("cancelAnimationFrame")(b);k["delete"](a);i["delete"](a)},s=function(a,e,f){var g,j,k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:g=c("XAdPreviewPropsV2Controller").getURIBuilder().setEnumVector("formats",e).setInt("appid",d("WebApiApplication").getClientID()).setInt("adaccountid",a.adAccountId).setString("version",c("adsPreviewGetPageletAPIVersion")()).setString("request_uuid",a.requestUUID);j=d("AdsAdPreviewDataProviderPluginHelper").shouldLoadByAdID(a)?g.setInt("adid",a.adID):g.setString("creative",JSON.stringify(a.creative));k=d("AdsSelectedPreviewLoadScenarioLogger").getQPLJoinID();l=d("AdsSelectedPreviewLoadScenarioLogger").makeQPLRequestID("props");k!=null&&(j.setString("selectedPreviewLoadJoinID",k),j.setString("selectedPreviewLoadRequestID",l));m=j.getURI();n=new(c("AsyncRequest"))(m);o=new(b("Promise"))(function(b,e){var g,h=(g=i.get(a.context))!=null?g:{};i.set(a.context,h);d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestStart(l);n.setHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(l);b(a);delete h[n.id];return c("AsyncRequest").suppressOnloadToken}).setErrorHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(l),delete h[n.id],e(a)}).setAbortHandler(function(){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(l),delete h[n.id],f(a)}).send();h[n.id]=n});q.next=10;return b("regeneratorRuntime").awrap(o.then(function(a){return a.getPayload()})["catch"](function(a){return{meta:{},payload:e.reduce(function(b,c){b[c]=babelHelpers["extends"]({},h,{commonData:{apiAdFormat:c},error_message:a.errorSummary});return b},{})}}));case 10:p=q.sent;return q.abrupt("return",p.payload);case 12:case"end":return q.stop()}},null,this)};e=a;g["default"]=e},98);
__d("AdsIGVideoUploadUpdateCropsProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{cachedData:null}};b=a;f["default"]=b},66);
__d("AssetLibraryModalSystemProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{modalName:null}};b=a;f["default"]=b},66);
__d("AssetLibrarySidebarNavigationProviderPlugin",["AssetLibraryBizCreativesSidebarNavigation"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{sidebarItemValue:d("AssetLibraryBizCreativesSidebarNavigation").SidebarItemValue.FOLDERS_AND_ASSETS}};b=a;g["default"]=b},98);
__d("AdsAssetAutoExtractSetWebsiteScrapingProgressReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{isWebsiteScrapingDone:b.isWebsiteScrapingDone})}};b=a;f["default"]=b},66);
__d("AdsAssetAutoExtractUrlStatusProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{isEditing:null,isFirstEdit:null,isWebsiteScrapingDone:null}};b=a;f["default"]=b},66);
__d("AdsAssetAutoExtractSetCreativeWebsiteAssetSourceReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{hasBeenOveridden:!0,url:b.sourceURL}}};b=a;f["default"]=b},66);
__d("AdsAutoExtractImageSourceClearQueryReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{query:null})}};b=a;f["default"]=b},66);
__d("AdsAssetAutoExtractURLsProviderPlugin",["AdsAssetAutoExtractWebsiteUrlDataManager","AdsGraphAPI","AdsOverrideWebsiteCreativeAssetSourceAction","loadObjectMapProvider","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";function h(a){return d("AdsGraphAPI").get(f.id).adaccount(a).edge("urls_for_asset_extraction").get()}function i(a){var c,d,e,f,g,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(h(a));case 2:f=k.sent;g=(c=f==null?void 0:f.data)!=null?c:[];i=(d=g.find(function(a){return a.source_type==="suggested_url"}))==null?void 0:d.source_url;j=(e=g.find(function(a){return a.source_type==="advertiser_opted_in_url"}))==null?void 0:e.source_url;return k.abrupt("return",{suggestedURL:i,advertiserOptedInURL:j});case 7:case"end":return k.stop()}},null,this)}function a(a){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(i(a));case 2:e=f.sent;e.advertiserOptedInURL!=null&&(d("AdsAssetAutoExtractWebsiteUrlDataManager").initiateWebsiteAssetAutoExtract(a,e.advertiserOptedInURL),c("AdsOverrideWebsiteCreativeAssetSourceAction").dispatch({sourceURL:e.advertiserOptedInURL},{line:"82",module:"AdsAssetAutoExtractURLsProviderPlugin.js"}));return f.abrupt("return",e);case 5:case"end":return f.stop()}},null,this)}e={initialState:c("loadObjectMapProvider").withSingleKeyLoader_USE_SPARINGLY(a)};a=e;g["default"]=a},98);
__d("AdsAssetLiquidtityStorePageIDProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{pageID:null}};b=a;f["default"]=b},66);
__d("AdsAutomaticFlowLitePreviewDataProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{hasSeenPreviewCarouselUI:!1,showPreviewCarouselUI:!1}};b=a;f["default"]=b},66);
__d("AdsBulkEditMediaDialogDataProviderPlugin",["AdsImageSelectorV2Types","AdsVideoSelectionHeaderTabTypes"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{selectedMedia:[],imageSource:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,videoSource:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT}};b=a;g["default"]=b},98);
__d("BusinessCreativeBusinessSharingActionProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return{showDialog:!1,creationFlow:null}}};b=a;f["default"]=b},66);
__d("BusinessCreativeCollectionProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{isLoadingCreatives:!1,isLoadingCollections:!1,creativesResponse:null,creativeCollectionsResponse:{creativeFolders:c("immutable").OrderedMap(),afterCursor:null}}};b=a;g["default"]=b},98);
__d("BusinessCreativeFolderProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return{businessSharingAction:null,selectedObjectPath:null,selectedFolder:null,selectSubFolder:null,creativeFolderUsersByFolderID:c("immutable").Map(),businessCreativesResponse:null,isImageUploading:!1,selectedCreative:null,isCreativeDetailsPaneShown:!1,isLoadingBusinessCreativeInsights:!1,isLoadingBusinessCreatives:!1,isLoadingBusinessSubFolders:!1,isLoadingBusinessFolders:!1,creativeInsights:c("immutable").List(),creativeInsightsByAd:c("immutable").OrderedMap(),isFolderDetailsPaneShown:!1,validationResults:null,selectedAdId:"all",creativeSubFoldersResonse:{creativeFolders:c("immutable").OrderedMap(),afterCursor:null},creativeFoldersResponse:{creativeFolders:c("immutable").OrderedMap(),afterCursor:null},queryText:null}}};b=a;g["default"]=b},98);
__d("BusinessCreativeFoldersSearchProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{recursive:!1,queryText:"",afterCursor:null,filters:d("immutable").OrderedSet()}};b=a;g["default"]=b},98);
__d("BusinessCreativeRecentUploadsProviderPlugin",["AssetLibraryBizCreativeRecentViewDataLoader","LoadObject","PaginationLoadObjectMap","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return new(c("PaginationLoadObjectMap"))({businessCreatives:c("immutable").OrderedMap(),after:null},c("AssetLibraryBizCreativeRecentViewDataLoader").load,function(b,d){a(function(a){var e=a.get(b).getValueEnforcing().businessCreatives.concat(d.businessCreatives);return a.set(b,c("LoadObject").withValue({businessCreatives:e,after:d.after}))})})}};b=a;g["default"]=b},98);
__d("BusinessCreativeSelectedFolderQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("CreativeInsightsParametersProviderPlugin",["LocalDate","LocalDateInterval","Timezone"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return{dateRange:new(c("LocalDateInterval"))(c("LocalDate").today(d("Timezone").UTC).subtractDays(27),c("LocalDate").today(d("Timezone").UTC).addDays(1)),selectedMetrics:[],selectedBreakdowns:[]}}};b=a;g["default"]=b},98);
__d("CreativeOwnedFolderProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return{creativeOwnedFolder:null}}};b=a;f["default"]=b},66);
__d("CreativesSelectableTableV2ProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return{selectedCreativeContentItems:c("immutable").Set([])}}};b=a;g["default"]=b},98);
__d("CatalogAdminProviderPlugin",["CatalogPermissionUtils","ProductCatalogAPIClient","loadObjectMapProvider","recoverableViolation","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";function a(a){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.prev=0;f.next=3;return b("regeneratorRuntime").awrap(c("ProductCatalogAPIClient").loadWithFields(a,["user_tasks"]));case 3:e=f.sent;return f.abrupt("return",d("CatalogPermissionUtils").canUserEditCatalogFromAPI(e));case 7:f.prev=7;f.t0=f["catch"](0);c("recoverableViolation")("Hit error while trying to get user_tasks in catalog "+a,"dpa",{error:f.t0});throw f.t0;case 11:case"end":return f.stop()}},null,this,[[0,7]])}e={initialState:c("loadObjectMapProvider").withSingleKeyLoader_USE_SPARINGLY(a)};f=e;g["default"]=f},98);
__d("AdsAccountDiverseImageSourceQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsAccountImageSourceStateProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsAccountRecommendedImageSourceQueryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};b=a;f["default"]=b},66);
__d("AdsImageSelectorV2StateProviderPlugin",["AdsImageSelectorV2StateStoreRecord"],function(a,b,c,d,e,f,g){"use strict";a=function(){return new(c("AdsImageSelectorV2StateStoreRecord"))()};b={initialState:a()};d=b;g["default"]=d},98);
__d("AdsPostModalOptimizationDataProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{optimizationChangeSets:c("immutable").Map(),selectedBaseAsset:null,selectedBaseAssetID:null,hasCachedData:!1}};b=a;g["default"]=b},98);
__d("AdsUEditorOMPLocalVideoDataProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{selectedAdgroupIDs:[],selectedUploadingVideoKey:null}};b=a;f["default"]=b},66);
__d("AdsUEditorOptimizationMediaPickerDataProviderPlugin",["AdsImageSelectorV2Types","AdsUEditorOptimizationMediaPickerToolTypes","AdsVideoSelectionHeaderTabTypes","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{changeSets:c("immutable").Map(),hasSourceChanged:!1,imagePickerSource:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,imageAssetLiquidityPickerSource:d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE,selectedAssets:c("immutable").Map(),selectedTool:c("AdsUEditorOptimizationMediaPickerToolTypes").MEDIA_PICKER,targetAspectRatio:null,uploadingVideo:null,uploadedVideo:null,videoPickerSource:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT,hasCachedData:!1}};b=a;g["default"]=b},98);
__d("AdsCFCreativeContainerAdgroupReducer",["AdsCFAdgroupProviderStore","AdsCFAdgroupStateUtils","AdsCreativeContainerAdgroupReducersFromDataReducers","AdsCreativeContainerApplyChangesActionFlux","AdsCreativeContainerCloseActionFlux","AdsCreativeContainerInitActionFlux","AdsDataAtom","AdsOpenCreativeEditorActionFlux","AdsUEditorHostIDs","AdsUEditorUtils","LoadObject","adsCFActiveAdgroupIDsSelector","immutable"],function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();function a(a,b){var e;a=a;if(!d("AdsUEditorUtils").shouldHostHandleAction(b,c("AdsUEditorHostIDs").CREATION_CREATIVE_CONTAINER)&&b.actionType!==d("AdsOpenCreativeEditorActionFlux").actionType)return a;switch(b.actionType){case d("AdsCreativeContainerInitActionFlux").actionType:var f=(e=b.adgroupIDs)!=null?e:c("adsCFActiveAdgroupIDsSelector")();e=c("AdsCFAdgroupProviderStore").getState();e=d("AdsCFAdgroupStateUtils").getAdgroupRecords(e).filter(function(a){return f.includes(a.id)});return c("immutable").Map(e.map(function(a){return[a.id,c("LoadObject").withValue(a)]}));case d("AdsCreativeContainerCloseActionFlux").actionType:case d("AdsCreativeContainerApplyChangesActionFlux").actionType:c("AdsDataAtom").isDispatching()&&c("AdsDataAtom").waitFor([c("AdsCFAdgroupProviderStore").getDispatchToken()]);return h}return c("AdsCreativeContainerAdgroupReducersFromDataReducers").reduce(function(a,c){return c(a,b)},a)}g.reduce=a},98);
__d("AdsCFCreativeContainerAdgroupDataProviderPlugin",["AdsCFCreativeContainerAdgroupReducer","AdsCreativeContainerAdgroupDataReducerUtils","immutable"],function(a,b,c,d,e,f,g){"use strict";b("AdsCreativeContainerAdgroupDataReducerUtils");a={initialState:c("immutable").Map(),legacyFluxReduce:function(a,b){return d("AdsCFCreativeContainerAdgroupReducer").reduce(a,b)}};e=a;g["default"]=e},98);
__d("AdsEditingCreativeContainerAdgroupDraftFragmentReducer",["AdsCloseCreativeFeaturesPlatformModalActionFlux","AdsCreativeContainerAdgroupReducersFromDataReducers","AdsCreativeContainerApplyChangesActionFlux","AdsCreativeContainerCloseActionFlux","AdsCreativeContainerInitActionFlux","AdsDataAtom","AdsMgmtSetAssetPickerMediaTypeActionFlux","AdsOpenCreativeEditorActionFlux","AdsOpenCreativeFeaturesPlatformModalActionFlux","AdsPEAdgroupSelectors","AdsSelectorUtils","AdsUEditorAdgroupApplyCFPChangeSetActionFlux","AdsUEditorHostIDs","AdsUEditorUtils","adsMgmtAdgroupSelectedIdsSelector","immutable","isValidID"],function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();function a(a,b){a=a;if(!d("AdsUEditorUtils").shouldHostHandleAction(b,c("AdsUEditorHostIDs").EDITING_CREATIVE_CONTAINER)&&b.actionType!==d("AdsOpenCreativeEditorActionFlux").actionType&&b.actionType!==c("AdsOpenCreativeFeaturesPlatformModalActionFlux").actionType&&b.actionType!==c("AdsUEditorAdgroupApplyCFPChangeSetActionFlux").actionType)return a;switch(b.actionType){case d("AdsCreativeContainerInitActionFlux").actionType:var e;e=(e=b.adgroupIDs)!=null?e:d("adsMgmtAdgroupSelectedIdsSelector").adsMgmtAdgroupSelectedIdsSelector();e=e.filter(c("isValidID"));return d("AdsPEAdgroupSelectors").getAllRecordsSelector_LEGACY()(e);case d("AdsCreativeContainerCloseActionFlux").actionType:case d("AdsCreativeContainerApplyChangesActionFlux").actionType:case c("AdsCloseCreativeFeaturesPlatformModalActionFlux").actionType:case c("AdsMgmtSetAssetPickerMediaTypeActionFlux").actionType:case c("AdsUEditorAdgroupApplyCFPChangeSetActionFlux").actionType:c("AdsDataAtom").isDispatching()&&c("AdsDataAtom").waitFor(d("AdsSelectorUtils").getStoreDispatchTokens([d("AdsPEAdgroupSelectors").getAllRecordsSelector_LEGACY]));return h}a=c("AdsCreativeContainerAdgroupReducersFromDataReducers").reduce(function(a,c){return c(a,b)},a);return a}g.reduce=a},98);
__d("AdsEditingCreativeContainerAdgroupDraftFragmentsDataProviderPlugin",["AdsCreativeContainerAdgroupDataReducerUtils","AdsEditingCreativeContainerAdgroupDraftFragmentReducer","immutable"],function(a,b,c,d,e,f,g){"use strict";b("AdsCreativeContainerAdgroupDataReducerUtils");a={initialState:c("immutable").Map(),legacyFluxReduce:function(a,b){return d("AdsEditingCreativeContainerAdgroupDraftFragmentReducer").reduce(a,b)}};e=a;g["default"]=e},98);
__d("AdsCreativeContainerImagePickerDataProviderPlugin",["AdsImageSelectorV2Types","immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{lastUploadedImageID:null,source:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,selectedItems:c("immutable").OrderedSet()}};b=a;g["default"]=b},98);
__d("AdsCreativeEditorMode",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum")({Carousel:"carousel",Default:"default",TemplateSelection:"template_selection",TemplateCustomization:"template_customization"});c=a;f["default"]=c},66);
__d("AdsCreativeContainerLayoutDataProviderPlugin",["AdsCreativeEditorMode"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{asyncOperation:null,isSecondaryToolFullscreen:!1,isSecondaryToolReplacePrimary:!1,isSecondaryToolOpen:!1,mode:c("AdsCreativeEditorMode").Default,sidebarIndex:null,selectedTool:null,processingTool:null}};b=a;g["default"]=b},98);
__d("AdsShouldSaveToAssetLibraryProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{shouldSaveToAssetLibrary:!1}};b=a;f["default"]=b},66);
__d("AdsTextSuggestionsProviderPlugin",["AdsDynamicCreativeOptimizationLoggerEvents","AdsGraphAPI","AdsInterfacesLogEvents","AdsInterfacesLogger","LoadObject","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],function(a,b,c,d,e,f,g){"use strict";var h=function(a){return JSON.stringify(a)},i=function(a){var b=a.fragmentIDs!=null?Array.from(a.fragmentIDs):a.fragmentIDs;b={fragment_ids:b,adgroup_id:a.adgroupID,campaign_id:a.campaignID,campaign_group_id:a.campaignGroupID,image_hash:a.imageHash,image_hashes:a.imageHashes,page_id:a.pageId,video_id:a.videoId,video_ids:a.videoIds,link_url:a.linkURL};var c=d("AdsGraphAPI").get(f.id).adaccount(a.accountID).edge("creative_text_suggestions");return a.isAutomaticFlow===!0?c.get(babelHelpers["extends"]({},b,{ads_text_input_mode:"text_liquidity"})):c.get(babelHelpers["extends"]({},b))},j=function(a,b){c("AdsInterfacesLogger").log({eventName:a,eventCategory:c("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{object_ids:b}})},k=function(a,b){a(function(a){return a.setLoading(b)}),c("promiseDone")(c("promiseLoadObjectsFromKeys")(b,i).then(function(b){var d=Array.from(b,function(a){var b,d,e=a[0];a=a[1];b=(b=a.getValue())==null?void 0:b.data[0];d=((d=b==null?void 0:b.bodies)!=null?d:[]).length+((d=b==null?void 0:b.titles)!=null?d:[]).length+((d=b==null?void 0:b.descriptions)!=null?d:[]).length+((d=b==null?void 0:b["short"])!=null?d:[]).length+((d=b==null?void 0:b["long"])!=null?d:[]).length;a.getError()!=null?j(c("AdsDynamicCreativeOptimizationLoggerEvents").ADS_TEXT_SUGGESTIONS_API_ERROR,[e.adgroupID]):a.isEmpty()?j(c("AdsDynamicCreativeOptimizationLoggerEvents").ADS_TEXT_SUGGESTIONS_API_EMPTY,[e.adgroupID]):d===0?j(c("AdsDynamicCreativeOptimizationLoggerEvents").ADS_TEXT_NO_SUGGESTIONS_RETURNED_FROM_API,[e.adgroupID]):j(c("AdsDynamicCreativeOptimizationLoggerEvents").ADS_TEXT_SUGGESTIONS_RETURNED_FROM_API,[e.adgroupID]);return[e,c("LoadObject").withValue({bodyTextAssets:(a=b==null?void 0:b.bodies)!=null?a:[],titleTextAssets:(d=b==null?void 0:b.titles)!=null?d:[],descriptionTextAssets:(e=b==null?void 0:b.descriptions)!=null?e:[],shortTextAssets:(a=b==null?void 0:b["short"])!=null?a:[],longTextAssets:(d=b==null?void 0:b["long"])!=null?d:[],inactiveSessionTally:(e=b==null?void 0:b.inactive_session_tally)!=null?e:0})]});a(function(a){return a.merge(new Map(d))})}))};a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(b){return k(a,b)},function(a){return h(a)})}};b=a;g["default"]=b},98);
__d("AdsDeliveryDeadLinksProviderPlugin",["AdsGuidanceDeadLinksDataLoader","AdsPreFlightRecommendationLoggingUtils","LoadObject","LoadObjectMap","promiseDone"],function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(b){a(function(a){return a.setLoading(b)}),b.forEach(function(b){var e={ad_group_id:b.adgroupID,urls:b.urls,field:b.field,path:b.path},f=Date.now();c("promiseDone")(d("AdsGuidanceDeadLinksDataLoader").loadGuidanceDeadLinkData(b.adgroupID,b.urls),function(g){var h;a(function(a){return a.set(b,c("LoadObject").withValue(g))});var i=Date.now()-f;h=g==null?void 0:(h=g.result)==null?void 0:h.size;d("AdsPreFlightRecommendationLoggingUtils").logLoadingSuccess("recommendation_generic","inline_warning","dead_link",JSON.stringify(babelHelpers["extends"]({},e,{latency:i,dead_links_count:h})))},function(g){a(function(a){return a.set(b,c("LoadObject").withError(g))});var h=Date.now()-f;d("AdsPreFlightRecommendationLoggingUtils").logLoadingError("recommendation_generic","inline_warning","dead_link",JSON.stringify(babelHelpers["extends"]({},e,{error:g,latency:h})))})})},function(a){return[a.adgroupID,a.urls.sort()].join(":")})}};b=a;g["default"]=b},98);
__d("AdsSFSmartCropDataLoadedTriggerReducerPlugin",["Laminar","adsSFSetSmartCropDefaultInSFMediaPickerState","adsUEditorAdgroupImageEligibleAspectRatiosSelector","adsUEditorInjectEditingAdgroupContext"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({eligibleAspectRatios:c("adsUEditorInjectEditingAdgroupContext")(c("adsUEditorAdgroupImageEligibleAspectRatiosSelector"))},function(a,b,d){d=d.eligibleAspectRatios;var e=a.selectedBaseAssetID;if((e==null?void 0:e.type)==="image"){b=b.get(e.id);return c("adsSFSetSmartCropDefaultInSFMediaPickerState")(a,d,b)}else return a})};b=a;g["default"]=b},98);
__d("AdsSetCreativeSmartCropReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleValueOrError(b.smartCropsMap)}};b=a;f["default"]=b},66);
__d("AdsCreativesSmartCropProviderPlugin",["AdsImageInfoStoreUtils","AdsImageSmartCropUtils","LoadObjectMap","adsUEditorAccountIDSelector","immutable","promiseDone","promiseLoadObjectsFromKeys"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b=c("adsUEditorAccountIDSelector")();return d("AdsImageSmartCropUtils").getSmartCropAsyncRequestPromise(b,[a])}a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(b){a(function(a){return a.setLoading(b)}),c("promiseDone")(c("promiseLoadObjectsFromKeys")(b,h),function(b){return a(function(a){return a.merge(c("immutable").Map(b).entrySeq().map(function(a){var b=a[0];a=a[1];return[b,a.mapValue(function(a){return d("AdsImageSmartCropUtils").loadSmartCropsPayloadToMap(b,a)})]}))})})},function(a){return c("AdsImageInfoStoreUtils").getImageHashOrURIFromImageID(a)})}};b=a;g["default"]=b},98);
__d("AdsImageSmartCropDoFUpdateDataFactory",["ImmutableRecordWithV4Types","TypedImmutable"],function(a,b,c,d,e,f,g){"use strict";a=d("ImmutableRecordWithV4Types").Record({adgroupToShouldUpdateDoFFlag:d("TypedImmutable").ImmMap.create()});b=a;g["default"]=b},98);
__d("AdsImageSmartCropDoFUpdateProviderPlugin",["AdsImageSmartCropDoFUpdateDataFactory"],function(a,b,c,d,e,f,g){"use strict";a={initialState:c("AdsImageSmartCropDoFUpdateDataFactory")()};b=a;g["default"]=b},98);
__d("AdsImageUploadProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a=function(){return c("immutable").Map()};b={initialState:a()};d=b;g["default"]=d},98);
__d("AdsAccountImageSourceUploadedListProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{uploadedImageIDs:c("immutable").OrderedSet([])}};b=a;g["default"]=b},98);
__d("AdsMediaPickerImageCustomizationDataProviderPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{customizationMap:c("immutable").Map([]),originalImageID:null,selectedAspectRatio:null}};b=a;g["default"]=b},98);
__d("AdsCreativeEditorProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{assetIndex:0,assetGroups:[],format:null,initialTool:null,isBaseAsset:!1,isVisible:!1,entryPoint:null}};b=a;f["default"]=b},66);
__d("AdsPACApplyChangesBeforeNavigationModalProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{isShown:!1,navigationCallback:null}};b=a;f["default"]=b},66);
__d("AdsCloudPlayableShowDialogProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{isCTAFired:!1,isShown:!1,cloudPlayableAsset:null,playablePreviewUrl:null,adAccountID:null}};b=a;f["default"]=b},66);
__d("AdsProductTagsProviderPlugin",[],function(a,b,c,d,e,f){"use strict";a={initialState:{selectedCatalogId:null}};b=a;f["default"]=b},66);
__d("AdsShoppingProductsProviderPlugin",["AdsGraphAPI","ProductCatalogProductsDataLoader","loadObjectMapProvider","objectToMap"],function(a,b,c,d,e,f,g){"use strict";a={initialState:c("loadObjectMapProvider")(function(a){return d("AdsGraphAPI").get(f.id).objectsByName("product_item",a).batched().get({fields:d("ProductCatalogProductsDataLoader").FIELDS}).then(function(a){return c("objectToMap")(a)})})};b=a;g["default"]=b},98);
__d("AdsAccountVideoEncodingSuccessReducerPlugin",["AdsDataAtom","AdsSelectorUtils","AdsVideoUploadStore","AdsVideoUploadUtil","adsVideoApiParamHasNoSearchNoSortAppliedSelector"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){c("AdsDataAtom").waitFor([c("AdsVideoUploadStore").getDispatchToken()].concat(d("AdsSelectorUtils").getStoreDispatchTokens([c("adsVideoApiParamHasNoSearchNoSortAppliedSelector")])));return c("adsVideoApiParamHasNoSearchNoSortAppliedSelector")()||d("AdsVideoUploadUtil").atLeastOneVideoUploading(c("AdsVideoUploadStore").getState())?a:a.clear()}};b=a;g["default"]=b},98);
__d("AdsAssetLiquidityMediaPickerReducerPlugins",["AdsEditorMPAConstants","AdsVideoSelectionHeaderTabTypes","immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if(b.format==="image")return babelHelpers["extends"]({},a,{imageSource:b.imageSource});else return babelHelpers["extends"]({},a,{videoSource:b.videoSource})}};b={reduce:function(a,b){return b.videoIDs.has(c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID)?babelHelpers["extends"]({},a,{selectedImageItems:b.imageIDs,selectedVideoItems:c("immutable").OrderedSet()}):babelHelpers["extends"]({},a,{selectedImageItems:b.imageIDs,selectedVideoItems:b.videoIDs})}};d={reduce:function(a,b){return babelHelpers["extends"]({},a,{videoSource:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT})}};e={reduce:function(a,b){var d,e;d=(d=a.selectedImageItems)!=null?d:c("immutable").OrderedSet();e=(e=a.selectedVideoItems)!=null?e:c("immutable").OrderedSet();if(b.format==="image")if(b.maxMediaCount===1)return babelHelpers["extends"]({},a,{selectedImageItems:c("immutable").OrderedSet([b.imageID])});else{d=d.includes(b.imageID)?d["delete"](b.imageID):d.add(b.imageID);return babelHelpers["extends"]({},a,{selectedImageItems:d})}else if(b.maxMediaCount===1)return babelHelpers["extends"]({},a,{selectedVideoItems:c("immutable").OrderedSet([b.videoID])});else{d=e.includes(b.videoID)?e["delete"](b.videoID):e.add(b.videoID);return babelHelpers["extends"]({},a,{selectedVideoItems:d})}}};g.onSetMediaSource=a;g.onSetSelectedMediaItems=b;g.onEncodingSuccess=d;g.onToggleMediaItem=e},98);
__d("AdsAutoFlowClearBulkVideosReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=b.uploaderKey;b=a.uploadingBulkVideos;return b!=null&&b.size!==0?babelHelpers["extends"]({},a,{uploadingBulkVideos:b.filterNot(function(a){return a.id===c})}):a}};b=a;f["default"]=b},66);
__d("AdsImageUploadStartPolicyCompliantReducerPlugin",["AdsMediaPickerPolicyCompliantSelectedOptionProvider"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return{selectedOption:c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").getInitialState().selectedOption}}};b=a;g["default"]=b},98);
__d("AdsAccountImageSourceUploadSuccessReducerPlugin",["AdsImageIDClasses","immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if(!b.imageData)return a;b=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b.imageData.accountID,b.imageData.hash);return a.uploadedImageIDs.has(b)?a:{uploadedImageIDs:c("immutable").OrderedSet([b]).union(a.uploadedImageIDs)}}};b=a;g["default"]=b},98);
__d("AdsImageSelectorV2StateAdsImageUploadUploadSuccessDataReducerPlugin",["AdsImageSelectorV2StateUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if(b.imageData!=null){b=d("AdsImageSelectorV2StateUtils").handleUploadSuccess(a,b.imageData);return d("AdsImageSelectorV2StateUtils").validateImages(b)}return a}};b=a;g["default"]=b},98);
__d("AdsImageUploadUploadSuccessDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return b==null?a:a.set(b.id,babelHelpers["extends"]({status:"UPLOADED"},b))}a={reduce:function(a,b){return g(a,b)}};b=a;f["default"]=b},66);
__d("AdsImageUploadUploadSuccessReducerPlugin",["AdsAccountImagesQuery","AdsImageIDClasses","LoadObject","immutable","isTruthy"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b,e){var f;e=e.currentQuery;if(b.imageData==null)return a;e=e.query;var g=b.imageData.accountID;(e==null||!c("isTruthy")((f=e)==null?void 0:f.isForAllImageSource))&&(e=new(c("AdsAccountImagesQuery"))({accountID:g}));f=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b.imageData.accountID,b.imageData.hash);g=a.get(e).getValueEnforcing();b=g.imageIDs;var h=g.after;g=g.uploadedImageIDs;if(g.has(f)||b.has(f))return a;var i=b,j=g;c("isTruthy")(e.isForAllImageSource)&&i.size+j.size>=e.pageLimit&&(i.size>=1?i=b.remove(b.last()):j=j.remove(g.last()));b=c("immutable").OrderedSet([f]).union(j);g=c("LoadObject").withValue({after:h,imageIDs:i,uploadedImageIDs:b});return a.set(e,g)}};b=a;g["default"]=b},98);
__d("AdsMediaPickerImageCustomizationReducerPlugins",["AdsImageIDClasses","immutable"],function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map([]),i={customizationMap:h,originalImageID:null,selectedAspectRatio:null};function j(a,b){if(a.selectedAspectRatio!=null){var c=a.customizationMap,d=a.selectedAspectRatio;return babelHelpers["extends"]({},a,{selectedAspectRatio:null,customizationMap:c.set(d,{imageID:b,useDefaultCrop:!0})})}return{customizationMap:h,originalImageID:b,selectedAspectRatio:null}}a={reduce:function(a,b){return i}};b={reduce:function(a,b){b=b.imageData;if((b==null?void 0:b.isAutoCropEligible)!==!0)return i;b=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b.accountID,b.hash);return j(a,b)}};g.onSetSelected=a;g.onUploadSuccess=b},98);
__d("AdsImageUploadLoadFailDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;if(b.reasonForFail&&b.reasonForFail==="INVALID_FORMAT")return a.set(b.id,babelHelpers["extends"]({status:"INVALID_FORMAT"},b));else if(b.reasonForFail&&b.reasonForFail==="INVALID_SIZE")return a.set(b.id,babelHelpers["extends"]({status:"INVALID_SIZE"},b));return a.set(b.id,babelHelpers["extends"]({status:"LOAD_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};b=a;f["default"]=b},66);
__d("AdsImageUploadReadFailDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return a.set(b.id,babelHelpers["extends"]({status:"READ_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};b=a;f["default"]=b},66);
__d("AdsImageUploadUploadFailDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return a.set(b.id,babelHelpers["extends"]({status:"UPLOAD_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};b=a;f["default"]=b},66);
__d("AdsCreativeContainerImagePickerReducerPlugins",["AdsAccountImageDataSourcePlugin","AdsImageIDClasses","immutable"],function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").OrderedSet([]);a={reduce:function(a){return babelHelpers["extends"]({},a,{selectedItems:h})}};b={reduce:function(a,b){return babelHelpers["extends"]({},a,{source:b.source})}};e={reduce:function(a,b){return babelHelpers["extends"]({},a,{selectedItems:c("immutable").OrderedSet([b.imageID])})}};f={reduce:function(a){return babelHelpers["extends"]({},a,{source:c("AdsAccountImageDataSourcePlugin").source})}};var i={reduce:function(a){return babelHelpers["extends"]({},a,{source:c("AdsAccountImageDataSourcePlugin").source})}},j={reduce:function(a,b){b=b.imageData;if(b==null)return a;b=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b.accountID,b.hash);return b?babelHelpers["extends"]({},a,{lastUploadedImageID:b,selectedItems:c("immutable").OrderedSet([b])}):a}},k={reduce:function(a){return babelHelpers["extends"]({},a,{selectedItems:h,source:c("AdsAccountImageDataSourcePlugin").source})}};g.resetImageAsset=a;g.setImageSource=b;g.setImageID=e;g.onApplyChanges=f;g.onCloseCreativeContainer=i;g.onUploadSuccess=j;g.onUpdateCarouselCardIndex=k},98);
__d("AdsImageUploadLoadSuccessDataReducerPlugin",["AdsImageUploadDataLoader","gkx"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){b=b.imageData;c("gkx")("4688")||d("AdsImageUploadDataLoader").startRead(b);return a.set(b.id,babelHelpers["extends"]({status:"READING"},b))}a={reduce:function(a,b){return h(a,b)}};b=a;g["default"]=b},98);
__d("AdsImageUploadReadSuccessDataReducerPlugin",["AdsImageUploadDataLoader","gkx"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){b=b.imageData;var e=b.dataURI.split(","),f=e[0];e=e[1];f={encoding:f,bytes:e};c("gkx")("4688")||d("AdsImageUploadDataLoader").startUpload(f,b);return a.set(b.id,babelHelpers["extends"]({status:"UPLOADING"},b))}a={reduce:function(a,b){return h(a,b)}};b=a;g["default"]=b},98);
__d("AdsImageUploadStartDataReducerPlugin",["AdsImageUploadDataLoader"],function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,e,f){var g=a;c.forEach(function(a){a={accountID:b,file:a,id:"image-upload-"+g.size,isAutoCropEligible:f,minDimensions:e};d("AdsImageUploadDataLoader").startLoad(a);g=g.set(a.id,babelHelpers["extends"]({status:"LOADING"},a))});return g}a={reduce:function(a,b){return b.files!=null&&b.minDimensions!=null&&b.accountID!=null?h(a,b.accountID,b.files,b.minDimensions,b.isAutoCropEligible):a}};b=a;g["default"]=b},98);
__d("AdsAccountImageSourceImageListLoadMoreReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};b=a;f["default"]=b},66);
__d("AdsAccountImageSourceSetQueryReducerPlugins",["AdsAllImageSourceQueryUtils","immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return c("immutable").is(b.query,a.query)?a:{query:b.query}}};b={reduce:function(a,b){b=b.query;b=d("AdsAllImageSourceQueryUtils").getAdAccountImagesQuery(b);return b!=null?{query:b}:a}};g.onTriggerInAccountImageSource=a;g.onTriggerInAllImageSource=b},98);
__d("AdsImageDataSourceUtils",[],function(a,b,c,d,e,f){"use strict";a={ALL_IMAGE:0,ACCOUNT_IMAGE:10,AUTO_EXTRACT_IMAGE:20,DIVERSE_IMAGE:29,RECOMMENDED_IMAGE:30,BUSINESS_IMAGE:40,INSTAGRAM_IMAGE:50,PAGE_IMAGE:60};f.IMAGE_DATA_SOURCE_RANKS=a},66);
__d("AdsImageUploadErrorStore",["AdsDataAtom","AdsImageUploadApiErrorDataActionFlux","AdsImageUploadErrorMessagesUtils","AdsImageUploadErrorStoreState","AdsImageUploadFormatErrorDataActionFlux","AdsImageUploadLoadFailDataActionFlux","AdsImageUploadRemoveErrorsDataActionFlux","AdsImageUploadSizeErrorDataActionFlux","AdsImageUploadTypes","AdsImageUploadUploadFailDataActionFlux","AdsImageUploadUploadSuccessDataActionFlux","FluxReduceStore"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.getInitialState=function(){return new(c("AdsImageUploadErrorStoreState"))()};e.__getActionTypes=function(){return[d("AdsImageUploadApiErrorDataActionFlux").actionType,d("AdsImageUploadFormatErrorDataActionFlux").actionType,d("AdsImageUploadLoadFailDataActionFlux").actionType,d("AdsImageUploadRemoveErrorsDataActionFlux").actionType,d("AdsImageUploadSizeErrorDataActionFlux").actionType,d("AdsImageUploadUploadFailDataActionFlux").actionType,d("AdsImageUploadUploadSuccessDataActionFlux").actionType]};e.reduce=function(a,b){b=b.action;switch(b.type){case d("AdsImageUploadFormatErrorDataActionFlux").actionType:return a.set("formatError",b.message);case d("AdsImageUploadSizeErrorDataActionFlux").actionType:return a.set("sizeError",b.message);case d("AdsImageUploadApiErrorDataActionFlux").actionType:return a.set("apiError",b.message);case d("AdsImageUploadLoadFailDataActionFlux").actionType:return this.$AdsImageUploadErrorStore1(a,b.imageData);case d("AdsImageUploadUploadFailDataActionFlux").actionType:return this.$AdsImageUploadErrorStore2(a,b.imageData.errorMessage);case d("AdsImageUploadUploadSuccessDataActionFlux").actionType:return b.imageData?this.$AdsImageUploadErrorStore3(a):a;case d("AdsImageUploadRemoveErrorsDataActionFlux").actionType:return this.$AdsImageUploadErrorStore3(a)}return a};e.getUploadErrors=function(){var a=[];this.getState().forEach(function(b){b&&a.push(b)});return a};e.$AdsImageUploadErrorStore1=function(a,b){if(b.reasonForFail===d("AdsImageUploadTypes").UploadFailedReason.INVALID_FORMAT)return a.set("formatError",d("AdsImageUploadErrorMessagesUtils").getImageNotSupportedErrorMessages(b.file.type));else if(b.reasonForFail===d("AdsImageUploadTypes").UploadFailedReason.INVALID_SIZE)return a.set("sizeError",d("AdsImageUploadErrorMessagesUtils").getImageTooSmallErrorMessages({minWarningWidth:b.minDimensions.width,minWarningHeight:b.minDimensions.height}));else return a};e.$AdsImageUploadErrorStore2=function(a,b){return a.set("apiError",d("AdsImageUploadErrorMessagesUtils").getAPIErrorMessages(b))};e.$AdsImageUploadErrorStore3=function(a){return a.merge({apiError:null,sizeError:null,formatError:null})};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("AdsDataAtom"));g["default"]=b},98);
__d("AdsAccountImageDataSourcePlugin",["fbt","ix","AdsAccountImageSourceImageListLoadMoreAction","AdsAccountImageSourceSetQueryAction","AdsAccountImageSourceStateProvider","AdsAccountImageSourceUIStore","AdsAccountImageSourceUploadedListProvider","AdsAccountImagesQuery","AdsCreativeToolImageUtils","AdsImageDataSourceUtils","AdsImageDialogFilterFieldConfig","AdsImageInfoStore","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","AdsImageUploadErrorStore","AdsImageUploadProvider","AdsImageUploadStartDataAction","AdsMediaPickerPolicyCompliantOptions","AdsMediaPickerPolicyCompliantSelectedOptionProvider","emptyFunction","immutable","isTruthy"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("AdsAccountImageSourceStateProvider").toFluxStore(),k=c("AdsImageUploadProvider").toFluxStore(),l={key:"ACCOUNT_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.ACCOUNT_IMAGE,icon:function(a){return i("567239")},tabIcon:i("1219358"),filters:c("immutable").OrderedSet([d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.POLICY,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.ASPECT_RATIO,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.HEIGHT,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.WIDTH]),label:function(a){return h._("Im\u00e1genes de la cuenta")},shortLabel:h._("Cuenta"),searchPlaceholder:h._("Buscar contenido multimedia"),source:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,getQuery:function(a,b){a=j.getState();b=a.query;return b},getStores:function(){return[].concat(d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector.getStores(),[c("AdsAccountImageSourceUploadedListProvider").toFluxStore(),j,c("AdsAccountImageSourceUIStore"),k,c("AdsImageUploadErrorStore"),c("AdsImageInfoStore")])},getUploadStatus:function(){var a=k.getState().last(),b=null,e=c("AdsImageUploadErrorStore").getUploadErrors();e.length&&(b=e[0].longMessage);return{uploadFailReason:b,uploadStatus:d("AdsCreativeToolImageUtils").getImageUploadStatus(a,b)}},hasQuery:function(a){if(a instanceof c("AdsAccountImagesQuery")){a=a.toJS();a.accountID;a.sortBy;a=babelHelpers.objectWithoutPropertiesLoose(a,["accountID","sortBy"]);return Object.values(a).some(Boolean)}return!1},isEnabled:c("emptyFunction").thatReturnsTrue,load:function(a){var b=d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector();a=l.getQuery(a.account.account_id,a.pageID);var e=c("AdsAccountImageSourceUIStore").getState(),f=e.queryValueLoadObject;e=e.isLoading;var g=f.map(function(a){return a.imageIDs});f=f.map(function(a){return a.after});var h=c("AdsAccountImageSourceUploadedListProvider")();h=h.uploadedImageIDs;h=m(h,a);var i;if(g.hasValue())i=h.union(g.getValueEnforcing());else{i=(g=(g=g.getValue())!=null?g:h)!=null?g:c("immutable").OrderedSet()}h=null;g=null;if(l.getUploadStatus){var j=l.getUploadStatus();h=j.uploadFailReason;g=j.uploadStatus}return{imageIDs:i,isLoading:e,maxSelectedImageIDs:b,uploadFailReason:h,hasNextPage:!!f.getValue(),uploadStatus:g,query:a}},loadMore:function(a){a instanceof c("AdsAccountImagesQuery")&&c("AdsAccountImageSourceImageListLoadMoreAction").dispatch({query:a},{line:"181",module:"AdsAccountImageDataSourcePlugin.js"})},onUpload:function(a,b,d,e,f){if(c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState().selectedOption===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT){var g=j.getState();g=g.query;g==null&&(g=new(c("AdsAccountImagesQuery"))({accountID:e}));g=g.set("hasIntegrityViolation",!1);c("AdsAccountImageSourceSetQueryAction").dispatch({query:g},{line:"206",module:"AdsAccountImageDataSourcePlugin.js"})}c("AdsImageUploadStartDataAction").dispatch({accountID:e,files:Array.from(a),minDimensions:{height:b,width:d},perfInteractionComponent:f},{line:"211",module:"AdsAccountImageDataSourcePlugin.js"})},onSearch:function(a,b,d){d=d.query;if(d==null){b=b.account.account_id;var e=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState();e=e.selectedOption;e=e===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;d=new(c("AdsAccountImagesQuery"))({accountID:b,hasIntegrityViolation:e})}d instanceof c("AdsAccountImagesQuery")&&(d=d.set("nameQuery",a),c("AdsAccountImageSourceSetQueryAction").dispatch({query:d},{line:"240",module:"AdsAccountImageDataSourcePlugin.js"}))},applyFilters:function(a,b,e){e=e;if(!(e instanceof c("AdsAccountImagesQuery")))return;a=d("AdsImageDialogFilterFieldConfig").parseApiFilters(a);var f=a.minWidth,g=a.minHeight,h=a.minAspectRatio,i=a.maxAspectRatio;a=a.hasIntegrityViolation;if(e==null){b=b.account.account_id;e=new(c("AdsAccountImagesQuery"))({accountID:b,hasIntegrityViolation:a})}e=e.set("minWidth",f).set("minHeight",g).set("minAspectRatio",h).set("maxAspectRatio",i).set("hasIntegrityViolation",a);c("AdsAccountImageSourceSetQueryAction").dispatch({query:e},{line:"279",module:"AdsAccountImageDataSourcePlugin.js"})},applyPolicyCompliantFilter:function(a,b,d){if(!(d instanceof c("AdsAccountImagesQuery")))return;d=d;if(d==null){b=b.account.account_id;d=new(c("AdsAccountImagesQuery"))({accountID:b})}d=d.set("hasIntegrityViolation",a);c("AdsAccountImageSourceSetQueryAction").dispatch({query:d},{line:"305",module:"AdsAccountImageDataSourcePlugin.js"})},reset:function(a){c("AdsAccountImageSourceSetQueryAction").dispatch({query:new(c("AdsAccountImagesQuery"))({accountID:a.account.account_id})},{line:"309",module:"AdsAccountImageDataSourcePlugin.js"})}};function m(a,b){return b!=null&&l.hasQuery(b)&&b instanceof c("AdsAccountImagesQuery")?a.filter(function(a){return n(a,b)}):a}function n(a,b){if(c("isTruthy")(b.nameQuery)){var d=c("AdsImageInfoStore").getName(a).getValue();if(d!=null&&!d.toLocaleLowerCase().includes(b.nameQuery.toLocaleLowerCase()))return!1}if(b.minHeight>0||b.minWidth>0){d=(d=c("AdsImageInfoStore").getFullSize(a).getValue())==null?void 0:d.getTyped();if(d!=null&&(d.height<b.minHeight||d.width<b.minWidth))return!1}if(b.minAspectRatio!=null||b.maxAspectRatio!=null){a=(d=c("AdsImageInfoStore").getFullSize(a).getValue())==null?void 0:d.getTyped();if(a!=null){d=a.width/a.height;if(b.minAspectRatio!=null&&b.minAspectRatio>d)return!1;if(b.maxAspectRatio!=null&&b.maxAspectRatio<d)return!1}}return!0}a=l;g["default"]=a},98);
__d("AdsBulkEditMediaDialogSelectMediaReducerPlugins",["AdsAccountImageDataSourcePlugin","AdsAccountVideoDataSourcePlugin"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var c=[].concat(a.selectedMedia);if(c.length===0)return babelHelpers["extends"]({},a,{selectedMedia:b.selectedMedia});if(c.length<=1)return babelHelpers["extends"]({},a,{selectedMedia:b.selectedMedia});var d=b.currentIndex;b=b.selectedMedia[0];var e=c[d].adName;c[d]=b;c[d].adName=e;return babelHelpers["extends"]({},a,{selectedMedia:c})}};b={reduce:function(){return{selectedMedia:[],imageSource:c("AdsAccountImageDataSourcePlugin").source,videoSource:c("AdsAccountVideoDataSourcePlugin").source}}};d={reduce:function(a,b){return babelHelpers["extends"]({},a,{imageSource:b.source})}};e={reduce:function(a,b){return babelHelpers["extends"]({},a,{videoSource:b.source})}};f={reduce:function(a){return babelHelpers["extends"]({},a,{videoSource:c("AdsAccountVideoDataSourcePlugin").source})}};g.setSelectedMedia=a;g.onCloseBulkEditMediaDialog=b;g.onImageSourceChange=d;g.onVideoSourceChange=e;g.onVideoUrlUploadComplete=f},98);
__d("AdsCurrentSessionUploadedVideosOnEncodingSuccessReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.add(b.video.id)}};b=a;f["default"]=b},66);
__d("AdsLocalVideoRemoveSelectedDataReducerPlugin",["AdsUEditorOMPLocalVideoDataProvider"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){b=b.uploaderKey;return b!=null&&a.selectedUploadingVideoKey===b?c("AdsUEditorOMPLocalVideoDataProvider").getInitialState():a}};b=a;g["default"]=b},98);
__d("AdsOMPVideoEncodingSuccessReducerPlugin",["AdsUEditorOptimizationMediaPickerToolTypes","AdsVideoSelectionHeaderTabTypes"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d,e=b.uploaderKey,f=b.video;b=a.selectedAssets;if(e===((d=a.uploadingVideo)==null?void 0:d.id)){if(b.filter(function(a){return a.type==="localVideo"}).size===0)return babelHelpers["extends"]({},a,{uploadingVideo:null});return a.selectedTool==c("AdsUEditorOptimizationMediaPickerToolTypes").MEDIA_PICKER?babelHelpers["extends"]({},a,{selectedAssets:b.map(function(a){return a.type==="localVideo"&&a.id===e?{type:"video",id:f.id}:a}),uploadingVideo:null}):babelHelpers["extends"]({},a,{uploadedVideo:{type:"video",id:f.id,asset:babelHelpers["extends"]({},f,{loadState:"LOADED"})}})}return babelHelpers["extends"]({},a,{videoPickerSource:a.videoPickerSource===c("AdsVideoSelectionHeaderTabTypes").IMPORT?c("AdsVideoSelectionHeaderTabTypes").ACCOUNT:a.videoPickerSource})}};b=a;g["default"]=b},98);
__d("AdsVideoEncodingSuccessReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=a.isCarousel,d=a.uploadingCarouselVideoChildrenCount;d=c?d-1:0;return a.merge({isProcessing:c?d>0:!1,uploadedVideoID:b.video.id,uploadingCarouselVideoChildrenCount:d})}};b=a;f["default"]=b},66);
__d("AdsVideoPickerOnEncodingSuccessReducerPlugin",["AdsVideoSelectionHeaderTabTypes"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{recentUploadedVideoID:b.video.id,selectedTab:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT})}};b=a;g["default"]=b},98);
__d("AdsVideoToastCardsEncodingSuccessReducerPlugin",["AdsUEditorHostIDs","AdsVideoUploadToastCardUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if((b.video.creator_product===34||b.video.creator_product===42)&&b.hostID===c("AdsUEditorHostIDs").CREATION)return a;a=d("AdsVideoUploadToastCardUtils").dismissProgressVideoToastCard(a);return d("AdsVideoUploadToastCardUtils").createToastCard(a,"success",b.video.title,d("AdsVideoUploadToastCardUtils").DISMISS_TIMER,b.videoBackgroundUpload)}};b=a;g["default"]=b},98);
__d("AdsAutoCroppedVideoDataProviderPlugin",["AdsAutoCroppedVideoQueryRecord","AdsLoadState_LEGACY","AdsVideoEncodingSuccessDataAction","AdsVideoFetcher","LoadObject","LoadObjectMap","VCEAspectRatioUtils","VCEDataManager","promiseDone"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a+"_"+b}a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(b){var e={};b.forEach(function(b){var f=b.accountID,g=b.originalVideo,i=b.entryPoint;if(f!=null&&g!=null&&i!=null){if(e[h(f,g.id)]===!0)return;e[h(f,g.id)]=!0;var j=i==="DCO"?d("VCEAspectRatioUtils").getDCOAutoCroppingAspectRatios():d("VCEAspectRatioUtils").getAutoCroppingAspectRatios();j.forEach(function(b){return a(function(a){return a.set(new(c("AdsAutoCroppedVideoQueryRecord"))({accountID:f,originalVideo:g,aspectRatio:b,entryPoint:i}),c("LoadObject").loading())})});d("VCEDataManager").vceDataManagerInstance.autoCropVideo(f,g,j.toArray(),function(b,e){b=d("AdsVideoFetcher").genSingleVideo(b);c("promiseDone")(b,function(b){c("AdsVideoEncodingSuccessDataAction").dispatch({accountID:f,video:b},{line:"94",module:"AdsAutoCroppedVideoDataProviderPlugin.js"}),a(function(a){return a.set(new(c("AdsAutoCroppedVideoQueryRecord"))({accountID:f,originalVideo:g,aspectRatio:e}),c("LoadObject").withValue(babelHelpers["extends"]({},b,{loadState:c("AdsLoadState_LEGACY").LOADED})))})})},function(b){j.forEach(function(d){return a(function(a){return a.set(new(c("AdsAutoCroppedVideoQueryRecord"))({accountID:f,originalVideo:g,aspectRatio:d}),c("LoadObject").withError(b))})})})}})},function(a){var b=a.accountID,c=a.originalVideo;a=a.aspectRatio;return b==null||c==null||a==null?"":b+"_"+c.id+"_"+a},function(a){return!a.isLoading()&&!a.hasValue()&&!a.hasError()})}};b=a;g["default"]=b},98);
__d("AdsAdAccountAddMediaReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{refetchTrigger:a.refetchTrigger+1}}};b=a;f["default"]=b},66);
__d("AdsAdAccountMediaUpdateGraphQLFetchKeyReducerPlugins",[],function(a,b,c,d,e,f){"use strict";function g(a){return{refetchTrigger:a.refetchTrigger+1}}a={reduce:function(a,b){return g(a)}};b={reduce:function(a,b){return g(a)}};c={reduce:function(a,b){return g(a)}};d={reduce:function(a,b){return g(a)}};f.onDeleteImage=a;f.onDeleteVideo=b;f.onAddTag=c;f.onRemoveTag=d},66);
__d("AdsAllImageSourceSetQueryToBusinessImageSourceReducerPlugin",["AdsAllImageSourceQueryUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){b=b.query;b=d("AdsAllImageSourceQueryUtils").getBusinessImagesQuery(b);return b!=null?babelHelpers["extends"]({},a,{query:b}):a}};b=a;g["default"]=b},98);
__d("AdsAssetFeedChangeBlockerDialogDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{blockerActionData:b.data}}};b=a;f["default"]=b},66);
__d("AdsAutoExtractImageSourceSetQueryReducerPlugins",["AdsAllImageSourceQueryUtils","AdsAssetAutoExtractAdvertiserOptedInURLOverrideProvider","AdsAssetAutoExtractImageDataUtils","AdsAssetAutoExtractUrlStatusProvider","Laminar"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({optedInURLProvider:c("AdsAssetAutoExtractAdvertiserOptedInURLOverrideProvider").toFluxSelector(),urlStatusProvider:c("AdsAssetAutoExtractUrlStatusProvider").toFluxSelector()},function(a,b,c){var e=c.optedInURLProvider;c=c.urlStatusProvider;e=e.url;c=c.isWebsiteScrapingDone;return e!=null&&b.query!=null?babelHelpers["extends"]({},a,{query:d("AdsAssetAutoExtractImageDataUtils").updateAutoExtractImagesQuery(b.query,e,c)}):babelHelpers["extends"]({},a,{query:b.query})})};b={reduce:d("Laminar").withFluxSelectors({optedInURLProvider:c("AdsAssetAutoExtractAdvertiserOptedInURLOverrideProvider").toFluxSelector(),urlStatusProvider:c("AdsAssetAutoExtractUrlStatusProvider").toFluxSelector()},function(a,b,c){var e=c.optedInURLProvider;c=c.urlStatusProvider;e=e.url;c=c.isWebsiteScrapingDone;if(e!=null){b=d("AdsAllImageSourceQueryUtils").getAutoExtractImagesQuery(b.query,e,c);return babelHelpers["extends"]({},a,{query:b})}return a})};g.onTriggerInAutoExtractSource=a;g.onTriggerInAllImageSource=b},98);
__d("AdsBusinessImageSourceClickCreativeFolderToUpdateBusinessImagesReducerPlugin",["AdsBusinessImagesQuery"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d=b.selectedCreativeFolder?b.selectedCreativeFolder.id:void 0;return babelHelpers["extends"]({},a,{query:new(c("AdsBusinessImagesQuery"))({businessID:b.businessID,folderID:d})})}};b=a;g["default"]=b},98);
__d("AdsBusinessImageSourceClickCreativeFolderToUpdateCreativeFoldersReducerPlugin",["AdsBusinessCreativeFoldersQuery"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d=b.selectedCreativeFolder?b.selectedCreativeFolder:void 0;return babelHelpers["extends"]({},a,{query:new(c("AdsBusinessCreativeFoldersQuery"))({businessID:b.businessID,selectedFolder:d})})}};b=a;g["default"]=b},98);
__d("AdsBusinessImageSourceCreativeFolderListReducerPlugin",["AdsBusinessCreativeFoldersQuery"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return a.withMutations(function(a){b.queries.forEach(function(b){b instanceof c("AdsBusinessCreativeFoldersQuery")&&a["delete"](b)})})}};b=a;g["default"]=b},98);
__d("AdsBusinessImageSourceImageListDeleteQueriesReducerPlugin",["AdsBusinessImagesQuery"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return a.withMutations(function(a){b.queries.forEach(function(b){b instanceof c("AdsBusinessImagesQuery")&&a["delete"](b)})})}};b=a;g["default"]=b},98);
__d("AdsBusinessImageSourceImageListLoadMoreReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};b=a;f["default"]=b},66);
__d("AdsBusinessImageSourceResetImagesQueryReducerPlugin",["AdsBusinessImageSourceCreativeFoldersQueryProvider","AdsBusinessImagesQuery","Laminar"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({folderQuery:c("AdsBusinessImageSourceCreativeFoldersQueryProvider").toFluxSelector()},function(a,b,d){b=d.folderQuery;d=a==null?void 0:a.query;if(d==null)return babelHelpers["extends"]({},a,{query:null});else{return babelHelpers["extends"]({},a,{query:new(c("AdsBusinessImagesQuery"))({businessID:d==null?void 0:d.businessID,folderID:(a=b.query)==null?void 0:(d=a.selectedFolder)==null?void 0:d.id})})}})};b=a;g["default"]=b},98);
__d("AdsBusinessImageSourceSetQueryReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{query:b.query})}};b=a;f["default"]=b},66);
__d("AdsBusinessSourceCreativeFolderListLoadMoreReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};b=a;f["default"]=b},66);
__d("AdsBusinessVideoSourceClickCreativeFolderToUpdateBusinessVideosReducerPlugin",["AdsBusinessVideosQuery"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d=b.selectedCreativeFolder?b.selectedCreativeFolder.id:void 0;return babelHelpers["extends"]({},a,{query:new(c("AdsBusinessVideosQuery"))({businessID:b.businessID,creative_folder_id:d})})}};b=a;g["default"]=b},98);
__d("AdsBusinessVideoSourceClickCreativeFolderToUpdateCreativeFoldersReducerPlugin",["AdsBusinessCreativeFoldersQuery"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d;d=(d=b.selectedCreativeFolder)!=null?d:void 0;return babelHelpers["extends"]({},a,{query:new(c("AdsBusinessCreativeFoldersQuery"))({businessID:b.businessID,selectedFolder:d})})}};b=a;g["default"]=b},98);
__d("AdsBusinessVideoSourceCreativeFolderListReducerPlugin",["AdsBusinessCreativeFoldersQuery"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return a.withMutations(function(a){b.queries.forEach(function(b){b instanceof c("AdsBusinessCreativeFoldersQuery")&&a["delete"](b)})})}};b=a;g["default"]=b},98);
__d("AdsBusinessVideoSourceVideoListDeleteQueriesReducerPlugin",["AdsBusinessVideosQuery"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return a.withMutations(function(a){b.queries.forEach(function(b){b instanceof c("AdsBusinessVideosQuery")&&a["delete"](b)})})}};b=a;g["default"]=b},98);
__d("AdsCloudPlayableShowPreviewDialogReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{isShown:b.isShown,cloudPlayableAsset:b.cloudPlayableAsset,playablePreviewUrl:"",isCTAFired:b.isShown&&a.isCTAFired,adAccountID:b.adAccountID})}};b=a;f["default"]=b},66);
__d("AdsInstagramImageSourceImageListLoadMoreReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};b=a;f["default"]=b},66);
__d("AdsInstagramMediaSourceClearQueryOnSourceChangeReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){b=a.query?a.query.set("captionText",""):null;return babelHelpers["extends"]({},a,{query:b})}};b=a;f["default"]=b},66);
__d("AdsInstagramMediaSourceSetQueryReducerPlugins",["AdsAllImageSourceQueryUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{query:b.query})}};b={reduce:function(a,b){b=b.query;b=d("AdsAllImageSourceQueryUtils").getInstagramImagesQuery(b);return b!=null?babelHelpers["extends"]({},a,{query:b}):a}};g.onTriggerInInstagramImageSource=a;g.onTriggerInAllImageSource=b},98);
__d("AdsNewlyUploadedImageAestheticScoreSetReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.id,{aes_rating:b.aes_scores.aes_rating,aes_rot:b.aes_scores.aes_rot,aes_balance_elements:b.aes_scores.aes_balance_elements})}};b=a;f["default"]=b},66);
__d("AdsPageImageSourceImageListLoadMoreReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};b=a;f["default"]=b},66);
__d("AdsPageImageSourceSetQueryReducerPlugins",["AdsAllImageSourceQueryUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{query:b.query})}};b={reduce:function(a,b){b=b.query;b=d("AdsAllImageSourceQueryUtils").getPageImagesQuery(b);return b!=null?babelHelpers["extends"]({},a,{query:b}):a}};g.onTriggerInPageImageSource=a;g.onTriggerInAllImageSource=b},98);
__d("AdsSetIsRecommendedImagesReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.id,b.is_recommended_image)}};b=a;f["default"]=b},66);
__d("AdsStockImageSourceSetQueryReducerPlugins",["AdsAllImageSourceQueryUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{searchText:(a=b.data.searchText)!=null?a:""})}};b={reduce:function(a,b){b=b.query;b=d("AdsAllImageSourceQueryUtils").getStockImagesQuery(b);return b!=null?babelHelpers["extends"]({},a,{searchText:b}):a}};g.onTriggerInStockImageSource=a;g.onTriggerInAllImageSource=b},98);
__d("AdsAdBuilderBlockAdsManagerReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{visible:b.visible}}};b=a;f["default"]=b},66);
__d("AdsAdBuilderReportProblemModalVisibilityReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,b)}};b=a;f["default"]=b},66);
__d("AdsMediaPickerActionsBarSetBusinessToggleKeyReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{selectedToggleKey:b.selectedToggleKey})}};b=a;f["default"]=b},66);
__d("AssetLibraryBizCreativesUpdatingRecentViewReducerPlugin",["AssetLibraryBusinessCreativeSelectedFolderQuery","BusinessCreativeSelectedFolderQueryProvider","Laminar"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({folderQuery:c("BusinessCreativeSelectedFolderQueryProvider").toFluxSelector()},function(a,b,d){d=d.folderQuery;if(d.query==null)return a;else{d=new(c("AssetLibraryBusinessCreativeSelectedFolderQuery"))({businessID:b.businessID});return a["delete"](d)}})};b=a;g["default"]=b},98);
__d("AssetLibraryModalSystemReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){if(b.modalName==null)return{modalName:null};a=b.modalName;b=b.metadata;return{modalName:a,metadata:b}}};b=a;f["default"]=b},66);
__d("AssetLibrarySidebarNavigationReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{sidebarItemValue:b.sidebarItemValue})}};b=a;f["default"]=b},66);
__d("BusinessCreativeBusinessSharingReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{showDialog:b.showDialog,creationFlow:b.creationFlow})}};b=a;f["default"]=b},66);
__d("ClearBusinessCollectionCreativesReducerPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return b.isCollection?babelHelpers["extends"]({},a,{creativesResponse:{businessCreatives:c("immutable").OrderedMap(),afterCursor:null}}):a}};b=a;g["default"]=b},98);
__d("ClearBusinessCreativesReducerPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return b.isCollection?a:babelHelpers["extends"]({},a,{businessCreativesResponse:{businessCreatives:c("immutable").OrderedMap(),afterCursor:null}})}};b=a;g["default"]=b},98);
__d("ClearCreativeCollectionListReducerPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return b.isCollection?babelHelpers["extends"]({},a,{creativeCollectionsResponse:{creativeFolders:c("immutable").OrderedMap(),afterCursor:null}}):a}};b=a;g["default"]=b},98);
__d("ClearCreativeSubFolderListReducerPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return b.isCollection?a:babelHelpers["extends"]({},a,{creativeSubFoldersResonse:{creativeFolders:c("immutable").OrderedMap(),afterCursor:null}})}};b=a;g["default"]=b},98);
__d("CreativeOwnedFolderReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{creativeOwnedFolder:b.creativeOwnedFolder}}};b=a;f["default"]=b},66);
__d("LoadMoreCreativeCollectionListReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isCollection?babelHelpers["extends"]({},a,{creativeCollectionsResponse:{creativeFolders:a.creativeCollectionsResponse.creativeFolders.concat(b.creativeFolders),afterCursor:b.afterCursor}}):a}};b=a;f["default"]=b},66);
__d("LoadMoreCreativeSubFolderListReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isCollection?a:babelHelpers["extends"]({},a,{creativeSubFoldersResonse:{creativeFolders:a.creativeSubFoldersResonse.creativeFolders.concat(b.creativeFolders),afterCursor:b.afterCursor}})}};b=a;f["default"]=b},66);
__d("SetIsLoadingBusinessCollectionCreativesReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isCollection?babelHelpers["extends"]({},a,{isLoadingCreatives:!0}):a}};b=a;f["default"]=b},66);
__d("SetIsLoadingBusinessCollectionListReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isCollection?babelHelpers["extends"]({},a,{isLoadingCollections:!0}):a}};b=a;f["default"]=b},66);
__d("SetIsLoadingBusinessCreativeReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isCollection?a:babelHelpers["extends"]({},a,{isLoadingBusinessCreatives:!0})}};b=a;f["default"]=b},66);
__d("SetIsLoadingCreativeFolderListReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.isLoadingBusinessFolders?a:babelHelpers["extends"]({},a,{isLoadingBusinessFolders:!0})}};b=a;f["default"]=b},66);
__d("SetIsLoadingCreativeSubFolderListReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isCollection?a:babelHelpers["extends"]({},a,{isLoadingBusinessSubFolders:!0})}};b=a;f["default"]=b},66);
__d("UpdateBusinessCollectionCreativesReducerPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a.creativesResponse?a.creativesResponse.businessCreatives:c("immutable").OrderedMap()}a={reduce:function(a,b){var c=b.businessCreativesResponse.businessCreatives;return b.isCollection===!0?babelHelpers["extends"]({},a,{isLoadingCreatives:!1,creativesResponse:{businessCreatives:b.shouldClearCreatives===!0?c:h(a).merge(c),afterCursor:b.businessCreativesResponse.afterCursor}}):a}};b=a;g["default"]=b},98);
__d("UpdateBusinessCreativesQueryReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{queryText:(a=b.text)!=null?a:null})}};b=a;f["default"]=b},66);
__d("UpdateBusinessCreativesReducerPlugin",["immutable","isTruthy"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return b.isCollection===!0?a:babelHelpers["extends"]({},a,{isLoadingBusinessCreatives:!1,businessCreativesResponse:{businessCreatives:c("isTruthy")(b.shouldClearCreatives)?b.businessCreativesResponse.businessCreatives:(a.businessCreativesResponse?a.businessCreativesResponse.businessCreatives:c("immutable").OrderedMap()).merge(b.businessCreativesResponse.businessCreatives),afterCursor:b.businessCreativesResponse.afterCursor}})}};b=a;g["default"]=b},98);
__d("UpdateBusinessSharingActionReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{businessSharingAction:b.businessSharingAction})}};b=a;f["default"]=b},66);
__d("UpdateCreativeCollectionListReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isCollection?babelHelpers["extends"]({},a,{isLoadingCollections:!1,creativeCollectionsResponse:{creativeFolders:b.creativeFolders,afterCursor:b.afterCursor}}):a}};b=a;f["default"]=b},66);
__d("UpdateCreativeFolderListReducerPlugin",["isTruthy"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{creativeFoldersResponse:{creativeFolders:c("isTruthy")(b.isPagination)?a.creativeFoldersResponse.creativeFolders.concat(b.creativeFolders):b.creativeFolders,afterCursor:b.afterCursor},isLoadingBusinessFolders:!1})}};b=a;g["default"]=b},98);
__d("UpdateCreativeFolderUsersReducerPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d;d=b.isAppendeable===!0?(d=a.creativeFolderUsersByFolderID.get(b.folderID))!=null?d:c("immutable").List():c("immutable").List();d=a.creativeFolderUsersByFolderID.set(b.folderID,d.concat(b.creativeFolderUsers));return babelHelpers["extends"]({},a,{creativeFolderUsersByFolderID:d})}};b=a;g["default"]=b},98);
__d("UpdateCreativeInsightsByAdReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{creativeInsightsByAd:b.creativeInsightsByAd})}};b=a;f["default"]=b},66);
__d("UpdateCreativeInsightsReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{creativeInsights:b.creativeInsights})}};b=a;f["default"]=b},66);
__d("UpdateCreativeSubFolderListReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isCollection?a:babelHelpers["extends"]({},a,{isLoadingBusinessSubFolders:!1,creativeSubFoldersResonse:{creativeFolders:b.creativeFolders,afterCursor:b.afterCursor}})}};b=a;f["default"]=b},66);
__d("UpdateCreativeValidationResultsReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{validationResults:b.validationResults})}};b=a;f["default"]=b},66);
__d("UpdateCreativesSelectableTableV2ReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b}};b=a;f["default"]=b},66);
__d("UpdateIsLoadingBusinessCreativeInsightsReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{isLoadingBusinessCreativeInsights:b.isLoadingBusinessCreativeInsights})}};b=a;f["default"]=b},66);
__d("UpdateSelectedFolderReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{selectedFolder:b.selectedFolder})}};b=a;f["default"]=b},66);
__d("UpdateSelectedObjectReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{selectedObjectPath:b.selectedObjectPath})}};b=a;f["default"]=b},66);
__d("UpdateShowCreativeDetailsReducerPlugins",["Laminar"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a){return babelHelpers["extends"]({},a,{isCreativeDetailsPaneShown:!1})}};b={reduce:d("Laminar").withFluxSelectors({},function(a,b,c){c=a.selectedCreative;var d=!0;b.selectedCreative===c&&(d=!a.isCreativeDetailsPaneShown);return babelHelpers["extends"]({},a,{selectedCreative:b.selectedCreative,isCreativeDetailsPaneShown:d})})};c={reduce:function(a,b){return babelHelpers["extends"]({},a,{selectedCreative:b.selectedCreative})}};g.CloseCreativeDetailsReducerPlugin=a;g.UpdateShowCreativeDetailsOnlySingleSelectReducerPlugin=b;g.UpdateSelectedCreativesReducerPlugin=c},98);
__d("UpdateShowFolderDetailsReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{isFolderDetailsPaneShown:b.isFolderDetailsPaneShown})}};b=a;f["default"]=b},66);
__d("UpdateSubFoldersSearchReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c;return babelHelpers["extends"]({},a,{recursive:(c=b.recursive)!=null?c:a.recursive,queryText:(c=b.queryText)!=null?c:a.queryText,afterCursor:b.afterCursor,filters:(c=b.filters)!=null?c:a.filters})}};b=a;f["default"]=b},66);
__d("AdsAssetAutoExtractChangeUrlEditingStatusReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{isEditing:b.isEditing,isFirstEdit:b.isEditing===!1?a.isFirstEdit===null:a.isFirstEdit})}};b=a;f["default"]=b},66);
__d("AdsAssetLiquidityStorePageIDReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){a=b.storePageID;return{pageID:a}}};b=a;f["default"]=b},66);
__d("AdsAutomaticFlowLitePreviewChangeUIReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{hasSeenPreviewCarouselUI:a.hasSeenPreviewCarouselUI||b.showPreviewCarouselUI,showPreviewCarouselUI:b.showPreviewCarouselUI})}};b=a;f["default"]=b},66);
__d("AdsAutoGeneratedCaptionCaptionsOverrideLocaleDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setIn(["captionDataByVideoID",b.videoID,"selectedLocale"],b.locale)}};b=a;f["default"]=b},66);
__d("AdsAccountDiverseImageSourceSetQueryReducerPlugin",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return c("immutable").is(b.query,a.query)?a:{query:b.query}}};b=a;g["default"]=b},98);
__d("AdsAccountRecommendedImageSourceSetQueryReducerPlugins",["immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return c("immutable").is(b.query,a.query)?a:{query:b.query}}};g.onSetQuery=a},98);
__d("AdsAllImageSourceSetQueryReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{query:b.query}}};b=a;f["default"]=b},66);
__d("AdsImageSelectorV2BackClickedReducerPlugin",["AdsImageSelectorV2Step"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return a.set("step",c("AdsImageSelectorV2Step").SELECT_IMAGE)}};b=a;g["default"]=b},98);
__d("AdsImageSelectorV2NextClickedReducerPlugin",["AdsImageSelectorV2Step"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return a.set("step",c("AdsImageSelectorV2Step").VIDEO_PREVIEW)}};b=a;g["default"]=b},98);
__d("AdsImageSelectorV2RemoveSelectedReducerPlugin",["AdsImageSelectorV2StateUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){a=d("AdsImageSelectorV2StateUtils").removeSelectedImage(a,b.imageID);return d("AdsImageSelectorV2StateUtils").removeImageForVideoGeneration(a,b.imageID)}};b=a;g["default"]=b},98);
__d("AdsImageSelectorV2SetSelectedReducerPlugin",["AdsImageSelectorV2StateUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var c=b.max!=null?b.max:0;c=d("AdsImageSelectorV2StateUtils").setMaxSelectedImageIDs(a,c||a.get("maxSelectedImageIDs"));return d("AdsImageSelectorV2StateUtils").setSelectedImages(c,b.imageIDs)}};b=a;g["default"]=b},98);
__d("AdsImageSelectorV2SetSelectedSourceTypeReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{query:a.query==null?null:a.query.set("nameQuery","")}}};b=a;f["default"]=b},66);
__d("AdsImageSelectorV2SetSourceTypesReducerPlugin",["AdsImageSelectorV2StateUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var c=d("AdsImageSelectorV2StateUtils").setSourceTypes(a,b.sourceTypes);c=d("AdsImageSelectorV2StateUtils").setSelectedSourceType(c,b.selectedSourceType||a.get("selectedSourceType"));return d("AdsImageSelectorV2StateUtils").validateSources(c)}};b=a;g["default"]=b},98);
__d("AdsImageSelectorV2StateAdsImageSelectorV2SetSelectedSourceTypeReducerPlugin",["AdsImageSelectorV2StateUtils"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){a=d("AdsImageSelectorV2StateUtils").setSelectedSourceType(a,b.selectedSourceType);return d("AdsImageSelectorV2StateUtils").validateSources(a)}};b=a;g["default"]=b},98);
__d("AdCreativeEditorReducerPlugins",["AdsAdAssetSelectorTypes"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return{assetIndex:0,assetGroups:[],format:null,initialTool:null,isBaseAsset:!1,isVisible:!1,entryPoint:null}}};b={reduce:function(a,b){return b.asset.format===a.format?a:babelHelpers["extends"]({},a,{format:b.asset.format})}};c={reduce:function(a,b){return babelHelpers["extends"]({},a,{format:d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template})}};e={reduce:function(a){return babelHelpers["extends"]({},a,{format:d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image})}};g.onClose=a;g.onChangeMedia=b;g.onSelectTemplate=c;g.onRemoveTemplate=e},98);
__d("AdsCreativeEditorTemplatePluginUtils",[],function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=b.global.template_settings;c=(c=c==null?void 0:c.duration)!=null?c:a;return c*b.scenes.length}}f.getDurationCalculatorFromTemplateSettings=a},66);
__d("AdsCreativeEditorTemplatePlugins",["AdsCreativeEditorTemplatePluginList","adsPluginsFactory"],function(a,b,c,d,e,f,g){"use strict";a=c("adsPluginsFactory")(function(){return c("AdsCreativeEditorTemplatePluginList")});b=a;g["default"]=b},98);
__d("AdsDescriptionAssetChangeSet",["$InternalEnum"],function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum").Mirrored(["CHANGE_ASSET","REMOVE_ASSET"]);g.AdsDescriptionAssetChangeSetActions=a},98);
__d("AdsDescriptionAssetToolPlugin",["fbt","ix","AdsAPIObjectives","AdsAdAssetSelectorTypes","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsCreativeToolDescriptionComponent.react","AdsPlacementAssetCustomizationTypes","AdsUEditorAdgroupPACEditCarouselCardDetailAction","AdsUEditorSelectors","ApiDynamicCreativeOptimizationTypes","adsCreateSelector","adsUEditorAdgroupOptimizationTypeSelector","immutable","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=(a={},a.INSTAGRAM_STREAM=!1,a.INSTAGRAM_STORY=!1,a.FACEBOOK_FEED=!0,a.FACEBOOK_STORY=!1,a.FACEBOOK_REELS_OVERLAY=!1,a.FACEBOOK_BIZ_DISCO_FEED=!1,a.AUDIENCE_NETWORK_CLASSIC=!1,a.AUDIENCE_NETWORK_INSTREAM_VIDEO=!1,a.AUDIENCE_NETWORK_REWARDED_VIDEO=!1,a.FACEBOOK_INSTREAM=!1,a.FACEBOOK_MARKETPLACE=!1,a.FACEBOOK_SEARCH=!1,a.FACEBOOK_RHC=!1,a.FACEBOOK_INSTANT_ARTICLE=!1,a.MESSENGER_STORY=!1,a.MESSENGER_INBOX=!1,a.SUGGESTED_VIDEO=!1,a.WHATSAPP_STATUS=!1,a),k=new Set([d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatCarousel]),l=new Set([c("AdsAPIObjectives").APP_INSTALLS,c("AdsAPIObjectives").NONE]);e={type:"creative/tools",key:"description_asset",category:"TEXT",isFullScreen:!1,advancedSettingsComponent:b("AdsCreativeToolDescriptionComponent.react"),name:h._("Descripci\u00f3n"),tab_testid:"ads-creative-tools-description-component",getIcons:function(){return{active:i("820133"),normal:i("820134")}},isEnabled:function(a){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel]),isAvailable:function(a,b,e){return c("adsCreateSelector")([c("adsUEditorAdgroupOptimizationTypeSelector"),d("AdsUEditorSelectors").campaignGroup.bulkByAccessor(c("AdsCampaignGroupRecordAccessors").objective.get)],function(b,f){if(e==null)return!1;var g=e.assetGroups;if(g==null)return!1;f=d("AdsBulkValueUtils").getUniformValue(f,c("AdsAPIObjectives").NONE);g=k.has(a.asset.format)&&g.some(function(a){return j[a]===!0});f=!l.has(f);return f&&g&&b===c("ApiDynamicCreativeOptimizationTypes").PLACEMENT},{name:f.id})},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,d,e,f,g){d=e.description_asset;if((b==null?void 0:b.carousel)!=null){g=b.assetKey;e=b.carousel.index;if(d!=null){b={text:d.descriptions.get(0)};c("AdsUEditorAdgroupPACEditCarouselCardDetailAction").dispatch({hostID:f,adgroupIDs:a.adgroupIDs,carouselLabel:g,cardIndex:e,assetField:"descriptions",asset:b},{line:"177",module:"AdsDescriptionAssetToolPlugin.js"})}else c("recoverableViolation")("Should have a description asset to update carousel card","ads_cx_pac")}}};a=e;g["default"]=a},98);
__d("AdsCreativeToolSecondaryPanelLayout.react",["cx","fbt","ix","FDSButton.react","FlexLayout.react","FlexLayoutItem.react","GeoTextPairing.react","Image.react","joinClasses","react"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=k.memo(function(a){var b=a.title;a=a.description;return b==null?null:k.jsx(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_7ye9 _2pio",justify:"start",children:k.jsx(c("FlexLayoutItem.react"),{children:k.jsx(c("GeoTextPairing.react"),{description:a,heading:b,size:"header3"})})})});var l=k.memo(function(a){var b=a.title,d=a.description;a=a.onClose;return b==null?null:k.jsxs(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_7ye9 _2pio",justify:a==null?"start":"all",children:[k.jsx(c("FlexLayoutItem.react"),{children:k.jsx(c("GeoTextPairing.react"),{description:d,heading:b,size:"header3"})}),a==null?null:k.jsx(c("FlexLayoutItem.react"),{className:"_86e0",children:k.jsx(c("FDSButton.react"),{icon:k.jsx(c("Image.react"),{src:j("543535")}),label:i._("Cerrar"),labelIsHidden:!0,size:"small",use:"flatWhite",onClick:a})})]})});b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return k.jsx("div",{})};return b}(k.PureComponent);b.__FLEX_GROW_ITEM__=!0;e=function(a){var b=a.className,d=a.children,e=a.isConfirmButtonDisabled,f=a.title,g=a.onCancel,h=a.onClose;a=a.onConfirm;var j=!1;d=k.Children.map(d,function(a,b){var d;if(a==null)return null;d=((d=a.type)==null?void 0:d.__FLEX_GROW_ITEM__)===!0;d&&(j=!0);a=d?a.props.children:a;return k.jsx(c("FlexLayoutItem.react"),{className:"_7yea"+(d?" _7yeb":""),grow:d?10:0,children:a},"creative_container_secondary_"+b)});g=k.jsx(c("FlexLayoutItem.react"),{className:"_3-8z _7yea",children:k.jsxs(c("FlexLayout.react"),{justify:"evenly",children:[k.jsx(c("FlexLayoutItem.react"),{children:g?k.jsx(c("FDSButton.react"),{label:i._("Cancelar"),size:"medium",use:"default",width:120,onClick:g}):null}),k.jsx(c("FlexLayoutItem.react"),{children:a?k.jsx(c("FDSButton.react"),{isDisabled:!!e,label:i._("Aplicar"),size:"medium",use:"primary",width:120,onClick:a}):null})]})});return!j?k.jsxs(c("FlexLayout.react"),{className_DO_NOT_USE:c("joinClasses")("_7yec",b),direction:"vertical",children:[k.jsx(c("FlexLayoutItem.react"),{className:"_7yea",children:k.jsx(l,{title:f,onClose:h})}),k.jsx(c("FlexLayoutItem.react"),{className:"_7yea _7yeb",grow:10,children:k.jsx(c("FlexLayout.react"),{direction:"vertical",children:d})}),g]}):k.jsxs(c("FlexLayout.react"),{className_DO_NOT_USE:c("joinClasses")("_7yec",b),direction:"vertical",children:[k.jsx(l,{title:f,onClose:h}),d,g]})};f=function(a){return k.jsx(c("FlexLayout.react"),babelHelpers["extends"]({},a,{className_DO_NOT_USE:c("joinClasses")("_7yed",a.className),children:a.children}))};h=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return k.jsx(c("FlexLayout.react"),babelHelpers["extends"]({},this.props,{className_DO_NOT_USE:c("joinClasses")("_7yee",this.props.className),children:this.props.children}))};return b}(k.PureComponent);h.LeftPanel=e;h.RightPanel=f;h.LeftPaneFlexGrowItem=b;h.TitleRow=l;h.SectionRow=a;g["default"]=h},98);
__d("AdsCreativeToolUnifiedTemplateHeadlineToolPanelContainer.react",["fbt","AdsBulkTextInput_DEPRECATED.react","AdsCreativeEditorUnifiedTemplateToolHeadlineContainerSelector","AdsCreativeToolSecondaryPanelLayout.react","AdsFluxHooks","AdsPlacementEditorColorPicker.react","AdsUEditorHooks","AdsUEditorUnifiedTemplateShowreelFontSelector.react","AdsUniformValue","GeoHeading.react","ShowreelAssetStandardFonts","color","geoMargin","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;b=45;var k={tooltipText:h._("Personaliza el t\u00edtulo que aparece en esta ubicaci\u00f3n."),placeholder:h._("Opta por un t\u00edtulo que sea llamativo"),maxLength:b},l=h._("Editar t\u00edtulo"),m=h._("Personaliza el texto que aparece en esta ubicaci\u00f3n.");function n(a,b){var c=Object.keys(a).find(function(c){return a[c]===b});return c!=null?c:"Archivo Black"}function a(a){var b=a.onToggleAdvancedSettings,e=a.name,f=a.onEdit;a=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(c("AdsCreativeEditorUnifiedTemplateToolHeadlineContainerSelector"));a=a.state;var g=a.value,o=g.headline,p=g.headlineColor,q=g.font,r=g.accentColor;g=a.disabledFields;a=new(c("AdsUniformValue"))(o);var s=j(function(){return b(!1)},[b]),t=j(function(a){return f({headline_asset:{text:a.getValue()===""?null:a.getValue(),accentColor:r,font:q,position:null,textColor:p,isUnifiedTemplateChange:!0}})},[r,q,p,f]),u=j(function(a){return f({headline_asset:{text:o,accentColor:r,font:c("ShowreelAssetStandardFonts")[a],position:null,textColor:p,isUnifiedTemplateChange:!0}})},[f,o,p,r]),v=j(function(a){return f({headline_asset:{text:o,accentColor:r,font:q,position:null,textColor:a.hex(),isUnifiedTemplateChange:!0}})},[f,r,o,q]),w=j(function(a){return f({headline_asset:{text:o,accentColor:a.hex(),font:q,position:null,textColor:p,isUnifiedTemplateChange:!0}})},[f,p,o,q]);return i.createElement("div",null,i.createElement("div",{className:"_3-95"},i.createElement(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:l,onClose:s})),i.createElement("div",{className:"_20nr"},i.createElement(c("AdsBulkTextInput_DEPRECATED.react"),{allowNewLines:!0,className:"cgu29s5g","data-testid":void 0,disabled:!1,errors:null,helpText:m,label:e,multiline:!0,placeholder:k.placeholder,value:a,onChange:t})),i.createElement("div",{className:"_20nr"},i.createElement(c("AdsUEditorUnifiedTemplateShowreelFontSelector.react"),{value:n(c("ShowreelAssetStandardFonts"),q),onChange:u})),i.createElement("div",{className:"_20nr"},i.createElement(c("GeoHeading.react"),{level:4,xstyle:c("geoMargin").bottom4},h._("Color del texto")),i.createElement(c("AdsPlacementEditorColorPicker.react"),{color:c("color")(p),onChange:v})),!g.includes("accent")&&i.createElement("div",{className:"_20nr"},i.createElement(c("GeoHeading.react"),{level:4,xstyle:c("geoMargin").bottom4},h._("Color de \u00e9nfasis")),i.createElement(c("AdsPlacementEditorColorPicker.react"),{color:c("color")(r),onChange:w})))}a.displayName=a.name+" [from "+f.id+"]";e=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=e},98);
__d("AdsCreativeToolSimpleField.react",["cx","ix","FlexLayout.react","FlexLayoutItem.react","GeoBaseText.react","GeoTooltip.react","Image.react","ShimButton.react","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={tooltip:{display:"b6ax4al1"}},l={active:i("1265552"),disabled:i("482834"),normal:i("513298"),error:i("1265587"),warning:i("192459")},m={active:i("492052"),normal:i("504715"),disabled:i("1232407"),error:i("1265565"),warning:i("192532")};function n(a,b,c,d,e){if(c===!0&&a!=null&&a.disabled!=null)return a.disabled;if(d===!0&&a!=null&&a.error!=null)return a.error;return e===!0&&a!=null&&a.warning!=null?a.warning:b?a==null?void 0:a.active:a==null?void 0:a.normal}function o(a,b,c,d){if(b===!0)return"placeholder";if(c===!0)return"error";return d===!0?"warning":a&&b!==!0?"info":"value"}function a(a){var b=a.isRequired,d=a.isActive,e=a.leftIconAsset,f=a.rightIconAsset,g=a.countValue,h=a.onDelete,p=a.hasError===!0,q=!p&&a.hasWarning===!0,r=a.isDisabled===!0;g=j.jsxs(c("FlexLayout.react"),{align:"center",justify:"all",children:[j.jsx(c("GeoBaseText.react"),{color:o(d,r,p,q),display:"truncate",size:"value",weight:(p||q||d)&&!r?"bold":"normal",children:a.text}),g!=null?j.jsx("div",{className:"_9elw",children:j.jsx(c("GeoBaseText.react"),{color:p?"warning":"value",size:"value",weight:"bold",children:g})}):null]});b=j.jsx(c("ShimButton.react"),{className:"_7-b2"+(!r&&!d&&!p?" _7-b3":"")+(!r&&!d&&p?" _8drl":"")+(!r&&!d&&q?" _a4rs":"")+(!r&&d?" _7-b4":"")+(r?" _7_lj":"")+(b?" _89hn":""),onClick:a.isDisabled!==!0?a.onClick:null,children:j.jsxs(c("FlexLayout.react"),{align:"center",children:[j.jsx(c("FlexLayoutItem.react"),{className:"_7-b5",children:a.thumbnail!=null?a.thumbnail:j.jsx(c("Image.react"),{src:n(e,d,r,p,q)})}),j.jsx(c("FlexLayoutItem.react"),{className:"ellipsis",grow:1,shrink:1,children:g}),!r&&h?j.jsx(c("FlexLayoutItem.react"),{className:"_89ht",children:j.jsx(c("ShimButton.react"),{onClick:h,children:j.jsx(c("Image.react"),{src:i("518037")})})}):null,p?j.jsx(c("FlexLayoutItem.react"),{className:"_8e9d",children:j.jsx(c("Image.react"),{src:i("1208651")})}):null,q?j.jsx(c("FlexLayoutItem.react"),{className:"_8e9d",children:j.jsx(c("Image.react"),{src:i("1208629")})}):null,f==null?j.jsxs(c("FlexLayout.react"),{children:[j.jsx(c("FlexLayoutItem.react"),{className:(d?"":"_7-b6")+(d?" _7-b7":""),children:j.jsx(c("Image.react"),{src:n(l,d,r,p,q)})}),j.jsx(c("FlexLayoutItem.react"),{className:"_7-b8",children:j.jsx(c("Image.react"),{src:n(m,!1,r,p,q)})})]}):j.jsx(c("FlexLayoutItem.react"),{className:"_8de5",children:j.jsx(c("Image.react"),{src:n(f,d,r,p,q)})})]})});if(a.tooltipText==null)return b;else return j.jsx(c("GeoTooltip.react"),{content:a.tooltipText,position:"right",xstyle:k.tooltip,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeToolUnifiedTemplateHeadlineToolEntry.react",["fbt","ix","AdsCreativeToolSimpleField.react","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.onToggleAdvancedSettings,d=k(function(){return b(!0)},[b]);return j.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:a.isActive,isRequired:!0,leftIconAsset:{normal:i("1286644"),active:i("1286645")},text:h._("Titular"),onClick:d,onDelete:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorAdgroupHeadlineFieldPluginType",[],function(a,b,c,d,e,f){"use strict";a=["accountType","objective","promotedObjectType","creativeFormat"];f.order=a},66);
__d("AdsUEditorCollectionFormatAdgroupHeadlineFieldPlugin",["AdsUEditorAdgroupCreativeFormat"],function(a,b,c,d,e,f,g){"use strict";a={type:"ueditor/adgroup/headline_field",key:"collection",pivots:{creativeFormat:c("AdsUEditorAdgroupCreativeFormat").COLLECTIONS},isOptional:!1};b=a;g["default"]=b},98);
__d("AdsUEditorDefaultAdgroupHeadlineFieldPlugin",[],function(a,b,c,d,e,f){"use strict";a={type:"ueditor/adgroup/headline_field",key:"default",pivots:{},isOptional:!0};b=a;f["default"]=b},66);
__d("AdsUEditorMessagesAdgroupHeadlineFieldPlugin",["AdsPromotedObjectTypes"],function(a,b,c,d,e,f,g){"use strict";a={type:"ueditor/adgroup/headline_field",key:"messages",pivots:{promotedObjectType:c("AdsPromotedObjectTypes").MESSENGER},isOptional:!1};b=a;g["default"]=b},98);
__d("AdsUEditorPageLikesAdgroupHeadlineFieldPlugin",["AdsAPIObjectives"],function(a,b,c,d,e,f,g){"use strict";a={type:"ueditor/adgroup/headline_field",key:"page_likes",pivots:{objective:c("AdsAPIObjectives").PAGE_LIKES},isOptional:!0};b=a;g["default"]=b},98);
__d("AdsUEditorAdgroupHeadlineFieldPluginResolver",["AdsUEditorAdgroupHeadlineFieldPluginType","AdsUEditorAdgroupHeadlineFieldPlugins","adsPluginResolverFactory"],function(a,b,c,d,e,f,g){"use strict";a=c("adsPluginResolverFactory")(function(){return b("AdsUEditorAdgroupHeadlineFieldPlugins").getArray()},d("AdsUEditorAdgroupHeadlineFieldPluginType").order);e=a;g["default"]=e},98);
__d("StorifyEligibilityUtils",["AdsAPIObjectives","AdsPlacementAssetCustomizationTypes"],function(a,b,c,d,e,f,g){"use strict";var h=["INSTAGRAM_STORY","FACEBOOK_STORY","MESSENGER_STORY"],i=[c("AdsAPIObjectives").APP_INSTALLS,c("AdsAPIObjectives").CONVERSIONS,c("AdsAPIObjectives").LINK_CLICKS,c("AdsAPIObjectives").REACH,c("AdsAPIObjectives").BRAND_AWARENESS,c("AdsAPIObjectives").WILDCARD_INTERNAL_ONLY],j=(c={},c.INSTAGRAM_STORY="INSTAGRAM_STORY",c.FACEBOOK_STORY="FACEBOOK_STORY_MOBILE",c.MESSENGER_STORY="MESSENGER_MOBILE_STORY_MEDIA",c);function k(a){return h.includes(a)}function a(a){return i.includes(a)}function b(a){return k(a)}function e(a){return j[a]}function f(a,b){return h.includes(b)&&a!=null&&a.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo&&a.value.video.creator_product===48}g.isStorifyEligibleInPlacementEditor=k;g.isStorifyObjective=a;g.isStorifyBetaEligible=b;g.getPreviewFormatForAssetGroup=e;g.isStorifyVideo=f},98);
__d("ShowreelClassicEligibility",["UserAgent"],function(a,b,c,d,e,f,g){"use strict";function a(){return!c("UserAgent").isBrowser("IE")}g.isBrowserSupported=a},98);
__d("BodymovinTypes.flow",[],function(a,b,c,d,e,f){e.exports.isAngleEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="AngleEffect"},e.exports.isAnimatedTextPropertyLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="AnimatedTextPropertyLayer"},e.exports.isAnimation=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="Animation"},e.exports.isAudioLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="AudioLayer"},e.exports.isAudioSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="AudioSource"},e.exports.isBackgroundHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="BackgroundHelper"},e.exports.isBlendModeHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="BlendModeHelper"},e.exports.isBooleanHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="BooleanHelper"},e.exports.isCharSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="CharSource"},e.exports.isCheckBoxEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="CheckBoxEffect"},e.exports.isColorEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ColorEffect"},e.exports.isCompLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="CompLayer"},e.exports.isCoordinateHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="CoordinateHelper"},e.exports.isCustomValueEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="CustomValueEffect"},e.exports.isDimensionsSeparatedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="DimensionsSeparatedProperty"},e.exports.isDropDownEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="DropDownEffect"},e.exports.isDropShadowEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="DropShadowEffect"},e.exports.isEllipseShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="EllipseShape"},e.exports.isFillEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="FillEffect"},e.exports.isFillShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="FillShape"},e.exports.isFlexHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="FlexHelper"},e.exports.isFont=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="Font"},e.exports.isFontList=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="FontList"},e.exports.isGFillShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="GFillShape"},e.exports.isGStrokeShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="GStrokeShape"},e.exports.isGroupEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="GroupEffect"},e.exports.isGroupShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="GroupShape"},e.exports.isImageLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ImageLayer"},e.exports.isImageSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ImageSource"},e.exports.isIndexEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="IndexEffect"},e.exports.isKeyframedEndValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="KeyframedEndValueProperty"},e.exports.isKeyframedValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="KeyframedValueProperty"},e.exports.isKineticStyleHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="KineticStyleHelper"},e.exports.isLayerEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="LayerEffect"},e.exports.isLineCapHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="LineCapHelper"},e.exports.isLineJoinHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="LineJoinHelper"},e.exports.isMaskHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MaskHelper"},e.exports.isMergeShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MergeShape"},e.exports.isMultiDimensionalCoordinateHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MultiDimensionalCoordinateHelper"},e.exports.isMultiDimensionalKeyframedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MultiDimensionalKeyframedProperty"},e.exports.isMultiDimensionalProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MultiDimensionalProperty"},e.exports.isNoValueEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="NoValueEffect"},e.exports.isNullLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="NullLayer"},e.exports.isPointEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="PointEffect"},e.exports.isPreCompLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="PreCompLayer"},e.exports.isPrecompSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="PrecompSource"},e.exports.isProLevelEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ProLevelEffect"},e.exports.isRectShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="RectShape"},e.exports.isRectangleHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="RectangleHelper"},e.exports.isRoundShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="RoundShape"},e.exports.isShapeKeyframedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeKeyframedProperty"},e.exports.isShapeKeyframedValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeKeyframedValueProperty"},e.exports.isShapeLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeLayer"},e.exports.isShapeProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeProperty"},e.exports.isShapeShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeShape"},e.exports.isShapeValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeValueProperty"},e.exports.isSliderEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="SliderEffect"},e.exports.isSolidLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="SolidLayer"},e.exports.isStarShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="StarShape"},e.exports.isStrokeEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="StrokeEffect"},e.exports.isStrokeShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="StrokeShape"},e.exports.isTestBasedHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TestBasedHelper"},e.exports.isTextBasedHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextBasedHelper"},e.exports.isTextDatumLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextDatumLayer"},e.exports.isTextDocumentKeyFrameLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextDocumentKeyFrameLayer"},e.exports.isTextDocumentLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextDocumentLayer"},e.exports.isTextGroupingHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextGroupingHelper"},e.exports.isTextLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextLayer"},e.exports.isTextMoreOptionLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextMoreOptionLayer"},e.exports.isTextPathLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextPathLayer"},e.exports.isTextPropertyLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextPropertyLayer"},e.exports.isTextSelectorLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextSelectorLayer"},e.exports.isTextShapeHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextShapeHelper"},e.exports.isTintEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TintEffect"},e.exports.isTransform=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="Transform"},e.exports.isTransformHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TransformHelper"},e.exports.isTransformShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TransformShape"},e.exports.isTrimShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TrimShape"},e.exports.isTritoneEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TritoneEffect"},e.exports.isValueKeyframedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ValueKeyframedProperty"},e.exports.isValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ValueProperty"},e.exports.isVideoSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="VideoSource"},e.exports.isAnimatedTextPropertyLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="AnimatedTextPropertyLayer"},e.exports.isTextSelectorLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextSelectorLayer"},e.exports.isCoordinateHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="CoordinateHelper"},e.exports.isMultiDimensionalCoordinateHelper=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MultiDimensionalCoordinateHelper"},e.exports.isAngleEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="AngleEffect"},e.exports.isColorEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ColorEffect"},e.exports.isCustomValueEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="CustomValueEffect"},e.exports.isDropDownEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="DropDownEffect"},e.exports.isDropShadowEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="DropShadowEffect"},e.exports.isFillEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="FillEffect"},e.exports.isGroupEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="GroupEffect"},e.exports.isNoValueEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="NoValueEffect"},e.exports.isPointEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="PointEffect"},e.exports.isProLevelEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ProLevelEffect"},e.exports.isSliderEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="SliderEffect"},e.exports.isStrokeEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="StrokeEffect"},e.exports.isTintEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TintEffect"},e.exports.isTritoneEffect=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TritoneEffect"},e.exports.isKeyframedEndValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="KeyframedEndValueProperty"},e.exports.isKeyframedValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="KeyframedValueProperty"},e.exports.isShapeKeyframedValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeKeyframedValueProperty"},e.exports.isCompLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="CompLayer"},e.exports.isImageLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ImageLayer"},e.exports.isNullLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="NullLayer"},e.exports.isShapeLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeLayer"},e.exports.isSolidLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="SolidLayer"},e.exports.isTextLayer=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TextLayer"},e.exports.isMultiDimensionalKeyframedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MultiDimensionalKeyframedProperty"},e.exports.isMultiDimensionalProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MultiDimensionalProperty"},e.exports.isDimensionsSeparatedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="DimensionsSeparatedProperty"},e.exports.isMultiDimensionalKeyframedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MultiDimensionalKeyframedProperty"},e.exports.isMultiDimensionalProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MultiDimensionalProperty"},e.exports.isEllipseShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="EllipseShape"},e.exports.isFillShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="FillShape"},e.exports.isGFillShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="GFillShape"},e.exports.isGStrokeShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="GStrokeShape"},e.exports.isGroupShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="GroupShape"},e.exports.isMergeShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="MergeShape"},e.exports.isRectShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="RectShape"},e.exports.isShapeShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeShape"},e.exports.isStarShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="StarShape"},e.exports.isStrokeShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="StrokeShape"},e.exports.isTransformShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TransformShape"},e.exports.isTrimShape=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="TrimShape"},e.exports.isShapeKeyframedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeKeyframedProperty"},e.exports.isShapeProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ShapeProperty"},e.exports.isAudioSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="AudioSource"},e.exports.isImageSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ImageSource"},e.exports.isPrecompSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="PrecompSource"},e.exports.isVideoSource=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="VideoSource"},e.exports.isValueKeyframedProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ValueKeyframedProperty"},e.exports.isValueProperty=function(a){return typeof a==="object"&&(a==null?void 0:a._type)==="ValueProperty"},e.exports.switchAnimatedTextProperty=function(a,b){switch(a._type){case"AnimatedTextPropertyLayer":return!b.AnimatedTextPropertyLayer?null:b.AnimatedTextPropertyLayer(a);case"TextSelectorLayer":return!b.TextSelectorLayer?null:b.TextSelectorLayer(a);default:throw new Error("Unknown AnimatedTextProperty type")}},e.exports.switchCoordinateHelper=function(a,b){switch(a._type){case"CoordinateHelper":return!b.CoordinateHelper?null:b.CoordinateHelper(a);case"MultiDimensionalCoordinateHelper":return!b.MultiDimensionalCoordinateHelper?null:b.MultiDimensionalCoordinateHelper(a);default:throw new Error("Unknown CoordinateHelper type")}},e.exports.switchEffect=function(a,b){switch(a._type){case"AngleEffect":return!b.AngleEffect?null:b.AngleEffect(a);case"ColorEffect":return!b.ColorEffect?null:b.ColorEffect(a);case"CustomValueEffect":return!b.CustomValueEffect?null:b.CustomValueEffect(a);case"DropDownEffect":return!b.DropDownEffect?null:b.DropDownEffect(a);case"DropShadowEffect":return!b.DropShadowEffect?null:b.DropShadowEffect(a);case"FillEffect":return!b.FillEffect?null:b.FillEffect(a);case"GroupEffect":return!b.GroupEffect?null:b.GroupEffect(a);case"NoValueEffect":return!b.NoValueEffect?null:b.NoValueEffect(a);case"PointEffect":return!b.PointEffect?null:b.PointEffect(a);case"ProLevelEffect":return!b.ProLevelEffect?null:b.ProLevelEffect(a);case"SliderEffect":return!b.SliderEffect?null:b.SliderEffect(a);case"StrokeEffect":return!b.StrokeEffect?null:b.StrokeEffect(a);case"TintEffect":return!b.TintEffect?null:b.TintEffect(a);case"TritoneEffect":return!b.TritoneEffect?null:b.TritoneEffect(a);default:throw new Error("Unknown Effect type")}},e.exports.switchKeyframedValueProperty=function(a,b){switch(a._type){case"KeyframedEndValueProperty":return!b.KeyframedEndValueProperty?null:b.KeyframedEndValueProperty(a);case"KeyframedValueProperty":return!b.KeyframedValueProperty?null:b.KeyframedValueProperty(a);case"ShapeKeyframedValueProperty":return!b.ShapeKeyframedValueProperty?null:b.ShapeKeyframedValueProperty(a);default:throw new Error("Unknown KeyframedValueProperty type")}},e.exports.switchLayer=function(a,b){switch(a._type){case"CompLayer":return!b.CompLayer?null:b.CompLayer(a);case"ImageLayer":return!b.ImageLayer?null:b.ImageLayer(a);case"NullLayer":return!b.NullLayer?null:b.NullLayer(a);case"ShapeLayer":return!b.ShapeLayer?null:b.ShapeLayer(a);case"SolidLayer":return!b.SolidLayer?null:b.SolidLayer(a);case"TextLayer":return!b.TextLayer?null:b.TextLayer(a);default:throw new Error("Unknown Layer type")}},e.exports.switchMultiDimensionalProperty=function(a,b){switch(a._type){case"MultiDimensionalKeyframedProperty":return!b.MultiDimensionalKeyframedProperty?null:b.MultiDimensionalKeyframedProperty(a);case"MultiDimensionalProperty":return!b.MultiDimensionalProperty?null:b.MultiDimensionalProperty(a);default:throw new Error("Unknown MultiDimensionalProperty type")}},e.exports.switchProperty=function(a,b){switch(a._type){case"DimensionsSeparatedProperty":return!b.DimensionsSeparatedProperty?null:b.DimensionsSeparatedProperty(a);case"MultiDimensionalKeyframedProperty":return!b.MultiDimensionalKeyframedProperty?null:b.MultiDimensionalKeyframedProperty(a);case"MultiDimensionalProperty":return!b.MultiDimensionalProperty?null:b.MultiDimensionalProperty(a);default:throw new Error("Unknown Property type")}},e.exports.switchShape=function(a,b){switch(a._type){case"EllipseShape":return!b.EllipseShape?null:b.EllipseShape(a);case"FillShape":return!b.FillShape?null:b.FillShape(a);case"GFillShape":return!b.GFillShape?null:b.GFillShape(a);case"GStrokeShape":return!b.GStrokeShape?null:b.GStrokeShape(a);case"GroupShape":return!b.GroupShape?null:b.GroupShape(a);case"MergeShape":return!b.MergeShape?null:b.MergeShape(a);case"RectShape":return!b.RectShape?null:b.RectShape(a);case"ShapeShape":return!b.ShapeShape?null:b.ShapeShape(a);case"StarShape":return!b.StarShape?null:b.StarShape(a);case"StrokeShape":return!b.StrokeShape?null:b.StrokeShape(a);case"TransformShape":return!b.TransformShape?null:b.TransformShape(a);case"TrimShape":return!b.TrimShape?null:b.TrimShape(a);default:throw new Error("Unknown Shape type")}},e.exports.switchShapeProperty=function(a,b){switch(a._type){case"ShapeKeyframedProperty":return!b.ShapeKeyframedProperty?null:b.ShapeKeyframedProperty(a);case"ShapeProperty":return!b.ShapeProperty?null:b.ShapeProperty(a);default:throw new Error("Unknown ShapeProperty type")}},e.exports.switchSource=function(a,b){switch(a._type){case"AudioSource":return!b.AudioSource?null:b.AudioSource(a);case"ImageSource":return!b.ImageSource?null:b.ImageSource(a);case"PrecompSource":return!b.PrecompSource?null:b.PrecompSource(a);case"VideoSource":return!b.VideoSource?null:b.VideoSource(a);default:throw new Error("Unknown Source type")}},e.exports.switchValueProperty=function(a,b){switch(a._type){case"ValueKeyframedProperty":return!b.ValueKeyframedProperty?null:b.ValueKeyframedProperty(a);case"ValueProperty":return!b.ValueProperty?null:b.ValueProperty(a);default:throw new Error("Unknown ValueProperty type")}}},null);
__d("ShowreelFontUtils",[],function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"_"+a}f.getNamespacedFontName=a},66);
__d("ShowreelBezierUtils",[],function(a,b,c,d,e,f){"use strict";var g={},h=150,i=function(a){this.segmentLength=0,this.points=new Array(a)},j=function(a,b){this.partialLength=a,this.point=b};function a(a){var b=l(a),c=a.start,d=a.end,e=a.inTangent;a=a.outTangent;if(!e||!a)throw new Error("Can only get bezier data for spatial keyframe properties");if(g[b])return g[b];var f=h,m,n,o=0,p,q,r=null;c.length===2&&(c[0]!=d[0]||c[1]!=d[1])&&k(c[0],c[1],d[0],d[1],c[0]+a[0],c[1]+a[1])&&k(c[0],c[1],d[0],d[1],d[0]+e[0],d[1]+e[1])&&(f=2);var s=new i(f);for(var t=0;t<f;t+=1){q=new Array(a.length);n=t/(f-1);p=0;for(var u=0;u<a.length;u+=1)m=Math.pow(1-n,3)*c[u]+3*Math.pow(1-n,2)*n*(c[u]+a[u])+3*(1-n)*Math.pow(n,2)*(d[u]+e[u])+Math.pow(n,3)*d[u],q[u]=m,r&&(p+=Math.pow(q[u]-r[u],2));p=Math.sqrt(p);o+=p;s.points[t]=new j(p,q);r=q}s.segmentLength=o;g[b]=s;return s}function k(a,b,c,d,e,f){e=a*d+b*e+c*f-e*d-f*a-c*b;return e>-1e-4&&e<1e-4}function l(a){var b=a.start,c=a.end,d=a.inTangent;a=a.outTangent;if(!d||!a)throw new Error("Can only get bezier name for spatial keyframe properties");return b[0]+"_"+b[1]+"_"+c[0]+"_"+c[1]+"_"+a[0]+"_"+a[1]+"_"+d[0]+"_"+d[1]}f.getBezierData=a},66);
__d("ShowreelKeyframeUtils",["invariant","BezierFactory","BodymovinTypes.flow","ShowreelBezierUtils","nullthrows"],function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c){a=i(a,b,c);return a[0]}function b(a,b,c){return i(a,b,c)}function i(a,b,e){var f=e-b.startTime;e=n(a,b,f);a=e.currentKeyframe;var g=e.nextKeyframe;e=d("BodymovinTypes.flow").switchKeyframedValueProperty(a,{KeyframedValueProperty:function(a){if(a.outTangent)return l(a,f,b.startTime,g);else return k(a,f,b.startTime,g)}});return c("nullthrows")(e)}function e(a,b){var c=a.inTangent,e=a.outTangent;a=a.value;!c&&!e||h(0,1171);c=a[a.length-1];e=a[a.length-2];var f=a[0];if(b>=c.time)return e.end[0];if(b<=f.time)return f.start[0];c=j(a,b);e=a[c];f=a[c+1];a=e.outValue;c=e.inValue;f=f.time-e.time;a=d("BezierFactory").getBezierEasingFunction(a.x,a.y,c.x,c.y);var g=a((b-e.time)/f);c=e.start[0];a=e.end[0];c.closed&&a.closed||h(0,1172);b=!0;f=[];e=[];var i=[],k=function(a,b){return[g*(b[0]-a[0])+a[0],g*(b[1]-a[1])+a[1]]};for(var l=0;l<c.vertices.length;l++){var m={inPoint:c.inPoint[l],outPoint:c.outPoint[l],vertex:c.vertices[l]},n={inPoint:a.inPoint[l],outPoint:a.outPoint[l],vertex:a.vertices[l]};f.push(k(m.inPoint,n.inPoint));e.push(k(m.outPoint,n.outPoint));i.push(k(m.vertex,n.vertex))}m={closed:b,inPoint:f,outPoint:e,vertices:i};return m}function j(a,b){var c=-1;for(var d=0;d<a.length-1;d++)a[d].time<b&&(c=d);return c}function k(a,b,c,e){var f=0,g=[];for(var h=0;h<a.start.length;h+=1){if(!a.hold)if(b>=e.time-c)f=1;else if(b<a.time-c)f=0;else{if(a.outValue.x.constructor===Array){var i=m(a.outValue),j=m(a.inValue);i=d("BezierFactory").getBezierEasingFunction(i.x[h]||i.x[0],i.y[h]||i.y[0],j.x[h]||j.x[0],j.y[h]||j.y[0])}else{j=a.outValue;var k=a.inValue;i=d("BezierFactory").getBezierEasingFunction(j.x,j.y,k.x,k.y)}f=i((b-(a.time-c))/(e.time-c-(a.time-c)))}g[h]=a.hold?a.start[h]:a.start[h]+(a.end[h]-a.start[h])*f}return g}function l(a,b,c,e){var f=[],g=d("ShowreelBezierUtils").getBezierData(a);if(b>=e.time-c||b<a.time-c){var h=b>=e.time-c?g.points.length-1:0;for(var i=0;i<g.points[h].point.length;i+=1)f[i]=g.points[h].point[i]}else{h=d("BezierFactory").getBezierEasingFunction(a.outValue.x,a.outValue.y,a.inValue.x,a.inValue.y);i=h((b-(a.time-c))/(e.time-c-(a.time-c)));h=g.segmentLength*i;b=0;e=0;a=!0;while(a){b+=g.points[e].partialLength;if(h===0||i===0||e==g.points.length-1){for(var c=0;c<g.points[e].point.length;c+=1)f[c]=g.points[e].point[c];break}else if(h>=b&&h<b+g.points[e+1].partialLength){c=(h-b)/g.points[e+1].partialLength;for(var j=0;j<g.points[e].point.length;j+=1)f[j]=g.points[e].point[j]+(g.points[e+1].point[j]-g.points[e].point[j])*c;break}e<g.points.length-1?e+=1:a=!1}}return f}function m(a){return a}function n(a,b,c){var d=0;b=b.startTime;a=a.value;var e=a.length-1,f=!0,g=null,h=null;while(f){g=a[d];h=a[d+1];if(d==e-1&&c>=h.time-b){g.hold&&(g=h);break}if(h.time-b>c)break;d<e-1?d+=1:f=!1}if(!g||!h)throw new Error("TODO: Workout why this case occurs");return{currentKeyframe:g,nextKeyframe:h}}g.interpolateValue=a;g.interpolateMultiDimensionalValue=b;g.interpolateShapeValue=e},98);
__d("ShowreelGraphicsUtils",["invariant","BodymovinTypes.flow","ShowreelKeyframeUtils","nullthrows"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return a}function j(a){return parseInt(a.substring(1),16)}function k(a){return{r:a[0],g:a[1],b:a[2],a:a[3]}}function l(a){a=Array.isArray(a)?k(a):a;var b=255*a.r<<16,c=255*a.g<<8,d=255*a.b;a=typeof a.a==="number"?a.a:1;return[b+c+d,a]}function m(a){a=j(a);return[(a&16711680)/16711680,(a&65280)/65280,(a&255)/255]}function n(a){return o(m(a))}function o(a){return[].concat(a,[1])}function p(a){return r(o(a))}function q(a){a[3]===1||h(0,360,JSON.stringify(a),"RGBColour");return[a[0],a[1],a[2]]}function r(a){a[3]===1||h(0,360,JSON.stringify(a),"HexColour");a=l(a);a=a[0];return"#"+a.toString(16)}function s(a){if(typeof a==="string")return"HexColour";if(a.length===3)return"RGBColour";return a.length===4?"RGBAColour":null}function a(a,b){var c=null;switch(b){case"HexColour":c=t(a,{HexColour:i,RGBColour:p,RGBAColour:r});break;case"RGBColour":c=t(a,{HexColour:m,RGBColour:i,RGBAColour:q});break;case"RGBAColour":c=t(a,{HexColour:n,RGBColour:o,RGBAColour:i});break}c!=null||h(0,361,a);return c}function t(a,b){var d=s(a);switch(d){case"HexColour":return b.HexColour(c("nullthrows")(u(a)));case"RGBColour":return b.RGBColour(c("nullthrows")(v(a)));case"RGBAColour":return b.RGBAColour(c("nullthrows")(w(a)))}return null}function u(a){return Array.isArray(a)?null:a}function v(a){return Array.isArray(a)&&a.length===3?[a[0],a[1],a[2]]:null}function w(a){if(Array.isArray(a)&&a.length===4){a=a;return[a[0],a[1],a[2],a[3]]}return null}function b(a,b){var c=typeof b.scale==="number"?b.scale:1;if(b.cropType==="fit"){var d=a.width/a.height,e=b.originalWidth/b.originalHeight;if(d>e)return f(b.originalWidth/a.width);else if(d<e)return f(b.originalHeight/a.height)}return f(b.originalWidth/a.width,b.originalHeight/a.height);function f(a,b){b=b!=null?b:a;return{width:a*c,height:b*c}}}function e(a,b,c){b=I(b.transform.scale,b,c);return{width:a.width*b[0]/100,height:a.height*b[1]/100}}function f(a,b,c){return N(a.position,b,c)}function x(a,b,c){return N(a.anchorPoint,b,c)}function y(a,b,c){return G(a.rotation,b,c)*Math.PI/180}function z(a,b,c){return G(a.opacity,b,c)/100}function A(a,b,c){return I(a.scale,b,c)}function B(a,b,c){return Q(a.position,b,c)}function C(a,b,c){return Q(a.anchorPoint,b,c)}function D(a,b,c){return H(a.rotation,b,c,function(a){return a*Math.PI/180})}function E(a,b,c){return H(a.opacity,b,c,function(a){return a/100})}function F(a,b,c){return J(a.scale,b,c,d);function d(a){return{x:a[0]/100,y:a[1]/100}}}function G(a,b,e){a=d("BodymovinTypes.flow").switchValueProperty(a,{ValueProperty:function(a){return a.value},ValueKeyframedProperty:function(a){return d("ShowreelKeyframeUtils").interpolateValue(a,b,e.frameNumber)}});return c("nullthrows")(a)}function H(a,b,e,f){a=d("BodymovinTypes.flow").switchValueProperty(a,{ValueProperty:function(a){return f(a.value)},ValueKeyframedProperty:function(a){return K(b,e,function(c){return f(d("ShowreelKeyframeUtils").interpolateValue(a,b,c))})}});return c("nullthrows")(a)}function I(a,b,e){a=d("BodymovinTypes.flow").switchMultiDimensionalProperty(a,{MultiDimensionalProperty:function(a){return a.value},MultiDimensionalKeyframedProperty:function(a){return d("ShowreelKeyframeUtils").interpolateMultiDimensionalValue(a,b,e.frameNumber)}});return c("nullthrows")(a)}function J(a,b,e,f){a=d("BodymovinTypes.flow").switchMultiDimensionalProperty(a,{MultiDimensionalProperty:function(a){return f(a.value)},MultiDimensionalKeyframedProperty:function(a){return K(b,e,function(c){return f(d("ShowreelKeyframeUtils").interpolateMultiDimensionalValue(a,b,c))})}});return c("nullthrows")(a)}function K(a,b,c){var d=new Array(b.outPoint),e=Math.max(a.inPoint,b.inPoint);a=Math.min(a.outPoint,b.outPoint);for(var b=e;b<=a;b++)d[b]=c(b);return d}function L(b,c,d){var e=H(b.x,c,d,i),f=H(b.y,c,d,i);if(!Array.isArray(e)&&!Array.isArray(f))return{x:e,y:f};var a=function(a,b){return Array.isArray(a)?a[b]:a};return K(c,d,function(b){return{x:a(e,b),y:a(f,b)}})}function M(a,b,c){return[G(a.x,b,c),G(a.y,b,c)]}function N(a,b,e){a=d("BodymovinTypes.flow").switchProperty(a,{DimensionsSeparatedProperty:function(a){return M(a,b,e)},MultiDimensionalProperty:function(a){return I(a,b,e)},MultiDimensionalKeyframedProperty:function(a){return I(a,b,e)}});a=c("nullthrows")(a);var f=a[0];a=a[1];return{x:f,y:a}}function O(a,b,c,d,e){a=[a,b];b=P(a,c,d,e);return b.reduce(function(a,b){return a.concat(b)},[])}function P(a,b,c,d){var e=2*Math.PI/b,f=[];for(var g=0;g<b;g++)f.push([a[0]+c*Math.cos(g*e-d),a[1]+c*Math.sin(g*e-d)]);return f}function Q(a,b,e){a=d("BodymovinTypes.flow").switchProperty(a,{DimensionsSeparatedProperty:function(a){return L(a,b,e)},MultiDimensionalProperty:function(a){return J(a,b,e,f)},MultiDimensionalKeyframedProperty:function(a){return J(a,b,e,f)}});return c("nullthrows")(a);function f(a){return{x:a[0],y:a[1]}}}g.hexToDecimal=j;g.toRGBA=k;g.rgbaToColorAlpha=l;g.hexToRgb=m;g.getColourType=s;g.transformColourTo=a;g.getAssetScale=b;g.getScaledDimensions=e;g.getPosition=f;g.getAnchor=x;g.getRotation=y;g.getOpacity=z;g.getScale=A;g.getPositionTimeSeries=B;g.getAnchorTimeSeries=C;g.getRotationTimeSeries=D;g.getOpacityTimeSeries=E;g.getScaleTimeSeries=F;g.getValue=G;g.getValueTimeSeries=H;g.getMultiDimensionalValue=I;g.getMultiDimensionalValueTimeSeries=J;g.getTimeSeries=K;g.getCoordinates=N;g.getRotatedPolygon=O;g.getCoordinatesTimeSeries=Q},98);
__d("ShowreelLogger",[],function(a,b,c,d,e,f){"use strict";b=a("log");c=a("log");d=a("info");e=a("warn");a=a("error");function a(a){return function(){if(console)try{for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];console[a](c.join(", "))}catch(a){}}}f.debug=b;f.log=c;f.info=d;f.warn=e;f.error=a},66);
__d("ShowreelPIXIJSTyped",["pixi-js"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("pixi-js")},98);
__d("ShowreelAnimationUtils",["nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h=/@(.*)=(.*)/,i=/(.*)\[([0-9]+)\]/;function a(a,b,d){d=c("nullthrows")(d.assets.find(function(b){return b.id===a}));var e=d.id,f=d.originalWidth;d=d.originalHeight;return babelHelpers["extends"]({},b,{id:e,originalWidth:f,originalHeight:d})}function b(a,b){var c;j(a,b,function(a,b){c=a[b]});return c}function d(a,b,c){j(a,b,function(a,b){a[b]=c});return a}function j(a,b,c){b=b.split(".");var d=b.length,e=d-1,f=-1,g=a;while(g!=null&&++f<d){var j=b[f],k=b[f-1]||"root";if(h.test(j))(function(){p(g,j);var b=h.exec(j),a=b[1],d=b[2];b=g.find(function(b){return b[a]===d});if(!b)throw new Error('Could not find a child in "'+k+'" where "'+a+'" == "'+d+'"');f===e?c(g,g.indexOf(b)):g=b})();else if(i.test(j)){a=i.exec(j);var l=a[1];a=a[2];var m=g[l];o(m,l,j);p(m,l);var n=parseInt(a,10);if(isNaN(n))throw new Error('The array index "'+a+'" for array '+l+" was not a valid integer.");f===e?c(m,n):g=m[n]}else if(f===e)c(g,j);else{a=g[j];o(a,j,k);g=g[j]}}function o(b,c,a){if(!b)throw new Error('Could not find key "'+c+'" in "'+a+'"')}function p(a,b){if(!(a instanceof Array))throw new Error('The search term "'+b+'" can only be used with arrays.')}}g.getAssetForContent=a;g.get=b;g.set=d},98);
__d("ShowreelSpecificationModifiers",["invariant","ShowreelAnimationUtils"],function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c,e){var f=i(a,b);f=d("ShowreelAnimationUtils").get(f,c);f||h(0,4397,c,b);f.animated?f.value.forEach(function(a){var b=a.inValue;a=a.outValue;b&&a&&(b.x+=e.x,b.y+=e.y,a.x+=e.x,a.y+=e.y)}):(f.value.x+=e.x,f.value.y+=e.y);return a}function i(a,b){a=a.animation.layers;return a.find(function(a){return a.name===b})}function b(a,b,c){c===void 0;c=i(a,b);c||h(0,4398,b);b=a.animation.layers;b.splice(b.indexOf(c),1);return a}g.addToLayerCoordinates=a;g.getLayer=i;g.removeLayer=b},98);
__d("ShowreelTextUtils",["invariant","BodymovinTypes.flow","ShowreelFontUtils","ShowreelGraphicsUtils","ShowreelLogger","ShowreelPIXIJSTyped","ShowreelSpecificationModifiers","nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h=b("BodymovinTypes.flow").isSolidLayer,i=b("BodymovinTypes.flow").isTextLayer,j=b("ShowreelFontUtils").getNamespacedFontName,k=b("ShowreelGraphicsUtils").getScaledDimensions,l=b("ShowreelSpecificationModifiers").getLayer,m=["left","center","right"],n=500,o=String.fromCharCode(8230),p=b("ShowreelPIXIJSTyped").TextMetrics.tokenize,q=function(a){return r.standard(a).reduce(function(a,b){return a.concat(b.split(/(\/|-)/))},[])},r={smart:function(){if(!p){b("ShowreelLogger").warn("Cannot find base tokenizer, has the version of PIXI changed? Smart line breaking is unavailable");return p}return q}(),standard:p};function a(a){b("ShowreelPIXIJSTyped").TextMetrics.tokenize=r[a]}function s(a,b){var c=a.textData.document.keyframes;c=c.filter(function(a){return a.time>=b})[0];c||(c=a.textData.document.keyframes[0]);return c}function t(a,c,d,e,f){e===void 0&&(e=null);f===void 0&&(f=null);var i=a.layout||{},k=s(a,d),l=k.textProperties,n=l.size,o=l.lineHeight,p=l.boxTextPosition,q=l.boxTextSize,r=l.justificaiton,t=l.text;l=l.fontColor;a.layout&&a.layout.textVAlign&&(p||g(0,1045),q||g(0,1045));var v=i.maxWidth;v||(q!=null&&q[0]!=null?v=q[0]:v=c.width);k=j(k.textProperties.font,c.name);var w=i.textAlign||m[r-1],x=w,y=i.textVAlign||"top",z=i.characterLimit||Infinity,A=i.padding||0,B=i.overflow||"visible",C=i.textTransform,D=i.fontStyle||"normal",E=i.fontWeight||"normal";k={font:k,fontSize:n,text:t,fontColor:l,lineHeight:o,characterLimit:z,boxTextPosition:p,wordWrapWidth:v,boxTextSize:q,justificaiton:r,textAlignment:w,textBoxAlignment:x,textBoxVAlignment:y,padding:A,overflow:B,textTransform:C,fontStyle:D,fontWeight:E};i.fontSize==="auto"?(e=b("nullthrows")(e,"Must specify parent layer when fontSize=auto"),h(e)||g(0,1046),Object.assign(k,u(a,c,d,k,e,f))):typeof i.fontSize==="number"&&(k.fontSize=i.fontSize);return k}function u(a,c,d,e,f,g){g===void 0&&(g=null);var h=i();i=g?g.get(["auto-text-properties"],function(){return j()}):j();g=i.textProperties;i=i.boundingBox;if(!g)return null;g.scale={x:h.width/i.width,y:h.height/i.height};return g;function i(){var a=f.solidWidth,c=f.solidHeight;a=k({width:a,height:c},f,{frameNumber:d});c=b("nullthrows")(e.padding);a.width-=c;a.height-=c;return a}function j(){return{boundingBox:h,textProperties:A(b("nullthrows")(e.text),e,h,a,c)}}}function v(a,c){c===void 0&&(c={});a=babelHelpers["extends"]({},a,c);c=x(a);a=w(a.text,a.characterLimit,o);return new(b("ShowreelPIXIJSTyped").Text)(a,c)}function w(a,b,c){c===void 0&&(c=o);var d=a;(typeof b!=="number"||b<0)&&(b=Infinity);c||(c="");a.length>b&&(d=d.slice(0,b).trim()+c);return d}function c(a,b){switch(b){case"uppercase":return a.toLocaleUpperCase();case"lowercase":return a.toLocaleLowerCase();default:return a}}function x(a){var c=a.font?a.font+", facebook_emoji":null;return new(b("ShowreelPIXIJSTyped").TextStyle)({fontFamily:c,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,fill:y(b("nullthrows")(a.fontColor)),lineHeight:a.lineHeight,wordWrap:!0,breakWords:!0,align:a.textAlignment,wordWrapWidth:a.wordWrapWidth})}function d(a){return[[a.font,a.fontSize,a.lineHeight,a.text,a.textAlignment,a.wordWrapWidth,a.characterLimit,b("nullthrows")(a.fontColor).toString()].join("-")]}function y(a){var b="rgb";a.length==4&&(b="rgba");a=a.map(function(a,b){return b<3?Math.round(a*255):a});return b+"("+a.join()+")"}function f(a,b,c){typeof a==="string"&&(a={text:a});b=E(b,c);c=v(b,a);b=c.width;a=c.height;return{width:b,height:a}}function z(a,b,c,d){c=F(c,d);var e=t(c,d.animation,0);return A(a,e,b,c,d.animation)}function A(a,c,d,e,f){e=(f=e==null?void 0:e.layout)!=null?f:{};f=e.maxFontSize;e=e.minFontSize;var g=b("nullthrows")(c.lineHeight)/b("nullthrows")(c.fontSize);c.wordWrapWidth=d.width;e=e==null||e<0?0:e;f=f==null||f<0?n:f;var h,i;while(e<f)h=Math.floor((e+f+1)/2)||0,i=h*g,i=v(c,{text:a,fontSize:h,lineHeight:i}),B(i,d)?e=h:f=h-1;return{text:a,fontSize:e,wordWrapWidth:d.width,lineHeight:e*g}}function B(a,b){return a.width<=b.width&&a.height<=b.height}function C(a,c,d,e){a=z(a,c,d,e);D(b("nullthrows")(a,"Could not find best fontSize"),d,e)}function D(a,c,d){c=E(c,d);d=f(v(c,a));var e=new Image();e.onload=function(){var a="font-size: 1px; padding: "+Math.floor(e.height/2)+"px "+Math.floor(e.width/2)+"px;"};e.src=d;function f(a){var c=new(b("ShowreelPIXIJSTyped").CanvasRenderer)({width:a.width,height:a.height});c.render(a);return c.context.canvas.toDataURL()}}function E(a,b){return t(F(a,b),b.animation,0)}function F(a,c){c=b("nullthrows")(l(c,a),"Layer '"+a+"' does not exist");i(c)||g(0,1047,a);return c}e.exports={setTokenizer:a,getCacheKey:d,renderText:v,logText:D,truncateText:w,transformText:c,getStyle:x,logTextInBoundingBox:C,getTextProperties:t,getTextDimensions:f,getTextDataKeyframe:s,getBestTextPropertiesInBoundingBox:z,getTextColor:y,getNamespacedFontName:j,HORIZONTAL_ELLIPSIS:o}},null);
__d("VCKTemplateSelectorPluginType",["react"],function(a,b,c,d,e,f,g){"use strict";d("react");a=["entryPoint"];g.order=a},98);
__d("VCKTemplateSelectorPluginResolver",["VCKTemplateSelectorPluginType","VCKTemplateSelectorPlugins","adsPluginResolverFactory"],function(a,b,c,d,e,f,g){"use strict";a=c("adsPluginResolverFactory")(function(){return b("VCKTemplateSelectorPlugins").getArray()},d("VCKTemplateSelectorPluginType").order);e=a;g["default"]=e},98);
__d("StorifyTemplateUtils",[],function(a,b,c,d,e,f){"use strict";function a(a){return/^storify_/.test(a.id.toLowerCase())}f.isStorifyTemplate=a},66);
__d("VCKDefaultTemplateSelectorPlugin",["AdsVCCDataProvider","StorifyTemplateUtils","VCKAssetValidation","VCKExperimentUtils","VCKSingleImageEntryDataSelector","VCKSingleImageUtils","VCKTemplatePrefillContentBuilder"],function(a,b,c,d,e,f,g){"use strict";var h=c("VCKSingleImageEntryDataSelector").toFluxSelector(),i=c("AdsVCCDataProvider").toFluxStore();a={type:"video-creation-kit/template-selector",key:"defaultTemplateSelector",pivots:{},getSelectorType:function(){return d("VCKExperimentUtils").isAssetFirstFlowEnabled()?"inline_preview":"default"},shouldShowTemplate:function(a){return!d("StorifyTemplateUtils").isStorifyTemplate(a)},customizeUIForVCKInlinePreview:function(){return!1},shouldPrefillData:function(){var a=i.getState();a=a.entryPoint;return d("VCKSingleImageUtils").isSingleImageEntry(a)},getPrefillData:function(){return h()},getStores:function(){return h.getStores()},getPrefilledTemplate:function(a,b,e,f){return d("VCKTemplatePrefillContentBuilder").updateTemplate(a,b,e,f,c("VCKAssetValidation"))},shouldShowOnboardMessage:function(){return!0}};b=a;g["default"]=b},98);
__d("StorifyAssetValidation",["isTruthy"],function(a,b,c,d,e,f,g){"use strict";var h={isValidImageAsset:function(a){return c("isTruthy")(a)&&a.image_url!=null&&a.image_url!==""},isValidTextAsset:function(a){return i(a)&&a.text_input!=null},isValidColorAsset:function(a){return i(a)&&c("isTruthy")(a.hex_color)&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(String(a.hex_color))},isValidAsset:function(a){return h.isValidImageAsset(a)||h.isValidTextAsset(a)||h.isValidColorAsset(a)},isValidVariableValue:function(a){return a!=null}};function i(a){return typeof a==="object"&&a!==null}a=h;g["default"]=a},98);
__d("StorifyTextUtils",["isFalsey"],function(a,b,c,d,e,f,g){"use strict";var h={headline:["text_headline","headline"],caption:["text_body","body"]};function a(a,b){var c=h[b];b=a.find(function(a){return c.some(function(b){return a.showreel_layer_names.includes(b)})});return b}function b(a){return a.replace(/\s{2,}/g," ").replace(/\r?\n|\r/g," ")}function d(a){return c("isFalsey")(a)}function i(a){return a.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2694-\u2697]|\uD83E[\uDD10-\uDD5D])/g,"")}function e(a){a=a;return{text_input:i(a.text_input)}}g.findTextComponentFor=a;g.getSanitizedText=b;g.isEmptyString=d;g.cleanEmoji=i;g.cleanEmojiForTextAsset=e},98);
__d("adsStorifyDefaultTemplateSelector",["VCCTemplateID","adsCreateSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([],function(){return c("VCCTemplateID").STORIFY_PORTAL_DUMMY},{name:f.id+".adsStorifyDefaultTemplateSelector"});b=a;g["default"]=b},98);
__d("VCKStorifyTemplateSelectorPlugin",["cx","StorifyAdCreativeDataSelector","StorifyTemplatePrefillContentBuilder","StorifyTemplateUtils","adsStorifyDefaultTemplateSelector","react"],function(a,b,c,d,e,f,g,h){"use strict";d("react");var i=c("StorifyAdCreativeDataSelector").toFluxSelector(),j=647,k=132;a={type:"video-creation-kit/template-selector",key:"storifyTemplateSelector",pivots:{entryPoint:"storify_alpha"},getDefaultAspectRatio:function(){return"9:16"},getSelectorType:function(){return"inline_preview"},isContentSchemaSame:function(a,b){return d("StorifyTemplateUtils").isStorifyTemplate(a)&&d("StorifyTemplateUtils").isStorifyTemplate(b)?!0:a.id===b.id},shouldShowTemplate:d("StorifyTemplateUtils").isStorifyTemplate,shouldShowInlinePreviewTemplateTitle:function(){return!1},shouldPlayOnMouseHover:function(){return!1},shouldPrefillData:function(){return!0},useNewNavigation:function(){return!1},customizeUIForVCKInlinePreview:function(){return!1},getPrefillData:function(){return i()},getStores:function(){return i.getStores()},getPrefilledTemplate:function(a,b,c,e){return d("StorifyTemplatePrefillContentBuilder").updateTemplate(a,b,c,e)},getHeader:function(){return null},getScrollViewHeight:function(){return j},shouldUseFontScaling:function(){return!0},shouldUseNativeScroll:function(){return!0},shouldShowBorder:function(){return!1},getTemplateSelectorClassName:function(){return"_7zr1 _82lz"},getPreviewWidth:function(){return k},getDefaultTemplateSelector:function(){return c("adsStorifyDefaultTemplateSelector")()}};b=a;g["default"]=b},98);
__d("StorifyTemplatePrefillContentBuilder",["AdsUEditorStorifyUtil","StorifyAssetValidation","VCKTemplatePrefillContentBuilder","vccUpdateVariableUpdateTemplateVariable"],function(a,b,c,d,e,f,g){"use strict";var h={headline:b,text:b,image:e};function a(a,b,e,f){a=d("VCKTemplatePrefillContentBuilder").updateTemplate(a,b,e,f,c("StorifyAssetValidation"));var g=d("VCKTemplatePrefillContentBuilder").getComponentsByID(a);b instanceof Object&&(a=Object.entries(b).reduce(function(a,b){var c=b[0];b=b[1];var d=e[c];d=d!=null?g[d].component:null;c=h[c];return c&&d!=null?c(b,a,d):a},f));return a}function b(a,b,c){if(a!=null&&a.text_input===""){a=c.variables.text_input;delete b.content[a.id];a.value=""}return b}function e(a,b,e){if(a==null||a.image_width==null||a.image_height==null)return b;var f=a.image_width;a=a.image_height;var g=e.variables.background_image_crop_window;return d("AdsUEditorStorifyUtil").componentUsesFitCropType(e,b)?c("vccUpdateVariableUpdateTemplateVariable")(b,{},{component:e,variableID:g.id,variableType:"background_image_crop_window",variableValue:JSON.stringify({x:0,y:0,width:f,height:a}),templateID:b.id,selectedSectionIndex:0}):b}g.updateTemplate=a},98);
__d("buildAdsAnimatorTemplate",["ShowreelAnimationUtils"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b){if(b&&"logo_background_solid_color"in b){var c=(a.contentMap||[]).find(function(a){a=a.id;return a==="logo_background_solid_color"}),e=b.logo_background_solid_color;typeof e==="string"&&(e.charAt(0)!=="#"&&(e="#"+e.slice(2)));c&&(c.paths||[]).forEach(function(b){return d("ShowreelAnimationUtils").set(a,b,e)})}return a};b=a;g["default"]=b},98);
__d("buildStorifyMusicGirlTemplate",["ShowreelSpecificationModifiers","VCKContentUtils","buildVCKProductShowcaseTemplate"],function(a,b,c,d,e,f,g){"use strict";var h="section_1_text_2_text",i="section_1_text_3_text";a=function(a,b){a=c("buildVCKProductShowcaseTemplate")(a,b);if(!b)return a;var e=d("VCKContentUtils").getDisabledLayers(b),f=j(b[h])||e.indexOf("headline")!==-1;b=j(b[i])||e.indexOf("body")!==-1;(f||b)&&(a=d("ShowreelSpecificationModifiers").removeLayer(a,"shape_underline"));return a};function j(a){return typeof a==="string"&&a.trim().length===0}b=a;g["default"]=b},98);
__d("ShowreelBespokeSpecificationBuilders",["buildAdsAnimatorTemplate","buildStorifyMusicGirlTemplate","buildVCEOverlayTemplate","buildVCKFlexibleTemplate","buildVCKProductShowcaseTemplate"],function(a,b,c,d,e,f){"use strict";d={ads_animator:b("buildAdsAnimatorTemplate"),ads_animator_mvp_storyline:b("buildAdsAnimatorTemplate"),slideshow_example:a=b("buildVCKProductShowcaseTemplate"),vcc_product_showcase:a,vcc_single_product_6_s_1_x_1:a,vcc_single_product_6_s_9_x_16:a,vcc_template_2_brand_15_s_1_x_1:a,vcc_template_3_product_15_s_b_1_x_1:a,vcc_brand_15_s_1_x_1:a,vcc_brand_15_s_9_x_16:a,vcc_multiproduct_6_s_1_x_1:a,vcc_multiproduct_6_s_9_x_16:a,vcc_product_15_s_1_x_1:a,vcc_product_15_s_9_x_16:a,vck_holiday_benefits_15_s_1_x_1:a,vck_holiday_benefits_15_s_9_x_16:a,vck_holiday_multimessage_15_s_1_x_1:a,vck_holiday_multimsg_15_s_9_x_16:a,vck_holiday_product_6_s_1_x_1:a,vck_holiday_product_6_s_9_x_16:a,vck_holiday_splitscreen_15_s_1_x_1:a,vck_holiday_split_15_s_9_x_16:a,vck_single_image_6_s_1_x_1:a,vck_single_image_6_s_9_x_16:a,vck_blurry_bg_6_s_1_x_1:a,vck_blurry_bg_6_s_9_x_16:a,vck_neko_10_s_1_x_1:a,vck_ads_animator_1_x_1:a,vck_ads_animator_9_x_16:a,vck_ads_animator_kt_1_x_1:a,vck_aa_showreel_multiphoto_1_x_1:a,vck_aa_showreel_multiphoto_9_x_16:a,vck_single_image_sunglasses_1_x_1:a,vck_single_image_lucky_shrub_1_x_1:a,vck_paranoid_1_x_1:a,vck_music_girl_1_x_1:a,vck_zima_1_x_1:a,vck_gift_card_1_x_1:a,vck_touchless_delivery_1_x_1:a,vck_fathers_day_1_x_1:a,vck_dummy_video:a,vck_slideshow_10_scenes_1_x_1:c=b("buildVCKFlexibleTemplate"),vck_slideshow_10_scenes_9_x_16:c,vck_single_product_10_scenes_1_x_1:c,vck_single_product_10_scenes_9_x_16:c,vck_product_10_scenes_1_x_1:c,vcc_product_10_scenes_9_x_16:c,vck_holiday_product_10_scenes_1_x_1:c,vck_holiday_product_10_scenes_9_x_16:c,vck_holiday_benefits_10_scenes_1_x_1:c,vck_holiday_benefits_10_scenes_9_x_16:c,vcc_swipe_up_and_left_10_scenes_1_x_1:c,vcc_swipe_up_and_left_10_scenes_9_x_16:c,vck_slide_left_10_scenes_1_x_1:c,storify_portal_dummy:a,storify_toto:a,storify_holiday:a,storify_musicgirl:b("buildStorifyMusicGirlTemplate"),storify_one:a,storify_paranoid:a,storify_reptilia:a,storify_thriller:a,storify_uprising:a,storify_kashmir:a,storify_alive:a,storify_vogue:a,storify_waterfalls:a,storify_paparazzi:a,storify_footloose:a,vce_video_only:b("buildVCEOverlayTemplate")};e=d;f["default"]=e},66);
__d("ShowreelTypeValidators",["nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h=function(a){return{}.toString.call(a).slice(8,-1)};a=function(a){return{validate:function(b){return h(b)===a},getReason:function(b){return{message:"Expected %s to be a %s, but got %s",params:[b,a,h(b)]}}}};b=function(a){return{validate:function(b){return typeof b==="number"&&b>a},getReason:function(b){return{message:"Expected %s to be greater than %s",params:[b,a]}}}};d=function(a){return{validate:function(b){return Array.isArray(b)&&b.length===a},getReason:function(b){return{message:"Expected %s to have length of %s, but got %s",params:[JSON.stringify(b),a,Array.isArray(b)?b.length:"non-array"]}}}};e=function(a){return{validate:function(b){return typeof b==="string"&&a.test(b)},getReason:function(b){return{message:"Expected %s to match RegExp %s",params:[b,a]}}}};f=function(a){var b=a.from,c=a.to;return{validate:function(a){return typeof a==="number"&&a>=b&&a<=c},getReason:function(a){return{message:"Expected %s to be in the range [%s, %s]",params:[a,b,c]}}}};var i=function(a){return{validate:function(b){return Array.isArray(b)&&b.every(function(b){return a.validate(b)})},getReason:function(b){var c=Array.isArray(b)&&b.find(function(b){return!a.validate(b)}),d=a.getReason(c);return{message:'Check on %s value failed at "%s": '+d.message,params:[JSON.stringify(b),c].concat(d.params)}}}},j={validate:function(a){return Array.isArray(a)},getReason:function(a){return{message:"Expected %s to be an Array",params:[a]}}},k=function(a){return{validate:function(b){return a.includes(b)},getReason:function(b){return{message:"Expected %s to be one of %s",params:[b,JSON.stringify(a)]}}}},l=/^#[0-9a-fA-F]{6}$/,m=function(a){return{validate:function(b){return a.every(function(a){a=a.validate;return a(b)})},getReason:function(b){var d=a.find(function(a){a=a.validate;return!a(b)});return c("nullthrows")(d).getReason(b)}}};j={Number:a("Number"),String:a("String"),Array:j,Asset:a("String"),RGBAColour:m([j,d(4),i(f({from:0,to:1}))]),RGBColour:m([j,d(3),i(f({from:0,to:1}))]),HexColour:m([a("String"),e(l)]),Opacity:m([a("Number"),f({from:0,to:100})]),FontSize:m([a("Number"),b(0)]),CropType:m([a("String"),k(["center","fit"])]),Object:a("Object"),Boolean:a("Boolean"),KineticStyle:m([a("String"),k(["wordByWord","letterByLetter","lineByLine","outline","lineZoom","lineSlide"])])};g["default"]=j},98);
__d("ShowreelContentValidation",["ShowreelTypeValidators"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=[],e=[];a.forEach(function(a){var f=a.id,g=a.type,h=a.defaultValue,i=!(f in b),j=!("defaultValue"in a),k=g!=null&&!c("ShowreelTypeValidators")[g];if(g==null)return;if(i&&j){d.push({message:'Content is missing "%s" which has no default value. Will use value specified in animation',params:[a.id]});return}if(k){e.push({message:'Validation failed: Unknown type "%s"',params:[a.type]});return}j=i?h:b[f];k=c("ShowreelTypeValidators")[g];a=k.validate;i=k.getReason;if(!a(j)){h=i(j);k=h.message;a=h.params;e.push({message:"Validation failed: %s is not a valid %s: "+k,params:[f,g].concat(a)})}});return{failures:e,warnings:d}}g.validateContent=a},98);
__d("ShowreelPatchUtils",["invariant","ShowreelGraphicsUtils"],function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){b=(b=b==null?void 0:b._patches)!=null?b:[];(b==null||!Array.isArray(b))&&(b=[]);b.forEach(function(b,c){switch(b.type){case"ImagePatch":i(b,a);break;case"AudioPatch":p(b,a,c);break;case"FillEffectPatch":l(b,a);break}})}function i(a,b){var c,d=a.url,e=a.width,f=a.height,g=a.position,h=a.name,i=b.animation,l=i.assets.length,m="image_"+l;c=(c=b.styles)!=null?c:[];i.assets.push(j(l,d,e,f));i.layers.unshift(k(h,m,e,f));b.styles=c.concat(n(h,{draggable:(l=a.interactive)!=null?l:!1,flex:{positionType:"absolute",position:[(g==null?void 0:g.y)||0,(g==null?void 0:g.x)||0,0,0]}}));o(h,b);return h}function j(a,b,c,d){return{url:b,width:c,height:d,_type:"ImageSource",id:"image_"+a,path:"images/",name:"img_"+a+".png",originalWidth:c,originalHeight:d}}function k(a,b,c,d){c=c/2;d=d/2;return{ddd:!1,index:1,name:a,referenceId:b,stretch:1,transform:{opacity:{animated:0,value:100,propertyIndex:11,_type:"ValueProperty"},rotation:{animated:0,value:0,propertyIndex:10,_type:"ValueProperty"},position:{animated:0,value:[0,0,0],propertyIndex:2,_type:"MultiDimensionalProperty"},anchorPoint:{animated:0,value:[c,d,0],propertyIndex:1,_type:"MultiDimensionalProperty"},scale:{animated:0,value:[100,100,100],propertyIndex:6,_type:"MultiDimensionalProperty"},_type:"TransformHelper"},effects:[],parent:0,autoOrient:!1,inPoint:0,outPoint:900,startTime:0,"class":"",type:2,layerHtmlId:"",hasMasks:0,blendMode:"normal",_type:"ImageLayer"}}function l(a,b){var c=a.colour,d=a.layerName;a=m(c);c=b.animation.layers.find(function(a){return a.name===d});c!=null||h(0,18291,d);Array.isArray(c.effects)||h(0,18292,c.name,typeof c.effects);c.effects.push(a)}function m(a){a=d("ShowreelGraphicsUtils").hexToRgb(a);return{name:"Fill",np:9,matchName:"ADBE Fill",effectIndex:1,en:1,effects:[{name:"Color",matchName:"ADBE Fill-0002",effectIndex:0,value:{animated:0,value:[].concat(a,[1]),propertyIndex:3,_type:"MultiDimensionalProperty"},type:2,_type:"PointEffect"}],type:21,_type:"FillEffect"}}function n(a,b){return babelHelpers["extends"]({id:a},b)}function o(a,b){var c,d=function(a){a=a.id;return a==="$animation"};c=(c=b.styles)!=null?c:[];d=c.find(d);if(!d){c.push({id:"$animation",flex:{children:[a]}});return}b.styles=c;d.flex=d.flex||{};d.flex.children=d.flex.children||[];d.flex.children.push(a)}function p(a,b,c){var d=a.url,e=a.duration;a=babelHelpers["extends"]({start:0,volume:1},a.effect);b=b.animation;var f=b.assets.length;b.assets.forEach(function(b,a){b._type==="AudioSource"&&b.url===d&&(f=a)});var g="audio_"+f;c="$audio_"+g+"_"+c;f===b.assets.length&&b.assets.push(q(f,d,e));b.audioTracks===void 0&&(b.audioTracks=[]);b.audioTracks.push(r(c,g,a));return c}function q(a,b,c){return{url:b,_type:"AudioSource",id:"audio_"+a,name:"audio_"+a,duration:c}}function r(a,b,c){return babelHelpers["extends"]({name:a,referenceId:b,type:6,_type:"AudioLayer"},c)}g.applyPatches=a},98);
__d("ShowreelSpecificationBuilder",["invariant","ShowreelAnimationUtils","ShowreelBespokeSpecificationBuilders","ShowreelContentValidation","ShowreelGraphicsUtils","ShowreelLogger","ShowreelPatchUtils"],function(a,b,c,d,e,f,g,h){"use strict";var i=["padding","width","height","maxWidth","align","fontSize","textAlign","vAlign","textVAlign","characterLimit","lineBreakStrategy","overflow","background","flex","textTransform","fontStyle","fontWeight","underline","maxFontSize","minFontSize"];a=function(){function a(a){this.$1=a}var b=a.prototype;b.build=function(a){a===void 0&&(a=null);try{var b=n(this.$1),e=d("ShowreelContentValidation").validateContent(b.contentMap||[],a||{}),f=e.warnings;e=e.failures;f.forEach(function(a){var b=a.message;a=a.params;d("ShowreelLogger").warn.apply(d("ShowreelLogger"),[b].concat(a))});e.length>0&&e.forEach(function(a){var b=a.message;a=a.params;d("ShowreelLogger").warn.apply(d("ShowreelLogger"),[b].concat(a))});d("ShowreelPatchUtils").applyPatches(b,a||{});l(b,a||{});f=c("ShowreelBespokeSpecificationBuilders")[b.id];typeof f==="function"&&(b=f(b,a));(b.styles||[]).forEach(function(a){j(b.animation,a)});b.animation.name=b.id;return b.animation}catch(b){d("ShowreelLogger").error("Failed to build specification",a,b);throw b}};return a}();function j(a,b,c){c===void 0&&(c=null);var d=b.id==="$animation"?a:a.layers.find(function(a){return a.name===b.id});if(!d)return;var e=b.child,f={_type:"LayoutHelper"};i.forEach(function(a){a in b&&(f[a]=b[a])});c&&(f.parent=c.id);e&&(f.child=e.id);d.layout=f;e&&j(a,e,b)}var k=/^animation.assets\.\@id=([^.]+)$/;function l(a,b){var c=a.contentMap||[];c.forEach(function(c){c.paths.forEach(function(e){var f=k.exec(e),g;if(Object.prototype.hasOwnProperty.call(b,c.id))g=b[c.id];else if(Object.prototype.hasOwnProperty.call(c,"defaultValue"))g=c.defaultValue;else return;f&&(g=d("ShowreelAnimationUtils").getAssetForContent(f[1],g,a.animation));c.type==="Number"&&typeof g==="string"&&(g=parseFloat(g));(c.type==="HexColour"||c.type==="RGBColour"||c.type==="RGBAColour")&&(g=m(a,g,e));d("ShowreelAnimationUtils").set(a,e,g)})})}function m(a,b,c){a=d("ShowreelAnimationUtils").get(a,c);var e=d("ShowreelGraphicsUtils").getColourType(a);e!=null||h(0,2572,a,c);return d("ShowreelGraphicsUtils").transformColourTo(b,e)}function n(a){return JSON.parse(JSON.stringify(a))}g["default"]=a},98);
__d("AdsUEditorStorifyUtil",["fbt","AdsVCCShowDialogDataAction","ShowreelSpecificationBuilder","StorifyEligibilityUtils","StorifyInitialTemplateDataLoadedAction","StorifyPortalTemplate","VCCSelectTemplateDataAction","VCCSelectedTemplateDataProviderPlugin","VCKDialogUtils","recoverableViolation"],function(a,b,c,d,e,f,g,h){"use strict";var i=/^animation\.assets\.\@id\=(.+)\./;function a(a,b){var d=b.specification;b=b.content;var e=null;try{e=new(c("ShowreelSpecificationBuilder"))(d).build(b)}catch(a){c("recoverableViolation")("Could not check image crop type","storify",a);return!1}b=d.contentMap;var f=(d=a.variables.background_url)==null?void 0:d.id;if(b==null)return!1;a=b.find(function(a){a=a.id;return a===f});if(a==null)return!1;d=a.paths.find(function(a){return i.test(a)});if(d==null)return!1;a=(b=d.match(i))!=null?b:[];var g=a[1];if(g==null)return!1;d=e.assets.find(function(a){a=a.id;return a===g});return d!=null&&d.cropType!=null&&d.cropType==="fit"}function j(a,b){return b===0?a:j(b,a%b)}function b(a){var b="{}";if(!a)return b;try{var c;c=Object.keys((c=a)!=null?c:{})[0];if(c&&a[c]){var d=a[c][0][0],e=a[c][0][1],f=Math.abs(a[c][1][0]-a[c][0][0]);a=Math.abs(a[c][1][1]-a[c][0][1]);return JSON.stringify({x:d,y:e,width:f,height:a})}}catch(a){return b}return b}function e(a){a=JSON.parse(a);var b=a.x;b=b===void 0?0:b;var c=a.y;c=c===void 0?0:c;var d=a.width;d=d===void 0?100:d;a=a.height;a=a===void 0?100:a;return[[b,c],[b+d,c+a]]}function f(a,b){if(a<0&&b<0)return!1;var c=j(a,b);if(c===0)return!1;a=a/c;b=b/c;return a===9&&b===16}h=h._("No se puede editar mientras se est\u00e1n procesando otros anuncios de Historias");var k="Preview Not Available",l="instagram_story_inline_preview_source";function m(a,b){c("AdsVCCShowDialogDataAction").dispatch({clientID:"storify_entry",entryPoint:"storify_alpha",targetID:a,isDialogShown:!0,accountCapabilities:b},{line:"156",module:"AdsUEditorStorifyUtil.js"}),c("VCCSelectTemplateDataAction").dispatch({selectedTemplate:c("StorifyPortalTemplate"),index:0},{line:"163",module:"AdsUEditorStorifyUtil.js"})}function n(a,b){if(a==null)return;a=a.account_id;if(!d("StorifyEligibilityUtils").isStorifyBetaEligible(b))return;d("VCKDialogUtils").resetDialog({clientID:"storify_entry",entryPoint:"storify_alpha",targetID:a});c("VCCSelectTemplateDataAction").dispatch({selectedTemplate:c("VCCSelectedTemplateDataProviderPlugin").initialState.selectedTemplate,index:0},{line:"185",module:"AdsUEditorStorifyUtil.js"});c("StorifyInitialTemplateDataLoadedAction").dispatch({templatesHasInitialDataLoaded:!1},{line:"193",module:"AdsUEditorStorifyUtil.js"})}function o(a){return(a==null?void 0:a.requestState)==="Uploading"}function p(a,b){return b!=null?b.assetLabel===a&&o(b):!1}function q(a,b){return o(b)&&d("StorifyEligibilityUtils").isStorifyEligibleInPlacementEditor(a)}g.componentUsesFitCropType=a;g.mapUEditorCropToStorifyCrop=b;g.mapStorifyCropToUEditorCrop=e;g.isAspectRatioProperForInstagramPlacement=f;g.DISABLE_EDIT_STORIFY_PLACEMENT_MESSAGE=h;g.INSTAGRAM_STORY_INLINE_PREVIEW_ERROR_MESSAGE=k;g.INSTAGRAM_STORY_INLINE_PREVIEW_SOURCE=l;g.initStorify=m;g.maybeResetStorify=n;g.isStorifyUploadingVideo=o;g.shouldShowStorifyLoadingUI=p;g.shouldDisableEditingStorifyPlacement=q},98);
__d("VCCUpdateValidationStatusReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{validationStatus:b.validationStatus})}};b=a;f["default"]=b},66);
__d("adsUEditorStorifyIsTemplateSelectedSelector",["AdsCreativeEditorProvider","AdsUEditorStorifyTemplateUtils","AdsUEditorTemplatePickerToolWrapperSelectors","VCCSelectedTemplateSelector","adsCreateSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("VCCSelectedTemplateSelector").toFluxSelector();b=c("adsCreateSelector")([c("AdsCreativeEditorProvider").toFluxSelector(),a,d("AdsUEditorTemplatePickerToolWrapperSelectors").adsUEditorTemplatePickerToolContainerSelector],function(a,b,c){b=b.selectedTemplateID;c=c.templates;return a.format==="video"?!1:d("AdsUEditorStorifyTemplateUtils").isStorifyTemplateExcludingPortal(b,c)},{name:f.id+".adsUEditorStorifyIsTemplateSelectedSelector"});e=b;g["default"]=e},98);
__d("AdsUEditorStorifyEligibleSelector",["AdsAPIAdgroupRecordUtils","AdsBulkValueUtils","AdsCreativeEditorProvider","AdsODAXUtils","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignSelectors","ApiDynamicCreativeOptimizationTypes","StorifyEligibilityUtils","adsCreateSelector","adsCreateStoreSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAdgroupOptimizationTypeSelector","adsUEditorCanUseTemplateUnificationSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("AdsCreativeEditorProvider").toFluxSelector()],function(a){a=a.assetGroups;return a},{name:f.id+".adsUEditorAssetGroupsSelector"});b=c("adsCreateSelector")([a],function(a){return a.length!==1?!1:d("StorifyEligibilityUtils").isStorifyEligibleInPlacementEditor(a[0])},{name:f.id+".adsUEditorIsStorifyPlacementSelector"});e=c("adsCreateStoreSelector")([],function(a){a=a.assetContext;return a==null?void 0:a.assetKey},{name:f.id+".adsUEditorAssetKeySelector"});a=c("adsCreateSelector")([e,c("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,b){return b.every(function(b){b=b.adgroup;b=(b=b.creative)==null?void 0:(b=b.asset_feed_spec)==null?void 0:b.asset_customization_rules;if(b==null)return!0;b=d("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(b);if(b==null)return!0;b=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable(b,"image_label");return b==null||b!==a})},{name:f.id+".adsUEditorIsNotEditingBaseImageAssetSelector"});e=c("adsCreateSelector")([d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,c("adsUEditorAdgroupOptimizationTypeSelector"),d("AdsUEditorCampaignSelectors").eligibilityInformation,b,a,d("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(d("AdsAPIAdgroupRecordUtils").isExistingPostAd),c("adsUEditorCanUseTemplateUnificationSelector")],function(a,b,e,f,g,h,i){if(i)return!1;if(!a||d("AdsBulkValueUtils").getUniformValue(h,!0))return!1;i=c("ApiDynamicCreativeOptimizationTypes").PLACEMENT===b;a=d("AdsODAXUtils").maybeTranslateObjective(e.objective,e.promotedObjectType,e.optimizationGoal);h=d("StorifyEligibilityUtils").isStorifyObjective(a);return i&&f&&h&&g},{name:f.id+".adsUEditorStorifyEligibleSelector"});b=e;g.adsUEditorStorifyEligibleSelector=e;g.adsUEditorStorifyAvailableSelector=b},98);
__d("adsUEditorStorifyTemplatePrefillMapsSelector",["AdsVCCDataProvider","VCKTemplatePrefillMapsDataProvider","VCKTemplatePrefillMapsParams","adsCreateSelector","adsCreateStoreThunkSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("AdsVCCDataProvider").toFluxSelector();var h=c("VCKTemplatePrefillMapsDataProvider").toFluxStore();b=c("adsCreateStoreThunkSelector")(h,function(a,b){return a!=null?h.getState().get(new(c("VCKTemplatePrefillMapsParams"))({targetID:a,clientID:b})):null});d=c("adsCreateSelector")([a,b],function(a,b){var c=a.targetID;a=a.clientID;return b(c,a)},{name:f.id+".templatePrefillMapLoadObjectSelector"});e=c("adsCreateSelector")([d],function(a){return a!=null&&a.hasValue()?a.getValue():null},{name:f.id+".adsUEditorStorifyTemplatePrefillMapsSelector"});a=e;g["default"]=a},98);
__d("AdsUEditorStorifyTemplateUtils",["AdsUEditorStorifyEligibleSelector","StorifyAdCreativeDataProvider","StorifyTemplateUtils","StorifyUpdatePrefillTemplateDataAction","VCCBackgroundImagesDataProvider","adsCreateSelector","adsUEditorStorifyIsTemplateSelectedSelector","adsUEditorStorifyTemplatePrefillMapsSelector"],function(a,b,c,d,e,f,g){"use strict";var h=c("StorifyAdCreativeDataProvider").toFluxSelector(),i=c("VCCBackgroundImagesDataProvider").toFluxSelector(),j=0;function a(a,b,e){return c("adsCreateSelector")([c("adsUEditorStorifyIsTemplateSelectedSelector"),d("AdsUEditorStorifyEligibleSelector").adsUEditorStorifyAvailableSelector],function(a,b){return a&&b},{name:f.id})}function k(a,b){return a.sections[j].components.find(function(a){return a.id===b})}function b(a,b){return a.sections[j].components.find(function(a){return Object.entries(b).every(function(b){var c=b[0];b=b[1];return a[c]===b})})}function l(a,b){var d=c("adsUEditorStorifyTemplatePrefillMapsSelector")();d=d==null?void 0:d[a.id];return d==null?void 0:d[b]}function m(a,b){return b!=null?b.some(function(b){return b.id===a&&d("StorifyTemplateUtils").isStorifyTemplate(b)&&b.id!=="storify_portal_dummy"}):!1}function n(a,b){b=l(a,b);return b!=null?k(a,b):null}function e(a,b){var d=a.content;if(!m(a.id,b))return;a=(b={},b.image=o(n(a,"image"),d),b.text=p(n(a,"text"),d),b.headline=p(n(a,"headline"),d),b);return c("StorifyUpdatePrefillTemplateDataAction").dispatch({user_input:a},{line:"149",module:"AdsUEditorStorifyTemplateUtils.js"})}function o(a,b){var c=h();c=c.user_input.image;c=c;if(a==null)return{image_url:"",image_width:0,image_height:0};var d=i();d=d.dimensionMap;d=(d=d.get(a.id))!=null?d:{width:c.image_width,height:c.image_height};c=d.width;c=c===void 0?0:c;d=d.height;d=d===void 0?0:d;b=b[a.variables.background_url.id];return{image_url:String((a=b)!=null?a:""),image_width:c,image_height:d}}function p(a,b){return a==null?{text_input:""}:{text_input:String((b=b[a.variables.text_input.id])!=null?b:"")}}g.STORIFY_DEFAULT_SECTION_INDEX=j;g.isTemplateToolAvailable=a;g.findComponentByID=k;g.findComponent=b;g.findComponentIDByPrefillKey=l;g.isStorifyTemplateExcludingPortal=m;g.findComponentByPrefillKey=n;g.updatePrefillDataWithSelectedTemplateContent=e},98);
__d("AdsHeadlineAssetToolPlugin",["fbt","ix","AdsAPIObjectives","AdsAdAssetSelectorTypes","AdsBulkValueUtils","AdsCanvasAdUtils","AdsCreativeEditorProvider","AdsCreativeEditorTemplateMutateGlobalAction","AdsCreativeToolHeadlineContainer.react","AdsCreativeToolHeadlineEntryComponent.react","AdsInstagramApplicabilityUtils","AdsPlacementAssetUtils","AdsPlacementEditorEvents","AdsPlacementEditorLogger","AdsUEditorAdgroupPACEditCarouselCardDetailAction","ApiDynamicCreativeOptimizationTypes","adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAdgroupIsHeadlineOptionalSelector","adsUEditorAdgroupLinkToggleSelector","adsUEditorAdgroupOptimizationTypeSelector","adsUEditorStorifyIsTemplateSelectedSelector","first","immutable","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").List();b=(a={},a.INSTAGRAM_STREAM=!1,a.INSTAGRAM_STORY=!1,a.FACEBOOK_FEED=!0,a.FACEBOOK_STORY=!1,a.FACEBOOK_REELS_OVERLAY=!1,a.FACEBOOK_BIZ_DISCO_FEED=!0,a.AUDIENCE_NETWORK_CLASSIC=!0,a.AUDIENCE_NETWORK_INSTREAM_VIDEO=!1,a.AUDIENCE_NETWORK_REWARDED_VIDEO=!1,a.FACEBOOK_INSTREAM=!0,a.FACEBOOK_MARKETPLACE=!0,a.FACEBOOK_SEARCH=!0,a.FACEBOOK_RHC=!0,a.FACEBOOK_INSTANT_ARTICLE=!0,a.MESSENGER_STORY=!1,a.MESSENGER_INBOX=!0,a.SUGGESTED_VIDEO=!0,a.WHATSAPP_STATUS=!0,a);var k=(e={},e[d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]=b,e[d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]=b,e[d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel]=babelHelpers["extends"]({},b,(a={},a.INSTAGRAM_STREAM=!0,a.INSTAGRAM_STORY=!0,a.INSTAGRAM_EXPLORE=!0,a.INSTAGRAM_REELS=!0,a)),e[d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template]=null,e[d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.post]=null,e[d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.empty]=null,e),l=new Set([c("AdsAPIObjectives").STORE_VISITS]);function m(a,b,e){if(a.objective===c("AdsAPIObjectives").POST_ENGAGEMENT){e=d("AdsCanvasAdUtils").isCanvasDestinationEnabled(e);b=c("AdsInstagramApplicabilityUtils").hasInstagramPlacementOnly(b);if(!e||b)return!1}return!l.has(a.objective)}b={type:"creative/tools",key:"headline_asset",category:"TEXT",isFullScreen:!1,entryComponent:c("AdsCreativeToolHeadlineEntryComponent.react"),advancedSettingsComponent:c("AdsCreativeToolHeadlineContainer.react"),name:h._("T\u00edtulo"),getIcons:function(){return{active:i("820133"),normal:i("820134")}},isEnabled:function(a){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a,b,e){return c("adsCreateSelector")([c("AdsCreativeEditorProvider").toFluxSelector(),c("adsUEditorAdgroupOptimizationTypeSelector"),c("adsUEditorStorifyIsTemplateSelectedSelector"),c("adsUEditorAdgroupIsHeadlineOptionalSelector"),c("adsUEditorAdgroupLinkToggleSelector")],function(f,g,h,i,j){f=f.isBaseAsset;j=j.bulkIsWebsiteLinkEnabled;if(e==null)return!1;var l=e.assetGroups;if(l==null)return!1;var n=a.asset.format;if(f&&n!==d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel)return!1;var o=k[n];f=o!=null&&l.some(function(a){return o[a]===!0});l=c("adsUEditorAdObjectsForSelectedAdgroupsSelector")(b);l=l.every(function(a){return m(a.campaignGroup,a.campaign,a.adgroup)});j=d("AdsBulkValueUtils").getUniformValue(j,!0)!==!1;return f&&g===c("ApiDynamicCreativeOptimizationTypes").PLACEMENT&&h===!1&&l&&j&&(i||n===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel)},{name:f.id})},isCreatingNewMedia:!1,mutateTemplate:function(a,b,d,e,f){a=e.headline_asset;a&&a.isUnifiedTemplateChange&&c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{headline_asset:{text:a.text,font:a.font,position:null,accentColor:a.accentColor,textColor:a.textColor}}},{line:"247",module:"AdsHeadlineAssetToolPlugin.js"})},mutatePACAdgroup:function(a,b,e,f,g,h){var i=a.adgroupIDs;f=f.headline_asset;if((b==null?void 0:b.carousel)!=null){var k=null,l=b.assetKey,m=b.carousel.index;if(f&&f.action)k={text:f.assetValue};else{c("recoverableViolation")("Should have a headline asset to update carousel card","ads_cx_pac");return}c("AdsUEditorAdgroupPACEditCarouselCardDetailAction").dispatch({hostID:g,adgroupIDs:a.adgroupIDs,carouselLabel:l,cardIndex:m,assetField:"titles",asset:k},{line:"289",module:"AdsHeadlineAssetToolPlugin.js"});return}l=b==null?void 0:b.assetGroups;m=l!=null?d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(l):j;if(i!=null&&f!=null&&f.action){d("AdsPlacementAssetUtils").editHeadlineCustomization(g,i,m,f.action,f.assetIndex,f.assetValue);d("AdsPlacementEditorLogger").logEvent(d("AdsPlacementEditorEvents").PlacementEditorEvents.PLACEMENT_EDITOR_HEADLINE_CUSTOMIZE,c("first")(a.adgroupIDs)||"",d("AdsPlacementAssetUtils").getMediaFormat(e==null?void 0:(k=e.asset)==null?void 0:k.format),l,h)}}};a=b;g["default"]=a},98);
__d("AdsCreativeContainerAvailabilitySelectors",["AdsAdgroupRecordAccessors","AdsUEditorSelectors","ApiDynamicCreativeOptimizationTypes","adsCreateSelector","adsGetUniformValueSelector","adsUEditorAdgroupOptimizationTypeSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","immutable"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.get))],function(a){return a instanceof c("immutable").Iterable?a.first():null},{name:f.id+".adFormatSelector"});b=c("adsCreateSelector")([c("adsUEditorAdgroupOptimizationTypeSelector")],function(a){return a===c("ApiDynamicCreativeOptimizationTypes").PLACEMENT||a===c("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS},{name:f.id+".isSupportedOptimizationTypeSelector"});e=c("adsCreateSelector")([b,a],function(a,b){return a&&b==="SINGLE_VIDEO"},{name:f.id+".adsVideoAssetToolAvailabilitySelector"});d=c("adsCreateSelector")([b,a,c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,b,c){return a&&b==="SINGLE_IMAGE"||b==="AUTOMATIC_FORMAT"&&!c},{name:f.id+".adsImageAssetToolAvailabilitySelector"});a=c("adsCreateSelector")([b,e,d],function(a,b,c){return a&&!b&&!c},{name:f.id+".adsMediaAssetToolAvailabilitySelector"});g.adsVideoAssetToolAvailabilitySelector=e;g.adsImageAssetToolAvailabilitySelector=d;g.adsMediaAssetToolAvailabilitySelector=a},98);
__d("AdsAutoCropImageUEditorAdgroupChangeCustomizationImageDataReducerPlugin",["TypedImmutable","nullthrows"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var e=a;b.adgroupIDs.map(function(f){var g=-1;a.adgroupImages.get(f)!=null?g=c("nullthrows")(a.adgroupImages.get(f)).findIndex(function(a){return a.imageURL!==b.url||a.imageHash!==b.hash}):g=0;g!==-1&&(e=e.set("adgroupHasModifiedImage",e.adgroupHasModifiedImage.set(f,e.adgroupHasModifiedImage.get(f)!=null?c("nullthrows")(e.adgroupHasModifiedImage.get(f)).toMap().set(g,!0).toList():d("TypedImmutable").ImmList.create([!0]))).set("adgroupImages",e.adgroupImages.set(f,d("TypedImmutable").ImmList.create([{imageHash:b.hash,imageURL:b.url}]))))});return e}};b=a;g["default"]=b},98);
__d("AdsAutoExtractImageSourceImageListLoadMoreReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};b=a;f["default"]=b},66);
__d("AdsAutoExtractImageDataSourcePlugin",["fbt","ix","AdsApplicationUtils","AdsAssetAutoExtractUrlStatusProvider","AdsAutoExtractImageQueryProvider","AdsAutoExtractImageSourceImageListLoadMoreAction","AdsAutoExtractImageSourceImageListProvider","AdsAutoExtractImageSourceSetQueryAction","AdsAutoExtractImageSourceUIStore","AdsAutoExtractImagesQuery","AdsImageDataSourceUtils","AdsImageDialogFilterFieldConfig","AdsImageIDClasses","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","adsAccountGK","immutable","isTruthy"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={key:"AUTO_EXTRACT_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.AUTO_EXTRACT_IMAGE,icon:function(a){return i("686190")},tabIcon:i("1555023"),filters:c("immutable").OrderedSet([d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.ASPECT_RATIO,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.HEIGHT,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.WIDTH]),label:function(a){return h._("Im\u00e1genes del sitio web")},shortLabel:h._("Sitio web"),searchPlaceholder:h._("Buscar contenido multimedia"),source:d("AdsImageSelectorV2Types").AdsImageSource.AUTO_EXTRACT_IMAGE,getQuery:function(a,b){a=c("AdsAutoExtractImageQueryProvider")();b=a.query;return b},getStores:function(){return[].concat(d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector.getStores(),[c("AdsAutoExtractImageSourceImageListProvider").toFluxStore(),c("AdsAutoExtractImageSourceUIStore"),c("AdsAutoExtractImageQueryProvider").toFluxStore(),c("AdsAssetAutoExtractUrlStatusProvider").toFluxStore()])},hasQuery:function(a){if(a instanceof c("AdsAutoExtractImagesQuery")){a=a.toJS();a.adAccountID;a.pageLimit;a.sortBy;var b=a.websiteUrl;a=babelHelpers.objectWithoutPropertiesLoose(a,["adAccountID","pageLimit","sortBy","websiteUrl"]);return c("isTruthy")(b)&&Object.values(a).some(Boolean)}return!1},isEnabled:function(a){if(!d("AdsApplicationUtils").isPowerEditor())return!1;return!a||a.account==null||c("isTruthy")(a.placements)?!1:c("adsAccountGK")._(a.account,"d3eJ8xMbW",!1)},load:function(a){var b=j.getQuery(a.account.account_id,a.pageID),e=d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector();b==null?j.reset(a):b instanceof c("AdsAutoExtractImagesQuery")&&c("isTruthy")(b.websiteUrl)&&!c("isTruthy")(b.isWebsiteScrapingDone)&&c("AdsAssetAutoExtractUrlStatusProvider")().isWebsiteScrapingDone&&c("AdsAutoExtractImageSourceSetQueryAction").dispatch({query:b},{line:"135",module:"AdsAutoExtractImageDataSourcePlugin.js"});if(b instanceof c("AdsAutoExtractImagesQuery")&&(!c("isTruthy")(b.websiteUrl)||!c("isTruthy")(b.isWebsiteScrapingDone)))return{imageIDs:c("immutable").OrderedSet(),isLoading:b.isWebsiteScrapingDone===!1,maxSelectedImageIDs:e,hasNextPage:!1,query:b,uploadFailReason:null,uploadStatus:null};var f=c("AdsAutoExtractImageSourceUIStore").getState(),g=f.queryValueLoadObject;f=f.isLoading;var h=g.map(function(a){return a.imageIDs}),i=g.map(function(a){return a.after});h=h.getValue()||c("immutable").OrderedSet();var k=c("immutable").Map();g=g.map(function(a){return a.extractionStatus});if(g.hasValue()){g=g.getValueEnforcing();if(g==="IN_PROGRESS"){g=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(a.account.account_id,"placeholder");h=h.add(g);k=c("immutable").Map([[g,"PENDING"]])}}return{imageBIReviewStatusMap:k,imageIDs:h,isLoading:f,maxSelectedImageIDs:e,hasNextPage:!!i.getValue(),query:b,uploadFailReason:null,uploadStatus:null}},loadMore:function(a){a instanceof c("AdsAutoExtractImagesQuery")&&c("AdsAutoExtractImageSourceImageListLoadMoreAction").dispatch({query:a},{line:"206",module:"AdsAutoExtractImageDataSourcePlugin.js"})},onSearch:function(a,b,d){d=d.query;if(d==null){b=b.account.account_id;d=new(c("AdsAutoExtractImagesQuery"))({adAccountID:b})}d instanceof c("AdsAutoExtractImagesQuery")&&(d=d.set("nameQuery",a),c("AdsAutoExtractImageSourceSetQueryAction").dispatch({query:d},{line:"224",module:"AdsAutoExtractImageDataSourcePlugin.js"}))},applyFilters:function(a,b,e){e=e;if(!(e instanceof c("AdsAutoExtractImagesQuery")))return;a=d("AdsImageDialogFilterFieldConfig").parseApiFilters(a);var f=a.minWidth,g=a.minHeight,h=a.minAspectRatio;a=a.maxAspectRatio;if(e==null){b=b.account.account_id;e=new(c("AdsAutoExtractImagesQuery"))({adAccountID:b})}e=e.set("minWidth",f).set("minHeight",g).set("minAspectRatio",h).set("maxAspectRatio",a);c("AdsAutoExtractImageSourceSetQueryAction").dispatch({query:e},{line:"254",module:"AdsAutoExtractImageDataSourcePlugin.js"})},applyPolicyCompliantFilter:function(a,b,c){},reset:function(a){a=new(c("AdsAutoExtractImagesQuery"))({adAccountID:a.account.account_id});c("AdsAutoExtractImageSourceSetQueryAction").dispatch({query:a},{line:"272",module:"AdsAutoExtractImageDataSourcePlugin.js"})}};a=j;g["default"]=a},98);
__d("AdsBusinessImageDataSourcePlugin",["fbt","ix","AdsAccountStore","AdsBusinessCreativeFoldersQuery","AdsBusinessImageSourceImageListDeleteQueriesAction","AdsBusinessImageSourceImageListLoadMoreAction","AdsBusinessImageSourceResetAction","AdsBusinessImageSourceSetQueryAction","AdsBusinessImagesQuery","AdsBusinessSourceCreativeFolderListLoadMoreAction","AdsBusinessSourceMediaPickerUtils","AdsImageDataSourceUtils","AdsImageDialogFilterFieldConfig","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","AdsMediaPickerPolicyCompliantOptions","AdsMediaPickerPolicyCompliantSelectedOptionProvider","adsBusinessImageListDataSelector","adsBusinessImageSourceCreativeFoldersSelector","adsBusinessImageSourceSelector","immutable","isTruthy"],function(a,b,c,d,e,f,g,h,i){"use strict";a={key:"BUSINESS_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.BUSINESS_IMAGE,icon:function(a){return i("972393")},tabIcon:i("1278800"),filters:c("immutable").OrderedSet([d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.POLICY,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.ASPECT_RATIO,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.HEIGHT,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.WIDTH]),label:function(a){return h._("Im\u00e1genes de la empresa")},shortLabel:h._("Empresa"),searchPlaceholder:h._("Buscar contenido multimedia"),source:d("AdsImageSelectorV2Types").AdsImageSource.BUSINESS_IMAGE,getQuery:function(){var a=c("adsBusinessImageSourceSelector")();a=a.query;return a},getStores:function(){return[].concat(d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector.getStores(),c("adsBusinessImageSourceSelector").getStores(),c("adsBusinessImageSourceCreativeFoldersSelector").getStores(),[c("AdsAccountStore")])},hasQuery:function(a){if(a instanceof c("AdsBusinessImagesQuery")){a=a.toJS();a.businessID;a.pageLimit;a.sortBy;a.folderID;a=babelHelpers.objectWithoutPropertiesLoose(a,["businessID","pageLimit","sortBy","folderID"]);return Object.values(a).some(Boolean)}return!1},isEnabled:function(a){return c("AdsAccountStore").getSelectedBusinessID()==null?!1:c("adsBusinessImageListDataSelector")().hasValue()},load:function(a){a=d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector();var b=c("adsBusinessImageSourceSelector")(),e=b.query,f=b.imageIDs,g=b.isLoading;b=b.hasNextPage;var h=c("adsBusinessImageSourceCreativeFoldersSelector")(),i=h.businessID,j=h.hasFoldersNextPage,k=h.hasFoldersQuery,l=h.creativeFolders,m=h.isFoldersLoading,n=h.isSearching,o=h.isShowingAllMedia;h=h.foldersQuery;var p=d("AdsBusinessSourceMediaPickerUtils").getBusinessSourceItemIDs({isShowingAllMedia:o,isSearching:n,hasFoldersNextPage:j,creativeFolders:l,imageIDs:f,foldersQuery:h});return{businessID:i,businessItemIDs:p,hasFoldersNextPage:j,hasFoldersQuery:k,creativeFolders:l,isFoldersLoading:m,isSearching:n,isShowingAllMedia:o,foldersQuery:h,imageIDs:f,isLoading:g,maxSelectedImageIDs:a,query:e,hasNextPage:b||j,uploadFailReason:null,uploadStatus:null}},getSelectedBusinessItem:function(a){return d("AdsBusinessSourceMediaPickerUtils").getSelectedBusinessCreativesIDs(null,a,void 0)},loadMore:function(a){a instanceof c("AdsBusinessImagesQuery")?c("AdsBusinessImageSourceImageListLoadMoreAction").dispatch({query:a},{line:"171",module:"AdsBusinessImageDataSourcePlugin.js"}):a instanceof c("AdsBusinessCreativeFoldersQuery")&&c("AdsBusinessSourceCreativeFolderListLoadMoreAction").dispatch({query:a},{line:"175",module:"AdsBusinessImageDataSourcePlugin.js"})},onSearch:function(a,b,d){var e=c("AdsAccountStore").getSelectedBusinessID();if(e==null)return;var f=d.query;if(f==null){b=b.account.account_id;var g=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState();g=g.selectedOption;g=g===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;f=new(c("AdsBusinessImagesQuery"))({adAccountID:b,businessID:e,hasIntegrityViolation:g})}if(f instanceof c("AdsBusinessImagesQuery")){f=f.set("title",a);if(c("isTruthy")(a))f=f.set("folderID",null);else{f=c("isTruthy")((b=d.foldersQuery)==null?void 0:(e=b.selectedFolder)==null?void 0:e.id)?f=f.set("folderID",(g=d.foldersQuery)==null?void 0:(a=g.selectedFolder)==null?void 0:a.id):f}c("AdsBusinessImageSourceSetQueryAction").dispatch({query:f},{line:"215",module:"AdsBusinessImageDataSourcePlugin.js"})}},applyFilters:function(a,b,e){e=e;if(!(e instanceof c("AdsBusinessImagesQuery")))return;var f=c("AdsAccountStore").getSelectedBusinessID();if(f==null)return;a=d("AdsImageDialogFilterFieldConfig").parseApiFilters(a);var g=a.minWidth,h=a.minHeight,i=a.minAspectRatio,j=a.maxAspectRatio;a=a.hasIntegrityViolation;var k=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState();k=k.selectedOption;k=k===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;if(e==null){b=b.account.account_id;e=new(c("AdsBusinessImagesQuery"))({adAccountID:b,businessID:f,hasIntegrityViolation:k})}e=e.set("minWidth",g).set("minHeight",h).set("minAspectRatio",i).set("maxAspectRatio",j).set("hasIntegrityViolation",a);c("AdsBusinessImageSourceSetQueryAction").dispatch({query:e},{line:"258",module:"AdsBusinessImageDataSourcePlugin.js"})},applyPolicyCompliantFilter:function(a,b,d){if(!(d instanceof c("AdsBusinessImagesQuery")))return;var e=c("AdsAccountStore").getSelectedBusinessID();if(e==null)return;d=d;if(d==null){b=b.account.account_id;d=new(c("AdsBusinessImagesQuery"))({adAccountID:b,businessID:e})}d=d.set("hasIntegrityViolation",a);c("AdsBusinessImageSourceSetQueryAction").dispatch({query:d},{line:"290",module:"AdsBusinessImageDataSourcePlugin.js"})},reset:function(a){c("AdsBusinessImageSourceResetAction").dispatch({},{line:"296",module:"AdsBusinessImageDataSourcePlugin.js"})},refreshQuery:function(a){c("AdsBusinessImageSourceImageListDeleteQueriesAction").dispatch({queries:a},{line:"300",module:"AdsBusinessImageDataSourcePlugin.js"})}};b=a;g["default"]=b},98);
__d("AdsCreativeDiversityIcon.react",["ix","Image.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx("span",{className:a.className,style:{backgroundColor:"var(--fds-white)",borderRadius:"15%",border:"1px solid white",display:"inline-flex",justifyContent:"center",overflow:"hidden",position:"relative",height:"16px",width:"16px"},children:i.jsx(c("Image.react"),{ref:a.imageRef,src:h("290446"),style:{position:"absolute",left:"12.5%",top:"12.5%",zIndex:2}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeDiversityConstants",["fbt","AdsCreativeDiversityIcon.react","AdsLearnMore.react","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={icon:{marginBottom:"ga63q8fk"}};a=function(){return h._("A\u00f1ade una imagen diferenciada visualmente")};b=function(){return h._("A\u00f1ade un v\u00eddeo diferenciado visualmente")};var k="Add an image that looks very different from the media in your ad set. Any media that is visually distinct will display a ",l=" icon which can help keep your audience's attention and improve performance up to 30%.",m="Cost per result may rise because your ad set's images are too similar",n="Add an image that looks very different from the media in your ad set. Showing ads that are visually distinct can help keep your audience's attention and improve performance.",o="View recommended images";e=.3;f=1-e;d=.31;var p=function(){return h._("{header}",[h._param("header",m)])},q=function(){return h._("{header}",[h._param("header",o)])},r=function(){return h._("{content}",[h._param("content",n)])},s=function(){return h._("{contentFirstHalf}{icon} {contentSecondHalf}",[h._param("contentFirstHalf",k),h._param("icon",i.jsx(c("AdsCreativeDiversityIcon.react"),{className:c("stylex")(j.icon)})),h._param("contentSecondHalf",l)])};(function(){return i.jsx(c("AdsLearnMore.react"),{cmsID:t,dialogWidth:1200,isStandalone:!0})});var t="1044825198987622";g.getAdsMediaPickerCreativeDiversityTipImageHeaderContent=a;g.getAdsMediaPickerCreativeDiversityTipVideoHeaderContent=b;g.DIVERSITY_SCORE_THRESHOLD=e;g.INVERSE_MAX_SIMILARITY_SCORE_THRESHOLD=f;g.DEFAULT_DIVERSITY_SCORE=d;g.getAdsCreativeDiversityL1WarningCardHeaderContent=p;g.getViewRecommendedImageButtonLabel=q;g.getAdsCreativeDiversityL1WarningCardBodyContent=r;g.getAdsMediaPickerCreativeDiversityTipBodyContent=s;g.CREATIVE_DIVERSITY_LEARN_MORE_ID=t},98);
__d("AdsDiverseImageDataSourcePlugin",["fbt","ix","AdsAccountDiverseImageSourceQueryProvider","AdsAccountDiverseImageSourceSetQueryAction","AdsAccountImageSourceImageListLoadMoreAction","AdsAccountImageSourceImageListProvider","AdsAccountImagesQuery","AdsAccountImagesQuerySpec","AdsApplicationUtils","AdsCreativeDiversityConstants","AdsCreativeDiversityL2L3LevelScoreDataSelector","AdsImageAssetToolPickerDiverseImagesLoadAction","AdsImageDataSourceUtils","AdsImageDialogFilterFieldConfig","AdsImageInfoStore","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","adsCreateSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("adsCreateSelector")([c("AdsAccountDiverseImageSourceQueryProvider").toFluxSelector(),c("AdsAccountImageSourceImageListProvider").toFluxSelector(),c("AdsImageInfoStore").getFullSizeSelector,d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector],function(a,b,d,e){a=a.query;var f=!1,g=!1,h=c("immutable").OrderedSet();if(a!=null&&a instanceof c("AdsAccountImagesQuery")){b=b.get(a);var i=b.map(function(a){return a.imageIDs});h=(i=i.getValue())!=null?i:h;i=b.map(function(a){return a.after});g=!!i.getValue();i=!!b.map(function(a){return a.imageIDs.map(function(a){return d(a)})}).map(function(a){return a.some(function(a){return!a.hasValue()})}).getValue();f=i||!b.hasValue()||b.isUpdating()||b.isLoading()}return{imageIDs:h,isLoading:f,hasNextPage:g,query:a,uploadStatus:null,uploadFailReason:null,maxSelectedImageIDs:e}},{name:f.id+".loadStateSelector"}),k=c("AdsAccountDiverseImageSourceQueryProvider").toFluxStore(),l=h._("Visualmente distintas"),m={key:"DIVERSE_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.DIVERSE_IMAGE,icon:function(a){return i("290461")},sectionIcon:i("290461"),tabIcon:i("290461"),filters:c("immutable").OrderedSet([d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.ASPECT_RATIO,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.HEIGHT,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.WIDTH]),label:function(a){return l},shortLabel:l,tooltip:h._("Recomendamos estas im\u00e1genes de tu cuenta para mejorar la variedad visual del contenido multimedia de tu campa\u00f1a."),source:d("AdsImageSelectorV2Types").AdsImageSource.DIVERSE_IMAGE,getQuery:function(a,b){a=k.getState();b=a.query;return b},getStores:function(){return[].concat(j.getStores(),[k])},hasQuery:function(a){return a instanceof c("AdsAccountImagesQuery")?Object.entries(a.toJS()).some(function(a){var b=a[0];a=a[1];return!(["accountID","selectedHashes","minDiversityScore"].includes(b)||d("AdsAccountImagesQuerySpec").defaults[b]===a)}):!1},isEnabled:function(a){if(!d("AdsApplicationUtils").isPowerEditor())return!1;return!a||a.account==null?!1:d("AdsCreativeDiversityL2L3LevelScoreDataSelector").shouldShowMediaPickerDiverseImageSection(a.account)},isTabInnerSection:!0,load:function(a){var b,d=m.getQuery(a.account.account_id,a.pageID);(d==null||d instanceof c("AdsAccountImagesQuery")&&(a.account.account_id!==d.accountID||((b=a.selectedImageHashes)==null?void 0:b.sort().join(","))!==((b=d.selectedHashes)==null?void 0:b.sort().join(","))))&&m.reset(a);d=j();d.imageIDs.size>0&&c("AdsImageAssetToolPickerDiverseImagesLoadAction").dispatch({imageIDs:d.imageIDs},{line:"176",module:"AdsDiverseImageDataSourcePlugin.js"});return d},loadMore:function(a){a instanceof c("AdsAccountImagesQuery")&&c("AdsAccountImageSourceImageListLoadMoreAction").dispatch({query:a},{line:"184",module:"AdsDiverseImageDataSourcePlugin.js"})},onSearch:function(a,b,e){e=e.query;if(e==null){var f=b.account.account_id;e=new(c("AdsAccountImagesQuery"))({accountID:f,selectedHashes:b.selectedImageHashes,minDiversityScore:d("AdsCreativeDiversityConstants").INVERSE_MAX_SIMILARITY_SCORE_THRESHOLD})}e instanceof c("AdsAccountImagesQuery")&&(e=e.set("nameQuery",a),c("AdsAccountDiverseImageSourceSetQueryAction").dispatch({query:e},{line:"203",module:"AdsDiverseImageDataSourcePlugin.js"}))},reset:function(a){var b,e=m.getQuery(a.account.account_id,a.pageID);(e===null||e instanceof c("AdsAccountImagesQuery")&&((b=a.selectedImageHashes)==null?void 0:b.sort().join(","))!==((b=e.selectedHashes)==null?void 0:b.sort().join(",")))&&c("AdsAccountDiverseImageSourceSetQueryAction").dispatch({query:new(c("AdsAccountImagesQuery"))({accountID:a.account.account_id,selectedHashes:a.selectedImageHashes,minDiversityScore:d("AdsCreativeDiversityConstants").INVERSE_MAX_SIMILARITY_SCORE_THRESHOLD})},{line:"219",module:"AdsDiverseImageDataSourcePlugin.js"})},searchPlaceholder:h._("Buscar contenido multimedia"),applyFilters:function(a,b,e){e=e;if(!(e instanceof c("AdsAccountImagesQuery")))return;a=d("AdsImageDialogFilterFieldConfig").parseApiFilters(a);var f=a.minWidth,g=a.minHeight,h=a.minAspectRatio;a=a.maxAspectRatio;if(e==null){b=b.account.account_id;e=new(c("AdsAccountImagesQuery"))({accountID:b,minDiversityScore:d("AdsCreativeDiversityConstants").INVERSE_MAX_SIMILARITY_SCORE_THRESHOLD})}e=e.set("minWidth",f).set("minHeight",g).set("minAspectRatio",h).set("maxAspectRatio",a);c("AdsAccountDiverseImageSourceSetQueryAction").dispatch({query:e},{line:"260",module:"AdsDiverseImageDataSourcePlugin.js"})}};a=m;g["default"]=a},98);
__d("AdsInstagramImageDataSourcePlugin",["fbt","ix","AdsImageDataSourceUtils","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","AdsInstagramAccountMediaQuery","AdsInstagramImageSourceImageListLoadMoreAction","AdsInstagramImageSourceImageListProvider","AdsInstagramMediaListStore","AdsInstagramMediaQueryProvider","AdsInstagramMediaSourceSetQueryAction","AdsInstagramUsernameStore","AdsMediaPickerPolicyCompliantOptions","AdsMediaPickerPolicyCompliantSelectedOptionProvider","InstagramSlipstreamMediaContentType","adsPlacementAPISpecReaderIsActivePublisherPlatform","immutable","isTruthy","setImmediate"],function(a,b,c,d,e,f,g,h,i){"use strict";a={key:"INSTAGRAM_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.INSTAGRAM_IMAGE,icon:function(a){return i("686128")},tabIcon:i("1278792"),filters:null,label:function(a){return h._("Im\u00e1genes de Instagram")},shortLabel:h._("Instagram"),searchPlaceholder:h._("Buscar contenido multimedia"),source:d("AdsImageSelectorV2Types").AdsImageSource.INSTAGRAM_IMAGE,getQuery:function(){},getStores:function(){return[].concat(d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector.getStores(),[c("AdsInstagramImageSourceImageListProvider").toFluxStore(),c("AdsInstagramMediaQueryProvider").toFluxStore(),c("AdsInstagramMediaListStore"),c("AdsInstagramUsernameStore")])},hasQuery:function(a){if(a instanceof c("AdsInstagramAccountMediaQuery")){a=a.toJS();a.accountID;a.contentType;a.limit;a.sortBy;a=babelHelpers.objectWithoutPropertiesLoose(a,["accountID","contentType","limit","sortBy"]);return Object.values(a).some(Boolean)}return!1},isEnabled:function(a){return!(a==null?void 0:a.placements)||a.placements.some(function(a){return c("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"instagram")})},load:function(a){a=a.instagramAccountID;var b=c("AdsInstagramMediaQueryProvider")();b=b.query;var e=!1,f=c("immutable").OrderedSet(),g=!1;if(c("isTruthy")(a)){if(b==null){var h=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState().selectedOption===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT,i=new(c("AdsInstagramAccountMediaQuery"))({accountID:a,contentType:c("InstagramSlipstreamMediaContentType").MEDIA_CONTENT_TYPE_PHOTO,hasIntegrityViolation:h});b=i;c("setImmediate")(function(){return c("AdsInstagramMediaSourceSetQueryAction").dispatch({query:i},{line:"123",module:"AdsInstagramImageDataSourcePlugin.js"})})}a=c("AdsInstagramImageSourceImageListProvider")().get(b);e=e||a.isUpdating()||a.isLoading();if(a.hasValue()){h=a.getValueEnforcing();f=f.union(h.imageIDs);g=!!h.after}}a=d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector();return{hasNextPage:g,isLoading:e,imageIDs:f,maxSelectedImageIDs:a,query:b,uploadFailReason:null,uploadStatus:null}},loadMore:function(a){a instanceof c("AdsInstagramAccountMediaQuery")&&c("AdsInstagramImageSourceImageListLoadMoreAction").dispatch({query:a},{line:"152",module:"AdsInstagramImageDataSourcePlugin.js"})},onSearch:function(a,b,d){b=b.instagramAccountID;if(b==null)return;d=d.query;if(d==null){var e=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState().selectedOption===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;d=new(c("AdsInstagramAccountMediaQuery"))({accountID:b,contentType:c("InstagramSlipstreamMediaContentType").MEDIA_CONTENT_TYPE_PHOTO,hasIntegrityViolation:e})}d instanceof c("AdsInstagramAccountMediaQuery")&&(d=d.set("captionText",a),c("AdsInstagramMediaSourceSetQueryAction").dispatch({query:d},{line:"179",module:"AdsInstagramImageDataSourcePlugin.js"}))},applyFilters:function(){},applyPolicyCompliantFilter:function(a,b,d){if(!(d instanceof c("AdsInstagramAccountMediaQuery")))return;d=d;if(d==null){b=b.account.account_id;var e=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState().selectedOption===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;d=new(c("AdsInstagramAccountMediaQuery"))({accountID:b,contentType:c("InstagramSlipstreamMediaContentType").MEDIA_CONTENT_TYPE_PHOTO,hasIntegrityViolation:e})}d=d.set("hasIntegrityViolation",a);c("AdsInstagramMediaSourceSetQueryAction").dispatch({query:d},{line:"215",module:"AdsInstagramImageDataSourcePlugin.js"})},reset:function(a){a=a.instagramAccountID;var b=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").getInitialState();b=b.selectedOption;b=b===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;a!=null&&c("AdsInstagramMediaSourceSetQueryAction").dispatch({query:new(c("AdsInstagramAccountMediaQuery"))({accountID:a,contentType:c("InstagramSlipstreamMediaContentType").MEDIA_CONTENT_TYPE_PHOTO,hasIntegrityViolation:b})},{line:"226",module:"AdsInstagramImageDataSourcePlugin.js"})}};b=a;g["default"]=b},98);
__d("AdsPageImageDataSourcePlugin",["fbt","ix","AdsImageDataSourceUtils","AdsImageDialogFilterFieldConfig","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","AdsMediaPickerPolicyCompliantOptions","AdsMediaPickerPolicyCompliantSelectedOptionProvider","AdsPageImageQueryProvider","AdsPageImageSourceImageListLoadMoreAction","AdsPageImageSourceSetQueryAction","AdsPageImageSourceUIStore","AdsPageImagesQuery","immutable","isTruthy"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={key:"PAGE_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.PAGE_IMAGE,icon:function(a){return i("506802")},tabIcon:i("1933282"),filters:c("immutable").OrderedSet([d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.POLICY,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.ASPECT_RATIO,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.HEIGHT,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.WIDTH]),label:function(a){return h._("Im\u00e1genes de la p\u00e1gina")},shortLabel:h._("P\u00e1gina"),searchPlaceholder:h._("Buscar contenido multimedia"),source:d("AdsImageSelectorV2Types").AdsImageSource.PAGE_IMAGE,getQuery:function(a,b){var d=c("AdsPageImageQueryProvider")();d=d.query;if(d==null&&c("isTruthy")(b)){var e=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState().selectedOption===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;d=new(c("AdsPageImagesQuery"))({adAccountID:a,hasIntegrityViolation:e,pageID:b});c("AdsPageImageSourceSetQueryAction").dispatch({query:d},{line:"86",module:"AdsPageImageDataSourcePlugin.js"})}return d},getStores:function(){return[].concat(d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector.getStores(),[c("AdsPageImageQueryProvider").toFluxStore(),c("AdsPageImageSourceUIStore")])},hasQuery:function(a){if(a instanceof c("AdsPageImagesQuery")){a=a.toJS();a.pageID;a.pageLimit;a.sortBy;a=babelHelpers.objectWithoutPropertiesLoose(a,["pageID","pageLimit","sortBy"]);return Object.values(a).some(Boolean)}return!1},isEnabled:function(a){return!0},load:function(a){var b=d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector();a=j.getQuery(a.account.account_id,a.pageID);var e=c("AdsPageImageSourceUIStore").getState(),f=e.hasPageID,g=e.isLoading;e=e.queryValueLoadObject;var h=e.map(function(a){return a.after});e=e.hasValue()?e.getValueEnforcing().imageIDs:c("immutable").OrderedSet();return{hasPageID:f,imageIDs:e,isLoading:g,maxSelectedImageIDs:b,query:a,hasNextPage:!!h.getValue(),uploadFailReason:null,uploadStatus:null}},loadMore:function(a){a instanceof c("AdsPageImagesQuery")&&c("AdsPageImageSourceImageListLoadMoreAction").dispatch({query:a},{line:"136",module:"AdsPageImageDataSourcePlugin.js"})},onSearch:function(a,b,d){var e=b.account.account_id;b=b.pageID;if(b==null)return;d=d.query;if(d==null){var f=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState().selectedOption===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;d=new(c("AdsPageImagesQuery"))({adAccountID:e,hasIntegrityViolation:f,pageID:b})}d instanceof c("AdsPageImagesQuery")&&(d=d.set("title",a),c("AdsPageImageSourceSetQueryAction").dispatch({query:d},{line:"165",module:"AdsPageImageDataSourcePlugin.js"}))},applyFilters:function(a,b,e){e=e;if(!(e instanceof c("AdsPageImagesQuery")))return;var f=b.account.account_id;b=b.pageID;if(b==null)return;a=d("AdsImageDialogFilterFieldConfig").parseApiFilters(a);var g=a.minWidth,h=a.minHeight,i=a.minAspectRatio,j=a.maxAspectRatio;a=a.hasIntegrityViolation;var k=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState().selectedOption===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;e==null&&(e=new(c("AdsPageImagesQuery"))({adAccountID:f,hasIntegrityViolation:k,pageID:b}));e=e.set("minWidth",g).set("minHeight",h).set("minAspectRatio",i).set("maxAspectRatio",j).set("hasIntegrityViolation",a);c("AdsPageImageSourceSetQueryAction").dispatch({query:e},{line:"205",module:"AdsPageImageDataSourcePlugin.js"})},applyPolicyCompliantFilter:function(a,b,d){if(!(d instanceof c("AdsPageImagesQuery")))return;var e=b.account.account_id;b=b.pageID;if(b==null)return;d=d;d==null&&(d=new(c("AdsPageImagesQuery"))({adAccountID:e,pageID:b}));d=d.set("hasIntegrityViolation",a);c("AdsPageImageSourceSetQueryAction").dispatch({query:d},{line:"236",module:"AdsPageImageDataSourcePlugin.js"})},reset:function(a){var b=a.account.account_id;a=a.pageID;var d=c("AdsPageImageQueryProvider")();d=d.query;var e=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").getInitialState();e=e.selectedOption;e=e===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;if(a!=null){c("AdsPageImageSourceSetQueryAction").dispatch({query:new(c("AdsPageImagesQuery"))({adAccountID:b,hasIntegrityViolation:e,pageID:(b=d==null?void 0:d.pageID)!=null?b:a})},{line:"251",module:"AdsPageImageDataSourcePlugin.js"})}}};a=j;g["default"]=a},98);
__d("AdsRecommendedImageDataSourcePlugin",["fbt","ix","AdsAccountImageSourceImageListLoadMoreAction","AdsAccountImageSourceImageListProvider","AdsAccountImagesQuery","AdsAccountImagesQuerySpec","AdsAccountRecommendedImageSourceQueryProvider","AdsAccountRecommendedImageSourceSetQueryAction","AdsApplicationUtils","AdsAssetFeedUtils","AdsDiverseImageDataSourcePlugin","AdsImageDataSourceUtils","AdsImageDialogFilterFieldConfig","AdsImageInfoStore","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","AdsMediaPickerUtils","AdsMgmtGrowthExperimentStoreUtils","AdsUEditorCreativeAesRecommendationsConstants","adsCreateSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("adsCreateSelector")([c("AdsAccountRecommendedImageSourceQueryProvider").toFluxSelector(),c("AdsAccountImageSourceImageListProvider").toFluxSelector(),c("AdsImageInfoStore").getFullSizeSelector,d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector],function(a,b,d,e){a=a.query;var f=!1,g=!1,h=c("immutable").OrderedSet();if(a!=null&&a instanceof c("AdsAccountImagesQuery")){b=b.get(a);var i=b.map(function(a){return a.imageIDs});h=(i=i.getValue())!=null?i:h;i=b.map(function(a){return a.after});g=!!i.getValue();i=!!b.map(function(a){return a.imageIDs.map(function(a){return d(a)})}).map(function(a){return a.some(function(a){return!a.hasValue()})}).getValue();f=i||!b.hasValue()||b.isUpdating()||b.isLoading()}return{imageIDs:h,isLoading:f,hasNextPage:g,query:a,uploadStatus:null,uploadFailReason:null,maxSelectedImageIDs:e}},{name:f.id+".loadStateSelector"}),k={key:"RECOMMENDED_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.RECOMMENDED_IMAGE,icon:function(a){return i("1271670")},sectionIcon:i("167272"),tabIcon:i("1271670"),filters:c("immutable").OrderedSet([d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.ASPECT_RATIO,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.HEIGHT,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.WIDTH]),label:function(a){return h._("Recommended Images")},shortLabel:h._("Recomendadas"),tooltip:h._("Estas im\u00e1genes que se han subido a tu cuenta son las recomendadas porque cumplen las pr\u00e1cticas recomendadas de fotograf\u00eda, tales como el balance de color y una buena iluminaci\u00f3n."),searchPlaceholder:h._("Buscar contenido multimedia"),source:d("AdsImageSelectorV2Types").AdsImageSource.RECOMMENDED_IMAGE,getQuery:function(a,b){a=c("AdsAccountRecommendedImageSourceQueryProvider")();b=a.query;return b},getStores:function(){return[].concat(j.getStores(),d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFEnabledSelector.getStores(),d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsDCOEnabledSelector.getStores(),d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFV2Selector.getStores())},hasQuery:function(a){return a instanceof c("AdsAccountImagesQuery")?Object.entries(a.toJS()).some(function(a){var b=a[0];a=a[1];return!(["accountID","minAesRating"].includes(b)||d("AdsAccountImagesQuerySpec").defaults[b]===a)}):!1},isEnabled:function(a,b){a=a==null?void 0:a.isDCOAdgroup;if(!d("AdsApplicationUtils").isPowerEditor()||!(a===!1&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFEnabledSelector()||a===!0&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsDCOEnabledSelector()>0))return!1;if(b!=null){a=k.load(b);var c=a.query;a=a.imageIDs;if(c!=null&&!k.hasQuery(c)&&a.size===0&&b.source!==d("AdsImageSelectorV2Types").AdsImageSource.RECOMMENDED_IMAGE)return!1}return!0},load:function(a){var b=k.getQuery(a.account.account_id,a.pageID);(b==null||b instanceof c("AdsAccountImagesQuery")&&a.account.account_id!==b.accountID)&&k.reset(a);var e=j(),f=e.imageIDs,g=e.isLoading,h=e.hasNextPage,i,l,m=c("AdsDiverseImageDataSourcePlugin").isEnabled({account:a.account,placements:a.placements,isDCOAdgroup:a.adgroup?d("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a.adgroup):!1});if(m){i=new Map();l=new Map();i.set(k.key,g);g||l.set(k.key,f);var n=c("AdsDiverseImageDataSourcePlugin").load(a);i.set(c("AdsDiverseImageDataSourcePlugin").key,n.isLoading);n.isLoading||l.set(c("AdsDiverseImageDataSourcePlugin").key,n.imageIDs)}if(a.placementSpecs!=null){n=f.filter(function(b){b=c("AdsImageInfoStore").getFullSize(b);return!e.isLoading&&d("AdsMediaPickerUtils").calculateImageErrors(a.imageSpecs,a.placementSpecs,b).length===0});b!=null&&g===!1&&h&&n.size===0&&k.loadMore(b);if(m){(f=i)==null?void 0:f.set(k.key,g);if(!g){(h=l)==null?void 0:h.set(k.key,n)}}return babelHelpers["extends"]({},e,{imageIDs:n,imageIDsSourceMap:c("immutable").OrderedMap(l),isLoadingSourceMap:c("immutable").OrderedMap(i)})}return babelHelpers["extends"]({},e,{imageIDsSourceMap:c("immutable").OrderedMap(l),isLoadingSourceMap:c("immutable").OrderedMap(i)})},loadMore:function(a){a instanceof c("AdsAccountImagesQuery")&&c("AdsAccountImageSourceImageListLoadMoreAction").dispatch({query:a},{line:"297",module:"AdsRecommendedImageDataSourcePlugin.js"})},onSearch:function(a,b,e){e=e.query;if(e==null){var f=b.account.account_id;b=b.adgroup;b=b?d("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(b):!1;b&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsDCOEnabledSelector()===d("AdsUEditorCreativeAesRecommendationsConstants").AES_ROT_BE_TESTGROUP||!b&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFV2Selector()?e=new(c("AdsAccountImagesQuery"))({accountID:f,minAesRot:d("AdsUEditorCreativeAesRecommendationsConstants").AES_ROT_THRESHOLD,minAesBalanceElements:d("AdsUEditorCreativeAesRecommendationsConstants").AES_BALANCE_ELEMENTS_THRESHOLD}):e=new(c("AdsAccountImagesQuery"))({accountID:f,minAesRating:d("AdsUEditorCreativeAesRecommendationsConstants").AES_RATING_THRESHOLD})}e instanceof c("AdsAccountImagesQuery")&&(e=e.set("nameQuery",a),c("AdsAccountRecommendedImageSourceSetQueryAction").dispatch({query:e},{line:"333",module:"AdsRecommendedImageDataSourcePlugin.js"}))},applyFilters:function(a,b,e,f){e=e;if(!(e instanceof c("AdsAccountImagesQuery")))return;a=d("AdsImageDialogFilterFieldConfig").parseApiFilters(a);var g=a.minWidth,h=a.minHeight,i=a.minAspectRatio;a=a.maxAspectRatio;if(e==null){b=b.account.account_id;f=(f==null?void 0:f.adgroup)?d("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(f==null?void 0:f.adgroup):!1;f&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsDCOEnabledSelector()===d("AdsUEditorCreativeAesRecommendationsConstants").AES_ROT_BE_TESTGROUP||!f&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFV2Selector()?e=new(c("AdsAccountImagesQuery"))({accountID:b,minAesRot:d("AdsUEditorCreativeAesRecommendationsConstants").AES_ROT_THRESHOLD,minAesBalanceElements:d("AdsUEditorCreativeAesRecommendationsConstants").AES_BALANCE_ELEMENTS_THRESHOLD}):e=new(c("AdsAccountImagesQuery"))({accountID:b,minAesRating:d("AdsUEditorCreativeAesRecommendationsConstants").AES_RATING_THRESHOLD})}e=e.set("minWidth",g).set("minHeight",h).set("minAspectRatio",i).set("maxAspectRatio",a);c("AdsAccountRecommendedImageSourceSetQueryAction").dispatch({query:e},{line:"382",module:"AdsRecommendedImageDataSourcePlugin.js"})},reset:function(a){var b=a.adgroup?d("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a.adgroup):!1;b&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsDCOEnabledSelector()===d("AdsUEditorCreativeAesRecommendationsConstants").AES_ROT_BE_TESTGROUP||!b&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFV2Selector()?c("AdsAccountRecommendedImageSourceSetQueryAction").dispatch({query:new(c("AdsAccountImagesQuery"))({accountID:a.account.account_id,minAesRot:d("AdsUEditorCreativeAesRecommendationsConstants").AES_ROT_THRESHOLD,minAesBalanceElements:d("AdsUEditorCreativeAesRecommendationsConstants").AES_BALANCE_ELEMENTS_THRESHOLD})},{line:"397",module:"AdsRecommendedImageDataSourcePlugin.js"}):c("AdsAccountRecommendedImageSourceSetQueryAction").dispatch({query:new(c("AdsAccountImagesQuery"))({accountID:a.account.account_id,minAesRating:d("AdsUEditorCreativeAesRecommendationsConstants").AES_RATING_THRESHOLD})},{line:"405",module:"AdsRecommendedImageDataSourcePlugin.js"})}};a=k;g["default"]=a},98);
__d("AdsAllImageDataSourcePlugin",["fbt","ix","AdsAccountImageDataSourcePlugin","AdsAllImageQueryProvider","AdsAllImageSourceSetQueryAction","AdsAllImagesQuery","AdsAssetFeedUtils","AdsAssetLiquidityUtils","AdsAutoExtractImageDataSourcePlugin","AdsImageDataSourcePlugins","AdsImageDataSourceUtils","AdsImageDialogFilterFieldConfig","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","AdsPageImageQueryProvider","immutable","isTruthy"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("AdsAllImageQueryProvider").toFluxStore();function k(){return l.availableSources!=null?l.availableSources():[]}var l={key:"ALL_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.ALL_IMAGE,icon:function(a){return i("567239")},tabIcon:i("1295505"),filters:c("immutable").OrderedSet([d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.ASPECT_RATIO,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.HEIGHT,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.WIDTH]),label:function(a){return h._("Todas las im\u00e1genes")},shortLabel:h._("Todo"),searchPlaceholder:h._("Buscar contenido multimedia"),source:d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE,getQuery:function(){return null},getAllSourceQuery:function(a){var b=j.getState();b=b.query;if(b==null){var d;b=new(c("AdsAllImagesQuery"))({adAccountID:a.account.account_id,businessID:(d=a.account.business)==null?void 0:d.id,pageID:a.pageID,instagramAccountID:a.instagramAccountID,stockImageQuery:null,availableSources:k()});c("AdsAllImageSourceSetQueryAction").dispatch({query:b},{line:"94",module:"AdsAllImageDataSourcePlugin.js"})}return b},getStores:function(){return[].concat(d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector.getStores(),c("AdsImageDataSourcePlugins").filter(function(a){return![l.key].includes(a.key)}).getArray().reduce(function(a,b){return[].concat(a,b.getStores())},[j]))},hasQuery:function(a){if(a instanceof c("AdsAllImagesQuery")){a=a.toJS();a.adAccountID;a.sortBy;a=babelHelpers.objectWithoutPropertiesLoose(a,["adAccountID","sortBy"]);return Object.values(a).some(Boolean)}return!1},isEnabled:function(a){var b;a&&a.account&&(b=d("AdsAssetLiquidityUtils").isAssetLiquidityMediaPickerEnabledForStandardFlow(a.account)?!1:c("isTruthy")(a.placements));return!a||a.account==null||c("isTruthy")(b)?!1:!0},load:function(a){var b=d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector(),e=c("AdsPageImageQueryProvider")();e=e.query;e=e==null?void 0:e.pageID;var f=l.getAllSourceQuery!=null?l.getAllSourceQuery(a):null;if(f==null)return{currentPageID:e,imageIDs:c("immutable").OrderedSet(),isLoading:!1,maxSelectedImageIDs:b,uploadFailReason:null,hasNextPage:!1,uploadStatus:null,query:f};var g,h=new Map(),i=new Map();c("AdsImageDataSourcePlugins").filter(function(b){var c;return b.key!==l.key&&!((c=a.disabledSources)==null?void 0:c.has(b.source))&&b.isEnabled({account:a.account,placements:a.placements,isDCOAdgroup:a.adgroup?d("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a.adgroup):!1})}).getArray().forEach(function(b){var d=b.load(a);i.set(b.key,d.isLoading);d.isLoading||h.set(b.key,d.imageIDs);b.key===c("AdsAutoExtractImageDataSourcePlugin").key&&(g=d.imageBIReviewStatusMap)});var j=null,k=null;if(c("AdsAccountImageDataSourcePlugin").getUploadStatus){var m=c("AdsAccountImageDataSourcePlugin").getUploadStatus();j=m.uploadFailReason;k=m.uploadStatus}return{currentPageID:e,imageIDs:c("immutable").OrderedSet(),isLoading:!1,imageBIReviewStatusMap:g,imageIDsSourceMap:c("immutable").OrderedMap(h),isLoadingSourceMap:c("immutable").OrderedMap(i),maxSelectedImageIDs:b,uploadFailReason:j,hasNextPage:!1,uploadStatus:k,query:f}},onUpload:function(a,b,d,e){c("AdsAccountImageDataSourcePlugin").onUpload==null?void 0:c("AdsAccountImageDataSourcePlugin").onUpload(a,b,d,e)},loadMore:function(){},onSearch:function(a,b,d){b=d.query;if(!(b instanceof c("AdsAllImagesQuery"))||b==null)return;b=b.set("title",a).set("availableSources",k());c("AdsAllImageSourceSetQueryAction").dispatch({query:b},{line:"244",module:"AdsAllImageDataSourcePlugin.js"})},applyFilters:function(a,b,e){b=e;if(!(b instanceof c("AdsAllImagesQuery"))||b==null)return;e=d("AdsImageDialogFilterFieldConfig").parseApiFilters(a);a=e.minWidth;var f=e.minHeight,g=e.minAspectRatio;e=e.maxAspectRatio;b=b.set("minWidth",a).set("minHeight",f).set("minAspectRatio",g).set("maxAspectRatio",e).set("availableSources",k());c("AdsAllImageSourceSetQueryAction").dispatch({query:b},{line:"267",module:"AdsAllImageDataSourcePlugin.js"})},applyPolicyCompliantFilter:function(){},availableSources:function(){return c("AdsImageDataSourcePlugins").filter(function(a){return a.isEnabled()}).getArray()},reset:function(a){var b,d=c("AdsPageImageQueryProvider")();d=d.query;var e=l.availableSources!=null?l.availableSources():[];c("AdsAllImageSourceSetQueryAction").dispatch({query:new(c("AdsAllImagesQuery"))({adAccountID:a.account.account_id,businessID:(b=a.account.business)==null?void 0:b.id,pageID:(b=d==null?void 0:d.pageID)!=null?b:a.pageID,instagramAccountID:a.instagramAccountID,stockImageQuery:null,availableSources:e})},{line:"288",module:"AdsAllImageDataSourcePlugin.js"})}};a=l;g["default"]=a},98);
__d("AdsSFSetImagePickerSourceReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{imagePickerSource:b.imagePickerSource})}};b=a;f["default"]=b},66);
__d("AdsOMPImagePickerSetImageSourceReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{imagePickerSource:b.source,hasSourceChanged:b.hasSourceChanged})}};b=a;f["default"]=b},66);
__d("AdsCreativeDiversityMediaPickerTipComponent",["AdsCreativeDiversityConstants","GeoButton.react","GeoFlexbox.react","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","geoMargin","isTruthy","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=a.mediaType,e=a.marginTop,f=a.showActionBtn;f=f===void 0?!1:f;a=a.showRecommendationBtnHandler;var g=i(!0),j=g[0],k=g[1];if(!j)return null;g=b==="image"?d("AdsCreativeDiversityConstants").getAdsMediaPickerCreativeDiversityTipImageHeaderContent():d("AdsCreativeDiversityConstants").getAdsMediaPickerCreativeDiversityTipVideoHeaderContent();j=d("AdsCreativeDiversityConstants").getAdsMediaPickerCreativeDiversityTipBodyContent();b=d("AdsCreativeDiversityConstants").getViewRecommendedImageButtonLabel();return h.jsx("div",{style:{marginTop:e,width:"100%"},children:h.jsx(c("GeoGuidanceCard.react"),{header:h.jsx(c("GeoGuidanceCardHeader.react"),{heading:g,onClose:function(){return k(!1)}}),status:"recommendation-personal",children:h.jsxs(c("GeoGuidanceCardContent.react"),{children:[j," ",c("isTruthy")(f)&&h.jsx(c("GeoFlexbox.react"),{children:h.jsx(c("GeoButton.react"),{label:b,xstyle:c("geoMargin").end8,onClick:a})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.AdsCreativeDiversityMediaPickerTipComponent=a},98);
__d("AdsCreativeDiversityMediaPickerTipContainer.react",["AdsCreativeDiversityMediaPickerTipComponent","AdsFluxHooks","AdsImageSelectorV2Types","AdsOMPSetImageSourceAction","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=function(){var a=d("AdsImageSelectorV2Types").AdsImageSource.RECOMMENDED_IMAGE;c("AdsOMPSetImageSourceAction").dispatch({source:a,hasSourceChanged:!0},{line:"29",module:"AdsCreativeDiversityMediaPickerTipContainer.react.js"})};return h.jsx("div",{style:{width:"calc(100% - 12px)"},children:h.jsx(d("AdsCreativeDiversityMediaPickerTipComponent").AdsCreativeDiversityMediaPickerTipComponent,{marginTop:16,mediaType:"image",showActionBtn:a.showActionBtn,showRecommendationBtnHandler:b})})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsUEditorAdgroupAssetAutoExtractEntryPoint.react",["fbt","ix","AdsAssetAutoExtractChangeUrlStatusAction","AdsAssetAutoExtractStrings","AdsAssetAutoExtractWebsiteUrlDataManager","AdsDynamicCreativeOptimizationLoggerEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsSetWebsiteCreativeAssetSourceAPIHelper","GeoBaseText.react","GeoButton.react","GeoFlexbox.react","GeoSplitInput.react","GeoSplitInputButton.react","GeoTextInput.react","ads-lib-urllib","fbicon","geoMargin","isTruthy","react","stylex","useDebouncedState","useGeoTheme"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=1500,m={providedUrlSection:{marginTop:"th51lws0",marginBottom:"mfn553m3",paddingTop:"d2hqwtrz",paddingEnd:"fzd7ma4j",paddingBottom:"o9wcebwi",paddingStart:"e4ay1f3w"}};function n(){var a=c("useGeoTheme")(),b=a.selectBorderRadius;a=a.selectStaticBackgroundColor;return[b({context:"container"}),a({surface:"wash"}),m.providedUrlSection]}function a(a){var b,e=a.accountID,f=a.adgroupID,g=a.isEditingEnabled,m=a.campaignID,o=a.suggestedUrl,p=a.websiteUrl;a=n();var q=(b=(b=p)!=null?b:o)!=null?b:"";b=c("useDebouncedState")(function(){return q},{debounceMS:l});var r=b[0],s=b[1];b=k(q);var t=b[0],u=b[1];b=function(a){u(a),s(a),c("AdsInterfacesLogger").logOnce({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_PROVIDE_URL,eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{ad_account_id:e,adgroup_id:f,campaign_id:m,message:a}})};r=t===r;r=r&&t!==""&&!c("ads-lib-urllib").isUrl(t);r=r?h._("La URL que has introducido ({Given website url}) no dirige a un sitio web. Comprueba la URL del sitio web y vuelve a intentarlo.",[h._param("Given website url",t)]):null;var v=c("isTruthy")(t)&&c("ads-lib-urllib").isUrl(t),w=function(){d("AdsAssetAutoExtractWebsiteUrlDataManager").initiateWebsiteAssetAutoExtract(e,t),d("AdsSetWebsiteCreativeAssetSourceAPIHelper").setWebsiteCreativeAssetSourceAndUpdateLaminarProvider(e,t),c("AdsAssetAutoExtractChangeUrlStatusAction").dispatch({isEditing:!1},{line:"122",module:"AdsUEditorAdgroupAssetAutoExtractEntryPoint.react.js"}),c("AdsInterfacesLogger").log({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_APPROVE_URL,eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{ad_account_id:e,adgroup_id:f,campaign_id:m,message:t}}),t===o&&c("AdsInterfacesLogger").log({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_APPROVE_SUGGESTED_URL,eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{ad_account_id:e,adgroup_id:f,campaign_id:m,message:t}})};return c("isTruthy")(p)&&g?j.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",xstyle:a,children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"truncate",size:"value",children:p}),j.jsx(c("GeoButton.react"),{icon:d("fbicon")._(i("478237"),16),isLabelHidden:!0,label:h._("Editar"),variant:"flat",onClick:function(){d("AdsSetWebsiteCreativeAssetSourceAPIHelper").setWebsiteCreativeAssetSourceAndUpdateLaminarProvider(e,null),c("AdsInterfacesLogger").log({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_ADVERTISER_OPT_OUT,eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{ad_account_id:e,adgroup_id:f,campaign_id:m,message:p}})}})]}):j.jsxs(j.Fragment,{children:[j.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:j.jsx(c("GeoSplitInput.react"),{button:j.jsx(c("GeoSplitInputButton.react"),{isDisabled:!v,label:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_APPROVAL_BUTTON_LABEL,onClick:w}),isLabelHidden:!0,label:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_WEBSITE_INPUT_LABEL,children:j.jsx(c("GeoTextInput.react"),{errorMessage:r,isEdited:t===o,isLabelHidden:!0,label:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_WEBSITE_INPUT_LABEL,placeholder:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_PLACEHOLDER_URL,value:t,onChange:b,onEnter:v?w:void 0})})}),j.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"block",size:"valueDescription",xstyle:c("geoMargin").top8,children:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_AGREEMENT_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorAdgroupAssetAutoExtractEmptyStateContainer.react",["fbt","AdsAssetAutoExtractStrings","AdsLabeledField.react","AdsUEditorAdgroupAssetAutoExtractEntryPoint.react","AdsUEditorContainer.react","GeoBaseText.react","GeoDivider.react","GeoFlexbox.react","GeoHeading.react","Keyframes.react","adsUEditorAdgroupAssetAutoExtractContainerSelector","bx","geoMargin","isTruthy","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{marginTop:"q6ul9yy4",marginEnd:"pry8b2m5",marginBottom:"i7rjuzed",marginStart:"p8zq7ayg",paddingBottom:"ez8dtbzv",width:"r96hdppw"}};function a(a){var b,e=a.account,f=a.adgroupIDs,g=a.campaignIDs,k=a.suggestedUrlLoadObject,l=a.websiteUrlLoadObject;a.isEditing;a.isFirstEdit;a=l.getValue();l=k.getValue();k=c("isTruthy")(a);b=(b=a)!=null?b:"";b=i.jsxs("div",{className:c("stylex")(c("geoMargin").vert8),children:[i.jsxs("div",{className:c("stylex")(c("geoMargin").bottom8),children:[i.jsx(c("GeoHeading.react"),{display:"truncate",level:3,xstyle:c("geoMargin").bottom4,children:h._("No se ha encontrado contenido multimedia que cumpla los requisitos en {Given website url}",[h._param("Given website url",b)])}),i.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",children:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_NO_ELIGIBLE_MEDIA_FOUND_DESCRIPTION})]}),i.jsx(c("GeoDivider.react"),{})]});return i.jsxs(c("GeoFlexbox.react"),{direction:"row",xstyle:j.root,children:[i.jsx(c("Keyframes.react"),{assetName:"no-ad-sets_actionable-animated_large",projectName:"ads_format_automation",source:c("bx").getURL(c("bx")("1960670")),width:400}),i.jsxs(c("GeoFlexbox.react"),{direction:"column",justifyContent:"center",children:[k?b:null,i.jsx("div",{children:i.jsx(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",children:i.jsx(c("AdsLabeledField.react"),{helpText:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_DESCRIPTION_IMAGES_ONLY,isAutomaticFlow:!0,label:k?d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_TITLE_MEDIA_PICKER_NO_MEDIA_FOUND:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_TITLE_MEDIA_PICKER,labelSize:"small",labelSupplementaryContent:i.jsx(c("GeoBaseText.react"),{color:"value",size:"valueDescription",children:d("AdsAssetAutoExtractStrings").CREATIVE_SOURCES_DESCRIPTION_IMAGES_ONLY})})})}),i.jsx(c("AdsUEditorAdgroupAssetAutoExtractEntryPoint.react"),{accountID:e.account_id,adgroupID:f.length===1?f[0]:null,campaignID:g.length===1?g[0]:null,isEditingEnabled:!1,suggestedUrl:l,websiteUrl:a})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsUEditorContainer.react").createAdgroupContainer(a,c("adsUEditorAdgroupAssetAutoExtractContainerSelector"),f.id);g["default"]=b},98);
__d("AdsOnDragUploadFileTargetWrapper.react",["fbt","ix","AdsInterfacesLogger","GeoFileSelector.react","IPB4BImage.react","joinClasses","react","stylex","useFileDragEvents"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.cloneElement,l=b.useRef,m={fullHeight:{height:"pytsy3co"},hidden:{display:"plzdoh0l"},flexTall:{flexGrow:"cgu29s5g",flexShrink:"i15ihif8",flexBasis:"thmcm15y"},invisible:{visibility:"qpyp3sab",flexGrow:"c7y9u1f0",flexShrink:"jez8cy9q",flexBasis:"jg3vgc78",height:"nuz1ool1",paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"rl78xhln",paddingStart:"nch0832m"}},n=function(a){return["text/plain","text/html","text/uri-list"].includes(a)},o=function(a){a=(a=(a=a.dataTransfer)==null?void 0:a.items)!=null?a:[];return a.length>0&&Array.from(a).every(function(a){return!n(a.type)})};function a(a){var b=a.allowMultiUpload;b=b===void 0?!1:b;var d=a.children,e=a.onUpload;a=a.xstyle;var f=c("useFileDragEvents")(function(a){return!1},document.documentElement,o),g=l(null);g=c("useFileDragEvents")(function(a){c("AdsInterfacesLogger").log({eventName:"l1_media_drag_and_drop_upload"}),e(Array.from(a))},g.current,o);f=f||g;d=k(d,babelHelpers["extends"]({},d.props,{className:c("joinClasses")(c("stylex")(f&&m.invisible),d.props!=null&&typeof d.props.className==="string"?(g=d.props)==null?void 0:g.className:null)}));return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:c("stylex")(a,f?m.flexTall:m.hidden),children:j.jsx(c("GeoFileSelector.react"),{allowMultiple:b,"data-dropzone-testid":"ads-media-picker-drag-and-drop",image:j.jsx(c("IPB4BImage.react"),{src:i("1074722")}),isLabelHidden:!0,isOptional:!0,label:h._("Selector de archivos"),value:[],variant:"drop",xstyle:m.fullHeight,onChange:e})}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorAssetPickerRecommendedImageIcon.react",["ix","Image.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return a.isRecommendedImageStarBadgeQEEnabled===!1?i.jsx(c("Image.react"),{className:"b0ur3jhr nmlomj2f qwcclf47 e7u6y3za qmqpeqxj f5qk8eb6 gd17zc4t rqw7d97v s2yh183q gxrezr7k",ref:a.imageRef,src:h("1766190")}):i.jsx(c("Image.react"),{className:"b0ur3jhr nmlomj2f qwcclf47 e7u6y3za qmqpeqxj f5qk8eb6 gd17zc4t rqw7d97v s2yh183q gxrezr7k",ref:a.imageRef,src:h("175945")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react",["fbt","ix","AdsCreativeDiversityIcon.react","AdsUEditorAssetPickerRecommendedImageIcon.react","DurationFormatter","FBOverlayElement.react","GeoClearableBadge.react","GeoIcon.react","GeoPill.react","GeoStatusIcon.react","Image.react","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={badgeContainer:{marginTop:"i0rxk2l3",marginEnd:"b7mnygb8",marginBottom:"laatuukc",marginStart:"iec8yc8l"},disabledWash:{backgroundColor:"jjseejtz",opacity:"mi59tyey"},errorIconBackground:{height:"sws6tvwg",width:"kes50e98"},icon:{position:"s8sjc6am",zIndex:"b0ur3jhr"},iconBackground:{backgroundColor:"jjseejtz",position:"s8sjc6am",start:"py3ibqi0",top:"qy9lpsl4",transform:"gaei4kxk"},iconContainer:{height:"eohcrkr5",marginTop:"th51lws0",marginEnd:"h07fizzr",marginBottom:"mfn553m3",marginStart:"jbg88c62",width:"akh3l2rg"},iconWrapper:{height:"pytsy3co",position:"om3e55n1"},videoLengthContainer:{marginTop:"th51lws0",marginEnd:"h07fizzr",marginBottom:"mfn553m3",marginStart:"jbg88c62",width:"iryl7rsq"},preapprovalIcon:{backgroundColor:"gxrezr7k",borderTop:"s2yh183q",borderEnd:"rqw7d97v",borderBottom:"gd17zc4t",borderStart:"f5qk8eb6",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"},selectedBorder:{borderTop:"cghrf00n",borderEnd:"haboqajx",borderBottom:"qsl64bkv",borderStart:"pjbmbmon",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",marginTop:"mmwt03ec",marginEnd:"hnay576k",marginBottom:"mtzt5fvk",marginStart:"rng1terr"},violationIconBackground:{borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",height:"cl67t5wl",width:"obt709sw"},warningIconBackground:{height:"fyx3dgpn",width:"cowpzf8e"},zoomInIconBackground:{borderTopStartRadius:"kd5rupo6",borderTopEndRadius:"r4k0qbtt",borderBottomEndRadius:"aumeoq2x",borderBottomStartRadius:"ngcnkq1q",height:"dmdr2h6l",width:"kgzac55p"},zoomInIconContainer:{height:"k250bvdn",marginTop:"obdt02g8",marginEnd:"lxowtz8q",marginBottom:"eyufkmuh",marginStart:"bhi259hv",paddingTop:"d2hqwtrz",paddingEnd:"fzd7ma4j",paddingBottom:"o9wcebwi",paddingStart:"lcfup58g",width:"cv5aopd8"},zoomInIconWrapper:{animationDuration:"dzwucfd1",animationName:"jdqxgllz",opacity:"dpn48ufg",":hover":{opacity:"beiy8v6c"}}},l={horizontal:"right",vertical:"bottom"};function a(){return j.jsx(c("FBOverlayElement.react"),{children:j.jsx("div",{className:c("stylex")(k.selectedBorder)})},"border")}a.displayName=a.name+" [from "+f.id+"]";function b(){return j.jsx(c("FBOverlayElement.react"),{children:j.jsx("div",{className:c("stylex")(k.disabledWash)})},"disabled_wash")}b.displayName=b.name+" [from "+f.id+"]";e=function(a){return j.createElement(c("FBOverlayElement.react"),babelHelpers["extends"]({},l,{key:"error"}),j.jsx("div",{className:c("stylex")(k.iconContainer),children:j.jsxs("div",{className:c("stylex")(k.iconWrapper),children:[j.jsx(c("Image.react"),{className:c("stylex")(k.icon),ref:a,src:i("489535")}),j.jsx("div",{className:c("stylex")(k.iconBackground,k.errorIconBackground)})]})}))};f=function(a){return j.createElement(c("FBOverlayElement.react"),babelHelpers["extends"]({},l,{key:"warning"}),j.jsx("div",{className:c("stylex")(k.iconContainer),"data-testid":void 0,children:j.jsxs("div",{className:c("stylex")(k.iconWrapper),children:[j.jsx(c("Image.react"),{className:c("stylex")(k.icon),ref:a,src:i("480790")}),j.jsx("div",{className:c("stylex")(k.iconBackground,k.warningIconBackground)})]})}))};var m=function(a){return j.jsx(c("FBOverlayElement.react"),{horizontal:"left",vertical:"bottom",children:j.jsx("div",{className:c("stylex")(k.zoomInIconContainer),"data-testid":void 0,ref:a,children:j.jsxs("div",{className:c("stylex")(k.iconWrapper,k.zoomInIconWrapper),children:[j.jsx(c("GeoIcon.react"),{icon:d("fbicon")._(i("491226"),12),xstyle:k.icon}),j.jsx("div",{className:c("stylex")(k.iconBackground,k.zoomInIconBackground)})]})})},"fullsize")},n=function(a,b){return j.jsx(c("FBOverlayElement.react"),{horizontal:"right",vertical:"top",children:j.jsx("div",{className:c("stylex")(k.videoLengthContainer),"data-testid":void 0,ref:a,children:j.jsx(c("GeoPill.react"),{label:h._("Length of video"),value:d("DurationFormatter").formatShort(Math.round(b.getValueEnforcing()))})})},"video-length")},o=function(a,b){return j.createElement(c("FBOverlayElement.react"),babelHelpers["extends"]({},l,{key:"recommended"}),j.jsx("div",{className:c("stylex")(k.iconContainer),children:j.jsx("div",{className:c("stylex")(k.iconWrapper),children:j.jsx(c("AdsUEditorAssetPickerRecommendedImageIcon.react"),{imageRef:a,isRecommendedImageStarBadgeQEEnabled:b})})}))},p=function(a){return j.createElement(c("FBOverlayElement.react"),babelHelpers["extends"]({},l,{key:"diverse"}),j.jsx("div",{className:c("stylex")(k.iconContainer),children:j.jsx("div",{className:c("stylex")(k.iconWrapper),children:j.jsx(c("AdsCreativeDiversityIcon.react"),{imageRef:a})})}))},q=function(a){return j.createElement(c("FBOverlayElement.react"),babelHelpers["extends"]({},l,{key:"badge",vertical:"top"}),j.jsx("div",{className:c("stylex")(k.badgeContainer),children:j.jsx(c("GeoClearableBadge.react"),{density:"dense",label:h._("Has seleccionado {number of items selected} elementos. Haz clic para desmarcarlos.",[h._param("number of items selected",a)]),value:a})}))},r=function(a,b){return j.createElement(c("FBOverlayElement.react"),babelHelpers["extends"]({},l,{key:"violation",vertical:"bottom"}),j.jsx("div",{className:c("stylex")(k.iconContainer),children:j.jsxs("div",{className:c("stylex")(k.iconWrapper),children:[j.jsx("div",{className:c("stylex")(k.icon),ref:a,children:b==="rejection"?j.jsx(c("GeoStatusIcon.react"),{status:"error-emphasized"}):j.jsx(c("Image.react"),{className:b==="preapproval"?c("stylex")(k.preapprovalIcon):null,src:i("1270245")})}),j.jsx("div",{className:c("stylex")(k.iconBackground,k.violationIconBackground)})]})}))};g.selectedOverlay=a;g.disabledOverlay=b;g.errorOverlay=e;g.warningOverlay=f;g.zoomInOverlay=m;g.videoLengthPillOverlay=n;g.recommendedImageOverlay=o;g.diverseImageOverlay=p;g.badgeOverlay=q;g.policyErrorOverlay=r},98);
__d("AdsUEditorAssetPickerUploadItem.react",["fbt","ix","AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react","BackgroundImage.react","FBOverlayBase.react","FBOverlayContainer.react","GeoBaseText.react","GeoSpinner.react","GeoTooltip.react","Image.react","ShimButton.react","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=96;function a(a){var b=k(!1),e=b[0],f=b[1];b=a.data;var g=b.name;b=b.status;var m=a.isSelected===!0?d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").selectedOverlay():null,n=a.thumbnailURL!=null?j.jsx(c("BackgroundImage.react"),{backgroundSize:"containinside",height:l,loadingIndicatorStyle:"small",src:a.thumbnailURL,width:l}):null,o=null;switch(b){case"loading":var p,q=Math.floor(a.data.progress*100);q=q.toString(10);n=(p=n)!=null?p:j.jsx(c("GeoSpinner.react"),{center:!0});o=q+"%";break;case"buffering":o=h._("Procesando\u2026");n=(p=n)!=null?p:j.jsx(c("GeoSpinner.react"),{center:!0});break;case"error":q=a.data.errorMessage;p=j.jsx(c("Image.react"),{src:i("652061")});n=q!=null?j.jsx(c("GeoTooltip.react"),{content:q,children:p}):p;o=h._("Error de carga");break;default:o=h._("Procesando\u2026");n=j.jsx(c("GeoSpinner.react"),{center:!0});break}q=j.jsx("div",{className:"mfclru0v i0rxk2l3",children:j.jsx(c("GeoBaseText.react"),{color:"value","data-testid":void 0,display:"truncate",size:"value",textAlign:"center",weight:a.isSelected===!0?"bold":"normal",children:g})});p=j.jsx(c("GeoBaseText.react"),{color:"value",size:"valueDescription",children:o});g=j.jsxs("div",{className:"b32bw860 icdlwmnq cqf1kptm alzwoclg fsf7x5fv ta68dy8c kpwa50dg m0cukt09 h8391g91 i85zmo3j",children:[j.jsx("div",{className:"b32bw860 hf30pyar lq84ybu9 jcxyg2ei kjpnmg3l alzwoclg trbvugp6 j94dm2s7 j32recxq p5mefues nyvnmq5r i85zmo3j",children:n}),q,p]});return b!=="error"&&a.onCancelUpload?j.jsxs("div",{"data-test-decoration":a.isSelected===!0?"selected":void 0,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:[e&&j.jsx(c("ShimButton.react"),{className:"b0ur3jhr mx6bq00g aqn2c4q8 s8sjc6am t9eeaqum jcxyg2ei mwtcrujb alzwoclg fsf7x5fv mxl05yvw qdd6itll bidgex17 hkfqod77 idjxb2ya jjseejtz i85zmo3j",onClick:a.onCancelUpload,children:j.jsx(c("Image.react"),{src:i("499673")})}),j.jsxs(c("ShimButton.react"),{className:"b32bw860 icdlwmnq cqf1kptm alzwoclg fsf7x5fv ta68dy8c kpwa50dg m0cukt09 h8391g91 i85zmo3j",onClick:a.onSelect,children:[j.jsxs(c("FBOverlayContainer.react"),{children:[j.jsx(c("FBOverlayBase.react"),{children:j.jsx("div",{className:"b32bw860 hf30pyar lq84ybu9 jcxyg2ei kjpnmg3l alzwoclg trbvugp6 j94dm2s7 j32recxq p5mefues nyvnmq5r i85zmo3j",children:n})}),m]}),q,p]})]}):j.jsx("div",{children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorAllSourceTabAssetPickerGridWrapper.react",["fbt","ix","AdsDynamicCreativeOptimizationLoggerEvents","AdsImageSelectorV2Types","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsPageDropdownSelector.react","AdsUEditorAssetPickerUploadItem.react","AdsUEditorPageSelectionUtils","CometPlaceholder.react","GeoBaseText.react","GeoFlexbox.react","GeoLink.react","GeoMediaItem.react","GeoSpinner.react","GeoText.react","GeoTooltip.react","Image.react","JSResource","emptyFunction","immutable","lazyLoadComponent","react","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResource")("AdsUEditorCreativeToolAssetPickerGrid.react").__setRef("AdsUEditorAllSourceTabAssetPickerGridWrapper.react")),l=170,m={labelText:{marginStart:"jbg88c62"},endDesc:{marginTop:"i0rxk2l3",marginEnd:"h07fizzr"},link:{marginStart:"jbg88c62",marginEnd:"b7mnygb8"},tooltipIcon:{marginStart:"jbg88c62",display:"fxk3tzhb"},pageSelection:{marginStart:"jbg88c62",width:"awb2xz7i",overflowX:"lq84ybu9",overflowY:"hf30pyar"}};function a(a){var b=a.adgroup,e=a.columnCount,f=a.disableUnselectedItems,g=a.hideItemCounter,n=a.isLoading,o=a.itemBIReviewStatusMap,p=a.itemIDs,q=a.itemRenderer,r=a.maxSelectionCount,s=a.numRows,t=a.selectedItems,u=a.uploadStatus,v=a.onSelect,w=a.onChangeSource,x=a.sourceKey;s=s*l;e={columnCount:(e=e)!=null?e:8,containerPadding:8,disableHeight:!0,gridHeightOverride:s};b={adgroup:b,uploadStatus:u,containerStyle:{overflow:"visible"},disableUnselectedItems:f,hasAutoExtractedMedia:x===d("AdsImageSelectorV2Types").AdsImageSource.AUTO_EXTRACT_IMAGE,hasNextPage:!1,hideItemCounter:g,isLoading:n,itemBIReviewStatusMap:o,itemIDs:p,itemRenderer:q,maxSelectionCount:r,selectedItems:t,uploadingItemRenderer:c("AdsUEditorAssetPickerUploadItem.react"),onSelect:v,onEndReached:c("emptyFunction")};u=function(){w(x)};function y(a){return a.reduce(function(a,b){a[b.id]=b;return a},{})}f=function(b){d("AdsUEditorPageSelectionUtils").onPageSelectionChange(a.adAccountID,b)};if(!a.isLoading&&(a.itemsCount===0||a.itemIDs.size===0))return null;g=j.jsx(c("GeoSpinner.react"),{center:!0});if(!a.isLoading&&a.itemsCount>0){n={height:s};g=j.jsx("div",{style:n,children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("GeoSpinner.react"),{center:!0}),children:j.jsx(k,babelHelpers["extends"]({},e,b))})})}x===d("AdsImageSelectorV2Types").AdsImageSource.AUTO_EXTRACT_IMAGE&&c("AdsInterfacesLogger").logOnce({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_IMAGE_PICKER_OPEN,eventCategory:c("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{}});o=null;if(x===d("AdsImageSelectorV2Types").AdsImageSource.PAGE_IMAGE&&a.pagesLoadObject!=null){r=a.pagesLoadObject.hasValue()?(q=a.pagesLoadObject)==null?void 0:q.getValueEnforcing():c("immutable").List();if(r){t=y(r);s=j.jsx(c("GeoFlexbox.react"),{xstyle:m.pageSelection,children:j.jsx(c("AdsPageDropdownSelector.react"),{defaultLabel:h._("Seleccionar p\u00e1gina"),pages:t,selectedActorID:(v=a.currentPageID)!=null?v:a.pageID,onChange:f})});o=s}}n=x===d("AdsImageSelectorV2Types").AdsImageSource.PAGE_IMAGE;return j.jsxs(c("GeoFlexbox.react"),{direction:"column",children:[j.jsxs(c("GeoFlexbox.react"),{alignItems:"start",direction:"row",justifyContent:"space-between",children:[j.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[j.jsx(c("GeoTooltip.react"),{content:a.sourceConfig.label,children:j.jsx(c("GeoMediaItem.react"),{fit:"cover",media:j.jsx(c("Image.react"),{src:a.sourceConfig.icon}),ratio:"square",size:32})}),n?o:j.jsx(c("GeoText.react"),{display:"block",textAlign:"start",xstyle:m.labelText,children:a.sourceConfig.label}),a.sourceConfig.tooltip!=null?j.jsx(c("GeoTooltip.react"),{content:a.sourceConfig.tooltip,xstyle:m.tooltipIcon,children:j.jsx(c("Image.react"),{src:i("485955")})}):null]}),j.jsxs(c("GeoFlexbox.react"),{xstyle:m.endDesc,children:[j.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"block",size:"value",textAlign:"start",children:h._({"*":"Mostrando {number of loaded images} primeras im\u00e1genes","_1":"Mostrando primera imagen ({number of loaded images})"},[h._plural(p.size),h._param("number of loaded images",p.size)])}),j.jsx("div",{className:c("stylex")(m.link),children:j.jsx(c("GeoLink.react"),{onClick:u,children:h._("Ver todas")})})]})]}),g]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorAllSourceTabAssetPicker.react",["Ads3PSourcingUtils","AdsAccountImageDataSourcePlugin","AdsAllImageDataSourcePlugin","AdsAssetLiquidityLoggerUtils","AdsAutoExtractImageDataSourcePlugin","AdsBusinessImageDataSourcePlugin","AdsChildAttachmentsUtils","AdsCreativeDiversityL2L3LevelScoreDataSelector","AdsCreativeDiversityMediaPickerTipContainer.react","AdsDiverseImageDataSourcePlugin","AdsImageSelectorV2Types","AdsInstagramImageDataSourcePlugin","AdsMediaPickerConstants","AdsMediaPickerEmptyState.react","AdsOnDragUploadFileTargetWrapper.react","AdsPageImageDataSourcePlugin","AdsPerfInteractionComponentContext","AdsRecommendedImageDataSourcePlugin","AdsUEditorAllSourceTabAssetPickerGridWrapper.react","GeoSpinner.react","RecommendedImageLogger","ScrollableArea.react","geoMargin","immutable","react","stylex","withAdsHeroTracing"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={fileDropTarget:{height:"pytsy3co",marginTop:"r6ydv39a",marginBottom:"p8bdhjjv"}},k=c("withAdsHeroTracing").root("am_media_picker_dialog");function l(a){var b=a.perfInteractionComponent;a=a.children;return b==="am_media_picker_dialog"?a:h.jsx(k,{children:a})}l.displayName=l.name+" [from "+f.id+"]";var m=8,n=function(a){return a===1?3:a===2?2:1};function a(a){var b=a.sources.filter(function(a,b){return b!==c("AdsAllImageDataSourcePlugin").source}),e,f,g=a.sources.filter(function(a,b){return b===c("AdsDiverseImageDataSourcePlugin").source}),k;g=g.keySeq().filter(function(b){k=a.assetIDsSourceMap.has(b)?a.assetIDsSourceMap.get(b):c("immutable").OrderedSet();return k.size>0}).count();if(a.adgroup){var o=a.adgroup.id;f=d("AdsChildAttachmentsUtils").isStaticCarouselAd(a.adgroup)||d("AdsChildAttachmentsUtils").isCarouselAd(a.adgroup);e={adgroupID:o,eventSource:d("AdsAssetLiquidityLoggerUtils").AssetLiquidityMediaPickerSource.CAROUSEL,mediaFormat:c("AdsMediaPickerConstants").IMAGE}}function p(a){if(a===c("AdsAutoExtractImageDataSourcePlugin").key)return"AUTO_EXTRACT_IMAGE";else if(a===c("AdsBusinessImageDataSourcePlugin").key)return"BUSINESS_IMAGE";else if(a===c("AdsInstagramImageDataSourcePlugin").key)return"INSTAGRAM_IMAGE";else if(a===c("AdsPageImageDataSourcePlugin").key)return"PAGE_IMAGE";return"ALL_IMAGE"}o=(o=a.shouldRenderMediaLiquidityImageGuidance)!=null?o:!1;var q=i(c("AdsPerfInteractionComponentContext")),r=d("AdsCreativeDiversityL2L3LevelScoreDataSelector").shouldShowMediaPickerTip(),s=b.keySeq().filter(function(b){return a.assetIDsSourceMap.has(b)&&a.assetIDsSourceMap.get(b).size>0}).count(),t=a.isLoadingSourceMap.includes(!0),u=t?1:n(s),v=u*m;u=b.reduce(function(b,g,i){var j,l=a.assetIDsSourceMap.has(i)?a.assetIDsSourceMap.get(i):c("immutable").OrderedSet();if(i===c("AdsDiverseImageDataSourcePlugin").key)return b;i===c("AdsRecommendedImageDataSourcePlugin").key&&a.isDiverseImageSectionEnabled&&(l=l.concat(k));l=l.slice(0,v);var n=a.assetIDsSourceMap.has(i)?a.assetIDsSourceMap.get(i).size:0;l.size>0&&((j=a.uploadStatus)==null?void 0:j.status)==="buffering"&&(l=l.remove(l.last()));j=i===c("AdsAccountImageDataSourcePlugin").key?a.uploadStatus:null;var o=i===c("AdsRecommendedImageDataSourcePlugin").key?function(b){a.selectedItems.includes(b)||d("RecommendedImageLogger").logRecommendedImageSelected(d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE);f&&d("AdsAssetLiquidityLoggerUtils").logUnifiedMediaPickerAssetUnderAllTabClick(babelHelpers["extends"]({},e,{assetSource:"RECOMMENDED_IMAGE"}));for(var c=arguments.length,g=new Array(c>1?c-1:0),h=1;h<c;h++)g[h-1]=arguments[h];a.onSelect.apply(a,[b].concat(g))}:i===c("AdsAccountImageDataSourcePlugin").key?function(b){var c;((c=a.hasRecommendedImageBadge)==null?void 0:c.get(b))===!0&&d("RecommendedImageLogger").logRecommendedImageSelected(d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE);f&&d("AdsAssetLiquidityLoggerUtils").logUnifiedMediaPickerAssetUnderAllTabClick(babelHelpers["extends"]({},e,{assetSource:"ACCOUNT_IMAGE"}));for(var g=arguments.length,h=new Array(g>1?g-1:0),i=1;i<g;i++)h[i-1]=arguments[i];a.onSelect.apply(a,[b].concat(h))}:function(b){f&&d("AdsAssetLiquidityLoggerUtils").logUnifiedMediaPickerAssetUnderAllTabClick(babelHelpers["extends"]({},e,{assetSource:p(i)}));for(var c=arguments.length,g=new Array(c>1?c-1:0),h=1;h<c;h++)g[h-1]=arguments[h];a.onSelect.apply(a,[b].concat(g))},q=Math.ceil(l.size/m);return b.push(h.jsx("div",{children:h.jsx(c("AdsUEditorAllSourceTabAssetPickerGridWrapper.react"),{adAccountID:a.adAccountID,adgroup:a.adgroup,columnCount:a.columnCount,currentPageID:a.currentPageID,disableUnselectedItems:a.disableUnselectedItems,hideItemCounter:a.hideItemCounter,isLoading:a.isLoadingSourceMap.get(i),itemBIReviewStatusMap:a.itemBIReviewStatusMap,itemIDs:l,itemRenderer:a.itemRenderer,itemsCount:n,maxSelectionCount:a.maxSelectionCount,numRows:q,pageID:a.pageID,pagesLoadObject:a.pagesLoadObject,selectedItems:a.selectedItems,sourceConfig:g,sourceKey:i,uploadStatus:j,onChangeSource:a.onChangeSource,onSelect:o,onUpload:a.onUpload})},i))},c("immutable").List());if(s===0&&t)return h.jsx(c("GeoSpinner.react"),{center:!0});b=s===0?h.jsx(l,{perfInteractionComponent:q,children:h.jsx(c("AdsMediaPickerEmptyState.react"),{})}):h.jsx(c("ScrollableArea.react"),{children:h.jsx(l,{perfInteractionComponent:q,children:h.jsxs(h.Fragment,{children:[r&&!o&&h.jsx(c("AdsCreativeDiversityMediaPickerTipContainer.react"),{showActionBtn:g>0}),o&&h.jsx("div",{style:{width:"calc(100% - 12px)"},children:h.jsx(d("Ads3PSourcingUtils").MaybeLiquidityGuidance,{marginTop:16,mediaType:"image"})}),h.jsx("div",{className:c("stylex")(c("geoMargin").top16),children:u})]})})});return a.onUpload!=null?h.jsx(c("AdsOnDragUploadFileTargetWrapper.react"),{allowMultiUpload:a.allowMultiUpload,xstyle:j.fileDropTarget,onUpload:a.onUpload,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerCreativeFolder.react",["ix","FBOverlayBase.react","FBOverlayContainer.react","GeoText.react","Image.react","ShimButton.react","geoMargin","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={folderImage:{marginStart:"trw3vfwo",marginTop:"negmqakr"},image:{backgroundColor:"s57oapzc",borderTopStartRadius:"p5mefues",borderTopEndRadius:"j32recxq",borderBottomEndRadius:"j94dm2s7",borderBottomStartRadius:"trbvugp6",height:"kjpnmg3l",overflowX:"lq84ybu9",overflowY:"hf30pyar",width:"b32bw860"},root:{alignItems:"i85zmo3j",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",cursor:"fsf7x5fv",display:"alzwoclg",flexDirection:"cqf1kptm",outline:"icdlwmnq",width:"b32bw860"},title:{width:"b32bw860"}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){c.$1=a},c.$3=function(){c.props.onSelect(c.props.id)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.props.title,b=i.jsx("div",{className:c("stylex")(j.folderImage),children:i.jsx(c("Image.react"),{backgroundSize:"contain",loadingIndicatorStyle:"small",src:h("727420")})});return i.jsx("div",{"data-testid":void 0,children:i.jsxs(c("ShimButton.react"),{"data-testid":void 0,xstyle:j.root,onClick:this.$3,children:[i.jsx(c("FBOverlayContainer.react"),{ref:this.$2,children:i.jsx(c("FBOverlayBase.react"),{children:i.jsx("div",{className:c("stylex")(j.image),ref:this.props.folderCellRef,children:b})})}),i.jsx("div",{className:c("stylex")(j.title),children:i.jsx(c("GeoText.react"),{display:"truncate",textAlign:"center",xstyle:c("geoMargin").top4,children:a})})]})})};return b}(i.Component);g["default"]=a},98);
__d("AdsAccountRecommendedImageStarBadgeQESelector",["AdsAccountQESelectors"],function(a,b,c,d,e,f,g){"use strict";a=c("AdsAccountQESelectors")._("1DIghL9O1:awcu4m0p4dp",{},{def:!1});b=a;g["default"]=b},98);
__d("AdsUEditorCreativeToolAssetPickerThumbnailPopover.react",["fbt","ix","AdsCreativeDiversityIcon.react","AdsUEditorAssetPickerRecommendedImageIcon.react","BUIPopover.react","GeoIcon.react","RecommendedImageLogger","fbicon","geoMargin","isTruthy","partitionArray","react","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l={row:{display:"alzwoclg",alignItems:"i85zmo3j",marginBottom:"laatuukc"},left:{display:"alzwoclg",alignItems:"i85zmo3j",flexGrow:"cgu29s5g"},secondaryIcon:{display:"fxk3tzhb",color:"gnhxmgs4"}};h._("Cumple los est\u00e1ndares");d("fbicon")._(i("502060"),12);h._("Calidad baja");var m=d("fbicon")._(i("1147503"),12),n=h._("Por debajo de los est\u00e1ndares"),o=h._("Recomendada"),p=h._("Recommended to improve the visual variety of the media in your campaign."),q=function(){var a=j.jsx("span",{className:c("stylex")([c("geoMargin").start16,l.secondaryIcon]),children:j.jsx(c("GeoIcon.react"),{color:"inherit",icon:d("fbicon")._(i("498148"),16)})});return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:c("stylex")(l.row),children:[j.jsxs("div",{className:c("stylex")(l.left),children:[j.jsx(c("GeoIcon.react"),{color:"info",icon:d("fbicon")._(i("478217"),16),xstyle:c("geoMargin").end12}),h._("Calidad")]}),a]}),j.jsxs("div",{className:c("stylex")(l.row),children:[j.jsxs("div",{className:c("stylex")(l.left),children:[j.jsx(c("GeoIcon.react"),{color:"info",icon:d("fbicon")._(i("297"),16),xstyle:c("geoMargin").end12}),h._("Resoluci\u00f3n")]}),a]}),j.jsxs("div",{className:c("stylex")(l.row),children:[j.jsxs("div",{className:c("stylex")(l.left),children:[j.jsx(c("GeoIcon.react"),{color:"info",icon:d("fbicon")._(i("702176"),16),xstyle:c("geoMargin").end12}),h._("Compatibilidad de ubicaci\u00f3n")]}),a]})]})};a=function(a){var b=a.errors,e=a.aesRating,f=a.aesROT,g=a.aesBalanceElements,i=a.minAesRating,r=a.minAesROT,s=a.minAesBalanceElements;b=b!=null?c("partitionArray")(b,function(a){return a.level=="warn"}):[[],[]];var t=b[0];b=b[1];var u=k(!0),v=u[0],w=u[1];u=k(!1);var x=u[0];u=u[1];var y,z;if(t.length)y=j.jsx(c("GeoIcon.react"),{color:"error",icon:m}),z=n,t=t.map(function(a){return j.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:a.message},a.key)});else if(b.length)t=b.map(function(a){return j.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:a.message},a.key)});else if(c("isTruthy")(a.isDiverseImage))y=j.jsx(c("AdsCreativeDiversityIcon.react"),{}),t=p;else if(e!=null&&e>=i&&f!=null&&f>=r&&g!=null&&g>=s)a.setHasRecommendedBagde!==void 0&&a.setHasRecommendedBagde(!0),d("RecommendedImageLogger").logStarIconSeen(a.isRecommendedImageStarBadgeQEEnabled),y=j.jsx(c("AdsUEditorAssetPickerRecommendedImageIcon.react"),{isRecommendedImageStarBadgeQEEnabled:a.isRecommendedImageStarBadgeQEEnabled}),z=o,t=j.jsx(q,{}),x||(d("RecommendedImageLogger").logRecommendedImageSeen(a.imageSource),u(!0));else return null;b=z!=null&&y!=null;e=function(){z===o&&v===!0&&(d("RecommendedImageLogger").logRecommendedStarHovered(a.imageSource),w(!1))};return j.jsxs(c("BUIPopover.react"),{hoverContextRef:a.hoverContextRef,onToggle:e,children:[b?h._("{icon} {title}",[h._param("icon",j.jsx("span",{className:c("stylex")([c("geoMargin").top4,c("geoMargin").end4,l.secondaryIcon]),children:y})),h._param("title",z)]):null,j.jsx("div",{className:c("stylex")([c("geoMargin").top8,b?c("geoMargin").start16:c("geoMargin").start8]),children:t})]})};b=a;g["default"]=b},98);
__d("AdsUEditorCreativeToolAssetPickerThumbnailUtil",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(a===!0)return a;a=b!=null&&b.some(function(a){return a.level==="warn"});b=c!=null&&c.length>0;return!b&&a?!0:!1}f.isAssetThumbnailDisabled=a},66);
__d("AdsUEditorCreativeToolAssetValidationErrors.react",["AdsErrorUtils","AdsMediaPickerItemErrorIconUtils","GeoText.react","geoMargin","nullthrows","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.errorRenderer;a=a.errors;if(a==null)return null;if(b!=null)b=c("nullthrows")(b(null,a));else{var e=d("AdsErrorUtils").getLevelForErrors(a);a=d("AdsErrorUtils").getAllErrorsAtLevel(a,e);b=d("AdsMediaPickerItemErrorIconUtils").getErrorMessages(a,e).map(function(a){return h.jsx(c("GeoText.react"),{display:"block",children:a})})}return h.jsx("ul",{children:b.map(function(a,b){return h.jsx("li",{className:c("stylex")(b>0&&c("geoMargin").top12),children:a},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolImageAssetPickerZoomInPopoverContainer.react",["AdsFluxHooks","AdsImageInfoStore","AdsImageUtils","AdsInterfacesLogger","BackgroundImage.react","GeoFlexbox.react","GeoPopover.react","adsCreateStructuredSelector","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=340,j={imageWrapper:{backgroundColor:"n4nqqpns",borderTopStartRadius:"p5mefues",borderTopEndRadius:"j32recxq",borderBottomEndRadius:"j94dm2s7",borderBottomStartRadius:"trbvugp6",marginEnd:"h0zv973x",marginBottom:"kzdo7wvt",marginStart:"dy70pwuf",marginTop:"iuqoo4w4",overflowX:"lq84ybu9",overflowY:"hf30pyar"}},k=c("adsCreateStructuredSelector")({getImageFullSizeUrl:c("AdsImageInfoStore").getFullSizeURLSelector,getFullSize:c("AdsImageInfoStore").getFullSizeSelector},f.id+".stateSelector");function a(a){var b=d("AdsFluxHooks").useAdsSelector(k),e=b.getImageFullSizeUrl;b=b.getFullSize;if(!a.imageID)return null;e=e(a.imageID);b=a.imageID!=null?b(a.imageID):null;if(!b||!b.hasValueWithoutError()||!e.hasValueWithoutError())return null;e=e.getValueEnforcing();b=b.getValueEnforcing();var f=b.height;b=b.width;if(!f||!b)return null;if(f>i||b>i){var g=d("AdsImageUtils").scaleImageFitIntoBox(b,f,i,i);f=g.height;b=g.width}g=Math.min(i,Math.max(f,b));var l=function(){return c("AdsInterfacesLogger").logOnce({eventName:"media_picker_image_popover_rendered"})};return h.jsx(c("GeoPopover.react"),{content:h.jsx(c("GeoFlexbox.react"),{alignItems:"center","data-testid":void 0,justifyContent:"center",style:{height:g,width:g},xstyle:j.imageWrapper,children:h.jsx(c("BackgroundImage.react"),{backgroundSize:"cover",height:f,loadingIndicatorStyle:"small",src:e,width:b})}),heading:"",isSticky:!1,position:"right",renderDelay:0,triggerRef:a.triggerRef,onToggle:l})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsUEditorCreativeToolVideoAssetPickerZoomInPopoverContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsSFVideoPlayerContainer.react","GeoFlexbox.react","GeoPopover.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j=340,k={imageWrapper:{backgroundColor:"jjseejtz",borderTopStartRadius:"p5mefues",borderTopEndRadius:"j32recxq",borderBottomEndRadius:"j94dm2s7",borderBottomStartRadius:"trbvugp6",marginEnd:"h0zv973x",marginBottom:"kzdo7wvt",marginStart:"dy70pwuf",marginTop:"iuqoo4w4",overflowX:"lq84ybu9",overflowY:"hf30pyar"}};function a(a){var b=i(!1),d=b[0];d=b[1];if(a.videoID==null||!a.size.hasValueWithoutError())return null;b=a.size.getValueEnforcing();d=Math.min(j,Math.max(b.height,b.width));b=h.jsx(c("AdsSFVideoPlayerContainer.react"),{croppingParam:null,isEnabled:!1,isHovering:!1,isVideoThumbnail:!0,sourceHeight:b.height,sourceWidth:b.width,targetHeight:d,targetWidth:d,videoID:a.videoID});var e=function(){return c("AdsInterfacesLogger").logOnce({eventName:"media_picker_video_popover_rendered"})};return h.jsx(c("GeoPopover.react"),{content:h.jsx(c("GeoFlexbox.react"),{alignItems:"center","data-testid":void 0,justifyContent:"center",style:{height:d+40,width:d},xstyle:k.imageWrapper,children:b}),heading:"",isSticky:!1,position:"right",renderDelay:0,triggerRef:a.triggerRef,onToggle:e})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsUEditorCreativeToolAssetPickerThumbnail.react",["AdsBusinessIntegrityPolicyDetailsPopover.react","AdsDynamicCreativeOptimizationLoggerEvents","AdsImageIDClasses","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsPreApprovalUtils","AdsUEditorCreativeAesRecommendationsConstants","AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react","AdsUEditorCreativeToolAssetPickerThumbnailPopover.react","AdsUEditorCreativeToolAssetPickerThumbnailUtil","AdsUEditorCreativeToolAssetValidationErrors.react","AdsUEditorCreativeToolImageAssetPickerZoomInPopoverContainer.react","AdsUEditorCreativeToolVideoAssetPickerZoomInPopoverContainer.react","BUIPopover.react","BackgroundImage.react","FBOverlayBase.react","FBOverlayContainer.react","GeoBaseText.react","GeoSpinner.react","ShimButton.react","emptyFunction","geoMargin","isTruthy","react","shallowEqual","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=96,j=120;function k(a,b){if(a===b)return!0;if(a==null||b==null)return!1;if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c].key!==b[c].key)return!1;return!0}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=h.createRef(),e.$2=function(){var a;return(a=e.$1)==null?void 0:a.current},e.$3=h.createRef(),e.$4=h.createRef(),e.$5=h.createRef(),e.state={hasRecommendedBadge:!1,isHovered:!1,openModalIndex:-1},e.$7=function(a){e.$6=a},e.$8=function(){var a=void 0,b=e.props.igIDtoPostsMap;e.props.videoSource==="INSTAGRAM"&&e.props.onSelectIGVideo&&b!=null&&(e.props.onSelectIGVideo(b.get(e.props.id)),a=b.get(e.props.id).fb_video_copy_id);e.props.onSelect(e.props.id,e.props.videoSource,a);c("isTruthy")(e.props.hasAutoExtractedMedia)&&c("AdsInterfacesLogger").logOnce({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_IMAGE_HAS_BEEN_SELECTED,eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{message:e.props.id}})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.shouldComponentUpdate=function(a,b){var d=a.errors;a=babelHelpers.objectWithoutPropertiesLoose(a,["errors"]);var e=this.props,f=e.errors;e=babelHelpers.objectWithoutPropertiesLoose(e,["errors"]);return!c("shallowEqual")(e,a)||!k(f,d)||!c("shallowEqual")(this.state,b)};e.render=function(){var a=this,b=this.props,e=b.counter,f=b.errors,g=b.isSelected,k=b.meta,l=b.src,m=b.title,n=b.onRenderTitle,o=b.policyInfoErrors,p=b.thumbnailSize;p=p===void 0?"small":p;var q=b.aesRating,r=b.aesROT,s=b.aesBalanceElements,t=b.isDisabled,u=b.isDiverseImage;b=b.shouldUseRecommendedThresholdV2;var v=[],w=g===!0?d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").selectedOverlay():null,x=o!=null&&o.length>0,y=function(b){a.setState({isHovered:b})},z=function(b){a.setState({openModalIndex:b})},A=function(a){z(a)},B=[],C=function(a){B.push(a)},D=f!=null&&f.some(function(a){return a.level==="warn"});t=d("AdsUEditorCreativeToolAssetPickerThumbnailUtil").isAssetThumbnailDisabled(t,f,o);var E=c("isTruthy")(b)?0:d("AdsUEditorCreativeAesRecommendationsConstants").AES_RATING_THRESHOLD,F=c("isTruthy")(b)?d("AdsUEditorCreativeAesRecommendationsConstants").AES_ROT_THRESHOLD:0;b=c("isTruthy")(b)?d("AdsUEditorCreativeAesRecommendationsConstants").AES_BALANCE_ELEMENTS_THRESHOLD:0;x?(o==null?void 0:o.some(function(a){return a.policyType==="preapproval"}))?v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").policyErrorOverlay(this.$1,"preapproval")):(o==null?void 0:o.some(function(a){return a.policyType==="rejection"}))?v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").policyErrorOverlay(this.$1,"rejection")):v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").policyErrorOverlay(this.$1,"gating")):f!=null&&f.length>0?D?v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").errorOverlay(this.$1)):v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").warningOverlay(this.$1)):c("isTruthy")(u)?v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").diverseImageOverlay(this.$1)):q!=null&&q>=E&&r!=null&&r>=F&&s!=null&&s>=b&&v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").recommendedImageOverlay(this.$1,this.props.isRecommendedImageStarBadgeQEEnabled));e!=null&&g===!0&&v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").badgeOverlay(e));t===!0&&v.unshift(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").disabledOverlay());u=this.state.openModalIndex;r={addModals:C,openModal:A,openModalIndex:u,setOpenModalIndex:z};s=p==="small"?i:j;e=l.hasValue()&&!c("isTruthy")(this.props.isBIReviewPending)?h.jsx(c("BackgroundImage.react"),{backgroundSize:"containinside",cacheKey:this.props.id instanceof d("AdsImageIDClasses").AdsImageID?this.props.id.getSignature():void 0,height:s,loadingIndicatorStyle:"small",src:l.getValueEnforcing(),width:s}):h.jsx("div",{className:c("stylex")({"height-1":"kjpnmg3l","overflow-x-1":"lq84ybu9","overflow-y-1":"hf30pyar","width-1":"b32bw860"},p==="large"?{"height-1":"oidp0d8r","width-1":"l4ldbwke"}:null),children:h.jsx(c("GeoSpinner.react"),{center:!0,"data-testid":void 0})});C=null;o!=null&&x?C=h.jsx(c("AdsBusinessIntegrityPolicyDetailsPopover.react"),{hoverContextRef:this.$2,isVideo:d("AdsPreApprovalUtils").checkIsVideoMediaID(this.props.id),mediaID:this.props.id,policyInfoErrors:o,popoverContext:r}):this.props.isAestheticRecommendationsEnabled===!0?C=h.jsx(c("AdsUEditorCreativeToolAssetPickerThumbnailPopover.react"),{aesRating:q,errors:f,hoverContextRef:this.$2,imageSource:this.props.imageSource,isDiverseImage:this.props.isDiverseImage,isRecommendedImageStarBadgeQEEnabled:this.props.isRecommendedImageStarBadgeQEEnabled,minAesBalanceElements:b,minAesROT:F,minAesRating:E,setHasRecommendedBagde:this.props.setHasRecommendedBagde}):f!=null&&f.length>0&&(C=h.jsx(c("BUIPopover.react"),{hoverContextRef:this.$2,children:h.jsx(c("AdsUEditorCreativeToolAssetValidationErrors.react"),{errorRenderer:this.props.errorRenderer,errors:f})}));A=null;u=null;!D&&this.state.isHovered&&(this.props.isZoomInEnabled===!0&&this.props.id instanceof d("AdsImageIDClasses").AdsImageID?(u=h.jsx(c("AdsUEditorCreativeToolImageAssetPickerZoomInPopoverContainer.react"),{imageID:this.props.id,triggerRef:this.$4}),A=d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").zoomInOverlay(this.$4)):(this.props.getIsVideoMPIEnabledWithoutLog==null?void 0:this.props.getIsVideoMPIEnabledWithoutLog())&&this.props.size!=null&&this.props.size.hasValueWithoutError()&&d("AdsPreApprovalUtils").checkIsVideoMediaID(this.props.id)&&this.props.igIDtoPostsMap==null&&(u=h.jsx(c("AdsUEditorCreativeToolVideoAssetPickerZoomInPopoverContainer.react"),{size:this.props.size,triggerRef:this.$4,videoID:{type:"video",id:String(this.props.id)}}),A=d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").zoomInOverlay(this.$4)));(this.props.getIsVideoMPIEnabledWithoutLog==null?void 0:this.props.getIsVideoMPIEnabledWithoutLog())&&this.props.length!=null&&this.props.length.hasValueWithoutError()&&!(this.props.id instanceof d("AdsImageIDClasses").AdsImageID)&&v.push(d("AdsUEditorCreativeToolAssetPickerThumbnailOverlays.react").videoLengthPillOverlay(this.$5,this.props.length));l=t===!0?"placeholder":"value";return h.jsx("div",{"data-test-decoration":g===!0?"selected":void 0,"data-testid":void 0,children:h.jsxs(c("ShimButton.react"),{className:c("stylex")({"align-items-1":"i85zmo3j","border-top-start-radius-1":"h8391g91","border-top-end-radius-1":"m0cukt09","border-bottom-end-radius-1":"kpwa50dg","border-bottom-start-radius-1":"ta68dy8c","cursor-1":"fsf7x5fv","display-1":"alzwoclg","flex-direction-1":"cqf1kptm","outline-0.1":"icdlwmnq","width-1":"b32bw860"},p==="large"?{"width-1":"l4ldbwke"}:null),"data-testid":void 0,onClick:t===!0?c("emptyFunction"):this.$8,children:[h.jsxs("div",{onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},children:[h.jsxs(c("FBOverlayContainer.react"),{ref:this.$7,children:[h.jsx(c("FBOverlayBase.react"),{children:h.jsx("div",{className:c("stylex")({"background-color-1":"n4nqqpns","border-top-start-radius-1":"p5mefues","border-top-end-radius-1":"j32recxq","border-bottom-end-radius-1":"j94dm2s7","border-bottom-start-radius-1":"trbvugp6","height-1":"kjpnmg3l","overflow-x-1":"lq84ybu9","overflow-y-1":"hf30pyar","width-1":"b32bw860"},p==="large"?{"height-1":"oidp0d8r","width-1":"l4ldbwke"}:null),children:e})}),w,v,A]}),u]}),h.jsx("div",{className:"mfclru0v",children:(s=n)!=null?s:h.jsx(c("GeoBaseText.react"),{color:l,display:"truncate",size:"value",textAlign:"center",weight:g===!0?"bold":void 0,xstyle:c("geoMargin").top4,children:m})}),h.jsx(c("GeoBaseText.react"),{color:l,size:"valueDescription",children:k}),C,B]})})};return b}(h.Component);g["default"]=a},98);
__d("AdsUEditorCreativeToolImagePickerThumbnailWrapper.react",["AdsDynamicCreativeOptimizationLoggerEvents","AdsInteractionTriggerElement.react","AdsInteractionTriggerTrackedKeys","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsMediaPickerDialogImageErrorContext","AdsMediaPickerUtils","AdsPerfInteractionComponentContext","AdsSetIsRecommendedImagesAction","AdsUEditorCreativeToolAssetPickerThumbnail.react","AdsUEditorCreativeToolAssetPickerThumbnailUtil","isFalsey","isTruthy","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState;function l(a,b){c("isTruthy")(a.hasAutoExtractedMedia)&&c("isFalsey")(a.isBIReviewPending)&&(c("AdsInterfacesLogger").logOnce({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_IMAGE_HAS_BEEN_SEEN,eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{message:a.messageKey}}),b!=null&&b.length>0&&c("AdsInterfacesLogger").logOnce({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_IMAGE_HAS_ERROR,eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{message:a.messageKey}}))}function a(a){var b=i(c("AdsPerfInteractionComponentContext")),e=i(c("AdsMediaPickerDialogImageErrorContext")),g=e.imageSpecs;e=e.placementSpecs;g=d("AdsMediaPickerUtils").calculateImageErrors(g,e,a.imageFullSize);l(a,g);var m=d("AdsUEditorCreativeToolAssetPickerThumbnailUtil").isAssetThumbnailDisabled(a.isDisabled,g,a.policyInfoErrors);e=k(!1);var n=e[0];e=e[1];j(function(){n&&c("AdsSetIsRecommendedImagesAction").dispatch({id:a.id,is_recommended_image:n},{line:"116",module:"AdsUEditorCreativeToolImagePickerThumbnailWrapper.react.js"})});return h.jsx(c("AdsInteractionTriggerElement.react"),{triggerContext:function(){return b==="am_creative_dialog"&&!m?{key:c("AdsInteractionTriggerTrackedKeys").AM_CREATIVE_EDITOR_CHANGE_IMAGE,source:f.id,shouldStartHTInteraction:!0}:null},children:h.jsx(c("AdsUEditorCreativeToolAssetPickerThumbnail.react"),{aesBalanceElements:a.aesBalanceElements,aesROT:a.aesROT,aesRating:a.aesRating,aspectRatio:a.aspectRatio,counter:a.counter,errors:g,hasAutoExtractedMedia:a.hasAutoExtractedMedia,id:a.id,imageSource:a.imageSource,isAestheticRecommendationsEnabled:a.isAestheticRecommendationsEnabled,isBIReviewPending:a.isBIReviewPending,isDisabled:m,isDiverseImage:a.isDiverseImage,isRecommendedImageStarBadgeQEEnabled:a.isRecommendedImageStarBadgeQEEnabled,isSelected:a.isSelected,isZoomInEnabled:a.isZoomInEnabled,meta:a.meta,policyInfoErrors:a.policyInfoErrors,setHasRecommendedBagde:e,shouldUseRecommendedThresholdV2:a.shouldUseRecommendedThresholdV2,src:a.src,title:a.title,onSelect:a.onSelect})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolImagePickerThumbnailContainer.react",["AdsAccountRecommendedImageStarBadgeQESelector","AdsApplicationUtils","AdsAssetFeedUtils","AdsCreativeExperienceExperimentStoreUtils","AdsCreativeToolMediaPickerUtils","AdsImageAssetToolPickerDiverseImagesProvider","AdsImageIDClasses","AdsImageInfoStore","AdsIntegrityPolicyInfoUtils","AdsMediaLibraryAspectRatioUtils","AdsMgmtGrowthExperimentStoreUtils","AdsNewlyUploadedImageAestheticScoreProvider","AdsUEditorCreativeAesRecommendationsConstants","AdsUEditorCreativeToolImagePickerThumbnailWrapper.react","FluxContainer","LoadObject","isTruthy","react","shallowEqual"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("AdsImageInfoStore").getNameSelector(),j=c("AdsImageInfoStore").getFullSizeSelector(),k=c("AdsImageInfoStore").getAesRatingSelector(),l=c("AdsImageInfoStore").getAesRotSelector(),m=c("AdsImageInfoStore").getAesBalanceElementsSelector(),n=c("AdsNewlyUploadedImageAestheticScoreProvider").toFluxSelector(),o=c("AdsImageInfoStore").getAdsIntegrityReviewInfoSelector(),p=c("AdsImageAssetToolPickerDiverseImagesProvider").toFluxSelector(),q="";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(){return[c("AdsImageInfoStore")].concat(c("AdsAccountRecommendedImageStarBadgeQESelector").getStores(),d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFEnabledSelector.getStores(),d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsDCOEnabledSelector.getStores(),d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFV2Selector.getStores(),d("AdsCreativeExperienceExperimentStoreUtils").getIsEligibleLargerImagePickerThumbnailsSelector.getStores(),n.getStores(),p.getStores())};b.calculateState=function(a,b){if(a!=null&&a.id.equals(b.id)){var e;e=a.thumbnail.hasValue()&&a.title.hasValue()&&!!((e=a.size)==null?void 0:e.hasValue());if(e)return a}e=c("AdsImageInfoStore").getThumbnailSelector();b.id instanceof d("AdsImageIDClasses").AdsShutterstockImageID?e=c("AdsImageInfoStore").getPreviewSelector():b.id instanceof d("AdsImageIDClasses").AdsExternalImageID&&(e=c("AdsImageInfoStore").getThumbnailURLSelector());a=b.adgroup?d("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(b.adgroup):!1;var f=a&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsDCOEnabledSelector()===d("AdsUEditorCreativeAesRecommendationsConstants").AES_ROT_BE_TESTGROUP||!a&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFV2Selector();a=d("AdsApplicationUtils").isPowerEditor()&&(!a&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsSFEnabledSelector()||a&&d("AdsMgmtGrowthExperimentStoreUtils").isAestheticRecommendationsDCOEnabledSelector()>0);var g=d("AdsCreativeExperienceExperimentStoreUtils").getIsEligibleLargerImagePickerThumbnailsSelector(),h=c("AdsAccountRecommendedImageStarBadgeQESelector")(),q=n().get(b.id),r=typeof q!=="undefined"&&q!==null,s=p().imageIDs.includes(b.id);e={id:b.id,key:b.id.getSignature(),size:j(b.id).map(function(a){return{height:a.height,width:a.width}}),title:i(b.id),thumbnail:e(b.id).map(function(a){var b;return a.url||((b=a.displayImage)==null?void 0:b.url)||a}),reviewInfo:d("AdsIntegrityPolicyInfoUtils").getAdsPolicyInfoErrors(o(b.id)),isAestheticRecommendationsEnabled:a,isZoomInEnabled:g(),aes_rating:a?r?c("LoadObject").withValue(q.aes_rating):k(b.id):c("LoadObject").empty(),aes_rot:a?r?c("LoadObject").withValue(q.aes_rot):l(b.id):c("LoadObject").empty(),aes_balance_elements:a?r?c("LoadObject").withValue(q.aes_balance_elements):m(b.id):c("LoadObject").empty(),imageFullSize:c("AdsImageInfoStore").getFullSize(b.id),isRecommendedImageStarBadgeQEEnabled:h,isDiverseImage:s,shouldUseRecommendedThresholdV2:f};return e};var e=b.prototype;e.shouldComponentUpdate=function(a,b){return!c("shallowEqual")(this.state,b)||!c("shallowEqual")(this.props,a)};e.render=function(){var a;return h.jsx(c("AdsUEditorCreativeToolImagePickerThumbnailWrapper.react"),{aesBalanceElements:(a=this.state.aes_balance_elements)==null?void 0:a.getValue(),aesROT:(a=this.state.aes_rot)==null?void 0:a.getValue(),aesRating:(a=this.state.aes_rating)==null?void 0:a.getValue(),aspectRatio:d("AdsMediaLibraryAspectRatioUtils").getAspectRatio(this.state.size),counter:this.props.counter,hasAutoExtractedMedia:this.props.hasAutoExtractedMedia,id:this.state.id,imageFullSize:this.state.imageFullSize,imageSource:this.props.imageSource,isAestheticRecommendationsEnabled:this.state.isAestheticRecommendationsEnabled,isBIReviewPending:this.props.isBIReviewPending,isDisabled:c("isTruthy")(this.props.isDisabled)||c("isTruthy")(this.props.isBIReviewPending),isDiverseImage:this.state.isDiverseImage,isRecommendedImageStarBadgeQEEnabled:this.state.isRecommendedImageStarBadgeQEEnabled,isSelected:this.props.isSelected,isZoomInEnabled:this.state.isZoomInEnabled,messageKey:this.state.key,meta:d("AdsCreativeToolMediaPickerUtils").formatSize(this.state.size),policyInfoErrors:this.state.reviewInfo,shouldUseRecommendedThresholdV2:this.state.shouldUseRecommendedThresholdV2,src:this.state.thumbnail,title:this.state.title.getValue()||q,onSelect:this.props.onSelect})};return b}(h.Component);b=c("FluxContainer").create(a,{withProps:!0});g["default"]=b},98);
__d("AdsUEditorCreativeToolVideoPickerThumbnailContainer.react",["AdsCreativeToolMediaPickerUtils","AdsIntegrityPolicyInfoUtils","AdsLoadStateUtils_LEGACY","AdsMediaLibraryAspectRatioUtils","AdsMediaPickerDialogVideoErrorContext","AdsUEditorCreativeToolAssetPickerThumbnail.react","AdsVideoStore","AdsVideoValidationUtils","FluxContainer","LoadObject","react","shallowEqual"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="",j=c("LoadObject").loading(),k=c("LoadObject").loading(),l=c("LoadObject").loading(),m=c("LoadObject").loading(),n="/images/ads/video/image-thumbnail.png",o="/images/video/player/spherical/gyro.png";function p(a){if(a.preferredThumbnail!=null)return a.preferredThumbnail.uri;else if(a.spherical)return o;return n}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(){return[c("AdsVideoStore")]};b.calculateState=function(a,b){if(a!=null&&a.id===b.id){var e;e=a.thumbnail.hasValue()&&a.title.hasValue()&&!!((e=a.size)==null?void 0:e.hasValue());if(e)return a}e={id:b.id,key:b.id,length:j,size:k,title:l,thumbnail:m,reviewInfo:[]};a=b.igIDtoPostsMap!=null;if(a){a=(a=b.igIDtoPostsMap)==null?void 0:a.get(b.id).fb_video_copy_id;a=a!==void 0?c("AdsVideoStore").get(a):null}else a=c("AdsVideoStore").get(b.id);if(a&&d("AdsLoadStateUtils_LEGACY").isLoaded(a)){e.title=c("LoadObject").withValue((b=(b=a.name)!=null?b:a.title)!=null?b:"");e.thumbnail=c("LoadObject").withValue(p(a));e.size=c("LoadObject").withValue({height:a.height,width:a.width});e.length=c("LoadObject").withValue(a.length);b=a.ads_integrity_review_info;b!=null&&(e.reviewInfo=d("AdsIntegrityPolicyInfoUtils").getAdsPolicyInfoErrors(c("LoadObject").withValue(b)))}return e};var e=b.prototype;e.shouldComponentUpdate=function(a,b){return!c("shallowEqual")(this.state,b)||a.isSelected!==this.props.isSelected||a.isDisabled!==this.props.isDisabled};e.render=function(){var a=this,b=this.props.igIDtoPostsMap;return h.jsx(c("AdsMediaPickerDialogVideoErrorContext").Consumer,{children:function(e){e=e.errors;e=e?e.get(a.props.id):null;var f=b!=null;return h.jsx(c("AdsUEditorCreativeToolAssetPickerThumbnail.react"),{aspectRatio:d("AdsMediaLibraryAspectRatioUtils").getAspectRatio(a.state.size),counter:a.props.counter,errorRenderer:d("AdsVideoValidationUtils").getErrorMessages,errors:e,getIsVideoMPIEnabledWithoutLog:a.props.getIsVideoMPIEnabledWithoutLog,id:a.state.id,igIDtoPostsMap:b,isDisabled:a.props.isDisabled,isSelected:a.props.isSelected,length:f?c("LoadObject").withValue(b.get(a.state.id).media_duration_ms/1e3):a.state.length,meta:f?d("AdsCreativeToolMediaPickerUtils").formatSize(c("LoadObject").withValue({height:b.get(a.state.id).media_height,width:b.get(a.state.id).media_width})):d("AdsCreativeToolMediaPickerUtils").formatSize(a.state.size),policyInfoErrors:a.state.reviewInfo,size:a.state.size,src:f?c("LoadObject").withValue(b.get(a.state.id).thumbnail_url):a.state.thumbnail,title:a.state.title.getValue()||i,videoSource:a.props.videoSource,onSelect:a.props.onSelect,onSelectIGVideo:a.props.onSelectIGVideo})}})};return b}(h.Component);b=c("FluxContainer").create(a,{pure:!1,withProps:!0});g["default"]=b},98);
__d("AdsUEditorCreativeToolBusinessImageSourcePicker.react",["AdsBusinessSourceCreativeContentItem","AdsUEditorCreativeToolAssetPickerCreativeFolder.react","AdsUEditorCreativeToolImagePickerThumbnailContainer.react","AdsUEditorCreativeToolVideoPickerThumbnailContainer.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){return c.props.onSelect(c.props.id)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){if(this.props.id instanceof d("AdsBusinessSourceCreativeContentItem").AdsBusinessCreativeImageID){var a=this.props.id.getBusinessImageID();return h.jsx(c("AdsUEditorCreativeToolImagePickerThumbnailContainer.react"),{id:a,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,onSelect:this.$1})}else if(this.props.id instanceof d("AdsBusinessSourceCreativeContentItem").AdsBusinessCreativeFolder){a=this.props.id.getBusinessCreativeFolder();return h.jsx(c("AdsUEditorCreativeToolAssetPickerCreativeFolder.react"),{folderCellRef:this.props.folderCellRef,id:a.id,title:a.name,onSelect:this.$1})}else if(this.props.id instanceof d("AdsBusinessSourceCreativeContentItem").AdsBusinessCreativeVideoID){a=this.props.id.getBusinessVideoID();return h.jsx(c("AdsUEditorCreativeToolVideoPickerThumbnailContainer.react"),{id:a,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,onSelect:this.$1})}return h.jsx("div",{})};return b}(h.PureComponent);g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerBusinessUploadButton.react",["fbt","ix","GeoButton.react","Image.react","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.isFolderQuery;a=a.onClickBusinessMediaUploadButton;return j.jsx(c("GeoButton.react"),{"data-testid":void 0,disabledMessage:b?null:h._("Primero selecciona una carpeta para cargar archivos multimedia."),icon:j.jsx(c("Image.react"),{src:i("1413192")}),isDisabled:!b,label:h._("Subir"),onClick:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorBusinessCreativeNavigationSection.react",["fbt","ix","AdsBusinessSourceCreativeFolderNavigationSection.react","AdsUEditorCreativeToolAssetPickerBusinessUploadButton.react","AssetLibraryLogger.brands","FlexLayout.react","GeoButton.react","URI","XBusinessToolAssetLibraryController","fbicon","geoMargin","isTruthy","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=h._("Administrar en la Biblioteca multimedia");function l(a){return j.jsxs(c("FlexLayout.react"),{justify:"all",children:[j.jsx("div",{children:a.folderPathNavigation}),j.jsxs("div",{children:[a.uploadButton,a.mediaLibraryButton]})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){return j.jsxs("div",{children:[j.jsxs(c("FlexLayout.react"),{justify:"end",children:[a.uploadButton,a.mediaLibraryButton]}),a.folderPathNavigation]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b,e=a.foldersQuery;if(!c("isTruthy")(e))return j.jsx("div",{});var f=e&&!c("isTruthy")(a.isShowingAllMedia)&&!c("isTruthy")(a.isSearching),g=f?j.jsx("div",{className:"_3-8y",children:j.jsx(c("AdsBusinessSourceCreativeFolderNavigationSection.react"),{foldersQuery:e,isCreativeEditor:!0,selectedSource:a.selectedSource})}):j.jsx("div",{});b=f&&((b=a.foldersQuery)==null?void 0:b.selectedFolder)!=null;b=a.onClickBusinessMediaUploadButton&&b?j.jsx(c("AdsUEditorCreativeToolAssetPickerBusinessUploadButton.react"),{isFolderQuery:!0,onClickBusinessMediaUploadButton:a.onClickBusinessMediaUploadButton}):null;var h=function(){var a;a=c("XBusinessToolAssetLibraryController").getURIBuilder().setFBID("business_id",e.businessID).setFBID("object_id",(a=e.selectedFolder)==null?void 0:a.id).setString("workspace","business_creatives").getURI();c("URI").goURIOnNewWindow(a);c("AssetLibraryLogger.brands").logUserAction("go_to_media_library_from_ads_manager",{business_id:e.businessID,meta_message:JSON.stringify({folderID:(a=e.selectedFolder)==null?void 0:a.id})})};f=f?j.jsx(c("GeoButton.react"),{icon:d("fbicon")._(i("509932"),16),isLabelHidden:!0,label:k,ref:a.mediaLibraryButtonRef,tooltip:k,xstyle:c("geoMargin").start12,onClick:h}):null;h=c("isTruthy")(a.isStackedLayout);return h?j.jsx(m,{folderPathNavigation:g,mediaLibraryButton:f,uploadButton:b}):j.jsx(l,{folderPathNavigation:g,mediaLibraryButton:f,uploadButton:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorBusinessMediaBulkUploaderModal.react",["fbt","AssetLibraryBulkUploader.react","AssetLibraryModalPlugins","AssetLibraryModalSystemConfirmationOnClose.react","AssetLibraryWorkspaceUtils.brands","GeoButton.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoNotice.react","GeoSection.react","geoMargin","react","useBoolean"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState;function a(a){var b=a.businessID,e=a.selectedFolder,f=a.onHide,g=a.onReloadFoldersAndCreatives;a=c("useBoolean")(!1);var l=a.value,m=a.set;a=c("useBoolean")(!1);var n=a.value,o=a.set;a=c("useBoolean")(!1);var p=a.value,q=a.setTrue;a=a.setFalse;var r=k(null),s=r[0];r=r[1];var t=function(){return o(!0)},u=j(function(){o(!1),m(!0)},[m,o]),v=j(function(){n?q():f()},[f,n,q]),w=j(function(){g==null?void 0:g(),f()},[f,g]);e=d("AssetLibraryWorkspaceUtils.brands").createBusinessFolderToken({businessID:b,folderID:e.id});var x=c("AssetLibraryModalPlugins").withShape({key:"BulkUploader"}).getOne();return i.jsx(c("GeoModal.react"),{footer:i.jsx(c("GeoModalFooter.react"),{primaryButton:l?i.jsx(c("GeoButton.react"),{"data-testid":void 0,label:h._("Listo"),variant:"primary",onClick:f}):i.jsx(c("GeoButton.react"),{"data-testid":void 0,label:h._("Cancelar"),onClick:v})}),header:i.jsx(c("GeoModalHeader.react"),{heading:x.title}),isShown:!0,onHide:v,children:i.jsxs(c("GeoSection.react"),{children:[p&&x.confirmationOnCloseDetails!=null?i.jsx(c("AssetLibraryModalSystemConfirmationOnClose.react"),babelHelpers["extends"]({},x.confirmationOnCloseDetails,{onCancel:a,onContinue:w})):null,s!=null?i.jsx(c("GeoNotice.react"),{status:"error",xstyle:c("geoMargin").bottom12,children:s}):null,i.jsx(c("AssetLibraryBulkUploader.react"),{businessID:b,folderToken:e,setError:r,onCompleted:u,onReloadFoldersAndCreatives:g,onUploadStart:t})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerBusinessSourceDropdown.react",["fbt","ix","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsMediaPickerActionsBarBusinessToggleSourceProvider","AdsMediaPickerActionsBarSetBusinessToggleKeyAction","AdsMediaPickerConstants","GeoDropdownMenu.react","GeoMenuItem.react","Laminar","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("AdsMediaPickerConstants").businessSourceToggleKeyLabelMap[c("AdsMediaPickerConstants").businessSourceToggleKey.FOLDERS],l=d("fbicon")._(i("515925"),16),m=c("AdsMediaPickerConstants").businessSourceToggleKeyLabelMap[c("AdsMediaPickerConstants").businessSourceToggleKey.RECENTS],n=d("fbicon")._(i("577853"),16);function a(a){var b=d("Laminar").useProvider(c("AdsMediaPickerActionsBarBusinessToggleSourceProvider")),e=function(a){a===c("AdsMediaPickerConstants").businessSourceToggleKey.RECENTS?c("AdsInterfacesLogger").log({eventName:"click_recents_tab",eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION}):c("AdsInterfacesLogger").log({eventName:"click_folders_tab",eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION}),c("AdsMediaPickerActionsBarSetBusinessToggleKeyAction").dispatch({selectedToggleKey:a},{line:"60",module:"AdsUEditorCreativeToolAssetPickerBusinessSourceDropdown.react.js"})},f=function(){return e(c("AdsMediaPickerConstants").businessSourceToggleKey.FOLDERS)},g=function(){return e(c("AdsMediaPickerConstants").businessSourceToggleKey.RECENTS)};return j.jsxs(c("GeoDropdownMenu.react"),{buttonRef:a.businessSourceSelectorRef,"data-testid":void 0,icon:b.selectedToggleKey===c("AdsMediaPickerConstants").businessSourceToggleKey.FOLDERS?l:n,isLabelHidden:!0,label:h._("Origen del negocio"),children:[j.jsx(c("GeoMenuItem.react"),{"data-testid":void 0,icon:l,label:k,onClick:f}),j.jsx(c("GeoMenuItem.react"),{"data-testid":void 0,icon:n,label:m,onClick:g})]})}a.displayName=a.name+" [from "+f.id+"]";b=d("Laminar").laminarContainer(a);g["default"]=b},98);
__d("AdsUEditorCreativeToolAssetPickerOriginalVideosGuidance.react",["AdsIntelligentBlueTip.react","isTruthy","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contextRef;a=a.showOriginalVideosOptIn;return c("isTruthy")(a)?h.jsx(c("AdsIntelligentBlueTip.react"),{contextNodeID:b,messageID:"video_media_picker_filter_original_uploads_opt_in",position:"above"}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerFilters.react",["fbt","ix","AdsAssetLiquidityLoggerUtils","AdsGenericFilter","AdsGenericFilterSet","AdsGenericFilterSetUtil","AdsImageDialogFilterFieldConfig","AdsMediaDialogFilterConstants","AdsUEditorCreativeToolAssetPickerOriginalVideosGuidance.react","AdsVideoDialogFilterConstants","GeoCheckboxInput.react","GeoCheckboxList.react","GeoDropdownButton.react","GeoTooltip.react","ScrollableArea.react","clamp","curry","fbicon","geoMargin","isTruthy","react","stylex","uniqueID","useWindowSize"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState,o=500,p=100,q=100,r={root:{position:"om3e55n1"},filtersPanel:{backgroundColor:"jjseejtz",borderTopColor:"d1i3uj4x",borderEndColor:"o3bgytea",borderBottomColor:"ah03zzpw",borderStartColor:"tqolybf1",borderTopStartRadius:"dl2p71xr",borderTopEndRadius:"h0c7ht3v",borderBottomEndRadius:"j8nb7h05",borderBottomStartRadius:"gffp4m6x",boxShadow:"behffevw",position:"s8sjc6am",end:"on4d8346",top:"jglnjxeu",width:"f36a8esv",zIndex:"dno8oen2"},filtersPadding:{paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze",paddingBottom:"rj2hsocd"}};function s(a,b,e){var f=new(c("AdsGenericFilterSet"))([b]);if(a==null){e(d("AdsMediaDialogFilterConstants").FilteringAction.ADD,b);return f}if(d("AdsGenericFilterSetUtil").contains(a,f)){e(d("AdsMediaDialogFilterConstants").FilteringAction.DELETE,b);return d("AdsGenericFilterSetUtil").exclude(a,f)}d("AdsGenericFilterSetUtil").getFiltersByField(a,b.getField()).length>0?e(d("AdsMediaDialogFilterConstants").FilteringAction.UPDATE,b):e(d("AdsMediaDialogFilterConstants").FilteringAction.ADD,b);return d("AdsGenericFilterSetUtil").mergeByField(a,f)}function t(a,b){return a==null?!1:d("AdsGenericFilterSetUtil").contains(a,new(c("AdsGenericFilterSet"))([b]))}function u(a){var b=c("useWindowSize")(),e=b.innerHeight,f=m(null);if(a.scrollableFilterHeightOffset!==void 0)e-=a.scrollableFilterHeightOffset,e=Math.max(p,e);else{var g;g=(g=f.current)==null?void 0:g.getBoundingClientRect().top;g!=null&&(e=b.innerHeight-g-q,e=c("clamp")(e,p,o))}var h=a.onClickOutside,i=a.dropdownButtonRef,n=k(function(a){a=a.target;var b=f.current;a instanceof Node&&b&&!b.contains(a)&&i!=null&&!i.contains(a)&&h()},[h,i]);l(function(){document.addEventListener("mousedown",n);return function(){document.removeEventListener("mousedown",n)}});b=a.filterGroups.toArray().map(function(b){if(b===d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.TITLE)return null;if(b===c("AdsVideoDialogFilterConstants").VIDEO_FILTER&&!(a.getIsVideoMPIEnabled==null?void 0:a.getIsVideoMPIEnabled()))return null;var e=a.filterGroupsConfigurations[b],f=e.values;return j.jsx("div",{className:c("stylex")(c("geoMargin").top8),children:j.jsx(c("GeoCheckboxList.react"),{label:e.text,children:typeof f!=="string"&&Array.isArray(f)?f.map(function(b){var d=b.value,f=b.tooltip,g=b.onChange,h=new(c("AdsGenericFilter"))(e.field,e.operators[0].operator,d);b=f!=null?j.jsx(c("GeoTooltip.react"),{align:"start",content:f}):null;f=(a.getIsVideoMPIEnabledWithoutLog==null?void 0:a.getIsVideoMPIEnabledWithoutLog())?function(b){g==null?void 0:g(b),a.toggleFilter(h)}:c("curry")(a.toggleFilter,h);return j.jsx(c("GeoCheckboxInput.react"),{"data-testid":void 0,label:a.filtersLabels[d],tooltip:b,value:t(a.selectedFilters,h),onChange:f},d)}):null})},b)});return j.jsx("div",{className:a.scrollableFilterHeightOffset!=null?c("stylex")(r.filtersPanel):c("stylex")(r.filtersPanel,r.filtersPadding),ref:f,children:j.jsx(c("ScrollableArea.react"),{fade:!1,maxHeight:e,shadow:!1,children:j.jsx("div",{className:c("stylex")(r.filtersPadding),children:b})})})}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.filters,e=a.onChangeFilters,f=a.onLogFilterChange,g=a.scrollableFilterHeightOffset,l=a.selectedFilters,o=a.isUploading||b==null||b.size===0,p=n(!1),q=p[0],t=p[1];p=k(function(a){e(s(l,a,f))},[e,f,l]);var v=k(function(){d("AdsAssetLiquidityLoggerUtils").logFilterMenuDropdownMediaPicker(),t(!0)},[]),w=k(function(){return t(!1)},[]);v=k(q?w:v);var x=m(null),y=c("uniqueID")("originalVideos"),z=l!=null?l.values.length.toString(10):"",A=h._("Filtros {number}",[h._param("number",z)]);return j.jsxs("div",{className:c("stylex")(r.root),ref:x,children:[j.jsxs("div",{className:c("stylex")(c("geoMargin").start12),id:y,children:[j.jsx(c("GeoDropdownButton.react"),{"data-testid":void 0,icon:d("fbicon")._(i("500221"),16),isDepressed:q,isDisabled:o,isLabelHidden:l==null&&!(a.getIsVideoMPIEnabledWithoutLog==null?void 0:a.getIsVideoMPIEnabledWithoutLog()),label:c("isTruthy")(a.getIsVideoMPIEnabledWithoutLog==null?void 0:a.getIsVideoMPIEnabledWithoutLog())?A:z,onClick:v}),j.jsx(c("AdsUEditorCreativeToolAssetPickerOriginalVideosGuidance.react"),{contextRef:y,showOriginalVideosOptIn:a.showOriginalVideosOptIn})]}),q&&!o&&b!=null?j.jsx(u,{dropdownButtonRef:x==null?void 0:x.current,filterGroups:b,filterGroupsConfigurations:a.filterGroupsConfigurations,filtersLabels:a.filtersLabels,getIsVideoMPIEnabled:a.getIsVideoMPIEnabled,getIsVideoMPIEnabledWithoutLog:a.getIsVideoMPIEnabledWithoutLog,scrollableFilterHeightOffset:g,selectedFilters:l,toggleFilter:p,onClickOutside:w}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerPageSelectionContainer.react",["fbt","AdsFluxHooks","AdsPageDropdownSelector.react","AdsPageImageQueryProvider","AdsUEditorHooks","AdsUEditorPageSelectionUtils","adsCreateSelector","adsUEditorAccountSelector","immutable","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return a.reduce(function(a,b){a[b.id]=b;return a},{})}var k=c("adsCreateSelector")([c("AdsPageImageQueryProvider").toFluxSelector(),c("adsUEditorAccountSelector")],function(a,b){a=a.query;return{currentPageID:a==null?void 0:a.pageID,account:b}},{name:f.id+".stateSelector"});function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(k);b=b.state;var e=b.currentPageID,f=b.account;b=a.pagesLoadObject;a=a.pageID;var g=function(a){d("AdsUEditorPageSelectionUtils").onPageSelectionChange(f==null?void 0:f.account_id,a)};if(b){b=b.hasValue()?b.getValueEnforcing():c("immutable").List();b=j(b);return i.jsx(c("AdsPageDropdownSelector.react"),{defaultLabel:h._("Seleccionar p\u00e1gina"),pages:b,selectedActorID:(b=e)!=null?b:a,onChange:g})}return null}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsUEditorCreativeToolAssetPickerSearchInput.react",["GeoTextInput.react","react","useDebouncedOnChange"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=300;function a(a){var b=a.onSearch,d=a.searchTerm,e=i(function(a){return b(a)},[b]);d=c("useDebouncedOnChange")(d,e,j);var f=d[0],g=d[1];d=d[2];var k=i(function(){return e("")},[e]),l=f!=""&&a.isLoading,m=a.isUploading||a.placeholder==null;return h.jsx(c("GeoTextInput.react"),{"data-testid":void 0,isDisabled:m,isLabelHidden:!0,isLoading:l,label:a.placeholder||"",placeholder:a.placeholder,value:f,onBlur:d,onChange:g,onClear:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerSourceSelector.react",["FDSDropdownMenu.react","FlexLayoutItem.react","Image.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return a.sources.reduce(function(b,d){return[].concat(b,[{type:"item","data-testid":"creative_container_source_selector_dropdown_"+String(d.id),icon:h.jsx(c("Image.react"),{src:d.icon}),label:d.label,onClick:function(){return a.onChangeSource(d.id)}}])},[])}function a(a){var b=a.sources.get(a.selectedSource);return b!=null?h.jsx(c("FlexLayoutItem.react"),{grow:1,children:h.jsx(c("FDSDropdownMenu.react"),{buttonIcon:h.jsx(c("Image.react"),{src:b==null?void 0:b.icon}),"data-menu-testid":"creative_container_source_selector_dropdown_menu","data-testid":void 0,isDisabled:a.isUploading,items:i(a),label:b==null?void 0:b.label,width:"100%"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerSourceTabs.react",["GeoTab.react","GeoTabGroup.react","Image.react","geoMargin","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.sources.get(a.selectedSource);return b!=null?h.jsx("div",{className:a.isUploading?"l10tt5db gve6y6jg":"",children:h.jsx(c("GeoTabGroup.react"),{value:b.id,xstyle:c("geoMargin").bottom12,onChange:a.onChangeSource,children:a.sources.map(function(a){var b;return h.jsx(c("GeoTab.react"),{"data-testid":void 0,icon:h.jsx(c("Image.react"),{src:(b=a.tabIcon)!=null?b:a.icon}),label:(b=a.shortLabel)!=null?b:a.label,value:a.id},a.id)}).toArray()})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerUploadButton.react",["fbt","ix","AdsImageUtils","AdsPerfInteractionComponentContext","AdsVideoUtils","GeoButton.react","fbicon","react","useFileInput"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;a=j.memo(function(a){var b=a.allowMultiUpload;b=b===void 0?!1:b;var e=a.isFullWidth;e=e===void 0?!1:e;var f=a.isUploading,g=a.mediaType,l=a.onUpload,m=k(c("AdsPerfInteractionComponentContext"));a=c("useFileInput")(function(a){return l==null?void 0:l(a,String(m))},{allowMultiple:b,accept:g==="image"?d("AdsImageUtils").getSupportedImageMIMEFormatList():d("AdsVideoUtils").getVideoFileExtensionsList()});b=l==null||f;return j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:d("fbicon")._(i("483771"),16),isDisabled:b,isLoading:f,label:h._("Subir"),width:e?"100%":void 0,onClick:a})});b=a;g["default"]=b},98);
__d("AdsImageUploadFromGoogleDriveStartDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=b.imageData,d=c.accountID,e=c.file,f=c.id,g=c.isAutoCropEligible,h=c.minDimensions;c=c.dataURI;return a.set(b.imageData.id,{status:"UPLOADING",accountID:d,file:e,id:f,isAutoCropEligible:g,minDimensions:h,dataURI:c})}};b=a;f["default"]=b},66);
__d("AdsUEditorCreativeToolGoogleDrivePermissionModal",["Ads3PSourcingLogger","Ads3PSourcingStrings","Ads3PSourcingUtils","GeoButton.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","GeoSwitch.react","GeoText.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function k(a){return a===d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.PERSISTENT_AUTH||a===d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.UNSET}function a(a){var b=j(k(a.sourcingAuthSetting)),e=b[0],f=b[1];i(function(){f(k(a.sourcingAuthSetting))},[a.sourcingAuthSetting,a.isShown]);var g=a.sourcingAuthSetting===d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.UNSET;return h.jsx(c("GeoModal.react"),{footer:h.jsx(c("GeoModalFooter.react"),{primaryButton:h.jsx(c("GeoButton.react"),{autoFocus:!0,label:g?d("Ads3PSourcingStrings").GOOGLE_DRIVE_PERMISSION_MODAL_NEXT_BUTTON:d("Ads3PSourcingStrings").GOOGLE_DRIVE_PERMISSION_MODAL_DONE_BUTTON(),variant:"primary",onClick:function(){var b=e?d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.PERSISTENT_AUTH:d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.AUTO_LOGOUT;a.onSelectPermissionSetting(g,b);a.onHide()}})}),header:h.jsx(c("GeoModalHeader.react"),{heading:d("Ads3PSourcingStrings").GOOGLE_DRIVE_PERMISSION_MODAL_TITLE}),isShown:a.isShown,onHide:function(){d("Ads3PSourcingLogger").logGDrivePermissionsClosed(),a.onHide()},children:h.jsxs(c("GeoSection.react"),{children:[h.jsx(c("GeoText.react"),{children:d("Ads3PSourcingStrings").GOOGLE_DRIVE_PERMISSION_MODAL_DESCRIPTION()}),h.jsx("div",{style:{margin:"20px 0 15px 0"},children:h.jsx(c("GeoSwitch.react"),{description:d("Ads3PSourcingStrings").GOOGLE_DRIVE_PERMISSION_MODAL_CHECKBOX_DESCRIPTION,label:d("Ads3PSourcingStrings").GOOGLE_DRIVE_PERMISSION_MODAL_CHECKBOX_LABEL,labelPosition:"suffix",value:e,onChange:f})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorCreativeToolGoogleDriveIntegrationButton",["Ads3PSourcingLogger","Ads3PSourcingStrings","Ads3PSourcingUtils","AdsAccountSettingsShouldLogoutOf3PSourcingAction","AdsAccountStore","AdsImageSelectorV2Types","AdsImageUploadDataLoader","AdsImageUploadFromGoogleDriveStartDataAction","AdsIntelligentBlueTip.react","AdsUEditorCreativeToolGoogleDrivePermissionModal","AdsVideoActions","AdsVideoSelectionHeaderTabTypes","CurrentLocale","FBLogger","GeoButton.react","GeoDropdownMenu.react","GeoMenuItem.react","GeoSplitButton.react","Promise","err","react","regeneratorRuntime","usePurposeEncrypt"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useState,k=[c("AdsVideoSelectionHeaderTabTypes").ACCOUNT],l=[d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE,d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE];function m(a){return l.includes(a)||k.includes(a)}var n="https://www.googleapis.com/auth/drive.readonly",o="786319846020-tbtbu6i6gipeh7tuoptnnid83lj69i47.apps.googleusercontent.com",p="google_drive_in_ads_manager_integration_dom_id",q="f8e111bc",r=1;function s(b,e,a,f){b={accountID:b,file:new File([],f.name),id:f.id,minDimensions:e,dimensions:{width:0,height:0},dataURI:""};c("AdsImageUploadFromGoogleDriveStartDataAction").dispatch({imageData:b},{line:"130",module:"AdsUEditorCreativeToolGoogleDriveIntegrationButton.js"});e={bytes:"",encoding:"",gdrive_upload_spec:{encrypted_access_token:a,file_handle:f.id,file_name:f.name,mime_type:f.mimeType,asset_source:"GOOGLE_DRIVE"}};d("AdsImageUploadDataLoader").startUpload(e,b)}function t(b,a,c){d("AdsVideoActions").startImportFromAssetSpec({file_name:c.name,file_handle:c.id,encrypted_access_token:a,mime_type:c.mimeType,asset_source:"GOOGLE_DRIVE"},b)}function u(b,c,a,e){if(c.action!=="picked"){c.action!=="loaded"&&d("Ads3PSourcingLogger").logPickerClosedWithoutSelection(c.action);return}d("Ads3PSourcingLogger").logGDriveAssetsSelected(e,c.docs.length);if(e==="image"){var f={width:0,height:0};c.docs.forEach(function(c){return s(b,f,a,c)})}else c.docs.forEach(function(c){return t(b,a,c)})}function v(a,b,e){var f=window.google.picker;b==="image"?b="image/jpeg,image/jpg,image/png":b="video/x-msvideo,video/mp4,video/mpeg,video/webm,video/quicktime";var g=f.ViewId.DOCS,h=new f.DocsView(g).setMimeTypes(b).setIncludeFolders(!0).setOwnedByMe(!0),i=new f.DocsView(g).setMimeTypes(b).setEnableTeamDrives(!0).setIncludeFolders(!0),j=new f.DocsView(f.ViewId.RECENTLY_PICKED).setMimeTypes(b).setIncludeFolders(!0),k=new f.DocsView(g).setMimeTypes(b).setIncludeFolders(!0).setOwnedByMe(!1);g=new f.DocsView(g).setMimeTypes(b).setIncludeFolders(!0).setStarred(!0).setLabel(d("Ads3PSourcingStrings").GOOGLE_PICKER_VIEW_STARRED.toString());h=new f.PickerBuilder().addView(h).addView(i).addView(k).addView(j).addView(g).enableFeature(f.Feature.SUPPORT_TEAM_DRIVES).enableFeature(f.Feature.MULTISELECT_ENABLED).setOAuthToken(a).setLocale(c("CurrentLocale").get()).setSelectableMimeTypes(b).setCallback(e);i=h.build();i.setVisible(!0);d("Ads3PSourcingLogger").logPickerShown();return i}function w(a,b,d){d===void 0&&(d=null),d!=null?c("FBLogger")("ads_dynamic_creative_optimization",a).catching(d).mustfix(b):c("FBLogger")("ads_dynamic_creative_optimization",a).mustfix(b)}function x(){return h.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAALFklEQVR42u1de1BU1x3eGZeENEyG6WDDK7pFNGqIIixIlMiF9ZFGScjuUttkWp1agYIpSYmhlDYsLGCIaUxiOoYhPgKWXcCJ7dDUxtXQCX3MlGaIEEMSTIlag5GaDSx2K0vn9Bx2r0YL7L137+N3d8838/2/937fefzO+X53NRoKCgoKCgoKCgoKCgoKCgoKCgoKClVAZ2EiY6rS9dGWDEYOxllWJc+1MBH0zSuIuZa06DstGVYsyAAmUob39cRUZ1SS30IVkQn3tOdHLDuQuxsL4FFO+BsZX73Sffq3d1hQl0ZLFZIQqa2mxXq7aRAT6XZnXYVigIrGhFHPCS3C7MEmoLOBhOIPE/EJU1ryruDpV3HxF9Xq0Zdv3er2GQB5TmoHqAlERvLRvMhUu2mIFZ9l4strFTdAU3Msuib+dfbQ5UDM0W83HbxZfMLUXxtRXO1qxcRf3ZCM3I6w6QxAZoIqqpwISLEbM6YTn+WSVx9QzABvH/n69OJ76XZ3heuoggEizW7662wGSLWZ0F3P3i+7+I+9tGQ28Vl2UAUDmfrbTFtmE5/lsgOb5C770GDn7VwMgDwOLUOVFFjvf3XX748Jv8yWzQA1r+m4ie9lL90QCpn6bWYrV/EJk1vyUEz1fZKLv6w+FV3+QzgfA6CJE2GFVFE+G7/2/EQsqpuPAQgX7l0nuQGaD0fzEt/HETwLRFJlOULfZu7gK753QyhtWbj++WUzl33+9wK7qbJcxLeZGSHis1za+C3JDPCXNyKFie+l5+pbtyymCs8CpovRYhH7AzEA4byGNaKLX/DKokDEZ3mMqjzb6LebCwMVf6osPJQrqvjza9LRuTe/JoYByFKwgSo9w3m/3m4cEcMAU2XhnhzRDNBwYJ444mNOOuYM0rJw2tFv2iuW+IQrDuOy0Bp4WbhiVwoaP36LaAbwsYwq/tUTP+9Vr0dMAxDe/av1ARvgiO0bYotP6MSzQBRV/nrZd0xs8dmyML4+U7D4uS8kSSG+dyk4MaeJKk9Gv824UQrxWSY1bRRsgHd/c4dkBiBl4cTxsGRa9vkiXlJS91wWb/Gf2Jcopfgsu0L8ts9YJrX4hMtffxjxiY+RmNeF398mhwHIUrA5NC972vOjsThOOQxAuOBFA2cDvHgoXhbxfQYYwhvC8NAzgN3YJJf4bHyMS1mY0bBC+Hm/UJ7UVoba6E+Wouzzx8X7/MfHjrVHySu+ly48C8SH0IWPsVtu8dn42GxloXnPUiXEZzMDLaEx+m3GzUqIf60s3L9pxpjXh50RihlgygSOsIzgLvsObg2fLt8vN3W7mf8zQHnjAkXFZ/sJgv28v1Jp8afiY803loWk7OMb85KwKtgSlOKvPGyMFxLzkooLX74eHzvUEv1fCOL7OIw3hMHXeq63mVqgiD/FVpObxMeynluOrjq0kAxAysJdwXXi156fCUp8H+/dv7H/zO9u/wiU+L6uov903ZoYTGt/D0QDYB4lGy+ABgieriKu3T0K0E3i5x6HNhOoAZDnuNagavG9MS/u3T1yMs1uurbOTpwIs4E0wEltv6rjY+QlAx39w6T1jP2d5BiWrLsQTaDariKh3T2yHAnjZenm30v6+YEuBersKiIbLKCjf9rTNnIli1/2eYgmmHTM2auy836zAaj4iHxwYqbfTcIZQGcB9XQVidXdIwltJr83bvhldwM1wTGVTP3idPdIUfaR42h/v3/ieJgealmIl4KNaij7nEANwDl1QyLbQA0Au6tI7O4e0Xb9dtMQuYrm+hzkO3+keQPo2UA5UPEfSVIi5sXp0Mdm5J28JS8a6FLgBPkhSvyiHUCnfkHZezLVkikX5FIAratI6u6eAOghAVShz0U2XVDLQrJZBRPzkqO7R9h5vzHgkYJftgOoCbqBjH5zOdDR70xt/W7AHbjkAIaMOKBLgbJdRXJ39/A77zeK1oNPjmKBGkDZriK5u3t4cJCcSIr1nOQyBnBZqMxHqdNtJj3Y8/42k+jf4SHXskD3Am5FuoqU6u7xyzazJGfmpCwkAQ2gmQF5u4qU7u6Zrewjn5uR6rlJRAtsfMyhzZSv7GsznYdpAPMeqZ8fv+yjQE0gT1eRvs1YBVN84wi5jJL6+UlcG3B8bJukD59hy9NBjXmRa2i5lkDSuAF0FhiWND6GR5kN6NrfK2bZx2FDGEFeNtCyUJquIqjdPd6kj5mRuwoiTZxQy0LRu4p8Ma8eoGWfYh00gLuKOsWu+bdBjXmRfYlSBiAfdAj6riLQ3T02s1XpyzByCBPUXUVq6e5RCsC7ikoCejhfdw/MmJfd/BiUQAz5zBvg+JjwshBqdw/5M0lIiShyJUuuZoEeEQs7HfV9y0913T1KAXBXkVtQiJScq6u1u0fBsrAb6F6glP/BD4DPuU1DF0khQTUA+fw70PgYv2Q0ydKpvbtHwaUAYleRKxjW/0E+3T0KbgijIMbHeFUDiyzNmQutTWcSLM2TCywtSEmS35Bofe3squffsefUjR9UAxvqDnSMPq07O/pEwiQmUpRlCWOuinl9zrJvzudsgDuLTiXFFPYhKEz88ccIv1jV0FDnmuzLzUOXDGlg6GSSuc8Ac4tPR0ARP7awH2VWO6+oyQCEjz/1jhuQAUZ4r2X45fdDMMDSsk+R2sRn6cgvhmKATiEGsCotftyP3kdZ1lHVGuB7lR+g4bUZAAyQzj8qhpeBaCyCW0kDJP/0gmrFZ/n61meVNsDwEMMIq56wCHuUEn/+jgGUXedSvQFyqy+iTx5Yq5wBctKFf1AituDvUVgMpxIGSP/5JdWLz7K+uFUZ8demDwoe/SyiC/pKZC/7Ss8EjfiE62pH0bsPfVt2A4ysTRfho1KWLi0WZUDOsu/+6i+DygCEO3b+SV7xDWkO0Y434wpPGeQyQNLOs0EnPsvO75TJZQDPxfX6JFHPuGMLT3VKLf5dxacRYx0LWgM8WvkRurButRxrv/iflo0vfj8Ri+SR0gApFZ8FrfgsG7e9JLUBnLyOfXmVhUV9u6QSX/f4h0FR9vnjgzUj6OMHN0hoAH2JZFeduq29kVisYSkMkPHMv4JefJbVO45IVPOn9SNG4hY5vEvfJrb4dz/5SciIz/LPj2wR3QAX16XJ8Bcz3rKwR7Syr4iUfc6QM0Bh+d9ELvv0R2VLvcQWvJcplgHu3Xk+5MRn+cajFWIZwH2JSZH3b+aiC/ptAZd9JR+g7FpXyBrA+Mw5dG79GjHWfvn/aDK6qFcX6G1h6s8uhqz4LF/Zvi/g2z7Jyj4Os0CVUPEXqCzmJRU3WL9ApzflBnLXr9yfTeu2DoVjMc8LMcCqqsvUAD5WlL4p1ADK/908Lgs38xV/SdkQFf4m/tG0XcCRb2qmBgJiCvu7+cS81tSMUtFv4g8q3uMVHxsxpMFpkcMG0HM1wPKn/0kFn4Gt37dyLvsuMyvjNZAQU9Tf5E/8eSFe9vnjw5YLaGhDNpeYF7wWOV+IdNb4WFrl51RoP3yhYL8/AwwFHPOSbkPYVz5j2Vc6SAXmGB/rzTXNZoDNGrCY4Z6AxLxWW76gAnPkkz95W7wGD7nhC47ccGV8z1OfUmED7SrKSRv4jEmN0qgBvubSYbbsY2pdE1RUfsz/xdDYtbIQiz/MZOg0akLcD0/FYwN06Ss/H6SCCuPe7Y3/uGRI71DNyJ8Oa+rHHjLUjfdQQfkxu37ckVszkqUJFjD1Y4uxEUpz6lxNObXjnfgBuyivM6fuSgd+N/sMda4SpuHf8RoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKikDxP81rS1wMxVDqAAAAAElFTkSuQmCC",style:{width:16,height:16}})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.props,e=a.startSignInFlowAndOpenGDrive,f=a.showPermissionSettingsModal;a=a.isDisabled;var g=h.jsx(x,{}),i=d("Ads3PSourcingStrings").GOOGLE_DRIVE_BUTTON_LABEL;return b.sourcingAuthSetting===d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.UNSET?h.jsx(c("GeoButton.react"),{icon:g,isDisabled:a,label:i,onClick:function(){d("Ads3PSourcingLogger").logGDriveButtonClicked(b.mediaType,!0),f()}}):h.jsx(c("GeoSplitButton.react"),{icon:g,isDisabled:a,label:i,menu:h.jsxs(c("GeoDropdownMenu.react"),{children:[h.jsx(c("GeoMenuItem.react"),{label:d("Ads3PSourcingStrings").GOOGLE_DRIVE_BUTTON_DROPDOWN_GOOGLE_DRIVE_LABEL,onClick:function(){d("Ads3PSourcingLogger").logGDriveButtonClicked(b.mediaType,!1),e()}}),h.jsx(c("GeoMenuItem.react"),{label:d("Ads3PSourcingStrings").GOOGLE_DRIVE_BUTTON_DROPDOWN_PERMISSION_SETTINGS_LABEL,onClick:f})]}),onClick:function(){d("Ads3PSourcingLogger").logGDriveButtonClicked(b.mediaType,!1),e()}})}y.displayName=y.name+" [from "+f.id+"]";var z=null,A=null,B=null,C,D=new(b("Promise"))(function(a){C=a}),E,F=new(b("Promise"))(function(a){E=a});function G(){window.gapi.auth2.getAuthInstance().signIn().then(function(){d("Ads3PSourcingLogger").logGDriveSignInSuccess()})["catch"](function(a){a=a.error;d("Ads3PSourcingLogger").logGDriveSignInFailure(a)})}function a(a){var e=j(null),f=e[0],g=e[1];e=j(null);var k=e[0],l=e[1];e=j(!1);var s=e[0],t=e[1];A=d("usePurposeEncrypt").usePurposeEncrypt((e=f)!=null?e:"",q,r);f==null&&(A=null);var x=c("AdsAccountStore").getSelectedAccount().getValueEnforcing();function H(b){if(!b){a.sourcingAuthSetting===d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.PERSISTENT_AUTH&&g(null);return}b=window.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;g(b);return F.then(function(){if(z!=null)return;a.sourcingAuthSetting===d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.AUTO_LOGOUT&&window.gapi.auth2.getAuthInstance().signOut();I()})}function I(){var b=window.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;z=v(b,a.mediaType,function(b){z=null;if(A==null){w("no_encrypted_access_token","Can't run selection callback because there was no encrypted access token");return}u(x.account_id,b,A,a.mediaType)})}var J=function(){window.gapi.load("auth2",function(){var a,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.prev=0;f.next=3;return b("regeneratorRuntime").awrap(window.gapi.auth2.init({client_id:o,scope:n,immediate:!1}));case 3:f.next=12;break;case 5:f.prev=5;f.t0=f["catch"](0);e=c("err")("Error from calling window.gapi.auth2.init\n%s",JSON.stringify(f.t0,null,2));w("auth2_init_exception","Failed to call auth2.init",e);d("Ads3PSourcingLogger").logGDriveAuthInitFailure();l(!1);return f.abrupt("return");case 12:((a=B)==null?void 0:a.remove)!=null&&B.remove(),B=window.gapi.auth2.getAuthInstance().isSignedIn.listen(H),C();case 15:case"end":return f.stop()}},null,this,[[0,5]])}),window.gapi.load("picker",E)};i(function(){var a,b=document.createElement("script");b.onload=J;b.src="https://apis.google.com/js/api.js";(a=document.body)==null?void 0:a.appendChild(b)});var K=function(){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(b("Promise").all([D,F]));case 2:c=window.gapi.auth2.getAuthInstance().isSignedIn.get(),c&&a.sourcingAuthSetting===d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.AUTO_LOGOUT?(window.gapi.auth2.getAuthInstance().signOut(),G()):!c?G():(g(window.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token),I());case 4:case"end":return e.stop()}},null,this)};i(function(){(function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(b("Promise").all([D,F]));case 2:l(!0);case 3:case"end":return a.stop()}},null,this)})()},[]);return h.jsxs("div",{className:"om3e55n1",id:p,style:{marginLeft:a.marginLeft},children:[h.jsx(y,{isDisabled:!m(a.selectedSource)||k===!1,props:a,showPermissionSettingsModal:function(){d("Ads3PSourcingLogger").logGDrivePermissionsOpened(),t(!0)},startSignInFlowAndOpenGDrive:K}),h.jsx(c("AdsIntelligentBlueTip.react"),{contextNodeID:p,messageID:"google_drive_in_ads_manager_blue_nux",position:"below"}),h.jsx(c("AdsUEditorCreativeToolGoogleDrivePermissionModal"),{isShown:s,sourcingAuthSetting:a.sourcingAuthSetting,onHide:function(){return t(!1)},onSelectPermissionSetting:function(b,e){d("Ads3PSourcingLogger").logGDrivePermissionsSet({mediaType:a.mediaType,previousPermissionSetting:a.sourcingAuthSetting,newPermissionSetting:e}),c("AdsAccountSettingsShouldLogoutOf3PSourcingAction").dispatch({accountID:x.account_id,shouldLogout:e===d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.AUTO_LOGOUT},{line:"559",module:"AdsUEditorCreativeToolGoogleDriveIntegrationButton.js"}),b&&K()}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("adsUEditor3PSourcingAuthSettingSelector",["Ads3PSourcingUtils","AdsSettingsStore","adsCreateSelector","adsCreateStoreThunkSelector","adsUEditorAccountIDSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAccountIDSelector"),c("adsCreateStoreThunkSelector")(c("AdsSettingsStore"),function(a){return c("AdsSettingsStore").getByFields(a,["should_logout_of_3p_sourcing","is_3p_auth_setting_set"])})],function(a,b){b=b(a);a=b.is_3p_auth_setting_set;if(!a)return d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.PERSISTENT_AUTH;a=b.should_logout_of_3p_sourcing;return a?d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.AUTO_LOGOUT:d("Ads3PSourcingUtils").GoogleDriveIntegrationPermissionSetting.PERSISTENT_AUTH},{name:f.id+".adsUEditor3PSourcingAuthSettingSelector"});b=a;g["default"]=b},98);
__d("AdsUEditorCreativeToolGoogleDriveIntegrationButtonContainer",["Ads3PSourcingExperimentStoreUtils","Ads3PSourcingLogger","AdsErrorBoundary.react","AdsUEditorContainer.react","AdsUEditorCreativeToolGoogleDriveIntegrationButton","RelayFBEnvironment","RelayHooks","adsCreateSelector","adsUEditor3PSourcingAuthSettingSelector","adsUEditorSelectedCampaignsSelector","react"],function(a,b,c,d,e,f,g){"use strict";var h=c("react");b=c("adsCreateSelector")([c("adsUEditorSelectedCampaignsSelector"),c("adsUEditor3PSourcingAuthSettingSelector")],function(a,b){return{campaigns:a,sourcingAuthSetting:b}},{name:f.id+".googleDriveIntegrationContainerStateStubSelector"});function a(a){var b=a.campaigns,e=a.sourcingAuthSetting;a=babelHelpers.objectWithoutPropertiesLoose(a,["campaigns","sourcingAuthSetting"]);b=b.every(function(a){return a.get("is_dynamic_creative_optimization")});if(!b)return null;if(!d("Ads3PSourcingExperimentStoreUtils").isGoogleDriveTestGroupWithExposureLogging())return null;d("Ads3PSourcingLogger").logGDriveButtonRendered(a.mediaType);return h.jsx(c("AdsErrorBoundary.react"),{moduleName:"ads_manager_google_drive_integration",children:h.jsx(d("RelayHooks").RelayEnvironmentProvider,{environment:c("RelayFBEnvironment"),children:h.jsx(c("AdsUEditorCreativeToolGoogleDriveIntegrationButton"),babelHelpers["extends"]({sourcingAuthSetting:e},a))})})}a.displayName=a.name+" [from "+f.id+"]";e=d("AdsUEditorContainer.react").createAdgroupContainer(a,b,f.id);g["default"]=e},98);
__d("AdsUEditorMediaAssetFormatSwitcher.react",["fbt","ix","AdsPlacementAssetSelectorLabels","AdsPlacementAssetUtils","GeoToggleButton.react","GeoToggleButtonGroup.react","GeoTooltip.react","fbicon","react","shallowArrayEqual","shallowEqual"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useRef,l=function(a){a=d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a);return a.map(d("AdsPlacementAssetSelectorLabels").getLabelForAssetCustomizationGroup).toArray()},m=function(a){a=l(a);if(a.length===1)return h._("Este formato de archivo multimedia no es compatible con la ubicaci\u00f3n \"{all placements}\"",[h._param("all placements",a[0])]);else if(a.length===2)return h._("Este formato de archivo multimedia no es compatible con las ubicaciones \"{all placements}\" y \"{last placement}\"",[h._param("all placements",a[0]),h._param("last placement",a[1])]);else{var b=a.pop();return h._("Este formato de archivo multimedia no es compatible con las ubicaciones \"{all placements}\" y \"{last placement}\"",[h._param("all placements",a.join(", ")),h._param("last placement",b)])}};function a(a){var b=k(null),e=k(null),f=j.jsx(c("GeoToggleButton.react"),{"data-testid":void 0,icon:d("fbicon")._(i("567274"),16),isDisabled:!a.enabledFormats.includes("video"),label:h._("V\u00eddeos"),value:"video"}),g=j.jsx(c("GeoToggleButton.react"),{"data-testid":void 0,icon:d("fbicon")._(i("481805"),16),isDisabled:!a.enabledFormats.includes("image"),label:h._("Im\u00e1genes"),value:"image"});return j.jsxs(j.Fragment,{children:[j.jsxs(c("GeoToggleButtonGroup.react"),{density:"flex",value:a.value,onChange:a.onChange,children:[a.enabledFormats.includes("image")?g:j.jsx("div",{className:"cgu29s5g tgm57n0e fxk3tzhb",isDisabled:!0,ref:b,children:g}),a.enabledFormats.includes("video")?f:j.jsx("div",{className:"cgu29s5g tgm57n0e fxk3tzhb",isDisabled:!0,ref:e,children:f})]}),j.jsx(c("GeoTooltip.react"),{content:m(a.placements),position:"above",triggerRef:b}),j.jsx(c("GeoTooltip.react"),{content:m(a.placements),position:"above",triggerRef:e})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){var d=a.enabledFormats;a=babelHelpers.objectWithoutPropertiesLoose(a,["enabledFormats"]);var e=b.enabledFormats;b=babelHelpers.objectWithoutPropertiesLoose(b,["enabledFormats"]);return c("shallowEqual")(a,b)&&c("shallowArrayEqual")(d,e)}e=j.memo(a,b);g["default"]=e},98);
__d("AdsMediaPickerUpdateSettingsReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{enableOriginalVideosOnly:b.enableOriginalVideosOnly})}};b=a;f["default"]=b},66);
__d("AdsUserSettingsShowOriginalVideosOptInReducerPlugin",["AdsAccountSettingsIdProvider","AdsUserSettingsDataManager","Laminar"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({userSettingsID:c("AdsAccountSettingsIdProvider").toFluxSelector()},function(a,b,d){d=d.userSettingsID;d!=null&&c("AdsUserSettingsDataManager").setShowOriginalVideosOptIn(d,b.enableOriginalVideosOnly?"OPTED_IN":"OPTED_OUT");return a})};b=a;g["default"]=b},98);
__d("AdsUEditorCreativeToolAssetPickerControls.react",["AdsImageDialogFilterFieldConfig","AdsImageDialogFilterValueText","AdsImageFilterLoggingUtils","AdsImageSelectorV2Types","AdsUEditorCreativeToolAssetPickerBusinessSourceDropdown.react","AdsUEditorCreativeToolAssetPickerFilters.react","AdsUEditorCreativeToolAssetPickerPageSelectionContainer.react","AdsUEditorCreativeToolAssetPickerSearchInput.react","AdsUEditorCreativeToolAssetPickerSourceSelector.react","AdsUEditorCreativeToolAssetPickerSourceTabs.react","AdsUEditorCreativeToolAssetPickerTypes","AdsUEditorCreativeToolAssetPickerUploadButton.react","AdsUEditorCreativeToolGoogleDriveIntegrationButtonContainer","AdsUEditorMediaAssetFormatSwitcher.react","AdsVideoDialogFilterFieldConfig","AdsVideoDialogFilterValueText","AdsVideoFilterLoggingUtils","AdsVideoPickerFilterUtils","AdsVideoSelectionHeaderTabTypes","FlexLayout.react","FlexLayoutItem.react","adsShowOriginalVideosOptInSelector","emptyFunction","immutable","react","shallowEqual"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=c("immutable").List();var i=["image","video"],j=350,k=400;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={selectedFilters:null,searchTerm:""},e.$1=function(a){e.setState({selectedFilters:a},function(){return e.props.onChangeFilters(a)})},e.$2=function(a){e.setState({searchTerm:a},function(){return e.props.onSearch(a)})},e.$3=function(a){var b=e.props.mediaType==="video"&&a===c("AdsVideoSelectionHeaderTabTypes").ACCOUNT&&(e.props.getIsVideoMPIEnabled==null?void 0:e.props.getIsVideoMPIEnabled())&&c("adsShowOriginalVideosOptInSelector")()?d("AdsVideoPickerFilterUtils").ORIGINAL_VIDEOS_FILTER_SET:null;e.setState({selectedFilters:b,searchTerm:""},function(){e.props.onChangeSource(a)})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.shouldComponentUpdate=function(a,b){var d=a.sources;a=babelHelpers.objectWithoutPropertiesLoose(a,["sources"]);var e=this.props,f=e.sources;e=babelHelpers.objectWithoutPropertiesLoose(e,["sources"]);return!c("immutable").is(f.keySeq(),d.keySeq())||!c("shallowEqual")(e,a)||!c("shallowEqual")(this.state,b)};e.componentDidMount=function(){this.props.mediaType==="video"&&(this.props.getIsVideoMPIEnabled==null?void 0:this.props.getIsVideoMPIEnabled())&&c("adsShowOriginalVideosOptInSelector")()&&this.setState({selectedFilters:d("AdsVideoPickerFilterUtils").ORIGINAL_VIDEOS_FILTER_SET})};e.render=function(){var a,b;a=h.jsx(c("AdsUEditorMediaAssetFormatSwitcher.react"),{enabledFormats:i,placements:this.props.placements,value:this.props.mediaType,onChange:(a=this.props.onChangeMediaType)!=null?a:c("emptyFunction")});var e=this.props.selectedSource===d("AdsImageSelectorV2Types").AdsImageSource.BUSINESS_IMAGE||this.props.selectedSource===c("AdsVideoSelectionHeaderTabTypes").BUSINESS,f=e?null:h.jsx(c("AdsUEditorCreativeToolAssetPickerUploadButton.react"),{allowMultiUpload:this.props.allowMultiUpload,isFullWidth:this.props.isSourceSelectionHidden,isUploading:this.props.isUploading,mediaType:this.props.mediaType,onUpload:this.props.onUpload}),g=this.props.assetPickerControlsType===d("AdsUEditorCreativeToolAssetPickerTypes").AdsAssetPickerControlsType.INLINE_LAYOUT_TABULAR_SOURCES?c("AdsUEditorCreativeToolAssetPickerSourceTabs.react"):c("AdsUEditorCreativeToolAssetPickerSourceSelector.react");g=h.jsx(g,{isUploading:this.props.isUploading,selectedSource:this.props.selectedSource,sources:this.props.sources,onChangeSource:this.$3});var m=h.jsx(c("AdsUEditorCreativeToolAssetPickerSearchInput.react"),{isLoading:this.props.isLoading,isUploading:this.props.isUploading,placeholder:this.props.searchInputPlaceholder,searchTerm:this.state.searchTerm,onSearch:this.$2}),n=h.jsx(c("AdsUEditorCreativeToolAssetPickerPageSelectionContainer.react"),{pageID:this.props.pageID,pagesLoadObject:this.props.pagesLoadObject}),o=h.jsx(c("AdsUEditorCreativeToolAssetPickerFilters.react"),{filterGroupsConfigurations:this.props.mediaType==="image"?d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldConfig:c("AdsVideoDialogFilterFieldConfig"),filters:this.props.filters,filtersLabels:this.props.mediaType==="image"?c("AdsImageDialogFilterValueText"):c("AdsVideoDialogFilterValueText"),getIsVideoMPIEnabled:this.props.getIsVideoMPIEnabled,getIsVideoMPIEnabledWithoutLog:this.props.getIsVideoMPIEnabledWithoutLog,isUploading:this.props.isUploading,scrollableFilterHeightOffset:this.props.assetPickerControlsType===d("AdsUEditorCreativeToolAssetPickerTypes").AdsAssetPickerControlsType.INLINE_LAYOUT_TABULAR_SOURCES?k:j,selectedFilters:this.state.selectedFilters,showOriginalVideosOptIn:c("adsShowOriginalVideosOptInSelector")(),onChangeFilters:this.$1,onLogFilterChange:this.props.mediaType==="image"?d("AdsImageFilterLoggingUtils").onLogFilterChange:d("AdsVideoFilterLoggingUtils").onLogFilterChange});b=(b=this.props.shouldShowGoogleDriveButton)!=null?b:!0;b=b?h.jsx(c("AdsUEditorCreativeToolGoogleDriveIntegrationButtonContainer"),{marginLeft:12,mediaType:this.props.mediaType,selectedSource:this.props.selectedSource}):null;var p=l(this.props.assetPickerControlsType);return h.jsx(p,{businessSourceSelector:e?h.jsx(c("AdsUEditorCreativeToolAssetPickerBusinessSourceDropdown.react"),{businessSourceSelectorRef:this.props.businessSourceSelectorRef}):void 0,filters:o,googleDriveButton:b,mediaFormatSwitcher:this.props.showMediaTypeSwitcher?a:null,pageSelector:n,searchInput:m,shouldEnablePageSelection:this.props.shouldEnablePageSelection,sourceSelector:this.props.isSourceSelectionHidden!==!0?g:null,uploadButton:f})};return b}(h.Component);b.defaultProps={assetPickerControlsType:d("AdsUEditorCreativeToolAssetPickerTypes").AdsAssetPickerControlsType.STACKED_LAYOUT,placements:a,showMediaTypeSwitcher:!1};function l(a){switch(a){case d("AdsUEditorCreativeToolAssetPickerTypes").AdsAssetPickerControlsType.INLINE_LAYOUT_TABULAR_SOURCES:return n;case d("AdsUEditorCreativeToolAssetPickerTypes").AdsAssetPickerControlsType.INLINE_LAYOUT:return m;case d("AdsUEditorCreativeToolAssetPickerTypes").AdsAssetPickerControlsType.STACKED_LAYOUT:return o}}function m(a){return h.jsx("div",{children:h.jsxs(c("FlexLayout.react"),{children:[a.mediaFormatSwitcher!=null?h.jsx(c("FlexLayoutItem.react"),{className:"_3-91",children:a.mediaFormatSwitcher}):null,a.uploadButton?h.jsx(c("FlexLayoutItem.react"),{className:"_3-91",children:a.uploadButton}):null,a.sourceSelector!=null?h.jsx(c("FlexLayoutItem.react"),{className:"_3-91",children:a.sourceSelector}):null,a.searchInput,a.businessSourceSelector?h.jsx("div",{className:"_3-9b",children:a.businessSourceSelector}):null,a.filters]})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b;b=(b=((b=a.sourceSelector)==null?void 0:b.props.selectedSource)===d("AdsImageSelectorV2Types").AdsImageSource.PAGE_IMAGE||((b=a.sourceSelector)==null?void 0:b.props.selectedSource)===c("AdsVideoSelectionHeaderTabTypes").PAGE)!=null?b:!1;return h.jsxs("div",{children:[a.sourceSelector,h.jsxs(c("FlexLayout.react"),{children:[a.mediaFormatSwitcher!=null?h.jsx(c("FlexLayoutItem.react"),{className:"_3-91",children:a.mediaFormatSwitcher}):null,b?h.jsx(c("FlexLayoutItem.react"),{className:"hf30pyar lq84ybu9 tle7eq26 h07fizzr",children:a.pageSelector}):null,a.searchInput,a.businessSourceSelector?h.jsx("div",{className:"_3-9b",children:a.businessSourceSelector}):null,a.filters,a.googleDriveButton,a.uploadButton!=null?h.jsx(c("FlexLayoutItem.react"),{className:"_3-9b",children:a.uploadButton}):null]})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){return h.jsxs("div",{children:[a.mediaFormatSwitcher!=null?h.jsx(c("FlexLayout.react"),{align:"stretch",className_DO_NOT_USE:"_3-96",direction:"vertical",children:a.mediaFormatSwitcher}):null,h.jsxs(c("FlexLayout.react"),{children:[a.uploadButton?h.jsx(c("FlexLayoutItem.react"),{className:"_3-91",children:a.uploadButton}):null,a.sourceSelector]}),h.jsxs(c("FlexLayout.react"),{align:"end",className_DO_NOT_USE:"_3-8y",justify:"all",children:[a.searchInput,a.businessSourceSelector?h.jsx("div",{className:"_3-9b",children:a.businessSourceSelector}):null,a.filters]})]})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=b},98);
__d("AdsUEditorCreativeToolAssetPickerImageUploadPolicyHub.react",["fbt","ix","GeoBaseText.react","GeoButton.react","GeoFlexbox.react","GeoGenericModalHeader.react","GeoIcon.react","GeoModal.react","GeoModalFooter.react","GeoSection.react","GeoText.react","TetraListCell.react","fbicon","geoMargin","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onClose;return j.jsx(c("GeoModal.react"),{"data-testid":void 0,footer:j.jsx(c("GeoModalFooter.react"),{primaryButton:j.jsx(c("GeoButton.react"),{label:h._("Cerrar"),variant:"primary",onClick:a})}),header:j.jsx(c("GeoGenericModalHeader.react"),{children:j.jsxs(c("GeoFlexbox.react"),{children:[j.jsx(c("GeoIcon.react"),{icon:d("fbicon")._(i("588485"),20),xstyle:c("geoMargin").end8}),j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"header3",children:h._("Comprobaci\u00f3n anticipada de la pol\u00edtica de contenido multimedia en curso")})]})}),isShown:!0,onHide:a,children:j.jsxs(c("GeoSection.react"),{children:[j.jsxs(c("GeoFlexbox.react"),{direction:"column",children:[j.jsx(c("GeoText.react"),{children:h._("Estamos revisando este contenido multimedia para ver si cumple las Pol\u00edticas de publicidad de Facebook. Esto te ayudar\u00e1 a evitar que uses contenido que podr\u00eda provocar el rechazo de tus anuncios durante el proceso de revisi\u00f3n.")}),j.jsx(c("GeoText.react"),{xstyle:c("geoMargin").top16,children:h._("Puedes usar este contenido multimedia, pero cualquier anuncio que lo incluya seguir\u00e1 pasando por nuestro proceso de revisi\u00f3n de anuncios y posiblemente se rechace si no cumple las pol\u00edticas.")})]}),k(),m(),l()]})})}a.displayName=a.name+" [from "+f.id+"]";function k(){return j.jsxs(c("GeoFlexbox.react"),{direction:"column",xstyle:c("geoMargin").top16,children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"header3",children:h._("Cu\u00e1nto tiempo puede tardar")}),j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("478793"),16),type:"contained-icon",size:40},body:h._("La comprobaci\u00f3n de la pol\u00edtica de contenido multimedia suele tardar 24 horas, pero puede estar lista en 1 hora."),bodyColor:"primary",emphasized:!0,headline:h._("Hasta 24 horas"),headlineColor:"primary",level:4})]})}k.displayName=k.name+" [from "+f.id+"]";function l(){return j.jsxs(c("GeoFlexbox.react"),{direction:"column",xstyle:c("geoMargin").top16,children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"header3",children:h._("C\u00f3mo sabr\u00e1s cuando se complete la revisi\u00f3n")}),j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("491282"),16),type:"contained-icon",size:40},body:h._("Si tu contenido multimedia no cumple nuestras Pol\u00edticas de publicidad, te lo indicaremos aqu\u00ed en el Administrador de anuncios (donde est\u00e1s creando el anuncio)."),bodyColor:"primary",emphasized:!0,headline:h._("Comprobar en el Administrador de anuncios"),headlineColor:"primary",level:4})]})}l.displayName=l.name+" [from "+f.id+"]";function m(){return j.jsxs(c("GeoFlexbox.react"),{direction:"column",xstyle:c("geoMargin").top16,children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"header3",children:h._("\u00bfQu\u00e9 puedes hacer?")}),j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("508083"),16),type:"contained-icon",size:40},body:h._("Si crees que este contenido multimedia cumple las Pol\u00edticas de publicidad de Facebook para un anuncio, procede a crearlo antes de que se complete la comprobaci\u00f3n anticipada de pol\u00edticas."),bodyColor:"primary",emphasized:!0,headline:h._("Publica el anuncio"),headlineColor:"primary",level:4})]})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorMediaAssetToolPickerPreapprovalCard.react",["fbt","ix","AdsUEditorCreativeToolAssetPickerImageUploadPolicyHub.react","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","GeoIcon.react","GeoLink.react","fbicon","geoMargin","react","stylex","useBoolean"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=c("useBoolean")(!1);var b=a.value,e=a.setTrue;a=a.setFalse;return j.jsx(c("GeoGuidanceCard.react"),{"data-testid":void 0,header:j.jsx(c("GeoGuidanceCardHeader.react"),{heading:h._("Revisi\u00f3n de contenido multimedia en curso")}),status:"active-feedback",xstyle:c("geoMargin").top8,children:j.jsxs(c("GeoGuidanceCardContent.react"),{children:[j.jsx("div",{className:c("stylex")(c("geoMargin").top4),children:h._("Revisamos todo el contenido multimedia nuevo para ver si hay problemas con las Pol\u00edticas de publicidad, pero puedes seguir enviando el anuncio. Cualquier contenido multimedia que pueda presentar problemas se mostrar\u00e1 con el icono de advertencia {preapproval-warning icon}. {link to learn more}",[h._param("preapproval-warning icon",j.jsx(c("GeoIcon.react"),{color:"warning",icon:d("fbicon")._(i("648668"),16)})),h._param("link to learn more",j.jsx(c("GeoLink.react"),{"data-testid":void 0,display:"inline",onClick:e,children:h._("M\u00e1s informaci\u00f3n")}))])}),b&&j.jsx(c("AdsUEditorCreativeToolAssetPickerImageUploadPolicyHub.react"),{onClose:a})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorMediaAssetToolPicker.react",["fbt","AdsAutoExtractImageDataSourcePlugin","AdsImageSelectorV2Types","AdsUEditorAssetPickerUploadItem.react","AdsUEditorBusinessCreativeNavigationSection.react","AdsUEditorBusinessMediaBulkUploaderModal.react","AdsUEditorCreativeToolAssetPickerControls.react","AdsUEditorCreativeToolAssetPickerTypes","AdsUEditorMediaAssetToolPickerPreapprovalCard.react","AdsVideoSelectionHeaderTabTypes","CometPlaceholder.react","GeoNotice.react","GeoSpinner.react","GeoTour.react","GeoTourFeatureStep.react","JSResource","SimpleNUXMessage","geoMargin","lazyLoadComponent","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("AdsUEditorCreativeToolAssetPickerGrid.react").__setRef("AdsUEditorMediaAssetToolPicker.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={showBusinessMediaUploadModal:!1,showBusinessMediaNUX:!c("SimpleNUXMessage").hasUserSeenMessage_LEGACY("877974546251125"),showPreapprovalCard:!1},d.$1=i.createRef(),d.$2=i.createRef(),d.$3=i.createRef(),d.$5=function(a){d.props.onChangeSource(a)},d.$6=function(){c("SimpleNUXMessage").markMessageSeenByUser("877974546251125"),d.setState({showBusinessMediaNUX:!1})},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.$4=function(a){this.setState({showBusinessMediaUploadModal:a})};e.render=function(){var a=this,b,e=this.props.uploadStatus,f={columnCount:this.props.columnCount,containerPadding:this.props.containerPadding,disableHeight:this.props.disableHeight},g=function(b){a.props.onUpload!=null&&(a.props.onUpload(b),a.setState({showPreapprovalCard:!0}))},k={adgroup:this.props.adgroup,allowMultiUpload:this.props.allowMultiUpload,uploadStatus:e,containerStyle:{overflow:"visible"},bulkUploadStatus:this.props.bulkUploadStatus,disableUnselectedItems:this.props.disableUnselectedItems,hasAutoExtractedMedia:this.props.selectedSource===c("AdsAutoExtractImageDataSourcePlugin").key,hasNextPage:this.props.hasNextPage,hideItemCounter:this.props.hideItemCounter,igIDtoPostsMap:this.props.igIDtoPostsMap,itemBIReviewStatusMap:this.props.itemBIReviewStatusMap,isLoading:this.props.isLoading,itemIDs:this.props.itemIDs,itemRenderer:this.props.itemRenderer,getIsVideoMPIEnabledWithoutLog:this.props.getIsVideoMPIEnabledWithoutLog,maxSelectionCount:this.props.maxSelectionCount,selectedItems:this.props.selectedItems,selectedUploadingVideoIDs:this.props.selectedUploadingVideoIDs,videoSource:this.props.mediaType==="video"?this.props.selectedSource:void 0,uploadingItemRenderer:c("AdsUEditorAssetPickerUploadItem.react"),uploadingVideo:this.props.uploadingVideo,uploadingBulkVideos:this.props.uploadingBulkVideos,onCancelUpload:this.props.onCancelUpload,onCancelBulkUpload:this.props.onCancelBulkUpload,onBulkVideosUploadFinish:this.props.onBulkVideosUploadFinish,onSelect:this.props.onSelect,onSelectUploadingVideo:this.props.onSelectUploadingVideo,onEndReached:this.props.onEndReached,onUpload:g,onSelectIGVideo:this.props.onSelectIGVideo};e=(e==null?void 0:e.status)==="loading"||(e==null?void 0:e.status)==="buffering";var l=this.props.customElement;l!=null&&this.props.customElementIsScrollable===!0&&(l=i.jsx("div",{className:"mm05nxu8 ba4ynyj4",children:l}));var m=this.props.selectedSource===d("AdsImageSelectorV2Types").AdsImageSource.BUSINESS_IMAGE||this.props.selectedSource===c("AdsVideoSelectionHeaderTabTypes").BUSINESS,n=!this.props.assetPickerControlsType||this.props.assetPickerControlsType===d("AdsUEditorCreativeToolAssetPickerTypes").AdsAssetPickerControlsType.STACKED_LAYOUT,o=this.props.businessID;b=(b=this.props.foldersQuery)==null?void 0:b.selectedFolder;return i.jsxs("div",{className:"pytsy3co cqf1kptm alzwoclg","data-testid":void 0,children:[i.jsx(c("AdsUEditorCreativeToolAssetPickerControls.react"),{allowMultiUpload:this.props.allowMultiUpload,assetPickerControlsType:this.props.assetPickerControlsType,businessID:this.props.businessID,businessSourceSelectorRef:this.$1,filters:this.props.filters,getIsVideoMPIEnabled:this.props.getIsVideoMPIEnabled,getIsVideoMPIEnabledWithoutLog:this.props.getIsVideoMPIEnabledWithoutLog,isFolderQuery:this.props.isFolderQuery,isLoading:this.props.isLoading,isSourceSelectionHidden:this.props.isSourceSelectionHidden,isUploading:e,mediaType:this.props.mediaType,pageID:this.props.pageID,pagesLoadObject:this.props.pagesLoadObject,searchInputPlaceholder:this.props.searchInputPlaceholder,selectedSource:this.props.selectedSource,shouldShowGoogleDriveButton:this.props.shouldShowGoogleDriveButton,showMediaTypeSwitcher:this.props.showMediaTypeSwitcher,sources:this.props.sources,onChangeFilters:this.props.onChangeFilters,onChangeMediaType:this.props.onChangeMediaType,onChangePolicyCompliantFilter:this.props.onChangePolicyCompliantFilter,onChangeSource:this.$5,onClickBusinessMediaUploadButton:function(){return a.$4(!0)},onSearch:this.props.onSearch,onUpload:this.props.onUpload!=null?g:null}),i.jsx("div",{className:"r6ydv39a t6achhyv esps6im3 dkvww1es"}),this.props.noticeMessage!=null&&i.jsx(c("GeoNotice.react"),{status:"info",xstyle:c("geoMargin").top12,children:this.props.noticeMessage}),m?i.jsx("div",{className:"mfclru0v r6ydv39a",children:i.jsx(c("AdsUEditorBusinessCreativeNavigationSection.react"),{foldersQuery:this.props.foldersQuery,isSearching:this.props.isSearching,isShowingAllMedia:this.props.isShowingAllMedia,isStackedLayout:n,mediaLibraryButtonRef:this.$3,selectedSource:this.props.selectedSource,onClickBusinessMediaUploadButton:function(){return a.$4(!0)}})}):i.jsx("div",{}),this.state.showPreapprovalCard&&i.jsx(c("AdsUEditorMediaAssetToolPickerPreapprovalCard.react"),{}),l!=null?l:i.jsx("div",{className:"i1n1lj7b t6achhyv esps6im3 cgu29s5g",children:i.jsxs(c("CometPlaceholder.react"),{fallback:i.jsx(c("GeoSpinner.react"),{center:!0}),children:[this.props.customGridHeader,i.jsx(j,babelHelpers["extends"]({},f,k,{businessID:o,folderCellRef:this.$2,isSAP:(e=this.props.isSAP)!=null?e:!1,isStackedLayout:n,shouldRenderMediaLiquidityVideoGuidance:this.props.shouldRenderMediaLiquidityVideoGuidance}))]})}),m&&this.state.showBusinessMediaUploadModal&&o!=null&&b!=null?i.jsx(c("AdsUEditorBusinessMediaBulkUploaderModal.react"),{businessID:o,selectedFolder:b,onHide:function(){return a.$4(!1)},onReloadFoldersAndCreatives:this.props.onReload}):null,i.jsxs(c("GeoTour.react"),{isActive:m&&this.props.itemIDs.size>0&&this.state.showBusinessMediaNUX,onHide:this.$6,children:[i.jsx(c("GeoTourFeatureStep.react"),{content:h._("Consulta tus carpetas o los elementos del anuncio a\u00f1adidos m\u00e1s recientemente."),contextRef:this.$1,heading:h._("Cambia entre carpetas y archivos recientes"),image:i.jsx(i.Fragment,{})}),i.jsx(c("GeoTourFeatureStep.react"),{align:"start",content:h._("Primero selecciona una carpeta para cargar archivos multimedia."),contextRef:this.$2,heading:h._("Subir a una carpeta"),image:i.jsx(i.Fragment,{})}),i.jsx(c("GeoTourFeatureStep.react"),{content:h._("Administra el contenido multimedia del negocio en la Biblioteca multimedia."),contextRef:this.$3,heading:h._("Ir a la Biblioteca multimedia"),image:i.jsx(i.Fragment,{})})]})]})};return b}(i.Component);a.defaultProps={columnCount:3,containerPadding:16,disableHeight:!1};g["default"]=a},98);
__d("AdsUEditorCreativeToolAssetPickerGrid.react",["Ads3PSourcingUtils","AdsImageIDClasses","AdsMediaPickerConstants","AdsMediaPickerEmptyState.react","AdsMediaPickerGridDisplayUploadItem.react","AdsOnDragUploadFileTargetWrapper.react","GeoMediaItem.react","GeoSpinner.react","ScenarioBoundary.react","emptyFunction","react","react-virtualized-master","throttle"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={fileDropTarget:{position:"s8sjc6am",width:"mfclru0v",height:"f6rri7so",marginTop:"r6ydv39a"},gridSpinner:{marginTop:"d0v8uh0x",marginBottom:"hvkrc4ah",marginEnd:"ja9acum0",marginStart:"r2zoeijs"}};a=24;b=20;var j=56;e=5;var k=400;f={};var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(a=e=b.call.apply(b,[this].concat(g))||this,e.state={itemCount:0,renderableItemCount:0,onEndReached:c("emptyFunction")},e.$1=0,e.$2=function(){var a;return h.jsx(c("AdsMediaPickerEmptyState.react"),{businessID:e.props.businessID,isSAP:(a=e.props.isSAP)!=null?a:!1,isStackedLayout:e.props.isStackedLayout})},e.$5=function(a){var b=a.clientHeight,c=a.scrollHeight;a=a.scrollTop;if(e.props.isLoading||!e.props.hasNextPage)return;b+a>=c&&e.state.onEndReached()},e.$6=function(a){a=a.height;var b=e.props.gridRowHeight+e.props.rowPadding;a=Math.ceil(a/b);b=a*e.props.columnCount;e.setState({renderableItemCount:b})},e.$4=function(a){var b=a.columnIndex,c=a.key,f=a.rowIndex;a=a.style;if(!e.shouldRenderMediaLiquidityVideoGuidance())return e.$7({columnIndex:b,key:c,rowIndex:f,style:a});if(f===0)return b===0?h.jsx(d("Ads3PSourcingUtils").MaybeLiquidityGuidance,{marginTop:0,mediaType:"video"}):null;a=babelHelpers["extends"]({},a,{top:a.top-j});return e.$7({columnIndex:b,key:c,rowIndex:f-1,style:a})},a)||babelHelpers.assertThisInitialized(e)}a.getDerivedStateFromProps=function(a,b){return babelHelpers["extends"]({},b,{itemCount:a.itemIDs.size+(a.uploadStatus?1:0),onEndReached:a.onEndReached?c("throttle")(a.onEndReached):c("emptyFunction")})};var e=a.prototype;e.shouldRenderMediaLiquidityVideoGuidance=function(){var a;return(a=this.props.shouldRenderMediaLiquidityVideoGuidance)!=null?a:!1};e.render=function(){var a=this,b=this.props,d=b.columnCount,e=b.containerPadding,f=b.containerStyle,g=b.disableHeight,l=b.gridHeightOverride,m=b.gridRowHeight,n=b.rowPadding,o=b.onUpload,p=b.igIDtoPostsMap;b=b.getIsVideoMPIEnabledWithoutLog;var q=Math.ceil(this.state.itemCount/d);this.props.isLoading&&(this.props.hasNextPage||this.state.itemCount===0)&&q++;m=m+n;n=0;this.shouldRenderMediaLiquidityVideoGuidance()&&(q+=1,m=(m*q-j)/q,n=-j);if(this.props.isLoading&&this.state.itemCount===0)return h.jsx(c("GeoSpinner.react"),{center:!0});this.$3();var r={autoContainerWidth:!0,cellRenderer:this.$4,columnCount:d,igIDtoPostsMap:p,getIsVideoMPIEnabledWithoutLog:b,containerStyle:f,noContentRenderer:this.$2,overscanRowCount:2,role:null,rowCount:q,rowHeight:m,style:{padding:e,marginBottom:n},onScroll:this.$5};p=function(b){var f;if(b.height===0&&b.width===0)return h.jsx(c("GeoSpinner.react"),{center:!0,description:"AdsUEditorCreativeToolAssetPickerGrid_Resizing",xstyle:i.gridSpinner});f=(f=l)!=null?f:b.height||k;var g=b.width-10;b=(b.width-e*2)/d;return o!=null?h.jsx(c("AdsOnDragUploadFileTargetWrapper.react"),{allowMultiUpload:a.props.allowMultiUpload,xstyle:i.fileDropTarget,onUpload:o,children:h.jsx(c("react-virtualized-master").Grid,babelHelpers["extends"]({},r,{columnWidth:b,height:f,width:g}))}):h.jsx(c("react-virtualized-master").Grid,babelHelpers["extends"]({},r,{columnWidth:b,height:f,width:g}))};return h.jsx(c("ScenarioBoundary.react"),{scenario:"am:edit_ads:load_media_picker_dialog",success:"next_frame",children:h.jsx(c("react-virtualized-master").AutoSizer,{disableHeight:g,onResize:this.$6,children:p})})};e.$3=function(){!this.props.isLoading&&this.props.hasNextPage&&this.state.itemCount>this.$1&&this.state.itemCount<=this.state.renderableItemCount&&(this.state.onEndReached(),this.$1=this.state.itemCount)};e.$7=function(a){var b=this,e=a.columnIndex,f=a.key,g=a.rowIndex;a=a.style;var i=g*this.props.columnCount+e;g=this.props;e=g.bulkUploadStatus;var j=g.uploadingBulkVideos,k=g.onCancelBulkUpload,l=g.uploadingItemRenderer,m=g.igIDtoPostsMap,n=g.getIsVideoMPIEnabledWithoutLog;g=g.onBulkVideosUploadFinish;if(j&&e){var o=[],p=Array.from(e.values()),q=[];p.forEach(function(a){j.forEach(function(b){a.uploaderKey===b.id&&q.push(b.asset.thumbnailURL)})});for(var e=0;e<p.length;e++){var r={name:p[e].title,progress:p[e].progress};switch(p[e].status){case"UPLOADING":case"ENCODING":r=babelHelpers["extends"]({},r,{status:p[e].status==="UPLOADING"?"loading":"buffering"});break;case"ERROR":r=babelHelpers["extends"]({},r,{status:"error",errorMessage:p[e].errorMessage});break;default:r}o.push(r)}r=l;if(i<o.length&&k)return h.jsx("div",{style:a,children:h.jsx(r,{data:o[i],thumbnailURL:q[i],onCancelUpload:function(){k(p[i].uploaderKey)}})},f);i-=o.length;e=!1;o.every(function(a){return!Object.prototype.hasOwnProperty.call(a,"status")})&&(e=!0);e&&g&&g()}else{this.props.uploadStatus&&i--;if(i===-1&&this.props.uploadStatus){l=this.props.uploadingItemRenderer;var s=this.props.uploadingVideo;return h.jsx("div",{style:a,children:h.jsx(l,{data:this.props.uploadStatus,isSelected:s?(r=this.props.selectedUploadingVideoIDs)==null?void 0:r.has(s.id):!1,thumbnailURL:s==null?void 0:s.asset.thumbnailURL,onCancelUpload:this.props.onCancelUpload,onSelect:s?function(){return b.props.onSelectUploadingVideo==null?void 0:b.props.onSelectUploadingVideo(s.id)}:void 0})},f)}}var t=this.props.itemIDs.valueSeq().get(i);if(i>=this.props.itemIDs.size&&this.props.isLoading)return h.jsx("div",{style:a,children:h.jsx(c("GeoMediaItem.react"),{isLoading:!0,media:null,ratio:"square",size:96})},f);if(t==null)return null;o=this.props.itemRenderer;e=!1;g=this.props.selectedItems;t instanceof d("AdsImageIDClasses").AdsExternalImageID?e=g.find(function(a){return a instanceof d("AdsImageIDClasses").AdsExternalImageID?t.getComparableSignature()===a.getComparableSignature():!1})!=null:e=g.includes(t);l=(this.props.selectedItems.size>=this.props.maxSelectionCount&&this.props.maxSelectionCount>1||this.props.disableUnselectedItems)&&!e;r=((r=this.props.itemBIReviewStatusMap)==null?void 0:r.get(t))==="PENDING";return h.jsx("div",{style:a,children:h.jsx(o,{adgroup:this.props.adgroup,counter:!this.props.hideItemCounter&&e&&g.size>1?g.toArray().indexOf(t)+1:null,folderCellRef:i===0?this.props.folderCellRef:void 0,getIsVideoMPIEnabledWithoutLog:n,hasAutoExtractedMedia:this.props.hasAutoExtractedMedia,id:t,igIDtoPostsMap:m,isBIReviewPending:r,isDisabled:l,isSelected:e,videoSource:this.props.videoSource,onSelect:this.props.onSelect,onSelectIGVideo:this.props.onSelectIGVideo})},f)};return a}(h.PureComponent);l.defaultProps={containerPadding:b,containerStyle:f,columnCount:e,disableHeight:!0,disableUnselectedItems:!1,hideItemCounter:!1,gridRowHeight:c("AdsMediaPickerConstants").GRID_ROW_HEIGHT,uploadingItemRenderer:c("AdsMediaPickerGridDisplayUploadItem.react"),rowPadding:a};g["default"]=l},98);
__d("AdsUEditorRecommendedSourceTabCustomAssetPicker.react",["ix","AdsCreativeDiversityL2L3LevelScoreDataSelector","AdsCreativeDiversityMediaPickerTipContainer.react","AdsDiverseImageDataSourcePlugin","AdsMediaPickerEmptyState.react","AdsPerfInteractionComponentContext","AdsRecommendedImageDataSourcePlugin","AdsUEditorCreativeToolAssetPickerGrid.react","CometPlaceholder.react","GeoFlexbox.react","GeoMediaItem.react","GeoSpinner.react","GeoText.react","GeoTooltip.react","Image.react","ScrollableArea.react","geoMargin","immutable","react","stylex","withAdsHeroTracing"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={root:{display:"alzwoclg",flexDirection:"cqf1kptm",height:"pytsy3co"},grid:{flexGrow:"cgu29s5g",marginEnd:"esps6im3",marginStart:"t6achhyv",marginBottom:"p8bdhjjv",marginTop:"osvssn79"},tooltipIcon:{marginStart:"jbg88c62",display:"fxk3tzhb"},labelText:{marginStart:"jbg88c62"}},l=c("withAdsHeroTracing").root("am_media_picker_dialog");function m(a){var b=a.perfInteractionComponent;a=a.children;return b==="am_media_picker_dialog"?a:i.jsx(l,{children:a})}m.displayName=m.name+" [from "+f.id+"]";var n=8,o=170;function a(a){var b=a.validSources.filter(function(a,b){return b===c("AdsRecommendedImageDataSourcePlugin").source||b===c("AdsDiverseImageDataSourcePlugin").source}),e=j(c("AdsPerfInteractionComponentContext")),f=b.keySeq().filter(function(b){return a.assetIDsSourceMap.has(b)&&a.assetIDsSourceMap.get(b).size>0}).count(),g=b.keySeq().filter(function(b){return b===c("AdsDiverseImageDataSourcePlugin").key&&a.assetIDsSourceMap.has(b)&&a.assetIDsSourceMap.get(b).size>0}).count()>0,l={adgroup:a.adgroup,containerStyle:{overflow:"visible"},disableUnselectedItems:a.disableUnselectedItems,hideItemCounter:a.hideItemCounter,isLoading:a.isLoading,itemRenderer:a.itemRenderer,maxSelectionCount:a.maxSelectionCount,selectedItems:a.selectedItems,onSelect:a.onSelect,onEndReached:a.onEndReached};b=b.reduce(function(b,d,e){var f,g=a.assetIDsSourceMap.has(e)?a.assetIDsSourceMap.get(e):c("immutable").OrderedSet(),j=Math.ceil(g.size/n);f=(f=d.shortLabel)!=null?f:d.label;return g.size>0?b.push(i.jsxs(c("GeoFlexbox.react"),{direction:"column",children:[i.jsx(c("GeoFlexbox.react"),{alignItems:"start",direction:"row",justifyContent:"space-between",children:i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[i.jsx(c("GeoTooltip.react"),{content:f,children:i.jsx(c("GeoMediaItem.react"),{fit:"cover",media:i.jsx(c("Image.react"),{src:d.sectionIcon}),ratio:"square",size:32})}),i.jsx(c("GeoText.react"),{display:"block",textAlign:"start",xstyle:k.labelText,children:f}),d.tooltip!=null?i.jsx(c("GeoTooltip.react"),{content:d.tooltip,xstyle:k.tooltipIcon,children:i.jsx(c("Image.react"),{src:h("485955")})}):null]})}),i.jsx("div",{children:i.jsx("div",{className:c("stylex")(k.grid),children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("GeoSpinner.react"),{center:!0}),children:i.jsx(c("AdsUEditorCreativeToolAssetPickerGrid.react"),babelHelpers["extends"]({},l,{columnCount:a.columnCount,disableHeight:!0,gridHeightOverride:j*o,itemIDs:g}))})})},e)]})):b},c("immutable").List());return f===0?i.jsx(m,{perfInteractionComponent:e,children:i.jsx(c("AdsMediaPickerEmptyState.react"),{})}):i.jsx(c("ScrollableArea.react"),{children:i.jsx(m,{perfInteractionComponent:e,children:i.jsxs("div",{className:c("stylex")(k.root),"data-testid":void 0,children:[d("AdsCreativeDiversityL2L3LevelScoreDataSelector").shouldShowMediaPickerTip()&&g&&i.jsx(c("AdsCreativeDiversityMediaPickerTipContainer.react"),{showActionBtn:!1}),i.jsx("div",{className:c("stylex")(c("geoMargin").top16),children:b})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorImageAssetToolPickerContainer.react",["AdsAllImageDataSourcePlugin","AdsAssetFeedUtils","AdsBusinessImageSourceClickCreativeFolderAction","AdsBusinessImagesQuery","AdsBusinessSourceCreativeContentItem","AdsCreativeDiversityL2L3LevelScoreDataSelector","AdsDiverseImageDataSourcePlugin","AdsDynamicCreativeOptimizationLoggerEvents","AdsImageDataSourcePlugins","AdsImageIDClasses","AdsImageSelectorV2Types","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsMediaPickerConstants","AdsMediaPickerDialogQueryContext","AdsMediaPickerPolicyCompliantOptionSelectedAction","AdsMediaPickerPolicyCompliantOptions","AdsMediaPickerPolicyCompliantSelectedOptionProvider","AdsNewlyUploadedImageAestheticScoreSetAction","AdsRecommendedImageDataSourcePlugin","AdsRecommendedImagesProvider","AdsSFSetImagePickerSourceAction","AdsUEditorAllSourceTabAssetPicker.react","AdsUEditorCreativeToolBusinessImageSourcePicker.react","AdsUEditorCreativeToolImagePickerThumbnailContainer.react","AdsUEditorMediaAssetToolPicker.react","AdsUEditorRecommendedSourceTabCustomAssetPicker.react","AsyncRequest","FluxContainer","QPLUserFlow","RecommendedImageLogger","XAdsImageAestheticScoreController","adsAccountGK","emptyFunction","immutable","isTruthy","justknobx","qpl","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=100,j=function(a){return h.jsx(c("AdsUEditorCreativeToolImagePickerThumbnailContainer.react"),babelHelpers["extends"]({},a,{adgroup:a.adgroup,folderCellRef:a.folderCellRef,imageSource:d("AdsImageSelectorV2Types").AdsImageSource.RECOMMENDED_IMAGE}))},k=function(a){return h.jsx(c("AdsUEditorCreativeToolBusinessImageSourcePicker.react"),babelHelpers["extends"]({},a,{adgroup:a.adgroup,folderCellRef:a.folderCellRef}))},l=function(a){return h.jsx(c("AdsUEditorCreativeToolImagePickerThumbnailContainer.react"),babelHelpers["extends"]({},a,{adgroup:a.adgroup,folderCellRef:a.folderCellRef,imageSource:d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE}))},m=function(a){return h.jsx(c("AdsUEditorCreativeToolImagePickerThumbnailContainer.react"),babelHelpers["extends"]({},a,{adgroup:a.adgroup,folderCellRef:a.folderCellRef,imageSource:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE}))};function n(a){c("AdsSFSetImagePickerSourceAction").dispatch({imagePickerSource:a},{line:"178",module:"AdsUEditorImageAssetToolPickerContainer.react.js"})}var o=c("AdsRecommendedImagesProvider").toFluxStore();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$7=function(){var a=e.state.query,b=c("isTruthy")(e.state.businessID)?new(c("AdsBusinessImagesQuery"))({businessID:e.state.businessID}):null;e.state.plugin.refreshQuery==null?void 0:e.state.plugin.refreshQuery([a,e.state.foldersQuery,b])},e.$8=function(){var a=e.state,b=a.hasNextPage,f=a.query,g=a.foldersQuery;a=a.hasFoldersNextPage;e.props.source===d("AdsImageSelectorV2Types").AdsImageSource.BUSINESS_IMAGE&&c("isTruthy")(g)&&c("isTruthy")(a)?e.state.plugin.loadMore(g):f!=null&&b&&e.state.plugin.loadMore(f)},e.$9=function(a){n(a),a===d("AdsImageSelectorV2Types").AdsImageSource.AUTO_EXTRACT_IMAGE&&c("AdsInterfacesLogger").log({eventName:c("AdsDynamicCreativeOptimizationLoggerEvents").AUTO_EXTRACTION_LAND_ON_IMAGE_URL_TAB,eventCategory:d("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{ad_account_id:e.props.account.account_id}}),a===c("AdsRecommendedImageDataSourcePlugin").key&&(d("RecommendedImageLogger").logRecommendedTabOpened(),c("AdsDiverseImageDataSourcePlugin").isEnabled({account:e.props.account,placements:e.props.placements,isDCOAdgroup:!1})&&c("AdsDiverseImageDataSourcePlugin").reset(e.props)),e.props.onChangeSource&&(e.state.plugin.reset(e.props),e.props.onChangeSource==null?void 0:e.props.onChangeSource(a)),c("AdsMediaPickerPolicyCompliantOptionSelectedAction").dispatch({selectedOption:c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").getInitialState().selectedOption},{line:"421",module:"AdsUEditorImageAssetToolPickerContainer.react.js"})},e.$10=function(a,b){var d=e.state.plugin.onUpload;if(d==null)return;c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"UPLOAD_IMAGE");e.setState({isMultiUpload:a.length>1});e.state.isMultiUpload===!0&&e.$6(e.state);var f=1,g=1,h=e.props.imageSpecs;h!=null&&h.size>0&&(f=Math.min.apply(Math,h.map(function(a){return a.minWarningHeight}).toArray()),g=Math.min.apply(Math,h.map(function(a){return a.minWarningWidth}).toArray()));d(a,f,g,e.props.account.account_id,b)},e.$11=function(a){e.state.plugin.onSearch(a,e.props,e.state)},e.$12=function(a){var b={account:e.props.account,pageID:e.props.pageID};e.state.plugin.applyFilters(a,b,e.state.query,e.props)},e.$13=function(a){var b={account:e.props.account,pageID:e.props.pageID};if(e.state.plugin.applyPolicyCompliantFilter){var d=a===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;e.state.plugin.applyPolicyCompliantFilter(d,b,e.state.query);c("AdsMediaPickerPolicyCompliantOptionSelectedAction").dispatch({selectedOption:a},{line:"494",module:"AdsUEditorImageAssetToolPickerContainer.react.js"})}},e.$15=function(a){var b=e.props.onSelect,f=e.state.businessID;if(a instanceof d("AdsBusinessSourceCreativeContentItem").AdsBusinessCreativeImageID){var g=a.getBusinessImageID();c("isTruthy")(b)&&b(g);g instanceof d("AdsImageIDClasses").AdsBusinessImageID&&c("AdsInterfacesLogger").log({eventName:"business_asset_selected",data:{message:g.getHash(),object_ids:[g.getBusinessImageID()]}})}else a instanceof d("AdsBusinessSourceCreativeContentItem").AdsBusinessCreativeFolder&&c("isTruthy")(f)&&c("AdsBusinessImageSourceClickCreativeFolderAction").dispatch({businessID:f,selectedCreativeFolder:a.getBusinessCreativeFolder()},{line:"530",module:"AdsUEditorImageAssetToolPickerContainer.react.js"})},b)||babelHelpers.assertThisInitialized(e)}b.getStores=function(a){a=a.source;return[].concat(c("AdsImageDataSourcePlugins").withShape({source:a}).getOne().getStores(),[o])};b.calculateState=function(a,b){a=c("AdsImageDataSourcePlugins").withShape({source:b.source}).getOne();b=a.load(b);var d=o.getState();return babelHelpers["extends"]({},b,{plugin:a,hasRecommendedImageBadge:d})};var e=b.prototype;e.componentDidMount=function(){this.state.plugin.reset(this.props)};e.componentDidUpdate=function(a,b){a=b.uploadStatus!=null&&this.state.uploadStatus==null&&this.state.uploadFailReason==null;if(a){a=this.$1(this.state,b);a=this.$2(this.state,a);var d=a.first();this.$3(a);this.setState({oldImageIDs:c("immutable").OrderedSet()});d&&b.isMultiUpload!==!0&&(this.props.onSelect==null?void 0:this.props.onSelect(d),this.setState({isNewlyUploaded:!0,newlyUploadedImageID:d}))}};e.componentWillUnmount=function(){this.state.plugin.reset(this.props),this.state.isNewlyUploaded===!0&&this.state.newlyUploadedImageID!==void 0&&(this.props.onSelect==null?void 0:this.props.onSelect(this.state.newlyUploadedImageID),this.setState({isNewlyUploaded:!1,newlyUploadedImageID:void 0}))};e.$4=function(){return this.props.source===d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE};e.$2=function(a,b){if(b===void 0)return c("immutable").OrderedSet();var d=this.$4();return d?(d=this.$5(a))==null?void 0:d.subtract(b):a.imageIDs.subtract(b)};e.$1=function(a,b){if(a.isMultiUpload===!0)return a.oldImageIDs;else{a=this.$4();return a?this.$5(b):b.imageIDs}};e.$6=function(a){var b=this.$4();b=b?this.$5(a):a.imageIDs;this.setState({oldImageIDs:b})};e.$5=function(a){return(a=(a=a.imageIDsSourceMap)==null?void 0:a.get(d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE))!=null?a:c("immutable").OrderedSet()};e.$3=function(a){if(c("justknobx")._("118")){this.setState({isNewlyUploaded:!1});var b=[],e=[];a.map(function(a){a instanceof d("AdsImageIDClasses").AdsAccountImageID&&(b.push(a.getHash()),e.push(a))});if(b.length===0)return;e.reverse();b.length>i&&b.slice(0,i);a=c("XAdsImageAestheticScoreController").getURIBuilder().setFBID("ad_account_id",this.props.account.account_id).setStringSet("image_hashes",b).getURI();new(c("AsyncRequest"))().setURI(a).setReadOnly(!0).setMethod("GET").setHandler(function(a){a.payload.aes_scores.map(function(a){a!==null&&a.aes_rating!==null&&a.aes_rot!==null&&a.aes_balance_elements!==null&&c("AdsNewlyUploadedImageAestheticScoreSetAction").dispatch({id:e.pop(),aes_scores:{aes_rating:a.aes_rating,aes_rot:a.aes_rot,aes_balance_elements:a.aes_balance_elements}},{line:"342",module:"AdsUEditorImageAssetToolPickerContainer.react.js"})})}).setErrorHandler(function(a){a&&d("RecommendedImageLogger").logSyncAestheticScoreFailure(a)}).send();this.setState({isNewlyUploaded:!0})}};e.$14=function(){var a=this.state.query;return a==null?!1:this.state.plugin.hasQuery(a)};e.$16=function(a,b,e){a=c("AdsDiverseImageDataSourcePlugin").isEnabled({account:this.props.account,placements:this.props.placements,isDCOAdgroup:!1});if(this.state.imageIDsSourceMap==null||this.state.isLoadingSourceMap==null)return null;switch(this.props.source){case c("AdsAllImageDataSourcePlugin").key:return h.jsx(c("AdsUEditorAllSourceTabAssetPicker.react"),babelHelpers["extends"]({},b,{adAccountID:this.props.account.account_id,adgroup:this.props.adgroup,allowMultiUpload:this.props.allowMultiUpload,assetIDsSourceMap:this.state.imageIDsSourceMap,currentPageID:this.state.currentPageID,hasRecommendedImageBadge:this.state.hasRecommendedImageBadge,isDiverseImageSectionEnabled:a,isLoadingSourceMap:this.state.isLoadingSourceMap,itemBIReviewStatusMap:this.state.imageBIReviewStatusMap,pageID:this.props.pageID,pagesLoadObject:this.props.pagesLoadObject,shouldRenderMediaLiquidityImageGuidance:this.props.shouldRenderMediaLiquidityImageGuidance,sources:e,uploadStatus:this.state.uploadStatus}));case c("AdsRecommendedImageDataSourcePlugin").key:return d("AdsCreativeDiversityL2L3LevelScoreDataSelector").shouldShowMediaPickerDiverseImageSection(this.props.account)&&c("isTruthy")(this.state.imageIDsSourceMap)?h.jsx(c("AdsUEditorRecommendedSourceTabCustomAssetPicker.react"),babelHelpers["extends"]({adgroup:this.props.adgroup,assetIDsSourceMap:this.state.imageIDsSourceMap,isLoading:this.state.isLoading,validSources:e,onEndReached:this.$8},b)):null;default:return null}};e.render=function(){var a=this,b,e,f=this.state.plugin,g=this.state.plugin.applyPolicyCompliantFilter?this.$13:null,i=this.state.plugin.onUpload?this.$10:null,n=c("immutable").OrderedMap(c("AdsImageDataSourcePlugins").filter(function(b){return b.isEnabled({account:a.props.account,placements:a.props.placements,isDCOAdgroup:a.props.adgroup?d("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a.props.adgroup):!1},a.props)}).sort(function(a,b){return((a=a.rank)!=null?a:Number.MAX_SAFE_INTEGER)-((a=b.rank)!=null?a:Number.MAX_SAFE_INTEGER)}).getArray().filter(function(b){var c;return!((c=a.props.disabledSources)==null?void 0:c.has(b.source))}).map(function(b){return[b.source,{icon:b.icon(a.props.isDelegatePageForProfile),id:b.source,label:b.label(a.props.isDelegatePageForProfile),tooltip:b.tooltip,shortLabel:b.shortLabel,tabIcon:b.tabIcon,sectionIcon:b.sectionIcon,isTabInnerSection:b.isTabInnerSection}]})),o=n.filter(function(a){return!a.isTabInnerSection}),p;switch(f.source){case d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE:p=l;break;case d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE:p=m;break;case d("AdsImageSelectorV2Types").AdsImageSource.RECOMMENDED_IMAGE:p=j;break;default:p=c("AdsUEditorCreativeToolImagePickerThumbnailContainer.react")}b={columnCount:this.props.columnCount,disableUnselectedItems:this.props.disableUnselectedItems,hideItemCounter:this.props.hideItemCounter,maxSelectionCount:this.props.maxSelectionCount,selectedItems:this.props.selectedItems,onSelect:(b=this.props.onSelect)!=null?b:c("emptyFunction"),itemRenderer:p,sources:o,onChangeSource:this.$9,onUpload:i};var q=this.state.query instanceof c("AdsBusinessImagesQuery")&&this.state.query.folderID!=null;e=(e=this.props.isSAP)!=null?e:!1;var r=!(e&&c("adsAccountGK")._(this.props.account,"5E9TDD5Nc"));return h.jsx(c("AdsMediaPickerDialogQueryContext").Provider,{value:{hasQuery:this.$14()},children:this.props.source===d("AdsImageSelectorV2Types").AdsImageSource.BUSINESS_IMAGE?h.jsx(c("AdsUEditorMediaAssetToolPicker.react"),babelHelpers["extends"]({},this.state,{adgroup:this.props.adgroup,allowMultiUpload:this.props.allowMultiUpload,assetPickerControlsType:this.props.assetPickerControlsType,columnCount:this.props.columnCount,customGridHeader:this.props.customGridHeader,disableUnselectedItems:this.props.disableUnselectedItems,filters:f.filters,hasNextPage:this.state.hasNextPage,hideItemCounter:this.props.hideItemCounter,isFolderQuery:q,isSAP:e,isSourceSelectionHidden:this.props.isSourceSelectionHidden,itemIDs:c("isTruthy")(this.state.businessItemIDs)?this.state.businessItemIDs:c("immutable").OrderedSet(),itemRenderer:k,maxSelectionCount:this.props.maxSelectionCount,mediaType:c("AdsMediaPickerConstants").IMAGE,searchInputPlaceholder:f.searchPlaceholder,selectedItems:c("isTruthy")(this.state.plugin.getSelectedBusinessItem)?this.state.plugin.getSelectedBusinessItem(this.props.selectedItems):c("immutable").OrderedSet(),selectedSource:this.props.source,shouldShowGoogleDriveButton:r,showMediaTypeSwitcher:this.props.showMediaTypeSwitcher,sources:o,uploadStatus:this.state.uploadStatus,onChangeFilters:this.$12,onChangeMediaType:this.props.onChangeMediaType,onChangePolicyCompliantFilter:g,onChangeSource:this.$9,onEndReached:this.$8,onReload:this.$7,onSearch:this.$11,onSelect:this.$15,onUpload:i})):h.jsx(c("AdsUEditorMediaAssetToolPicker.react"),babelHelpers["extends"]({},this.state,b,{account:this.props.account,adgroup:this.props.adgroup,allowMultiUpload:this.props.allowMultiUpload,assetPickerControlsType:this.props.assetPickerControlsType,columnCount:this.props.columnCount,customElement:this.$16(o,b,n),customGridHeader:this.props.customGridHeader,filters:f.filters,isSAP:e,isSourceSelectionHidden:this.props.isSourceSelectionHidden,itemBIReviewStatusMap:this.state.imageBIReviewStatusMap,itemIDs:this.state.imageIDs,mediaType:c("AdsMediaPickerConstants").IMAGE,pageID:this.props.pageID,pagesLoadObject:this.props.pagesLoadObject,searchInputPlaceholder:f.searchPlaceholder,selectedSource:this.props.source,shouldShowGoogleDriveButton:r,showMediaTypeSwitcher:this.props.showMediaTypeSwitcher,uploadStatus:this.state.uploadStatus,onChangeFilters:this.$12,onChangeMediaType:this.props.onChangeMediaType,onChangePolicyCompliantFilter:g,onEndReached:this.$8,onSearch:this.$11}))})};return b}(h.PureComponent);b=c("FluxContainer").create(a,{withProps:!0});g["default"]=b},98);
__d("WaitTimeLoggerStore",["AdsArtilleryScenarioLoggerUtils","AdsDataAtom","AdsDataAtomInstrumentation","AdsInterfacesSessionConfig","AdsInterfacesUserConfig","AdsPerfScenarioUserConfig","AdsSelectorUtils","AdsTTIEventTimes","AdsWebdriverConfig","ArtilleryCategory","CurrentWaitTimeTraceID","DateConsts","FluxStore","GraphAPI","LoadingMarkerGlobalListener","Run","ScenarioGlobalListener","SiteData","TimeSliceInteractionBootloadForPost","UserActivity","WaitTimeReliabilityLogger","WaitTimeURLFlag","abstractMethod","debounce","emptyFunction","performance","performanceNavigationStart","performanceNow","requestIdleCallback","setTimeout"],function(a,b,c,d,e,f,g){"use strict";var h="https://graph.",i=[h];a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;b===void 0&&(b={CRITICAL_SCENARIOS:[]});e=a.call(this,c("AdsDataAtom"))||this;e.$WaitTimeLoggerStore1=new Map();e.$WaitTimeLoggerStore2=new Set();e.$WaitTimeLoggerStore3=null;e.$WaitTimeLoggerStore4=0;e.$WaitTimeLoggerStore5=!0;e.$WaitTimeLoggerStore6=!0;e.$WaitTimeLoggerStore7=!1;e.$WaitTimeLoggerStore8=!1;e.$WaitTimeLoggerStore9=2;e.$WaitTimeLoggerStore26=function(a){if(a.name.startsWith(h)){var b=a.name.indexOf("/",h.length),c=a.name.indexOf("?");return a.name.slice(b,c)}return a.name};e.$WaitTimeLoggerStore10=b;if(!c("AdsInterfacesUserConfig").is_wait_time_logger_enabled){c("AdsDataAtom").unregister(e.getDispatchToken());return babelHelpers.assertThisInitialized(e)}d("AdsDataAtomInstrumentation").addInstrumentation({actionStart:function(a){return e.$WaitTimeLoggerStore11(a)},actionEnd:c("emptyFunction")});e.$WaitTimeLoggerStore12();e.$WaitTimeLoggerStore13();e.$WaitTimeLoggerStore14();e.$WaitTimeLoggerStore15();e.$WaitTimeLoggerStore16();e.$WaitTimeLoggerStore17();e.$WaitTimeLoggerStore18();return e}var e=b.prototype;e.getSpinnerCount=function(){return this.$WaitTimeLoggerStore2.size};e.hasOngoingSpinners=function(){return this.$WaitTimeLoggerStore2.size>0};e.endTraceAndFlush=function(){if(this.$WaitTimeLoggerStore3==null)return;this.$WaitTimeLoggerStore19("FORCE_FINISH")};e.__getActionHandlers=function(){return{}};e.__getEnvironmentSelector=function(){return c("abstractMethod")("WaitTimeLoggerStore","__getEnvironmentSelector")};e.__useUnsampledLogging=function(){return c("WaitTimeURLFlag").isWaitTimeUnsampled()===1};e.__markEvent=function(a,b,e){var f=this.$WaitTimeLoggerStore3;if(f==null)return;e==null&&(e=c("performanceNow")());e+=c("performanceNavigationStart")();d("AdsArtilleryScenarioLoggerUtils").markEvent(a,f,e,b)};e.__markJSError=function(a){if(this.$WaitTimeLoggerStore3==null)return;this.$WaitTimeLoggerStore7=!0;d("AdsArtilleryScenarioLoggerUtils").markError(this.$WaitTimeLoggerStore3,a)};e.__onDispatch=function(a){a=a.action;var b=this.__getActionHandlers()[a.type];if(b!=null){b=b(a);for(var a=b,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.__markEvent(d.category,d.value,d.time)}}};e.$WaitTimeLoggerStore12=function(a){this.$WaitTimeLoggerStore7=!1;this.$WaitTimeLoggerStore8=!1;var b=a==null?d("AdsArtilleryScenarioLoggerUtils").startScenarioTraceFromExistingTimeSlice("wait time",c("performanceNavigationStart")(),d("AdsTTIEventTimes").getInitialTimeSlice()):d("AdsArtilleryScenarioLoggerUtils").startScenarioTrace("wait time",a+c("performanceNavigationStart")(),!0,"ads_wait_time");this.$WaitTimeLoggerStore3=b;d("CurrentWaitTimeTraceID").setInternal(this.getTraceID());this.$WaitTimeLoggerStore4=a||0;b.recordWithExtraSaver("ads_wait_time_saver");this.$WaitTimeLoggerStore20(this.$WaitTimeLoggerStore4);this.$WaitTimeLoggerStore21(this.$WaitTimeLoggerStore4);d("WaitTimeReliabilityLogger").log("client_store_start",this.getTraceID())};e.$WaitTimeLoggerStore19=function(a){var b=this.$WaitTimeLoggerStore3;if(b==null)return;a!=="FORCE_FINISH"?d("WaitTimeReliabilityLogger").log("client_store_cut",this.getTraceID()):d("WaitTimeReliabilityLogger").log("client_store_unload",this.getTraceID());this.$WaitTimeLoggerStore22();this.$WaitTimeLoggerStore23();this.$WaitTimeLoggerStore20(c("performanceNow")());this.$WaitTimeLoggerStore21();this.$WaitTimeLoggerStore24();this.$WaitTimeLoggerStore25(a);d("AdsArtilleryScenarioLoggerUtils").endScenarioTrace(b,this.$WaitTimeLoggerStore4/d("DateConsts").MS_PER_SEC,i,this.$WaitTimeLoggerStore26,a);this.$WaitTimeLoggerStore6=!1};e.$WaitTimeLoggerStore13=function(){var a=this;c("setTimeout")(function(){a.$WaitTimeLoggerStore27()},this.$WaitTimeLoggerStore9*d("DateConsts").MS_PER_MIN)};e.$WaitTimeLoggerStore27=function(){this.$WaitTimeLoggerStore19(),this.$WaitTimeLoggerStore12(c("performanceNow")()),this.$WaitTimeLoggerStore13()};e.$WaitTimeLoggerStore18=function(){var a=this;c("requestIdleCallback")(function(){return c("TimeSliceInteractionBootloadForPost")(c("emptyFunction"))});d("Run").onBeforeUnload(function(){return a.$WaitTimeLoggerStore19("FORCE_FINISH")})};e.$WaitTimeLoggerStore14=function(){var a=this;c("GraphAPI").addSuccessLogHandler(function(b){return a.$WaitTimeLoggerStore28(b)});c("GraphAPI").addErrorHandler(function(b){return a.$WaitTimeLoggerStore29(b)})};e.$WaitTimeLoggerStore15=function(){var a=this;d("LoadingMarkerGlobalListener").subscribe(function(b){return a.$WaitTimeLoggerStore30(b)},function(b,c){return a.$WaitTimeLoggerStore31(b,c)})};e.$WaitTimeLoggerStore16=function(){var a=this;c("ScenarioGlobalListener").subscribe({onStart:function(b){return a.$WaitTimeLoggerStore32(b)},onEnd:function(b,c,d){return a.$WaitTimeLoggerStore33(b,c,d)}})};e.$WaitTimeLoggerStore17=function(){var a=this,b=c("debounce")(function(){return a.$WaitTimeLoggerStore34()},30*d("DateConsts").MS_PER_SEC);c("UserActivity").subscribe(function(){return a.$WaitTimeLoggerStore35(b)});b()};e.$WaitTimeLoggerStore35=function(a){this.$WaitTimeLoggerStore5||(this.$WaitTimeLoggerStore5=!0,this.$WaitTimeLoggerStore21()),a()};e.$WaitTimeLoggerStore34=function(){this.$WaitTimeLoggerStore5=!1,this.$WaitTimeLoggerStore21()};e.$WaitTimeLoggerStore21=function(a){this.$WaitTimeLoggerStore5?this.__markEvent("user_active","user_activity",a):this.__markEvent("user_inactive","user_activity",a)};e.$WaitTimeLoggerStore32=function(a){if(!this.$WaitTimeLoggerStore10.CRITICAL_SCENARIOS.includes(a.scenario))return;var b=this.$WaitTimeLoggerStore1.get(a.scenarioID);if(b!=null&&b.start<a.start)return;this.$WaitTimeLoggerStore1.set(a.scenarioID,a)};e.$WaitTimeLoggerStore33=function(a,b,d){if(!this.$WaitTimeLoggerStore10.CRITICAL_SCENARIOS.includes(a.scenario))return;var e=this.$WaitTimeLoggerStore3;if(e==null)return;var f=a.start;this.$WaitTimeLoggerStore1["delete"](a.scenarioID);f=a.start>this.$WaitTimeLoggerStore4?a.start:this.$WaitTimeLoggerStore4;var g=c("performance").timing?c("performance").timing.navigationStart:0;f=e.createSegment({begin:g+f,category:c("ArtilleryCategory").CLIENT_WAIT,description:"perf_scenario",end:g+b,pointGroup:"perf_scenario:"+a.scenario+":"+a.scenarioID+":"+d});e.markSegment(f,"perf_scenario")};e.$WaitTimeLoggerStore23=function(){var a=this,b=c("performanceNow")(),d=new Map();this.$WaitTimeLoggerStore1.forEach(function(c,e){a.$WaitTimeLoggerStore33(c,b,"trimmed"),d.set(e,c)});this.$WaitTimeLoggerStore1=d};e.$WaitTimeLoggerStore30=function(a){this.$WaitTimeLoggerStore2.add(a)};e.$WaitTimeLoggerStore31=function(a,b){var d=this.$WaitTimeLoggerStore3;if(d==null)return;this.$WaitTimeLoggerStore2["delete"](a);var e=c("performance").timing?c("performance").timing.navigationStart:0,f=a.start>this.$WaitTimeLoggerStore4?a.start:this.$WaitTimeLoggerStore4;f=d.createSegment({category:c("ArtilleryCategory").CLIENT_WAIT,description:"loading_marker",begin:e+f,end:e+b,cssStack:a.cssStack,reactStack:a.reactStack,spinner_name:a.name,spinner_id:a.id,owner:a.owner,pointGroup:"loading_marker:"+(a.name||"unk")+":"+a.id});d.markSegment(f,"loading_marker")};e.$WaitTimeLoggerStore22=function(){var a=this,b=c("performanceNow")(),d=new Set();this.$WaitTimeLoggerStore2.forEach(function(c){a.$WaitTimeLoggerStore31(c,b),d.add(c)});this.$WaitTimeLoggerStore2=d};e.$WaitTimeLoggerStore20=function(a){var b=this.$WaitTimeLoggerStore36(),c=b.tool;b=b.section;this.__markEvent(c,"tool",a);this.__markEvent(b,"section",a)};e.$WaitTimeLoggerStore24=function(){var a=this.$WaitTimeLoggerStore3;if(a==null)return;var b=d("AdsTTIEventTimes").getMilestoneMarker("js_run_start"),e=this.$WaitTimeLoggerStore4+c("performanceNavigationStart")();b&&e<b&&d("AdsArtilleryScenarioLoggerUtils").markEvent("js_run_start",a,b)};e.$WaitTimeLoggerStore28=function(a){if(this.$WaitTimeLoggerStore3==null)return;if(a.start_time<this.$WaitTimeLoggerStore4)return;d("AdsArtilleryScenarioLoggerUtils").logGraphAPIRequest(this.$WaitTimeLoggerStore3,a)};e.$WaitTimeLoggerStore29=function(a){if(this.$WaitTimeLoggerStore3==null)return;if(a.start_time<this.$WaitTimeLoggerStore4)return;this.$WaitTimeLoggerStore8=!0;d("AdsArtilleryScenarioLoggerUtils").logGraphAPIRequest(this.$WaitTimeLoggerStore3,a,a.error)};e.$WaitTimeLoggerStore11=function(a){var b=c("AdsPerfScenarioUserConfig").sv.SV_ADS_PERF_SCENARIO_TRACES_ACTION_BLACKLIST;if(b[a])return;this.__markEvent(a,"flux_action")};e.$WaitTimeLoggerStore25=function(a){var b=this.$WaitTimeLoggerStore3;if(b==null)return;var e=this.__getEnvironmentSelector();c("AdsDataAtom").isDispatching()&&c("AdsDataAtom").waitFor(d("AdsSelectorUtils").getStoreDispatchTokens([e]));e=e();var f=c("AdsWebdriverConfig").is_webdriver_test?(c("AdsInterfacesSessionConfig").sessionID||"")+":"+c("AdsWebdriverConfig").test_execution_uuid:c("AdsInterfacesSessionConfig").sessionID||"";b.addProperty("pkg_cohort",c("SiteData").pkg_cohort);b.addProperty("is_regular_user",c("AdsPerfScenarioUserConfig").isRegularUser);b.addProperty("session_id",f);b.addProperty("first_trace_of_session",this.$WaitTimeLoggerStore6?"1":"0");b.addProperty("last_trace_of_session",a?"1":"0");b.addProperty("ad_account_id",e.ad_account_id);b.addProperty("business_id",e.business_id);b.addProperty("today_spend",""+e.today_spend);b.addProperty("last_30d_spend",""+e.last_30d_spend);b.addProperty("wait_time_unsampled",this.__useUnsampledLogging()?"1":"0");b.addProperty("has_js_error",this.$WaitTimeLoggerStore7?"1":"0");b.addProperty("has_api_error",this.$WaitTimeLoggerStore8?"1":"0");b.addProperty("is_big_advertiser",c("AdsInterfacesUserConfig").is_big_advertiser?"1":"0")};e.$WaitTimeLoggerStore36=function(){var a=this.__getEnvironmentSelector();c("AdsDataAtom").isDispatching()&&c("AdsDataAtom").waitFor(d("AdsSelectorUtils").getStoreDispatchTokens([a]));a=a();var b=a.tool;a=a.section;return{tool:b,section:a}};e.getTraceID=function(){var a=this.$WaitTimeLoggerStore3;return a==null?null:a.getTraceID()};return b}(c("FluxStore"));a.__moduleID=f.id;g["default"]=a},98);
__d("AdsUEditorImageAssetToolPanelContainer.react",["fbt","AdImageSpecsUtils","AdsAdAssetSelectorTypes","AdsAssetSelectorsUtils","AdsCreativeContainerResetImageAssetAction","AdsCreativeContainerSelectImageAssetAction","AdsCreativeContainerSetImageSourceAction","AdsCreativeEditorMode","AdsCreativeEditorPerformanceLoggers","AdsCreativeEditorTemplateChangeImageAction","AdsCreativeToolSecondaryPanelLayout.react","AdsImageInfoStore","AdsImageLegacyUtils","AdsImageSelectorV2Types","AdsMediaPickerConstants","AdsMediaPickerDialogImageErrorContext","AdsMediaPickerDialogMediaTypeContext","AdsMediaPickerUtils","AdsTemplateUnificationUtils","AdsUEditorContextType","AdsUEditorImageAssetToolPickerContainer.react","AssetLibraryUtils.brands","FluxContainer","adsUEditorImageAssetToolPanelContainerSelector","immutable","isTruthy","memoizeOneWithArgs","promiseDone","promiseStoreGet","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("immutable").Set([d("AdsImageSelectorV2Types").AdsImageSource.STOCK_IMAGE,d("AdsImageSelectorV2Types").AdsImageSource.ALL_IMAGE,d("AdsImageSelectorV2Types").AdsImageSource.AUTO_EXTRACT_IMAGE]);function k(a){c("AdsCreativeContainerSetImageSourceAction").dispatch({source:a},{line:"93",module:"AdsUEditorImageAssetToolPanelContainer.react.js"})}var l=h._("Cambiar contenido multimedia");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$2=function(a){c("AdsCreativeEditorPerformanceLoggers").CREATIVE_EDITOR_CHANGE_IMAGE.startScenario(),c("AdsCreativeContainerSelectImageAssetAction").dispatch({imageID:a},{line:"186",module:"AdsUEditorImageAssetToolPanelContainer.react.js"}),e.$1(a)},e.$3=c("memoizeOneWithArgs")(function(a,b){a=a;var c=d("AdImageSpecsUtils").reduceAndMergeImageSpec(a);if(b.size===1){var e=b.first();a=a.filter(function(a){return e.platform===a.platform&&e.position===a.position});a.length>=1&&(c=null)}return{imageSpecs:c,placementSpecs:a}}),e.$4=function(){e.props.onToggleAdvancedSettings(!1)},e.$5=c("memoizeOneWithArgs")(function(a){return{mediaType:c("AdsMediaPickerConstants").IMAGE,sourceKey:d("AdsMediaPickerUtils").convertSourceIDToCommonKey(a)}}),b)||babelHelpers.assertThisInitialized(e)}b.getStores=function(a,b){a=b.adgroupEditorContext;return c("adsUEditorImageAssetToolPanelContainerSelector").getStores(a)};b.calculateState=function(a,b,d){a=d.adgroupEditorContext;return c("adsUEditorImageAssetToolPanelContainerSelector")(a)};var e=b.prototype;e.componentDidMount=function(){var a=this.props.asset;if(a==null)return c("AdsCreativeContainerResetImageAssetAction").dispatch({},{line:"129",module:"AdsUEditorImageAssetToolPanelContainer.react.js"});a=d("AdsAssetSelectorsUtils").getImageID(this.state.account.account_id,a.hash,a.url,a.stockImageID);a&&c("AdsCreativeContainerSelectImageAssetAction").dispatch({imageID:a},{line:"138",module:"AdsUEditorImageAssetToolPanelContainer.react.js"})};e.componentDidUpdate=function(a,b){a=this.state.lastUploadedImageID;b.lastUploadedImageID!==a&&a!=null&&this.$1(a)};e.$1=function(a){var b=this,e=this.props.onEdit,f=function(){return c("AdsImageInfoStore").getFullSizeLegacyImage_DEPRECATED(a,null,null)};f=c("promiseStoreGet")(c("AdsImageInfoStore"),f);c("promiseDone")(f,function(a){var f=d("AdsImageLegacyUtils").convertToImageData(a),g=f.imageHash;f=f.imageURL;b.state.mode===c("AdsCreativeEditorMode").Default&&b.props.asset&&b.props.asset.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image&&c("AdsCreativeEditorTemplateChangeImageAction").dispatch({assetHash:g},{line:"168",module:"AdsUEditorImageAssetToolPanelContainer.react.js"});e({image_asset:{hash:g,url:f,height:a.height,width:a.width}})})};e.$6=function(){var a=this.state,b=a.mode;a=a.isBusinessMockup;if(a)return d("AssetLibraryUtils.brands").DISABLED_BUSINESS_MOCKUP_IMAGE_SOURCES;return b===c("AdsCreativeEditorMode").TemplateCustomization?d("AdsTemplateUnificationUtils").DISABLED_MEDIA_SOURCES:j};e.render=function(){var a=this.props,b=a.hideHeader;a=a.placements;var d=this.state,e=d.placementSpecs;d=d.source;return i.jsx(c("AdsMediaPickerDialogMediaTypeContext").Provider,{value:this.$5(d),children:i.jsxs(c("AdsMediaPickerDialogImageErrorContext").Provider,{value:this.$3(e,a),children:[b===!0?null:i.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:l,onClose:this.$4}),i.jsx("div",{className:c("stylex")(c("isTruthy")(b)?{"height-1":"pytsy3co"}:{"height-1":"exa9l86i"}),children:i.jsx(c("AdsUEditorImageAssetToolPickerContainer.react"),babelHelpers["extends"]({},this.state,{businessID:this.state.businessID,disabledSources:this.$6(),maxSelectionCount:1,onChangeSource:k,onSelect:this.$2}))})]})})};return b}(i.PureComponent);a.contextTypes=c("AdsUEditorContextType").adgroup;b=c("FluxContainer").create(a,{withProps:!0,withContext:!0});g["default"]=b},98);
__d("AdsImageAssetToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeContainerAvailabilitySelectors","AdsCreativeEditorTemplateMutateGlobalAction","AdsCreativeEditorTemplateMutateSceneAction","AdsPlacementEditorEvents","AdsPlacementEditorLogger","AdsUEditorAdgroupChangeCustomizationImageDataAction","AdsUEditorImageAssetToolPanelContainer.react","first","immutable","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"image_asset",tab_testid:"creative_container_image_media_change_tab",containerWidth:920,name:h._("Cambiar"),getIcons:function(){return{active:i("1095425"),error:i("1361638"),normal:i("534391")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isAvailable:function(){return d("AdsCreativeContainerAvailabilitySelectors").adsImageAssetToolAvailabilitySelector},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,e,f,g,h){f=f.image_asset;if(e!=null&&f!=null&&e.assetKey!=null){var i=f.hash,j=f.url,k=f.width;f=f.height;c("AdsUEditorAdgroupChangeCustomizationImageDataAction").dispatch({hash:i,hostID:g,imageWidth:k,imageHeight:f,url:j,adgroupIDs:a.adgroupIDs,label:e.assetKey},{line:"93",module:"AdsImageAssetToolPlugin.js"});d("AdsPlacementEditorLogger").logEvent(d("AdsPlacementEditorEvents").PlacementEditorEvents.PLACEMENT_EDITOR_IMAGE_CUSTOMIZE,c("first")(a.adgroupIDs)||"","IMAGE",b==null?void 0:b.assetGroups,h)}},mutateTemplate:function(a,b,d,e,f){d=e==null?void 0:(b=e.image_asset)==null?void 0:b.hash;f=a.selectedSceneIndex;if(d==null){c("recoverableViolation")("called mutateTemplate in AdsImageAssetToolPlugin with a null hash","ads_cx_pac");return}f!=null?c("AdsCreativeEditorTemplateMutateSceneAction").dispatch({scene:f,mutation:{image_asset:{hash:d,type:"AdImageHash"}}},{line:"129",module:"AdsImageAssetToolPlugin.js"}):c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{image_asset:{hash:d,type:"AdImageHash"}}},{line:"136",module:"AdsImageAssetToolPlugin.js"})},category:"MEDIA",isFullScreen:!1,advancedSettingsComponent:b("AdsUEditorImageAssetToolPanelContainer.react")};e=a;g["default"]=e},98);
__d("AdsCreativeToolParentContainerType",["keyMirror"],function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({CarouselPlacementEditor:null,ImagePlacementEditor:null,ImageRegularAdgroupAssetEditor:null,PostPlacementEditor:null,TemplateEditor:null,VideoDCOAdgroupAssetEditor:null,VideoPlacementEditor:null,VideoRegularAdgroupAssetEditor:null});b=a;g["default"]=b},98);
__d("AdsTemplateBackgroundColorPickerToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsUEditorCreativeToolTemplateBackgroundColorAdvancedSettingsContainer.react","AdsUEditorStorifyTemplateUtils","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_color_picker",containerWidth:920,name:h._("Color de fondo"),getIcons:function(){return{active:i("884931"),normal:i("884934")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isAvailable:d("AdsUEditorStorifyTemplateUtils").isTemplateToolAvailable,isCreatingNewMedia:!1,category:"OTHER",isFullScreen:!1,advancedSettingsComponent:b("AdsUEditorCreativeToolTemplateBackgroundColorAdvancedSettingsContainer.react")};e=a;g["default"]=e},98);
__d("adsPEEnvironmentSelector",["AdsAccountInsightsStore","AdsAccountStore","adsCreateSelector","adsEnvironmentSelectorCreator","adsPENavStateSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsEnvironmentSelectorCreator")(c("adsPENavStateSelector"),c("AdsAccountStore").getSelectedAccountID,c("AdsAccountStore").getSelectedBusinessID,c("adsCreateSelector")([c("AdsAccountInsightsStore").getLastThirtyDaysSpend],function(a){return a.getValue()},{name:f.id}),c("adsCreateSelector")([c("AdsAccountInsightsStore").getTodaySpend],function(a){return a.getValue()},{name:f.id}));b=a;g["default"]=b},98);
__d("AdsImageBackgroundColorToolPlugin",["fbt","ix","AdImageSpecCropKeys","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateMutateGlobalAction","AdsCreativeEditorTemplateMutateSceneAction","AdsCreativeToolParentContainerType","AdsPlacementEditorBackgroundColorUtils","AdsTemplateBackgroundColorPickerToolPlugin","AdsUEditorAdgroupSetCustomizationMediaBackgroundColorDataAction","AdsUEditorCreativeToolBackgroundColorAdvancedSettingsContainer.react","adsCreateSelector","immutable","killswitch"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"image_background_color",category:"OTHER",isFullScreen:!1,advancedSettingsComponent:c("AdsUEditorCreativeToolBackgroundColorAdvancedSettingsContainer.react"),containerWidth:920,name:h._("Color de fondo"),getIcons:function(){return{active:i("848844"),normal:i("848846")}},isEnabled:function(a){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isAvailable:function(a,b,e){if(a.asset.format!=="image")return!1;var g=a.asset.crops;if(g!=null&&g[c("AdImageSpecCropKeys")["90x160"]]!=null)return!1;g=d("AdsPlacementEditorBackgroundColorUtils").isBackgroundColorAvailableForAsset(a.asset)&&a.placements.size>=1&&a.placements.every(function(a){return(a.platform==="facebook"||a.platform==="instagram"||a.platform==="messenger"&&!c("killswitch")("ADS_PAC_BACKGROUND_COLOR_MESSENGER_STORIES"))&&a.position==="story"});if(g){var h=c("AdsTemplateBackgroundColorPickerToolPlugin").isEnabled(a.adAccount);g=c("AdsTemplateBackgroundColorPickerToolPlugin").isAvailable(a,b,e);return typeof g==="boolean"?!(g&&h):c("adsCreateSelector")([g],function(a){return!(a&&h)},{name:f.id})}return!1},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,e,f,g,h){b=f.image_background_color;if(b!=null&&e!=null&&e.parentContainer===c("AdsCreativeToolParentContainerType").ImagePlacementEditor){h=b.hash;f=b.url;b=b.backgroundColor;e=e.assetKey;e!=null&&(h!=null||f!=null)&&c("AdsUEditorAdgroupSetCustomizationMediaBackgroundColorDataAction").dispatch({adgroupIDs:a.adgroupIDs,hostID:g,backgroundColor:b!=null?d("AdsPlacementEditorBackgroundColorUtils").toAPIBackgroundColor(b):null,format:d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,mediaFormat:"IMAGE",label:e},{line:"153",module:"AdsImageBackgroundColorToolPlugin.js"})}},mutateTemplate:function(a,b,d,e,f,g){b=a.selectedSceneIndex;g=e==null?void 0:(d=e.image_background_color)==null?void 0:(f=d.backgroundColor)==null?void 0:f.topColor;b!=null?c("AdsCreativeEditorTemplateMutateSceneAction").dispatch({scene:b,mutation:{image_background_color:g}},{line:"182",module:"AdsImageBackgroundColorToolPlugin.js"}):c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{image_background_color:g}},{line:"189",module:"AdsImageBackgroundColorToolPlugin.js"})},tab_testid:"ads-creative-tools-bg-colour-component"};b=a;g["default"]=b},98);
__d("AdsCreativeContainerAspectRatioSelectorV2.react",["fbt","AdImageSpecCropKeys","AdsImageCoordinatesUtils","AdsImageUtils","BackgroundImage.react","FlexLayoutItem.react","GeoBaseSpacingLayout.react","GeoFlexbox.react","GeoLink.react","GeoPopover.react","GeoPopoverText.react","GeoSelectableList.react","GeoSelectableListGenericItem.react","GeoText.react","geoMargin","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=48;function k(a){switch(a){case c("AdImageSpecCropKeys")["90x160"]:return 9/16;case c("AdImageSpecCropKeys")["191x100"]:return 191/100;case c("AdImageSpecCropKeys")["100x100"]:return 1;default:return 0}}function l(a,b,e,f){var g=e.width;e=e.height;g=d("AdsImageUtils").getImageTransformForBounds(g,e,f,f,d("AdsImageCoordinatesUtils").calculateDefaultCoordinates(g,e,k(a.optionKey)));return i.jsx(c("BackgroundImage.react"),{backgroundSize:"contain",cropTransform:g,height:f,loadingIndicatorStyle:"small",src:b,width:f})}l.displayName=l.name+" [from "+f.id+"]";function m(a,b,d){return i.jsxs(c("GeoBaseSpacingLayout.react"),{children:[i.jsx(c("GeoText.react"),{"data-testid":void 0,display:"truncate",children:d.title}),o(a,b)?i.jsxs(c("GeoFlexbox.react"),{children:[i.jsx(c("GeoText.react"),{xstyle:c("geoMargin").end4,children:h._("(recomendada)")}),i.jsx(c("GeoPopover.react"),{content:i.jsx(c("GeoPopoverText.react"),{children:h._("Los archivos que se adapten a los recortes de las diferentes ubicaciones tendr\u00e1n un mejor rendimiento. {Cropping learn more link}",[h._param("Cropping learn more link",i.jsx(c("GeoLink.react"),{href:" https://www.facebook.com/business/help/144240239372256?id=603833089963720",target:"_blank",children:h._("M\u00e1s informaci\u00f3n")}))])}),heading:h._(""),isSticky:!1,position:"right"})]}):null]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){return a.subTitle!=null?i.jsx(c("GeoText.react"),{display:"truncate",children:a.subTitle}):null}n.displayName=n.name+" [from "+f.id+"]";function o(a,b){return a===0&&b!==c("AdImageSpecCropKeys").NO_CROP||a===1&&b===c("AdImageSpecCropKeys").NO_CROP}function p(a,b,d){return o(d,b)||a.optionKey===c("AdImageSpecCropKeys").NO_CROP}function a(a){var b=a.aspectRatioOptions,d=a.selectedAspectRatio,e=a.thumbnailURI,f=a.thumbnailDimensions,g=a.onAspectRatioChange;if(b.length===0||d==null)return null;function h(a){g(a[0])}var k=j,o=b[0].optionKey;return i.jsx(c("GeoSelectableList.react"),{itemStyle:"radio",selectedItemIDs:[d],selectionType:"single",onSelectionChange:h,children:b.filter(function(a,b){return p(a,o,b)}).map(function(a,b){return i.jsx(c("GeoSelectableListGenericItem.react"),{itemID:a.optionKey,children:i.jsxs(c("GeoBaseSpacingLayout.react"),{children:[i.jsx(c("FlexLayoutItem.react"),{children:l(a,e,f,k)}),i.jsxs(c("FlexLayoutItem.react"),{grow:1,children:[m(b,o,a),n(a)]})]})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("adsImageCropperSpecSelectorSelector",["AdsAPICampaignGroupRecordUtils","AdsBulkValueUtils","AdsChildAttachmentsUtils","AdsPlacementSelectionUIStore","adsCreateSelector","adsUEditorSelectedAdgroupsSelector","adsUEditorSelectedCampaignGroupsSelector","adsUEditorSelectedCampaignIDsSelector","first","firstx"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorSelectedCampaignGroupsSelector"),c("adsUEditorSelectedCampaignIDsSelector"),c("AdsPlacementSelectionUIStore").getShowCustomSelectionSelector,c("adsUEditorSelectedAdgroupsSelector")],function(a,b,e,f){f=d("AdsBulkValueUtils").aggregate(f.map(function(a){return d("AdsChildAttachmentsUtils").isCarouselAd(a)}));a=c("first")(a);return{objective:a!=null?d("AdsAPICampaignGroupRecordUtils").getObjective(a):null,isAutomaticPlacements:b.length>0&&!e(c("firstx")(b)),isCarouselAd:!!d("AdsBulkValueUtils").getUniformValue(f,!1)}},{name:f.id});g["default"]=a},98);
__d("AdsCreativeImageCropperSettingsPanel.react",["cx","fbt","AdImageSpecCropKeys","AdImageSpecsUtils","AdsAspectRatioTypeStrings","AdsCreativeContainerAspectRatioSelector.react","AdsCreativeContainerAspectRatioSelectorV2.react","AdsCreativeToolSecondaryPanelLayout.react","AdsImageCropperEditor.react","AdsImageCropperUtils","compactArray","emptyFunction","isTruthy","react","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){var b=c.props.imageSpecs.find(function(b){b=b.cropKey;return b===a});c.props.onSelectSpec(b)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.$1(),b=this.props.selectedSpec,d=a.find(function(a){return(b==null?void 0:b.cropKey)===a.optionKey});return j.jsxs(c("AdsCreativeToolSecondaryPanelLayout.react"),{children:[j.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").LeftPanel,{title:i._("Recortar archivo multimedia"),onClose:this.props.onClose,children:c("isTruthy")(this.props.isMergeCropAndTrimExperiment)?j.jsx(c("AdsCreativeContainerAspectRatioSelectorV2.react"),{aspectRatioOptions:this.$2(),selectedAspectRatio:b==null?void 0:b.cropKey,thumbnailDimensions:{width:this.props.image.width,height:this.props.image.height},thumbnailURI:this.props.image.getUrl(),onAspectRatioChange:this.$3}):j.jsx(c("AdsCreativeContainerAspectRatioSelector.react"),{options:a,selectedKey:d==null?void 0:d.optionKey,onSelect:this.$3})}),j.jsxs(c("AdsCreativeToolSecondaryPanelLayout.react").RightPanel,{align:c("isTruthy")(this.props.isMergeCropAndTrimExperiment)?"center":"stretch",className:"_80n1",direction:"vertical",justify:c("isTruthy")(this.props.isMergeCropAndTrimExperiment)?"center":"all",children:[j.jsx(c("AdsImageCropperEditor.react"),{accountID:this.props.accountID,image:this.props.image,imageSpecs:this.props.imageSpecs,isContentsOnly:!0,isPlacementEditorV2Version:!0,isSingleCropMode:!0,isSmartCropExperimentPlacementEditor:this.props.isSmartCropExperimentPlacementEditor,selectedImageCrop:this.props.selectedSpec,shouldShowSpecSelector:!0,showSpecSelector:!1,smartCrops:this.props.smartCrops,onImageUpdate:this.props.onImageUpdate,onReset:c("emptyFunction")}),j.jsx("div",{className:"_5twi"+(this.props.footer?" _8wkr":""),style:this.props.footer===!1?{minHeight:48}:void 0,children:this.props.footer})]})]})};e.$4=function(a,b){if(a.cropKey===c("AdImageSpecCropKeys").NO_CROP)return"";var e=d("AdImageSpecsUtils").getRecommendedImageSpec(this.props.imageSpecs);return b&&(e==null?void 0:e.cropKey)===a.cropKey?d("AdsAspectRatioTypeStrings").getAspectRatioWithRecommended(a.displayRatio):a.displayRatio||""};e.$1=function(){var a=this,b=this.props.disabledSpecs,e=this.props.imageSpecs;e=c("compactArray")(e.map(function(e){var f=d("AdImageSpecsUtils").getLabelForImageSpec(e,!1);if(e.placement==null||f==null)return null;var g=e.cropKey,h=b.includes(e),i=a.$4(e,!h),j=h?d("AdsImageCropperUtils").getDisableReason(a.props.image,e):null;h&&j==null&&c("recoverableViolation")("[PEV2][Cropper] Cropper spec disabled without reason for crop key "+e.cropKey+" and "+(e.placement!=null?e.placement:"undefined"),"ads_cx_pac");return{disabled:h,disableReason:j,optionKey:g,subTitle:i,title:f,thumbnailSpecs:{src:a.props.image.getUrl(),width:a.props.image.width,height:a.props.image.height,aspectRatio:e.aspectRatio}}}));return e};e.$2=function(){var a=this.props.imageSpecs;a=c("compactArray")(a.map(function(a){var b=a.cropKey===c("AdImageSpecCropKeys").NO_CROP?i._("Original"):a.displayRatio||"";return a.placement==null||b==null?null:{optionKey:a.cropKey,title:b}}));return a};return b}(j.PureComponent);g["default"]=a},98);
__d("adsUEditorStorifySelectedTemplateImageSpecsSelector",["AdImageSpecCropKeys","AdsPageTypes","AdsUEditorStorifyUtil","VCCSelectedTemplateDataProvider","VCKImageCroppingConsts","VCKImageCroppingUtils","adsCreateSelector","adsUEditorStorifyIsTemplateSelectedSelector","getTranslatableRatio"],function(a,b,c,d,e,f,g){"use strict";var h=.2,i=[{aspectRatio:0,cropKey:c("AdImageSpecCropKeys").NO_CROP,height:100,width:100,minWarningHeight:100,minWarningWidth:100,placement:c("AdsPageTypes").INSTAGRAM_STORY},{aspectRatio:1,cropKey:c("AdImageSpecCropKeys")["100x100"],height:100,width:100,minWarningHeight:100,minWarningWidth:100,placement:c("AdsPageTypes").INSTAGRAM_STORY,displayRatio:c("getTranslatableRatio")(1,1)},{aspectRatio:11/8,cropKey:c("AdImageSpecCropKeys")["110x80"],height:100,width:100,minWarningHeight:100,minWarningWidth:100,placement:c("AdsPageTypes").INSTAGRAM_STORY,displayRatio:c("getTranslatableRatio")(11,8)},{aspectRatio:4/5,cropKey:c("AdImageSpecCropKeys")["400x500"],height:100,width:100,minWarningHeight:100,minWarningWidth:100,placement:c("AdsPageTypes").INSTAGRAM_STORY,displayRatio:c("getTranslatableRatio")(4,5)}];a=c("adsCreateSelector")([c("VCCSelectedTemplateDataProvider").toFluxSelector(),c("adsUEditorStorifyIsTemplateSelectedSelector")],function(a,b){var e=a.selectedTemplate;a=a.selectedSectionIndex;if(b!==!0)return null;b=e.sections[a].components.find(function(a){return a.type==="background"&&a.display_form==="image"});if(!b)return null;a=d("AdsUEditorStorifyUtil").componentUsesFitCropType(b,e);if(a)return{availableSpecs:i};e=d("VCKImageCroppingUtils").getAspectRatioValueFromBackgroundComponent(b,"1:1");a=b.variables.background_image_crop_window;b=a.value;a=a.default_value;b=(b=b)!=null?b:a;a=JSON.parse(b);var f=Math.abs(1-e)<h,g=f?c("AdImageSpecCropKeys")["100x100"]:c("AdImageSpecCropKeys")["90x160"];f=f?c("getTranslatableRatio")(1,1):c("getTranslatableRatio")(9,16);var j=d("VCKImageCroppingConsts").MINIMUM_IMAGE_WIDTH,k=d("VCKImageCroppingConsts").MINIMUM_IMAGE_WIDTH/e,l={};l[g]=d("AdsUEditorStorifyUtil").mapStorifyCropToUEditorCrop(b);b={aspectRatio:e,cropKey:g,displayRatio:f,height:a.height,minWarningHeight:k,minWarningWidth:j,placement:c("AdsPageTypes").INSTAGRAM_STORY,width:a.width};return{imageSpec:b,crops:l}},{name:f.id+".adsUEditorStorifySelectedTemplateImageSpecsSelector"});b=a;g["default"]=b},98);
__d("AdsCreativeImageCropperSettingsPanelContainer.react",["AdImageSpecCropKeys","AdsAccountStore","AdsCreativeImageCropperSettingsPanel.react","AdsFluxContainer","AdsUEditorContextType","ShutterstockImageUtils","adsAccountGK","adsCreativeImageCropperContainerStateSelector","curry","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){a.isStockImage()&&!a.hasFullSizeDimensions()?a.fetchFullSizeDimensions(function(){b(!0)}):b(!1)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=function(a){c.setState({selectedSpec:a})},c.$1=function(a,b,e){b=a.getStockImageID();b=a.isStockImage()&&b!=null?d("ShutterstockImageUtils").idToURL(b):a.getUrl();e={crops:c.$3(e),hash:a.getAdAccountHash(),url:b};c.props.onEdit({image_crop:e})},b)||babelHelpers.assertThisInitialized(c)}b.getStores=function(a,b){a=b.adgroupEditorContext;return c("adsCreativeImageCropperContainerStateSelector").getStores(a)};b.calculateState=function(a,b,d){d=d.adgroupEditorContext;return c("adsCreativeImageCropperContainerStateSelector")(babelHelpers["extends"]({},d,{envContext:b.envContext,assetContext:b.assetContext,props:b,prevState:a}))};var e=b.prototype;e.render=function(){var a=this,b=this.state,d=b.disabledSpecs,e=b.imageSpecs,f=b.image,g=b.draft;b=b.isAdsMergeCropAndTrimImageCropperSurfaceExperiment;g=(g=g==null?void 0:g.image)!=null?g:f;f=c("adsAccountGK")._(c("AdsAccountStore").getSelectedAccount().getValue(),"6wJkNcugX");i(g,function(b){b&&a.forceUpdate()});return h.jsx(c("AdsCreativeImageCropperSettingsPanel.react"),{accountID:this.props.accountID,disabledSpecs:d,image:g,imageSpecs:e,isMergeCropAndTrimExperiment:b,isSmartCropExperimentPlacementEditor:f,selectedSpec:this.state.selectedSpec,smartCrops:this.state.smartCrops,onClose:c("curry")(this.props.onToggleAdvancedSettings,!1),onImageUpdate:this.$1,onSelectSpec:this.$2})};e.$3=function(a){return a&&Object.keys(a).length===1&&a[c("AdImageSpecCropKeys").NO_CROP]?null:a};return b}(h.Component);a.contextTypes=c("AdsUEditorContextType").adgroup;b=c("AdsFluxContainer").create(a,{withContext:!0,withProps:!0,name:f.id});g["default"]=b},98);
__d("AdsAutoCropImageUEditorAdgroupSetImageAndCropsDataReducerPlugin",["TypedImmutable","nullthrows"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var e=a;b.adgroupIDs.map(function(f){var g=-1;a.adgroupImages.get(f)!=null?g=c("nullthrows")(a.adgroupImages.get(f)).findIndex(function(a){return a.imageURL!==b.imageURL||a.imageHash!==b.imageHash}):g=0;g!==-1&&(e=e.set("adgroupHasModifiedImage",e.adgroupHasModifiedImage.set(f,e.adgroupHasModifiedImage.get(f)!=null?c("nullthrows")(e.adgroupHasModifiedImage.get(f)).toMap().set(g,!0).toList():d("TypedImmutable").ImmList.create([!0]))).set("adgroupImages",e.adgroupImages.set(f,d("TypedImmutable").ImmList.create([{imageHash:b.imageHash,imageURL:b.imageURL}]))))});return e}};b=a;g["default"]=b},98);
__d("AdsSmartCropDoFUpdateReducerPlugins",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=a;b.adgroupIDs.map(function(b){var d=a.adgroupToShouldUpdateDoFFlag.get(b);d==!0&&(c=c.set("adgroupToShouldUpdateDoFFlag",c.adgroupToShouldUpdateDoFFlag.remove(b)))});return c}};b={reduce:function(a,b){var c=a;b.adgroupIDs.map(function(b){a.adgroupToShouldUpdateDoFFlag.get(b)!=!0&&(c=c.set("adgroupToShouldUpdateDoFFlag",c.adgroupToShouldUpdateDoFFlag.set(b,!0)))});return c}};c={reduce:function(a,b){var c=a;b.adgroupIDs.map(function(b){a.adgroupToShouldUpdateDoFFlag.get(b)!=!0&&(c=c.set("adgroupToShouldUpdateDoFFlag",c.adgroupToShouldUpdateDoFFlag.set(b,!0)))});return c}};d={reduce:function(a,b){var c=a;b.adgroupIDs.map(function(b){a.adgroupToShouldUpdateDoFFlag.get(b)!=!0&&(c=c.set("adgroupToShouldUpdateDoFFlag",c.adgroupToShouldUpdateDoFFlag.set(b,!0)))});return c}};f.onSetDoFType=a;f.onApplyChanges=b;f.onSetImageAndCrops=c;f.onRemovePlacementImage=d},66);
__d("AdsImageCropperToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsAdgroupRecordAccessors","AdsAssetFeedUtils","AdsCreativeImageCropperSettingsPanelContainer.react","AdsEmptyValue","AdsImageSpecsCropEligibilityUtils","AdsPlacementEditorLogger","AdsUEditorAdgroupPACEditCarouselCardDetailAction","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildImageAndCropsDataAction","AdsUEditorAdgroupSetCustomizationImageCropsDataAction","AdsUEditorAdgroupSetImageAndCropsDataAction","AdsUEditorAdgroupSetImageCropsAtIndexDataAction","AdsUEditorSelectors","adsCreateSelector","adsCreativeContainerMediaFormatForPlacements","adsCreativeImageCropperSpecsSelector","filterNulls","first","immutable","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=new Set(["INSTAGRAM","FACEBOOK"]);function k(a,b){if(a.format!=="carousel")return!1;b=b==null?void 0:(b=b.carousel)==null?void 0:b.index;if(b==null||a.cards.length<=b)return!1;b=(a=a.cards[b].media)==null?void 0:a.getValue();return(b==null?void 0:b.format)==="image"}a={type:"creative/tools",key:"image_crop",containerWidth:860,category:"MEDIA",isFullScreen:!0,advancedSettingsComponent:c("AdsCreativeImageCropperSettingsPanelContainer.react"),name:h._("Recortar"),getIcons:function(){return{active:i("798394"),normal:i("798395")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isAvailable:function(a,b,e){return c("adsCreateSelector")([c("adsCreativeImageCropperSpecsSelector"),d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.object_type.get),d("AdsUEditorAdgroupSelectors").adgroups.every(d("AdsAssetFeedUtils").isDLOAdgroupFromRecord)],function(b,f,g){var h=a.asset;b=b!=null;b=h.format==="image"&&b||k(h,e);h=a.placements.size===1&&((h=a.placements.get(0))==null?void 0:h.position)==="video_feeds";var i=j.has(e==null?void 0:e.assetKey);i=!i||f instanceof c("AdsEmptyValue")||d("AdsImageSpecsCropEligibilityUtils").isCroppingEnabled(g,c("filterNulls")(f.getValues()));return i&&b&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("image")&&!h},{name:f.id})},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,d,e,f){d=a.adgroupIDs;a=e.image_crop;e=b==null?void 0:b.assetKey;if(a&&e!=null&&d!=null)if((b==null?void 0:b.carousel)!=null){var g=a.crops||{},h=a.hash,i=a.url;if(h==null&&i==null){c("recoverableViolation")("both hash and url cannot be null","ads_cx_pac");return}i=h!=null?{hash:h,image_crops:g}:{url:(h=i)!=null?h:"",image_crops:g};c("AdsUEditorAdgroupPACEditCarouselCardDetailAction").dispatch({adgroupIDs:d,hostID:f,carouselLabel:e,cardIndex:b.carousel.index,assetField:"images",asset:i},{line:"199",module:"AdsImageCropperToolPlugin.js"})}else{g=b==null?void 0:(h=b.assetGroups)==null?void 0:h.includes("INSTAGRAM_STORY");c("AdsUEditorAdgroupSetCustomizationImageCropsDataAction").dispatch({crops:a.crops||{},hostID:f,adgroupIDs:d,label:e,removeStorySmartCropTransformation:g},{line:"212",module:"AdsImageCropperToolPlugin.js"})}},mutateDCOAdgroup:function(a,b,d,e,f){b=a.adgroupIDs;a=e.image_crop;if(a&&d&&d.assetIndex!=null){c("AdsUEditorAdgroupSetImageCropsAtIndexDataAction").dispatch({assetIndex:d.assetIndex,crops:(e=a.crops)!=null?e:{},hostID:f,adgroupIDs:b},{line:"235",module:"AdsImageCropperToolPlugin.js"})}},mutateRegularAdgroup:function(a,b,e,f,g,h){b=a.adgroupIDs;a=f.image_crop;a&&e&&(e.assetIndex!=null?c("AdsUEditorAdgroupSetChildImageAndCropsDataAction").dispatch({hostID:g,adAccount:null,childImageCrops:a.crops,childImageHash:a.hash,childImageURL:a.url,childThumbnailURL:null,childThumbnailHeight:null,childThumbnailWidth:null,adgroupIDs:b,index:e.assetIndex,pageName:null},{line:"254",module:"AdsImageCropperToolPlugin.js"}):c("AdsUEditorAdgroupSetImageAndCropsDataAction").dispatch({adgroupIDs:b,hostID:g,imageCrops:a.crops||{},imageHash:a.hash,imageURL:a.url,platform:null},{line:"268",module:"AdsImageCropperToolPlugin.js"}),d("AdsPlacementEditorLogger").logCropEvent(c("first")(b)||"","IMAGE",null,l(a.crops),h))}};function l(a){var b;if(a!=null){a=Object.keys(a);a!=null&&a.length>0&&(b=c("first")(a))}return b!=null?b:""}b=a;g["default"]=b},98);
__d("AdsCreativeContainerProduct",["keyMirror"],function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({PLACEMENT_EDITOR:null});b=a;g["default"]=b},98);
__d("AdsCreativeToolInteractivePollCreationEntry.react",["cx","fbt","ix","AdsCreativeContainerProduct","AdsCreativeToolSimpleField.react","AdsInteractiveComponentConstants","AdsInteractivePollLoggingEvent","AdsInteractivePollUtils","AdsUEditorContextType","FluxContainer","ShimButton.react","adsCreateStructuredSelector","adsUEditorPlacementCustomizationInteractivePollComponentSelector","react"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=c("adsCreateStructuredSelector")({interactiveComponentSpecByAssetKey:c("adsUEditorPlacementCustomizationInteractivePollComponentSelector")},f.id+".stateSelector");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(){e.props.isActive||d("AdsInteractivePollUtils").logPollEventToPEV2Table({eventName:c("AdsInteractivePollLoggingEvent").POLL_CREATIVE_CONTAINER_ENTRY_CLICK,adAccountID:e.props.accountID,eventSource:c("AdsCreativeContainerProduct").PLACEMENT_EDITOR}),e.props.onToggleAdvancedSettings(!0)},e.$2=function(){e.props.onEdit({interactive_poll:{interactivePollSpec:d("AdsInteractiveComponentConstants").DEFAULT_POLL_SPEC_PANEL_V2,isPollSelected:!1,positionSpec:d("AdsInteractiveComponentConstants").DEFAULT_POSITION_SPEC}}),e.props.onToggleAdvancedSettings(!1)},b)||babelHelpers.assertThisInitialized(e)}b.getStores=function(a,b){a=b.adgroupEditorContext;return l.getStores(a)};b.calculateState=function(a,b,c){a=c.adgroupEditorContext;return l(a)};var e=b.prototype;e.render=function(){var a=this.props.assetContext.assetKey;a=this.state.interactiveComponentSpecByAssetKey.get(a)!=null&&this.state.interactiveComponentSpecByAssetKey.get(a).filter(function(a){return a.get("type")===d("AdsInteractiveComponentConstants").INTERACTIVE_COMPONENT_POLL_TYPE}).size>0;var b=a?{normal:j("513294"),active:j("505977")}:{normal:j("492052"),active:j("505977")};return k.jsxs("div",{className:"_88uc",children:[k.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:this.props.isActive,leftIconAsset:{active:j("536039"),normal:j("844360")},rightIconAsset:b,text:this.props.name,onClick:this.$1}),(this.props.isActive||a)&&k.jsx(c("ShimButton.react"),{"aria-label":i._("Eliminar"),className:"_88up",onClick:this.$2})]})};return b}(k.Component);a.contextTypes=c("AdsUEditorContextType").adgroup;b=c("FluxContainer").create(a,{withContext:!0,withProps:!0});g["default"]=b},98);
__d("AdsInteractivePollCreationToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolInteractivePollCreationEntry.react","AdsCreativeToolParentContainerType","AdsInteractivePollAPISpecWriteUtils","AdsInteractivePollUtils","AdsUEditorAdgroupRemoveStoriesInteractiveComponentDataAction","AdsUEditorAdgroupSetPACInteractiveComponentDataAction","AdsUEditorAdgroupSetStoriesInteractiveComponentDataAction","AdsUEditorInteractivePollCreationToolPanelContainer.react","adsInteractivePollHasPollOptionLink","adsUEditorInteractivePollEligibilitySelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"interactive_poll",entryComponent:b("AdsCreativeToolInteractivePollCreationEntry.react"),category:"OTHER",isFullScreen:!1,advancedSettingsComponent:b("AdsUEditorInteractivePollCreationToolPanelContainer.react"),containerWidth:856,name:h._("Encuesta"),getIcons:function(){return{active:i("536042"),normal:i("844360")}},mutateRegularAdgroup:function(a,b,e,f,g){b=a.adgroupIDs;e=f.interactive_poll;e!=null&&e.isPollSelected?c("AdsUEditorAdgroupSetStoriesInteractiveComponentDataAction").dispatch({hostID:g,adgroupIDs:b,componentsSpec:d("AdsInteractivePollAPISpecWriteUtils").constructPollSpecInInteractiveComponentsSpec(e.interactivePollSpec,e.positionSpec),hasPollOptionLink:c("adsInteractivePollHasPollOptionLink")(e.interactivePollSpec),canUsePacOptionalLinks:!0},{line:"86",module:"AdsInteractivePollCreationToolPlugin.js"}):c("AdsUEditorAdgroupRemoveStoriesInteractiveComponentDataAction").dispatch({hostID:g,adgroupIDs:b,hasPollOptionLink:c("adsInteractivePollHasPollOptionLink")(e==null?void 0:e.interactivePollSpec),canUsePacOptionalLinks:!0},{line:"99",module:"AdsInteractivePollCreationToolPlugin.js"})},mutatePACAdgroup:function(a,b,e,f,g){if(b==null)return;b=a.adgroupIDs;if(e!=null&&e.assetKey!=null&&(e.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor||e.parentContainer===c("AdsCreativeToolParentContainerType").ImagePlacementEditor)){a=f.interactive_poll;c("AdsUEditorAdgroupSetPACInteractiveComponentDataAction").dispatch({hostID:g,adgroupIDs:b,componentsSpec:a!=null&&a.isPollSelected?d("AdsInteractivePollAPISpecWriteUtils").constructPollSpecInInteractiveComponentsSpec(a.interactivePollSpec,a.positionSpec):null,label:(f=e.assetKey)!=null?f:"",hasPollOptionLink:c("adsInteractivePollHasPollOptionLink")(a==null?void 0:a.interactivePollSpec),canUsePacOptionalLinks:!0},{line:"130",module:"AdsInteractivePollCreationToolPlugin.js"})}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a,b,e){b=c("adsUEditorInteractivePollEligibilitySelector")(b);var f=b.isEligible;b=b.placementSpec;if(!f)return!1;e=c("immutable").List((f=e==null?void 0:e.assetGroups)!=null?f:[]);return a.asset.format==="empty"?!1:d("AdsInteractivePollUtils").isPollAvailableForAssetGroupsAndFormat(a.adAccount,e,b,a.asset.format)},isCreatingNewMedia:!1,validateChangeSet:function(a,b,c){b=a.get("interactive_poll");if(b&&b.isPollSelected){c=d("AdsInteractivePollUtils").validatePollSpec(b.interactivePollSpec);if(c!=null)return babelHelpers["extends"]({tool:"interactive_poll"},c)}},tab_testid:"creative_container_interactive_poll_tab"};e=a;g["default"]=e},98);
__d("AdsCreativeToolUnifiedTemplateLogoToolEntryContainer.react",["ix","AdsCreativeToolSimpleField.react","AdsFluxHooks","AdsUEditorHooks","Image.react","adsUEditorUnifiedTemplateLogoSelectorContainerSelector","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.onToggleAdvancedSettings,e=a.onEdit,f=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(c("adsUEditorUnifiedTemplateLogoSelectorContainerSelector"));f=f.state.logoQuery;var g=j(function(){return b(!0)},[b]),k=j(function(a){a.stopPropagation(),b(!1),e({logo:null})},[b,e]);return i.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:a.isActive,rightIconAsset:{active:h("1265552"),normal:h("1216500")},text:a.name,thumbnail:i.jsx("div",{className:"kgzac55p jcxyg2ei dmdr2h6l alzwoclg bdao358l trbvugp6 j94dm2s7 j32recxq p5mefues efclkiyo ksrhys3o josfbnk4 cc49pqrh smrv9sno i85zmo3j",children:i.jsx(c("Image.react"),{src:h("770348")})}),onClick:g,onDelete:f!=null&&f.image!=null?k:null})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("SRAOverlayLayoutUtils",[],function(a,b,c,d,e,f){function a(a){var b=["center","middle"];switch(a){case"top_left":case"top-left":b=["left","top"];break;case"top_center":case"top_middle":case"top-middle":b=["center","top"];break;case"top_right":case"top-right":b=["right","top"];break;case"middle_left":case"middle-left":b=["left","middle"];break;case"middle_right":case"middle-right":b=["right","middle"];break;case"bottom_left":case"bottom-left":b=["left","bottom"];break;case"bottom_center":case"bottom_middle":case"bottom-middle":b=["center","bottom"];break;case"bottom_right":case"bottom-right":b=["right","bottom"];break;case"middle_center":case"center":default:break}return{horizontal:b[0],vertical:b[1]}}function b(a){switch(a){case"top_left":return"top_left";case"top_middle":return"top_center";case"top_right":return"top_right";case"middle_left":return"middle_left";case"center":return"middle_center";case"middle_right":return"middle_right";case"bottom_left":return"bottom_left";case"bottom_middle":return"bottom_center";case"bottom_right":return"bottom_right"}return"top_right"}function c(a){switch(a){case"top_left":return"top_left";case"top_center":return"top_middle";case"top_right":return"top_right";case"middle_left":return"middle_left";case"middle_center":return"center";case"middle_right":return"middle_right";case"bottom_left":return"bottom_left";case"bottom_center":return"bottom_middle";case"bottom_right":return"bottom_right"}return"top_right"}f.getHorizontalAndVerticalAlignement=a;f.vccToVCEPosition=b;f.vceToVCCPosition=c},66);
__d("AdsCreativeEditorPositionAndSizeControls.react",["AdsTemplateUnificationStrings","FlexLayout.react","FlexLayoutItem.react","GeoDropdownMenu.react","GeoHeading.react","GeoMenuItem.react","SRAOverlayLayoutUtils","VCKFbtUtils","VCKPositionPicker.react","geoMargin","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=["Small","Medium","Large"];function a(a){var b=a.position,e=a.onPositionChange,f=a.onSizeChange;a=a.size;var g=i(function(b,a){return e&&e(d("SRAOverlayLayoutUtils").vccToVCEPosition(a))},[e]);return h.jsxs(c("FlexLayout.react"),{align:"start",justify:"all",children:[e&&h.jsx(c("FlexLayoutItem.react"),{children:h.jsx(c("VCKPositionPicker.react"),{id:"position",isDisabled:!1,isEditable:!0,isGeo:!0,selectedPosition:d("SRAOverlayLayoutUtils").vceToVCCPosition(b),onPositionChange:g})}),a&&f&&h.jsxs(c("FlexLayoutItem.react"),{className:c("stylex")(c("geoMargin").bottom24),grow:1,children:[h.jsx(c("GeoHeading.react"),{level:4,xstyle:c("geoMargin").bottom12,children:d("AdsTemplateUnificationStrings").SIZE_PICKER_TITLE}),h.jsx(c("GeoDropdownMenu.react"),{grow:"fill",label:d("VCKFbtUtils").translateSizeOption(a),children:j.map(function(a){return h.jsx(c("GeoMenuItem.react"),{label:d("VCKFbtUtils").translateSizeOption(a),onClick:function(){return f(a)}},a)})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeEditorSizeAndPositionSetting.react",["ix","AdsCreativeEditorPositionAndSizeControls.react","FlexLayout.react","FlexLayoutItem.react","GeoDivider.react","GeoTextPairing.react","Image.react","ShimButton.react","geoMargin","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=48,k={container:{width:"mfclru0v"},chanegButton:{cursor:"fsf7x5fv",height:"h7q9eq3y",width:"iryl7rsq",display:"alzwoclg",justifyContent:"jcxyg2ei",alignItems:"i85zmo3j"},grid:{backgroundColor:"eor236m6",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",boxSizing:"bdao358l",display:"alzwoclg",justifyContent:"jcxyg2ei",height:"ov5gjlzi",width:"l188yfni",overflowX:"lq84ybu9",overflowY:"hf30pyar"},textPairing:{marginStart:"jbg88c62"}};function a(a){var b=a.description,d=a.heading,e=a.imageSrc,f=a.position,g=a.size,l=a.onClickChange,m=a.onPositionChange;a=a.onSizeChange;return i.jsxs(c("FlexLayout.react"),{align:"stretch",className_DO_NOT_USE:c("stylex")(k.container),direction:"vertical",children:[i.jsxs(c("FlexLayout.react"),{align:"center",justify:"all",children:[i.jsx(c("FlexLayoutItem.react"),{className:c("stylex")(k.grid),children:i.jsx(c("Image.react"),{height:j,src:e,width:j,onClick:l})}),i.jsx(c("FlexLayoutItem.react"),{grow:1,children:i.jsx(c("GeoTextPairing.react"),{description:b,heading:d,size:"value",xstyle:k.textPairing})}),i.jsx(c("ShimButton.react"),{className:c("stylex")(k.chanegButton),onClick:l,children:i.jsx(c("Image.react"),{src:h("534391")})})]}),i.jsx(c("GeoDivider.react"),{xstyle:[c("geoMargin").top12,c("geoMargin").bottom12]}),i.jsx(c("AdsCreativeEditorPositionAndSizeControls.react"),{position:f,size:g,onPositionChange:m,onSizeChange:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsLogoToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateMutateSceneAction","AdsCreativeToolUnifiedTemplateLogoToolEntryContainer.react","AdsTemplateUnificationUtils","AdsUEditorUnifiedTemplateLogoSelectorContainer.react","immutable","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"logo",category:"OTHER",name:h._("Logotipo"),isCreatingNewMedia:!1,entryComponent:c("AdsCreativeToolUnifiedTemplateLogoToolEntryContainer.react"),advancedSettingsComponent:c("AdsUEditorUnifiedTemplateLogoSelectorContainer.react"),getIcons:function(){return{active:i("528581"),error:i("1746570"),normal:i("505900")}},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template]),isEnabled:d("AdsTemplateUnificationUtils").canUseAdsTemplateUnification,isAvailable:function(){return!0},mutateTemplate:function(a,b,d,e,f){b=e==null?void 0:e.logo;d=a.selectedSceneIndex;if(d==null){c("recoverableViolation")("called mutateTemplate in AdsLogoToolPlugin with a null selectedScene","ads_cx_pac");return}c("AdsCreativeEditorTemplateMutateSceneAction").dispatch({scene:d,mutation:{logo:b}},{line:"80",module:"AdsLogoToolPlugin.js"})}};b=a;g["default"]=b},98);
__d("AdsBusinessVideoListLoadMoreReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};b=a;f["default"]=b},66);
__d("AdsBusinessVideoDataSourcePlugin",["fbt","ix","AdsAccountStore","AdsBusinessCreativeFoldersQuery","AdsBusinessSourceCreativeFolderListLoadMoreAction","AdsBusinessSourceMediaPickerUtils","AdsBusinessVideoListLoadMoreDataAction","AdsBusinessVideoSourceVideoListDeleteQueriesAction","AdsBusinessVideosQuery","AdsGenericFilterSetUtil","AdsMediaPickerPolicyCompliantOptionSelectedAction","AdsMediaPickerPolicyCompliantOptions","AdsVideoActions","AdsVideoDialogFilterUtil","AdsVideoSelectionHeaderTabTypes","adsBusinessTabVideoListSelector","adsBusinessVideoSourceCreativeFoldersSelector","adsSelectedTabVideoListSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={type:"videoDataSource",key:"BUSINESS_VIDEO",filters:c("immutable").OrderedSet(["POLICY","VIDEO_LENGTH","VIDEO_ASPECT_RATIO","VIDEO_WIDTH","VIDEO_HEIGHT"]),icon:function(a){return i("972393")},tabIcon:i("1278800"),isEnabled:function(a){return c("AdsAccountStore").getSelectedBusinessID()!=null},label:function(a){return h._("V\u00eddeos de la empresa")},shortLabel:h._("Empresa"),searchPlaceholder:h._("Busca contenido multimedia"),source:c("AdsVideoSelectionHeaderTabTypes").BUSINESS,getStores:function(){return[].concat(c("adsSelectedTabVideoListSelector").getStores(),c("adsBusinessVideoSourceCreativeFoldersSelector").getStores())},load:function(a){var b=a.accountID,e=a.pageID;a=a.source;b=c("adsBusinessTabVideoListSelector")({accountID:b,pageID:e,selectedTab:a});e=b.businessVideosQuery;a=b.hasNextPage;b=b.videos;var f=c("adsBusinessVideoSourceCreativeFoldersSelector")(),g=f.businessID,h=f.hasFoldersNextPage,i=f.hasFoldersQuery,j=f.creativeFolders,k=f.isFoldersLoading,l=f.isSearching,m=f.isShowingAllMedia;f=f.foldersQuery;var n=b.getValue(),o=d("AdsBusinessSourceMediaPickerUtils").getBusinessSourceItemIDs({isShowingAllMedia:m,isSearching:l,hasFoldersNextPage:h,creativeFolders:j,videoIDs:c("immutable").OrderedSet(n||[]),foldersQuery:f});return{businessID:g,businessItemIDs:o,hasFoldersQuery:i,creativeFolders:j,isFoldersLoading:k,isSearching:l,isShowingAllMedia:m,foldersQuery:f,hasNextPage:a||h,isLoading:b.isLoading(),query:e,videoIDs:c("immutable").OrderedSet((n||[]).map(function(a){return a.id}))}},getSelectedBusinessItem:function(a){return d("AdsBusinessSourceMediaPickerUtils").getSelectedBusinessCreativesIDs(void 0,void 0,a)},loadMore:function(a){a instanceof c("AdsBusinessVideosQuery")&&c("AdsBusinessVideoListLoadMoreDataAction").dispatch({query:a},{line:"134",module:"AdsBusinessVideoDataSourcePlugin.js"}),a instanceof c("AdsBusinessCreativeFoldersQuery")&&c("AdsBusinessSourceCreativeFolderListLoadMoreAction").dispatch({query:a},{line:"137",module:"AdsBusinessVideoDataSourcePlugin.js"})},onSearch:function(a){d("AdsVideoActions").search(a)},applyFilters:function(a){a=d("AdsVideoDialogFilterUtil").getApiParamsForAdAccountFromPresetFilters(d("AdsGenericFilterSetUtil").removeIncomplete(a));a!=null&&a.has_integrity_violation!=null?c("AdsMediaPickerPolicyCompliantOptionSelectedAction").dispatch({selectedOption:a.has_integrity_violation?c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT:c("AdsMediaPickerPolicyCompliantOptions").COMPLIANT},{line:"151",module:"AdsBusinessVideoDataSourcePlugin.js"}):c("AdsMediaPickerPolicyCompliantOptionSelectedAction").dispatch({selectedOption:c("AdsMediaPickerPolicyCompliantOptions").COMPLIANT},{line:"157",module:"AdsBusinessVideoDataSourcePlugin.js"});d("AdsVideoActions").filter(a)},applyPolicyCompliantFilter:function(){},reset:function(){j.onSearch(""),j.applyFilters(null)},refreshQuery:function(a){c("AdsBusinessVideoSourceVideoListDeleteQueriesAction").dispatch({queries:a},{line:"173",module:"AdsBusinessVideoDataSourcePlugin.js"})}};a=j;g["default"]=a},98);
__d("AdsImportVideoDataSourcePlugin",["fbt","ix","AdsCreativeToolImportVideoPanel.react","AdsCreativeToolVideoUtils","AdsVideoSelectionHeaderTabTypes","AdsVideoUploadStore","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"videoDataSource",key:"IMPORT_VIDEO",customRenderer:c("AdsCreativeToolImportVideoPanel.react"),filters:c("immutable").OrderedSet([]),icon:function(a){return i("790943")},tabIcon:i("1933290"),isEnabled:function(a){return!0},label:function(a){return h._("URL de v\u00eddeo")},shortLabel:h._("URL de v\u00eddeo"),searchPlaceholder:null,source:c("AdsVideoSelectionHeaderTabTypes").IMPORT,getStores:function(){return[c("AdsVideoUploadStore")]},load:function(a){return{hasNextPage:!1,isLoading:!1,query:null,uploadStatus:d("AdsCreativeToolVideoUtils").getVideoUploadStatus(c("AdsVideoUploadStore").getState()),videoIDs:c("immutable").OrderedSet([])}},reset:function(){},loadMore:function(a){},onSearch:function(a){},applyFilters:function(a){}};b=a;g["default"]=b},98);
__d("AdsInstagramVideoDataSourcePlugin",["fbt","ix","AdsVideoSelectionHeaderTabTypes","AdsVideoUploadStore","adsSelectedTabVideoListSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={type:"videoDataSource",key:"INSTAGRAM_VIDEO",filters:c("immutable").OrderedSet([]),icon:function(a){return i("686128")},tabIcon:i("1278792"),isEnabled:function(a){return(a==null?void 0:a.isIGVideoSourceAvailable)===!0},label:function(a){return h._("V\u00eddeos de Instagram")},shortLabel:h._("Instagram"),searchPlaceholder:h._("Buscar contenido multimedia"),source:c("AdsVideoSelectionHeaderTabTypes").INSTAGRAM,getStores:function(){return[].concat(c("adsSelectedTabVideoListSelector").getStores(),[c("AdsVideoUploadStore")])},load:function(a){var b=a.accountID,d=a.pageID;a=a.source;b=c("adsSelectedTabVideoListSelector")({accountID:b,pageID:d,selectedTab:a});d=b.accountVideosQuery;a=b.hasNextPage;var e=b.videoIDs;b=b.isIGVideos;var f=e.getValue();return{hasNextPage:a,isLoading:e.isLoading()||e.isUpdating(),query:d,uploadStatus:null,videoIDs:c("immutable").OrderedSet(f||[]),isIGVideos:b}},loadMore:function(a){},onSearch:function(a){},applyFilters:function(a){},applyPolicyCompliantFilter:function(){},reset:function(){j.onSearch(""),j.applyFilters(null)}};a=j;g["default"]=a},98);
__d("AdsPageVideoListLoadMoreReducerPlugin",["AdsPageVideoListDataLoader"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){b=b.query;var c=a.getCached(b),e=c.getValueEnforcing();e=e.after;if(!c.isDone()||e==null)return a;c.isUpdating()||d("AdsPageVideoListDataLoader").loadVideos(b,e);return a.setUpdating([b])}};b=a;g["default"]=b},98);
__d("AdsPageVideoDataSourcePlugin",["fbt","ix","AdsGenericFilterSetUtil","AdsMediaPickerPolicyCompliantOptionSelectedAction","AdsMediaPickerPolicyCompliantOptions","AdsPageVideoListLoadMoreDataAction","AdsPageVideosQuery","AdsVideoActions","AdsVideoDialogFilterUtil","AdsVideoSelectionHeaderTabTypes","adsPageIDDropdownSelector","adsSelectedTabVideoListSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={type:"videoDataSource",key:"PAGE_VIDEO",filters:c("immutable").OrderedSet(["POLICY","VIDEO_LENGTH","VIDEO_ASPECT_RATIO","VIDEO_WIDTH","VIDEO_HEIGHT"]),icon:function(a){return i("506802")},tabIcon:i("1933282"),isEnabled:function(a){return!0},label:function(a){return h._("V\u00eddeos de la p\u00e1gina")},shortLabel:h._("P\u00e1gina"),searchPlaceholder:h._("Busca contenido multimedia"),source:c("AdsVideoSelectionHeaderTabTypes").PAGE,getStores:function(){return[].concat(c("adsSelectedTabVideoListSelector").getStores(),c("adsPageIDDropdownSelector").getStores())},load:function(a){var b=a.accountID,d=a.pageID;a=a.source;var e=c("adsPageIDDropdownSelector")();e=e.pageID;e=c("adsSelectedTabVideoListSelector")({accountID:b,pageID:(b=e)!=null?b:d,selectedTab:a});b=e.pageVideosQuery;d=e.hasNextPage;a=e.videoIDs;e=a.getValue();return{hasNextPage:d,isLoading:a.isLoading(),query:b,videoIDs:c("immutable").OrderedSet(e||[])}},loadMore:function(a){a instanceof c("AdsPageVideosQuery")&&c("AdsPageVideoListLoadMoreDataAction").dispatch({query:a},{line:"90",module:"AdsPageVideoDataSourcePlugin.js"})},onSearch:function(a){d("AdsVideoActions").search(a)},applyFilters:function(a){a=d("AdsVideoDialogFilterUtil").getApiParamsForAdAccountFromPresetFilters(d("AdsGenericFilterSetUtil").removeIncomplete(a));a!=null&&a.has_integrity_violation!=null?c("AdsMediaPickerPolicyCompliantOptionSelectedAction").dispatch({selectedOption:a.has_integrity_violation?c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT:c("AdsMediaPickerPolicyCompliantOptions").COMPLIANT},{line:"104",module:"AdsPageVideoDataSourcePlugin.js"}):c("AdsMediaPickerPolicyCompliantOptionSelectedAction").dispatch({selectedOption:c("AdsMediaPickerPolicyCompliantOptions").COMPLIANT},{line:"110",module:"AdsPageVideoDataSourcePlugin.js"});d("AdsVideoActions").filter(a)},applyPolicyCompliantFilter:function(){},reset:function(){j.onSearch(""),j.applyFilters(null)}};a=j;g["default"]=a},98);
__d("AdsVideoAssetChangeSet",["$InternalEnum"],function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["CHANGE_ASSET"]);f.AdsVideoAssetChangeSetActions=a},66);
__d("AdsUEditorMediaAssetToolPanel.react",["fbt","AdsAdAssetSelectorTypes","AdsCreativeToolSecondaryPanelLayout.react","AdsPlacementEditorLogger","AdsUEditorImageAssetToolPanelContainer.react","AdsUEditorMediaAssetFormatSwitcher.react","AdsUEditorVideoAssetToolPanelContainer.react","adsCreativeContainerMediaFormatForPlacements","react","recoverableViolation"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState,l={image:c("AdsUEditorImageAssetToolPanelContainer.react"),video:c("AdsUEditorVideoAssetToolPanelContainer.react")};function m(a,b,c){a(c),d("AdsPlacementEditorLogger").logChangeMediaPickerFormat(c==="image"?"IMAGE":"VIDEO",b)}function n(a){var b=a.placements,e=a.asset;a=a.assetContext;b=c("adsCreativeContainerMediaFormatForPlacements")(b);if(b.length===1)return b[0];if(e.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel){b=(a=a==null?void 0:(b=a.carousel)==null?void 0:b.index)!=null?a:0;a=e.cards[b].media;b=a==null?void 0:a.getValue();return(a=b==null?void 0:b.format)!=null?a:"image"}if(e.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template)return"image";if(e.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.post){c("recoverableViolation")("Post format is not supported inside Creative Editor yet","ads_cx_pac");return"image"}return e.format}function o(a,b){var c=a.asset;a=a.assetContext;if(c.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel){a=(a=a==null?void 0:(a=a.carousel)==null?void 0:a.index)!=null?a:0;a=c.cards[a].media;a=a==null?void 0:a.getValue();if(a!=null&&a.format===b)return a}else if(c.format===b)return c;return null}function a(a){var b=c("adsCreativeContainerMediaFormatForPlacements")(a.placements),d=k(n(a)),e=d[0],f=d[1];a.currentChanges;d=babelHelpers.objectWithoutPropertiesLoose(a,["currentChanges"]);var g=l[e],p=a.onToggleAdvancedSettings,q=a.assetContext.assetGroups,r=j(function(){return p(!1)},[p]),s=j(function(a){return m(f,q,a)},[q]);return i.jsxs(i.Fragment,{children:[i.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:h._("Cambiar contenido multimedia"),onClose:r}),i.jsx(c("AdsUEditorMediaAssetFormatSwitcher.react"),{enabledFormats:b,placements:a.placements,value:e,onChange:s}),i.jsx("div",{className:"ihx95mk1 db600lc8",children:i.jsx(g,babelHelpers["extends"]({},d,{asset:o(a,e),currentChanges:null,hideHeader:!0,onEdit:a.onEdit}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsMediaAssetToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeContainerAvailabilitySelectors","AdsPlacementEditorLogger","AdsUEditorAdgroupChangeMediaAssetDataAction","AdsUEditorAdgroupPACEditCarouselCardDetailAction","AdsUEditorMediaAssetToolPanel.react","StorifyPortalTemplate","VCCSelectTemplateDataAction","immutable","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"media_asset",advancedSettingsComponent:b("AdsUEditorMediaAssetToolPanel.react"),category:"MEDIA",isCreatingNewMedia:!1,isFullScreen:!1,getIcons:function(){return{active:i("1095425"),error:i("1361638"),normal:i("534391")}},name:h._("Cambiar"),availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(){return d("AdsCreativeContainerAvailabilitySelectors").adsMediaAssetToolAvailabilitySelector},isEnabled:function(a){return!0},mutatePACAdgroup:function(a,b,e,f,g,h){h=f.image_asset;f=f.video_asset;if(b==null||b.assetKey==null)return;if(b.carousel!=null){var i=null,j=null;if(h!=null){if(h.hash!=null)i={hash:h.hash};else if(h.url!=null)i={url:h.url};else{c("recoverableViolation")("Image asset should have either hash or url","ads_cx_pac");return}j="images"}else if(f!=null&&f.videoID!=null)i={video_id:f.videoID},j="videos";else{c("recoverableViolation")("Should have either image or video asset to update carousel card","ads_cx_pac");return}var k=b.assetKey,l=b.carousel.index;c("AdsUEditorAdgroupPACEditCarouselCardDetailAction").dispatch({hostID:g,adgroupIDs:a.adgroupIDs,carouselLabel:k,cardIndex:l,assetField:j,asset:i},{line:"128",module:"AdsMediaAssetToolPlugin.js"});return}var m,n;h!=null?(n="IMAGE",m={format:"image",hash:h.hash,url:h.url}):f!=null&&(n="VIDEO",m={format:"video",videoID:f.videoID});m!=null&&(c("AdsUEditorAdgroupChangeMediaAssetDataAction").dispatch({asset:m,hostID:g,adgroupIDs:a.adgroupIDs,existingLabel:b.assetKey},{line:"152",module:"AdsMediaAssetToolPlugin.js"}),m.format==="video"&&(e==null?void 0:e.isStorifyAvailable)===!0&&c("VCCSelectTemplateDataAction").dispatch({selectedTemplate:c("StorifyPortalTemplate"),index:0},{line:"163",module:"AdsMediaAssetToolPlugin.js"}),d("AdsPlacementEditorLogger").logChangeMedia(n,b.assetGroups))}};e=a;g["default"]=e},98);
__d("AdsUEditorPostAssetToolPanelLazy.react",["BloodDonationSpinner.react","CometPlaceholder.react","JSResource","lazyLoadComponent","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResource")("AdsUEditorPostAssetToolPanelContainer.react").__setRef("AdsUEditorPostAssetToolPanelLazy.react"));function a(a){return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("BloodDonationSpinner.react"),{center:!0}),children:h.jsx(i,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsPostAssetToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsPlacementAssetUtils","AdsUEditorAdgroupChangePostAssetDataAction","AdsUEditorPostAssetToolPanelLazy.react","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").List();a={type:"creative/tools",key:"post_asset",category:"POST",isFullScreen:!1,advancedSettingsComponent:c("AdsUEditorPostAssetToolPanelLazy.react"),containerWidth:920,name:h._("Cambiar"),getIcons:function(){return{active:i("1095425"),error:i("1361638"),normal:i("534391")}},isEnabled:function(a){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.post]),isAvailable:function(a){return!0},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,e,f,g){e=a.adgroupIDs;a=f.post_asset;f=b==null?void 0:b.assetKey;if(b==null||f==null||a==null)return;b=b==null?void 0:b.assetGroups;b=b!=null?d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(b):j;a=babelHelpers["extends"]({format:"post"},a);c("AdsUEditorAdgroupChangePostAssetDataAction").dispatch({asset:a,hostID:g,adgroupIDs:e,existingLabel:f,placements:b},{line:"100",module:"AdsPostAssetToolPlugin.js"});return}};b=a;g["default"]=b},98);
__d("AdsProductTagToolCreationEntry.react",["ix","AdsCreativeToolSimpleField.react","AdsFluxHooks","AdsUEditorHooks","QPLUserFlow","adsProductTagsIntegrityUtils","adsUEditorProductTagsStateSelectors","adsUseProductTagsUtils","immutable","qpl","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m={active:h("500747"),normal:h("493816"),error:h("1657917")},n={normal:h("492052"),active:h("505977")},o={normal:h("513294"),active:h("505977")};function a(a){var b=a.currentChanges,e=a.assetContext,f=a.name,g=a.isActive,h=a.onToggleAdvancedSettings,p=a.onEdit;a=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("adsUEditorProductTagsStateSelectors").adsUEditorProductTagsCreationEntryStateSelector);a=a.state;var q=a.interactiveComponents,r=a.productLoadObjectMap,s=d("adsUseProductTagsUtils").getAssetKey(e),t=d("adsUseProductTagsUtils").normalizeChangeSet(b),u=d("adsUseProductTagsUtils").useProductTags(t==null?void 0:t.get(s),q.get(s));a=l(function(){return u.some(function(a){a=a.productTagSpec;a=a.get("product_id");a=r.get(a).getValue();return a!=null&&!d("adsProductTagsIntegrityUtils").eligibleForTagging(a)})},[r,u]);k(function(){c("QPLUserFlow").addPoint(c("qpl")._(270217878,"7385"),"product_tag_tool_available",{data:{bool:{has_tags_in_spec:u.size>0}}})},[]);e=j(function(){h(!g)},[h,g]);b=j(function(){var a;p({product_tag:((a=t)!=null?a:c("immutable").Map()).set(s,c("immutable").List())});h(!1);c("QPLUserFlow").addPoint(c("qpl")._(270217878,"7385"),"all_products_removed",{data:{string:{remove_all_entrypoint:"clear_tool_button"}}})},[s,t,p,h]);q=a;a=g&&!q;var v=q?0:u.size;return i.jsx(c("AdsCreativeToolSimpleField.react"),{countValue:v||void 0,hasError:q,isActive:a,leftIconAsset:m,rightIconAsset:u.size>0?o:n,text:f,onClick:e,onDelete:u.size>0?b:null})}a.displayName=a.name+" [from "+f.id+"]";e=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=e},98);
__d("AdsProductTagsSelectCatalogReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{selectedCatalogId:b.catalogId})}};b=a;f["default"]=b},66);
__d("AdsProductTagToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsInteractiveComponentConstants","AdsProductTagToolCreationEntry.react","AdsProductTagsAvailabilitySelectors","AdsUEditorAdgroupRemoveInteractiveComponentsDataAction","AdsUEditorAdgroupSetInteractiveComponentsDataAction","AdsUEditorAdgroupSetPACInteractiveComponentDataAction","AdsUEditorCreativeToolProductTagAdvancedSettingsContainer.react","adsAccountGK","adsCreateSelector","adsUseProductTagsUtils","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){return a.map(function(a){var b=a.positionSpec;a=a.productTagSpec;if(b==null){var e;return c("immutable").Map((e={},e.type=d("AdsInteractiveComponentConstants").SHOPPING_PRODUCT_TAG,e.product_tag_spec=a,e))}return c("immutable").Map((e={},e.type=d("AdsInteractiveComponentConstants").SHOPPING_PRODUCT_TAG,e.position_spec=b,e.product_tag_spec=a,e))})}a={type:"creative/tools",key:"product_tag",category:"OTHER",isFullScreen:!1,name:h._("Etiquetas de producto"),entryComponent:c("AdsProductTagToolCreationEntry.react"),advancedSettingsComponent:c("AdsUEditorCreativeToolProductTagAdvancedSettingsContainer.react"),getIcons:function(){return{active:i("500747"),normal:i("493816")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel]),preselectPreviewFormats:c("immutable").Set(["INSTAGRAM_STANDARD","INSTAGRAM_EXPLORE_CONTEXTUAL","INSTAGRAM_EXPLORE_IMMERSIVE"]),isAvailable:function(a,b,e){b=!!(e==null?void 0:(b=e.assetGroups)==null?void 0:b.some(function(b){if(b==="INSTAGRAM_STORY"){if(a.asset.format==="video")return!1;if(a.asset.format==="carousel"){var f,g=a.asset.cards;f=(f=e.carousel)==null?void 0:f.index;if(f!=null){if(((g=g[f].media)==null?void 0:(f=g.getValue())==null?void 0:f.format)==="video")return!1}}return c("adsAccountGK")._(a.adAccount,"2NpWA14tm")}return d("AdsProductTagsAvailabilitySelectors").SUPPORTED_ASSET_GROUPS.has(b)}));return!b?!1:c("adsCreateSelector")([d("AdsProductTagsAvailabilitySelectors").adsProductTagsAvailabilityFlagsSelector],function(a){var b=a.isShoppingEnabledObjective,c=a.isShopsAdsCampaign,d=a.igShoppingEnabledAccount,e=a.hasEligibleCatalogs,f=a.isNotDynamicAd,g=a.isSomeCampaignsShopsAdsIncentiveProgram,h=a.fbProductTagsEnabledAccount;a=a.isStaticCarouselMDSAEnabled;return f&&b&&!c&&(d||h)&&e&&!(g&&!a)},{name:f.id})},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,e,f,g){if(b==null||(e==null?void 0:e.assetKey)==null)return;e=e==null?void 0:e.assetKey;var h=d("adsUseProductTagsUtils").getAssetKey(b);f=d("adsUseProductTagsUtils").normalizeChangeSet(f.product_tag);g={hostID:g,adgroupIDs:a.adgroupIDs,componentsSpec:f!=null?j(f.get(h)):null,label:e};(b==null?void 0:b.carousel)!=null&&(g.carouselAssetIndex=b.carousel.index);c("AdsUEditorAdgroupSetPACInteractiveComponentDataAction").dispatch(g,{line:"214",module:"AdsProductTagToolPlugin.js"})},mutateRegularAdgroup:function(a,b,e,f,g){if(b==null||e==null)return;a=a.adgroupIDs;f=d("adsUseProductTagsUtils").normalizeChangeSet(f.product_tag);if(f!=null&&f.some(function(a){return a.size})){b=d("adsUseProductTagsUtils").getAssetKey(b);f={hostID:g,adgroupIDs:a,componentsSpec:j(f.get(b))};e.assetIndex!=null&&(f.assetIndex=e.assetIndex);c("AdsUEditorAdgroupSetInteractiveComponentsDataAction").dispatch(f,{line:"243",module:"AdsProductTagToolPlugin.js"})}else{b={hostID:g,adgroupIDs:a};e.assetIndex!=null&&(b.assetIndex=e.assetIndex);c("AdsUEditorAdgroupRemoveInteractiveComponentsDataAction").dispatch(b,{line:"252",module:"AdsProductTagToolPlugin.js"})}},tab_testid:"creative_container_product_tags_tab"};b=a;g["default"]=b},98);
__d("AdsCreativeEditorStickerPicker.react",["fbt","GeoDropdownMenu.react","GeoMediaItem.react","GeoMenuItem.react","Grid.react","GridItem.react","Image.react","ScrollableArea.react","VCKFbtUtils","emptyFunction","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k=96,l=88,m=3;function n(){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h7q9eq3y",children:i.jsx(c("GeoDropdownMenu.react"),{grow:"fill",isLoading:!0,children:i.jsx(c("GeoMenuItem.react"),{label:h._("Cargando"),onClick:c("emptyFunction")})})}),i.jsx("div",{className:"ihx95mk1",children:i.jsx(c("Grid.react"),{cols:m,spacing:"nnzkd6d7 bmgto6uh i5oewl5a f9xcifuu",children:Array(10).fill({}).map(function(a,b){return i.jsx(c("GridItem.react"),{children:i.jsx(c("GeoMediaItem.react"),{isLoading:!0,media:null,ratio:"square",size:k})},b)})})})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.selectedSticker,e=a.stickerResources,f=a.onClickSticker;a=Object.keys(e);var g=j(a[0]),h=g[0],k=g[1];g=e[h];return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h7q9eq3y",children:i.jsx(c("GeoDropdownMenu.react"),{"data-testid":void 0,grow:"fill",label:d("VCKFbtUtils").translateCategoryOption(h),children:a.map(function(a){return i.jsx(c("GeoMenuItem.react"),{"data-testid":void 0,label:d("VCKFbtUtils").translateCategoryOption(a),onClick:function(){return k(a)}},a)})})}),i.jsx(c("ScrollableArea.react"),{className:"ihx95mk1",shadow:!1,children:i.jsx(c("Grid.react"),{cols:m,spacing:"nnzkd6d7 bmgto6uh i5oewl5a f9xcifuu",children:g.map(function(a){var d;return i.jsx(c("GridItem.react"),{children:i.jsx("div",{className:"b32bw860 kjpnmg3l jcxyg2ei alzwoclg fsf7x5fv bdao358l ta68dy8c kpwa50dg m0cukt09 h8391g91 eor236m6 i85zmo3j"+(((d=a.assets[0])==null?void 0:d.url)===(b==null?void 0:b.data)?" sww9kjsy ttpek5nq jhs26ync s7s4cuu5":""),children:i.jsx(c("Image.react"),{height:l,src:a.assets[0].url,width:l,onClick:function(){return f(a)}})})},a.id)})})})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return a.stickerResourcesLoadObject.hasValue()?i.jsx(o,{selectedSticker:a.selectedSticker,stickerResources:a.stickerResourcesLoadObject.getValueEnforcing(),onClickSticker:a.onClickSticker}):i.jsx(n,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeEditorStickerPanelContainer.react",["$InternalEnum","AdsCreativeEditorSizeAndPositionSetting.react","AdsCreativeEditorStickerPicker.react","AdsCreativeToolSecondaryPanelLayout.react","AdsFluxHooks","AdsTemplateUnificationStrings","AdsUEditorHooks","FlexLayout.react","adsCreativeEditorStickerPanelContainerSelector","flattenArray","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=e.useState,l=b("$InternalEnum").Mirrored(["Picker","Setting"]);function a(a){var b=a.onEdit,e=a.onToggleAdvancedSettings,f=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(c("adsCreativeEditorStickerPanelContainerSelector"));f=f.state;var g=f.stickerQuery,m=f.stickerResourcesLoadObject;f=k((g==null?void 0:g.sticker)==null?l.Picker:l.Setting);var n=f[0],o=f[1];f=i(function(){return e(!1)},[e]);var p=i(function(){return o(l.Picker)},[o]),q=g==null?void 0:g.sticker,r=g==null?void 0:g.position,s=g==null?void 0:g.size;g=i(function(a){var c;b({stickers:{sticker:{data:(c=a.assets[0])==null?void 0:c.url,width:(c=a.assets[0])==null?void 0:c.width,height:(c=a.assets[0])==null?void 0:c.height},size:(a=s)!=null?a:"Medium",position:(c=r)!=null?c:"top_right"}});o(l.Setting)},[b,r,s,o]);var t=i(function(a){q!=null&&b({stickers:{sticker:q,size:s,position:a}})},[b,q,s]),u=i(function(a){q!=null&&b({stickers:{sticker:q,size:a,position:r}})},[b,q,r]),v=j(function(){var a;if(q==null||!m.hasValue())return"";var b=m.getValueEnforcing();b=c("flattenArray")(Object.values(b));b=b.find(function(a){return((a=a.assets[0])==null?void 0:a.url)===q});return b!=null?((a=b.assets[0])==null?void 0:a.width)+" x "+((a=b.assets[0])==null?void 0:a.height):""},[q,m]);return h.jsxs(c("FlexLayout.react"),{align:"stretch",className_DO_NOT_USE:"pytsy3co",direction:"vertical",justify:"start",children:[h.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{description:d("AdsTemplateUnificationStrings").STICKER_TOOL_DESCRIPTION,title:a.name,onClose:f}),n===l.Setting&&q!=null&&r!=null&&s!=null?h.jsx(c("AdsCreativeEditorSizeAndPositionSetting.react"),{description:v,heading:a.name,imageSrc:q.data,position:r,size:s,onClickChange:p,onPositionChange:t,onSizeChange:u}):h.jsx(c("AdsCreativeEditorStickerPicker.react"),{selectedSticker:q,stickerResourcesLoadObject:m,onClickSticker:g})]})}a.displayName=a.name+" [from "+f.id+"]";e=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=e},98);
__d("AdsStickersToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeEditorStickerPanelContainer.react","AdsCreativeEditorTemplateMutateGlobalAction","AdsTemplateUnificationUtils","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"stickers",category:"OTHER",name:h._("Stickers"),isCreatingNewMedia:!1,getIcons:function(){return{active:i("561349"),error:i("1746549"),normal:i("561351")}},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template]),isEnabled:d("AdsTemplateUnificationUtils").canUseAdsTemplateUnification,isAvailable:function(){return!1},advancedSettingsComponent:c("AdsCreativeEditorStickerPanelContainer.react"),mutateTemplate:function(a,b,d,e,f){a=e.stickers;c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{stickers:a}},{line:"72",module:"AdsStickersToolPlugin.js"})}};b=a;g["default"]=b},98);
__d("AdsCreativeToolUnifiedTemplateCTAAnimationToolEntryContainer.react",["ix","AdsCreativeToolSimpleField.react","AdsCreativeToolUnifiedTemplateCTAAnimationToolPanelContainerSelector","AdsFluxHooks","AdsUEditorHooks","Image.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.onToggleAdvancedSettings,e=a.onEdit,f=j(function(){return b(!0)},[b]),g=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(c("AdsCreativeToolUnifiedTemplateCTAAnimationToolPanelContainerSelector"));g=g.state;var k=j(function(a){a.stopPropagation(),b(!1),e({template_cta_animation:null})},[b,e]);return i.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:a.isActive,rightIconAsset:{active:h("1265552"),normal:h("1216500")},text:a.name,thumbnail:i.jsx("div",{className:"kgzac55p jcxyg2ei dmdr2h6l alzwoclg bdao358l trbvugp6 j94dm2s7 j32recxq p5mefues efclkiyo ksrhys3o josfbnk4 cc49pqrh smrv9sno i85zmo3j",children:i.jsx(c("Image.react"),{src:h("770348")})}),onClick:f,onDelete:g.selectedCTA!=null?k:null})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("StorifyPatchUtils",[],function(a,b,c,d,e,f){"use strict";d="AudioPatch";var g="ImagePatch",h="FillEffectPatch";function i(a,b){return a==null?-1:a.findIndex(function(a){return a.type===b})}function a(a,b){if(a==null)return null;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.type===b)return e}return null}function b(a){var b=i(a,g);b!==-1&&a.splice(b,1);b=i(a,h);b!==-1&&a.splice(b,1);return a}function c(a,b,c){b<=-1?a.push(c):a[b]=c;return a}f.AUDIO_PATCH_TYPE=d;f.IMAGE_PATCH_TYPE=g;f.CTA_EFFECT_COLOR=h;f.findPatchIndex=i;f.findPatch=a;f.resetCTAPatch=b;f.addPatch=c},66);
__d("AdsCreativeToolTemplateCTAAnimationToolEntry.react",["ix","AdsCreativeEditorMode","AdsCreativeToolSimpleField.react","AdsCreativeToolUnifiedTemplateCTAAnimationToolEntryContainer.react","FluxContainer","Image.react","StorifySelectCTAEffectAction","adsUEditorTemplateCTAAnimationContainerSelector","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onToggleAdvancedSettings(!0)},d.$2=function(a){a.stopPropagation(),c("StorifySelectCTAEffectAction").dispatch({ctaPatch:null},{line:"81",module:"AdsCreativeToolTemplateCTAAnimationToolEntry.react.js"}),d.props.onToggleAdvancedSettings(!1),d.props.onEdit({template_cta_effect:null})},b)||babelHelpers.assertThisInitialized(d)}b.getStores=function(a,b){a=b.adgroupEditorContext;return c("adsUEditorTemplateCTAAnimationContainerSelector").getStores(a)};b.calculateState=function(a,b,d){a=d.adgroupEditorContext;return c("adsUEditorTemplateCTAAnimationContainerSelector")(a)};var d=b.prototype;d.render=function(){return this.state.mode===c("AdsCreativeEditorMode").TemplateCustomization?i.jsx(c("AdsCreativeToolUnifiedTemplateCTAAnimationToolEntryContainer.react"),babelHelpers["extends"]({},this.props)):i.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:this.props.isActive,isRequired:this.state.imagePatch!=null,text:this.props.name,thumbnail:i.jsx("div",{className:"kgzac55p jcxyg2ei dmdr2h6l alzwoclg bdao358l trbvugp6 j94dm2s7 j32recxq p5mefues efclkiyo ksrhys3o josfbnk4 cc49pqrh smrv9sno i85zmo3j",children:i.jsx(c("Image.react"),{src:h("770348")})}),onClick:this.$1,onDelete:this.state.imagePatch!=null?this.$2:null})};return b}(i.PureComponent);b=c("FluxContainer").create(a,{withContext:!0,withProps:!0});g["default"]=b},98);
__d("AdsCreativeToolTemplateCTAAnimationToolThumbnail.react",["Image.react","XHRRequest","apng-js","promiseDone","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useState,l=function(a){throw a};function a(a){var b=a.src,d=a.staticSrc,e=a.width,f=a.height,g=a.onError,m=g===void 0?l:g,n=a.playing;g=k(null);var o=g[0],p=g[1];a=k(null);var q=a[0],r=a[1];g=k(null);var s=g[0],t=g[1];g=(a=e)!=null?a:o==null?void 0:o.width;a=(e=f)!=null?e:o==null?void 0:o.height;f=n&&s!=null;e=i(function(a){r(a==null?null:a.getContext("2d"))},[]);j(function(){new(c("XHRRequest"))(b).setMethod("GET").setResponseType("arraybuffer").setErrorHandler(m).setResponseHandler(function(a){a=c("apng-js")["default"](a);a instanceof Error?m(a):p(a)}).send()},[b,m]);j(function(){o!=null&&q!=null?c("promiseDone")(o.getPlayer(q),t,m):t(null)},[o,q,m]);j(function(){s!=null&&(n?s.play():s.stop())},[s,n]);return h.jsxs(h.Fragment,{children:[!f&&h.jsx(c("Image.react"),{height:a,src:d,width:g}),h.jsx("canvas",{height:a,ref:e,style:{display:f?"unset":"none"},width:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeToolUnifiedTemplateCTAAnimationToolPanelContainer.react",["fbt","AdsCreativeTemplateCTAAnimationToolConfig","AdsCreativeToolSecondaryPanelLayout.react","AdsCreativeToolUnifiedTemplateCTAAnimationToolPanelContainerSelector","AdsFluxHooks","AdsGridLayout.react","AdsPlacementEditorCTAAnimationSuggestedAndCustomColorPicker.react","AdsUEditorHooks","Keyframes.react","ShimButton.react","color","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState,l=8,m=3,n=.7;function o(a){var b=a.cta,d=a.onSelect;a=a.isSelected;var e=j(function(){return d(b)},[d,b]),f=k(!1),g=f[0],h=f[1];return i.jsx(c("ShimButton.react"),{className:c("stylex")({"align-items-1":"i85zmo3j","border-top-0.3":"eupczbmr","border-end-0.3":"b9zcob03","border-bottom-0.3":"dvw8ei4r","border-start-0.3":"e9vs1hwq","border-top-start-radius-1":"h8391g91","border-top-end-radius-1":"m0cukt09","border-bottom-end-radius-1":"kpwa50dg","border-bottom-start-radius-1":"ta68dy8c","box-sizing-1":"bdao358l","cursor-1":"fsf7x5fv","display-1":"alzwoclg","flex-direction-1":"cqf1kptm","width-1":"lwqmdtw6","outline-0.1":"icdlwmnq","margin-bottom-1":"mfn553m3"},a?{"border-top-color-0.4":"ss6764vo","border-end-color-0.4":"jnnu2plf","border-bottom-color-0.4":"tpg3sfaw","border-start-color-0.4":"rngo4ij1","border-top-start-radius-1":"h8391g91","border-top-end-radius-1":"m0cukt09","border-bottom-end-radius-1":"kpwa50dg","border-bottom-start-radius-1":"ta68dy8c"}:null),onClick:e,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:i.jsx(c("Keyframes.react"),{assetName:"asset",height:96,initialProgress:n,playing:g,projectName:"showreel",source:b.thumbnail,width:96})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.onToggleAdvancedSettings,e=a.onEdit;a=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(c("AdsCreativeToolUnifiedTemplateCTAAnimationToolPanelContainerSelector"));a=a.state;var f=a.ctaColor,g=a.selectedCTA;a=j(function(){b(!1)},[b]);var k=c("AdsCreativeTemplateCTAAnimationToolConfig").find(function(a){return a.asset===g}),n=j(function(a){e({template_cta_animation:{cta:a,ctaColor:f}})},[e,f]),p=j(function(a){k!=null&&e({template_cta_animation:{cta:k,ctaColor:a.hex()}})},[e,k]);return i.jsxs("div",{className:"pytsy3co",children:[i.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:h._("A\u00f1adir efectos de llamada a la acci\u00f3n"),onClose:a}),i.jsx(c("AdsGridLayout.react"),{className:"r5g9zsuq rng1terr",colNum:m,gap:l+"px",children:c("AdsCreativeTemplateCTAAnimationToolConfig").map(function(a){return i.jsx(o,{cta:a,isSelected:g===a.asset,onSelect:n},a.id)})},"key"),g!=null&&i.jsx(c("AdsPlacementEditorCTAAnimationSuggestedAndCustomColorPicker.react"),{selectedColor:c("color")(f),onChangeColor:p})]})}a.displayName=a.name+" [from "+f.id+"]";e=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=e},98);
__d("AdsCreativeToolTemplateCTAAnimationToolPanel.react",["cx","fbt","AdsCreativeEditorMode","AdsCreativeToolSecondaryPanelLayout.react","AdsCreativeToolTemplateCTAAnimationToolThumbnail.react","AdsCreativeToolUnifiedTemplateCTAAnimationToolPanelContainer.react","AdsGridLayout.react","AdsPlacementEditorBackgroundColorConstant","AdsPlacementEditorColorPicker.react","AdsPlacementEditorSuggestedColorList.react","BUICloseButton.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","FluxContainer","Grid.react","ShimButton.react","StorifySelectCTAEffectAction","adsUEditorTemplateCTAAnimationContainerSelector","color","curry","emptyFunction","first","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=8,l=3,m=d("AdsPlacementEditorBackgroundColorConstant").SolidColors[d("AdsPlacementEditorBackgroundColorConstant").SolidColors.length-1],n=d("AdsPlacementEditorBackgroundColorConstant").SolidColors.length-1;function o(a){return!a.enabled?null:j.jsxs(j.Fragment,{children:[j.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:i._("Color del efecto")}),j.jsxs(c("Grid.react"),{cols:1,spacing:"_2pip",children:[j.jsx(c("AdsPlacementEditorSuggestedColorList.react"),{magicWandEnabled:!1,selectedIndex:a.selectedColorIndex,selection:a.colorSelectionType,suggestedColors:d("AdsPlacementEditorBackgroundColorConstant").SolidColors,onClickAutomatic:c("emptyFunction"),onClickCustomized:a.onClickCustomized,onClickSuggestedColor:a.onClickSuggestedColor}),j.jsx(p,{colorSelectionType:a.colorSelectionType,currentColor:a.currentColor,onChangeSolidColor:a.onChangeSolidColor})]})]})}function p(a){return a.colorSelectionType!==d("AdsPlacementEditorBackgroundColorConstant").ColorSelectionType.CUSTOMIZED||a.currentColor==null?null:j.jsx(c("AdsPlacementEditorColorPicker.react"),{color:c("color")(a.currentColor.topColor),onChange:a.onChangeSolidColor})}p.displayName=p.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a,b){b==null&&e.setState({colorSelectionType:d("AdsPlacementEditorBackgroundColorConstant").ColorSelectionType.SUGGESTED,currentColor:m,selectedColorIndex:n});b=(b=b==null?void 0:b.topColor)!=null?b:m.topColor;a=e.$2(a,b);c("StorifySelectCTAEffectAction").dispatch(a,{line:"215",module:"AdsCreativeToolTemplateCTAAnimationToolPanel.react.js"});e.props.onEdit({template_cta_effect:babelHelpers["extends"]({},a)})},e.$3=function(a){return d("AdsPlacementEditorBackgroundColorConstant").SolidColors[a]},e.$4=function(a){var b=e.$3(a);e.setState({colorSelectionType:d("AdsPlacementEditorBackgroundColorConstant").ColorSelectionType.SUGGESTED,currentColor:b,selectedColorIndex:a});a=e.$2(null,b.topColor);c("StorifySelectCTAEffectAction").dispatch(a,{line:"244",module:"AdsCreativeToolTemplateCTAAnimationToolPanel.react.js"});e.props.onEdit({template_cta_effect:babelHelpers["extends"]({},a,{ctaColorType:d("AdsPlacementEditorBackgroundColorConstant").ColorSelectionType.SUGGESTED})})},e.$5=function(){e.setState({colorSelectionType:d("AdsPlacementEditorBackgroundColorConstant").ColorSelectionType.CUSTOMIZED})},e.$6=function(a){a={bottomColor:a.hex(),topColor:a.hex()};e.setState({currentColor:a});a=e.$2(null,a.topColor);c("StorifySelectCTAEffectAction").dispatch(a,{line:"268",module:"AdsCreativeToolTemplateCTAAnimationToolPanel.react.js"});e.props.onEdit({template_cta_effect:babelHelpers["extends"]({},a,{ctaColorType:d("AdsPlacementEditorBackgroundColorConstant").ColorSelectionType.CUSTOMIZED})})},e.$7=function(a){e.state.playingCTA!==a&&e.setState({playingCTA:a})},e.$8=function(a){e.state.playingCTA===a&&e.setState({playingCTA:null})},b)||babelHelpers.assertThisInitialized(e)}b.getStores=function(a,b){a=b.adgroupEditorContext;return c("adsUEditorTemplateCTAAnimationContainerSelector").getStores(a)};b.calculateState=function(a,b,e){e=e.adgroupEditorContext;a=a||{};var f=a.playingCTA;a=a.colorSelectionType;a=a===void 0?d("AdsPlacementEditorBackgroundColorConstant").ColorSelectionType.SUGGESTED:a;e=c("adsUEditorTemplateCTAAnimationContainerSelector")(e);var g=e.ctaColor,h=e.ctaEffects,i=e.imagePatch;e=e.mode;g=g!=null?{topColor:g==null?void 0:g.colour,bottomColor:g==null?void 0:g.colour}:null;var j=q(g);b=b.assetContext.assetGroups;var k=b&&c("first")(b);b=h.filter(function(a){a=a.placement;return a.includes(k)});return{colorSelectionType:a,currentColor:g,selectedColorIndex:j,ctaEffects:b,imagePatch:i,playingCTA:f,mode:e}};var e=b.prototype;e.$2=function(a,b){return{ctaPatch:{ctaEffect:a,ctaEffectColor:b}}};e.render=function(){var a=this,b=this.state,e=b.imagePatch,f=b.ctaEffects,g=b.colorSelectionType;g=g===void 0?d("AdsPlacementEditorBackgroundColorConstant").ColorSelectionType.SUGGESTED:g;var h=b.currentColor,m=b.playingCTA;b=b.mode;return b===c("AdsCreativeEditorMode").TemplateCustomization?j.jsx(c("AdsCreativeToolUnifiedTemplateCTAAnimationToolPanelContainer.react"),babelHelpers["extends"]({},this.props)):j.jsxs("div",{className:"_887x",children:[j.jsxs(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_7ye9 _2pin",justify:"all",children:[j.jsx(c("FlexLayoutItem.react"),{children:j.jsx(c("FDSText.react"),{color:"primary",display:"truncate",size:"header4",weight:"bold",children:i._("A\u00f1adir efectos de llamada a la acci\u00f3n")})}),j.jsx(c("FlexLayoutItem.react"),{children:j.jsx(c("BUICloseButton.react"),{size:"large",onClick:c("curry")(this.props.onToggleAdvancedSettings,!1)})})]}),j.jsx(c("AdsGridLayout.react"),{className:"_8e9y _2pin",colNum:l,gap:k+"px",children:f.map(function(b){return j.jsx(c("ShimButton.react"),{className:"_893l"+(e!=null&&e.name===b.id?" _893m":""),onClick:c("curry")(a.$1,b,h),onMouseEnter:c("curry")(a.$7,b.id),onMouseLeave:c("curry")(a.$8,b.id),children:j.jsx("div",{className:"_88mr",children:j.jsx(c("AdsCreativeToolTemplateCTAAnimationToolThumbnail.react"),{height:96,playing:m===b.id,src:b.thumbnailUrl,staticSrc:b.staticThumbnailUrl,width:96})})},b.id)})},"key"),j.jsx(o,{colorSelectionType:g,currentColor:this.state.currentColor,enabled:e!=null,selectedColorIndex:this.state.selectedColorIndex,onChangeSolidColor:this.$6,onClickCustomized:this.$5,onClickSuggestedColor:this.$4})]})};return b}(j.Component);function q(a){var b=d("AdsPlacementEditorBackgroundColorConstant").SolidColors.findIndex(function(b){return(a==null?void 0:a.bottomColor)===b.bottomColor&&(a==null?void 0:a.topColor)===b.topColor});return b!==-1?b:null}b=c("FluxContainer").create(a,{withContext:!0,withProps:!0});g["default"]=b},98);
__d("AdsTemplateCTAAnimationToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateMutateGlobalAction","AdsCreativeToolTemplateCTAAnimationToolEntry.react","AdsCreativeToolTemplateCTAAnimationToolPanel.react","AdsUEditorStorifyTemplateUtils","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_cta_animation",category:"OTHER",isFullScreen:!1,entryComponent:b("AdsCreativeToolTemplateCTAAnimationToolEntry.react"),advancedSettingsComponent:b("AdsCreativeToolTemplateCTAAnimationToolPanel.react"),getIcons:function(){return{active:i("770348"),normal:i("770348")}},name:h._("Efectos de llamada a la acci\u00f3n"),isEnabled:function(){return!0},isAvailable:d("AdsUEditorStorifyTemplateUtils").isTemplateToolAvailable,availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isCreatingNewMedia:!1,mutateTemplate:function(a,b,d,e,f){a=e.template_cta_animation;if(a==null){c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{template_cta_animation:null}},{line:"78",module:"AdsTemplateCTAAnimationToolPlugin.js"});return}a.cta&&c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{template_cta_animation:{keyframes:a.cta.asset,color:a.ctaColor}}},{line:"87",module:"AdsTemplateCTAAnimationToolPlugin.js"})}};e=a;g["default"]=e},98);
__d("AdsCreativeToolEmptyField.react",["AdsCreativeToolSimpleField.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:!!a.isActive,isDisabled:a.isDisabled,leftIconAsset:{active:a.iconAssets.normal,disabled:a.iconAssets.disabled,normal:a.iconAssets.normal},text:a.text,tooltipText:a.tooltipText,onClick:a.onClick})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeToolEmptyFieldSwitch.react",["AdsCreativeToolEmptyField.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showEmptyComponent:c.props.isInitialStateEmpty},c.$1=function(){c.setState({showEmptyComponent:!1},c.props.onSwitch)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidUpdate=function(a){a=a.enableSwitchBacktoEmptyField===!1&&this.props.enableSwitchBacktoEmptyField===!0;a&&a!==this.state.showEmptyComponent&&this.setState({showEmptyComponent:a})};d.render=function(){if(this.state.showEmptyComponent)return h.jsx(c("AdsCreativeToolEmptyField.react"),{iconAssets:this.props.iconAssets,isDisabled:this.props.isDisabled,text:this.props.text,tooltipText:this.props.tooltipText,onClick:this.$1});else return this.props.switchToComponent};return b}(h.Component);g["default"]=a},98);
__d("AdsCreativeToolTemplateGenericTextToolContainer.react",["ix","AdsCreativeToolTemplateGenericTextToolSelector","AdsCreativeToolTextComponent.react","AdsTextAssetChangeSet","AdsUEditorContextType","FluxContainer","StorifyTextUtils","VCCUpdateVariableValueDataAction","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={headline:d("AdsCreativeToolTemplateGenericTextToolSelector").adsCreativeToolTemplateHeadlineToolContainerSelector,caption:d("AdsCreativeToolTemplateGenericTextToolSelector").adsCreativeToolTemplateTextToolContainerSelector},k="caption",l="headline";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var b=d.state,e=b.component,f=b.selectedSectionIndex,g=b.selectedTemplateID;b=b.textInputVariable;c("VCCUpdateVariableValueDataAction").dispatch({component:e,selectedSectionIndex:f,templateID:g,variableID:b.id,variableType:"text_input",variableValue:a},{line:"89",module:"AdsCreativeToolTemplateGenericTextToolContainer.react.js"});d.$2(a)},d.$3=function(){d.$1("")},d.$4=function(){d.props.onToggleAdvancedSettings(!0)},b)||babelHelpers.assertThisInitialized(d)}b.getStores=function(a,b){b=b.adgroupEditorContext;a=j[a.textField];return a.getStores(b)};b.calculateState=function(a,b,c){a=c.adgroupEditorContext;c=j[b.textField];return c(a)};var e=b.prototype;e.$2=function(a){switch(this.props.textField){case k:this.props.onEdit({text_asset:{assetIndex:0,assetValue:a,action:c("AdsTextAssetChangeSet").CHANGE_ASSET}});break;case l:this.props.onEdit({template_headline:{assetIndex:0,assetValue:a,action:c("AdsTextAssetChangeSet").CHANGE_ASSET}});break}};e.render=function(){return i.jsx("div",{onMouseDown:this.$4,children:i.jsx(c("AdsCreativeToolTextComponent.react"),{hostID:this.context.adgroupEditorContext.hostID,iconAssets:{normal:h("903388")},isActive:this.props.isActive,sanitizeText:d("StorifyTextUtils").cleanEmoji,textAreaComponentProps:{label:this.props.label,tooltip:this.props.tooltip,maxLength:this.state.maxTextLength},value:this.state.textInput,onChange:this.$1,onRemove:this.$3})})};return b}(i.PureComponent);a.contextTypes=c("AdsUEditorContextType").adgroup;b=c("FluxContainer").create(a,{withProps:!0,withContext:!0});g["default"]=b},98);
__d("AdsCreativeToolTemplateHeadlineTool.react",["fbt","AdsCreativeToolTemplateGenericTextToolContainer.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Escribe un t\u00edtulo breve.");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsx("div",{"data-testid":void 0,children:i.jsx(c("AdsCreativeToolTemplateGenericTextToolContainer.react"),babelHelpers["extends"]({label:this.props.name,textField:"headline",tooltip:j},this.props))})};return b}(i.Component);g["default"]=a},98);
__d("AdsCreativeToolTemplateGenericTextToolPanelContainer.react",["fbt","AdsCreativeToolSecondaryPanelLayout.react","AdsCreativeToolTemplateGenericTextToolSelector","AdsPlacementEditorColorPicker.react","FDSSelector.react","FDSSelectorItem.react","FDSText.react","FluxContainer","VCCUpdateVariableValueDataAction","VCKColorUtils","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={headline:d("AdsCreativeToolTemplateGenericTextToolSelector").adsCreativeToolTemplateHeadlineToolContainerSelector,caption:d("AdsCreativeToolTemplateGenericTextToolSelector").adsCreativeToolTemplateTextToolContainerSelector};function k(a){return typeof a==="object"?a:null}function l(a){return i.jsxs("div",{className:"_20nr",children:[i.jsx(c("FDSText.react"),{color:"secondary",display:"block",margin:"_3-95",size:"meta1",weight:"bold",children:a.label}),a.children]})}l.displayName=l.name+" [from "+f.id+"]";var m=function(a){a=a.replace(/_/g," ");return a.charAt(0).toUpperCase()+a.slice(1)};function n(a){return i.jsx("div",{children:i.jsx(c("FDSSelector.react"),{label:"",value:a.selectedFont,onChange:a.onChange,children:a.fonts.map(function(a){a=k(a);if(a){var b=m(a.name);return i.jsx(c("FDSSelectorItem.react"),{label:b,value:a.key},a.key)}return null}).filter(Boolean)})})}n.displayName=n.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=function(){c.props.onToggleAdvancedSettings(!1)},c.$2=function(a){var b=c.state.selectedTextFontVariable;c.$5({variableID:b.id,variableType:"text_font",variableValue:a})},c.$3=function(a){var b=c.state.selectedTextColorVariable;c.$5({variableID:b.id,variableType:"text_color",variableValue:a.hex()})},c.$4=function(a){var b=c.state.selectedTextContainerRGBAColorVariable;a=d("VCKColorUtils").convertHexColorToRGB(a.hex());c.$5({variableID:b.id,variableType:"text_container_color",variableValue:a.join(",")})},b)||babelHelpers.assertThisInitialized(c)}b.getStores=function(a,b){b=b.adgroupEditorContext;a=j[a.textField];return a.getStores(b)};b.calculateState=function(a,b,c){a=c.adgroupEditorContext;c=j[b.textField];return c(a)};var e=b.prototype;e.render=function(){var a=this.state,b=a.selectedTextFont,d=a.selectedTextColor,e=a.selectedTextContainerColor,f=a.selectedTextFontVariable,g=a.selectedTextColorVariable;a=a.selectedTextContainerRGBAColorVariable;return i.jsxs("div",{children:[i.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:this.props.title,onClose:this.$1}),f.is_editable&&f.options&&i.jsx(l,{label:h._("Fuente"),children:i.jsx(n,{fonts:f.options,selectedFont:b,onChange:this.$2})}),g.is_editable&&i.jsx(l,{label:h._("Color del texto"),children:i.jsx(c("AdsPlacementEditorColorPicker.react"),{color:d,onChange:this.$3})}),e!=null&&a&&a.is_editable&&i.jsx(l,{label:h._("Color de \u00e9nfasis"),children:i.jsx(c("AdsPlacementEditorColorPicker.react"),{color:e,onChange:this.$4})})]})};e.$5=function(a){var b=a.variableID,d=a.variableType;a=a.variableValue;var e=this.state,f=e.component,g=e.selectedSectionIndex;e=e.selectedTemplateID;c("VCCUpdateVariableValueDataAction").dispatch({component:f,selectedSectionIndex:g,templateID:e,variableID:b,variableType:d,variableValue:a},{line:"236",module:"AdsCreativeToolTemplateGenericTextToolPanelContainer.react.js"})};return b}(i.PureComponent);b=c("FluxContainer").create(a,{withProps:!0,withContext:!0});g["default"]=b},98);
__d("AdsCreativeToolTemplateHeadlineToolPanel.react",["fbt","AdsCreativeToolTemplateGenericTextToolPanelContainer.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("T\u00edtulo");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsx(c("AdsCreativeToolTemplateGenericTextToolPanelContainer.react"),babelHelpers["extends"]({textField:"headline",title:j},this.props))};return b}(i.Component);g["default"]=a},98);
__d("AdsTemplateHeadlineToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolTemplateHeadlineTool.react","AdsCreativeToolTemplateHeadlineToolPanel.react","AdsUEditorStorifyTemplateUtils","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_headline",containerWidth:920,category:"TEXT",isFullScreen:!1,entryComponent:b("AdsCreativeToolTemplateHeadlineTool.react"),advancedSettingsComponent:b("AdsCreativeToolTemplateHeadlineToolPanel.react"),name:h._("T\u00edtulo"),getIcons:function(){return{active:i("820133"),normal:i("820134")}},isEnabled:function(){return!0},isAvailable:d("AdsUEditorStorifyTemplateUtils").isTemplateToolAvailable,availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isCreatingNewMedia:!1};e=a;g["default"]=e},98);
__d("AdsCreativeEditorTemplateCropperTool.react",["VCKImageCroppingSelectorContainer.react","react","useContentRect"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=16;function a(a){var b=c("useContentRect")(),d=b[0];d=d===void 0?{}:d;var e=d.width;e=e===void 0?0:e;d=d.height;d=d===void 0?0:d;b=b[1];var f=a.image,g=f.height;f=f.width;e=Math.min((e-2*i)/f,(d-2*i)/g);d=Math.round(f*e);var j=Math.round(g*e),k=a.image.url;return k==null?null:h.jsx("div",{className:"mfclru0v jcxyg2ei pytsy3co alzwoclg hqfru6jp i85zmo3j",ref:b,children:h.jsx("div",{className:"om3e55n1",children:h.jsx(c("VCKImageCroppingSelectorContainer.react"),{aspectRatio:a.aspectRatio,imageCrop:a.imageCrop,imageHeight:g,imageScale:e,imageURL:k,imageWidth:f,scaledImageHeight:j,scaledImageWidth:d,onCropUpdate:a.onCropUpdate})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeEditorTemplateImageCropperV2.react",["ix","AdsCreativeEditorTemplateCropperTool.react","AdsCreativeToolSecondaryPanelLayout.react","AdsImageUtils","AdsTemplateUnificationStrings","BackgroundImage.react","GeoMediaItem.react","GeoRadioList.react","GeoRadioListItem.react","GeoText.react","GeoToggleButton.react","GeoToggleButtonGroup.react","Image.react","fbicon","geoMargin","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useState,m=.5625,n={square:d("AdsTemplateUnificationStrings").SQUARE_ASPECT_RATIO,vertical:d("AdsTemplateUnificationStrings").VERTICAL_ASPECT_RATIO},o={square:d("fbicon")._(h("508086"),16),vertical:d("fbicon")._(h("514774"),16)},p={square:1,vertical:m},q=64;function r(a,b){var c=b.height;b=b.width;if(a==="square"){a=Math.min(c,b);return[a,a]}a=b/m;var d=c*m;return a>c?[d,c]:[b,a]}function s(a,b,c){a=c==null?r(a,b):[c.width,c.height];b=a[0];c=a[1];return Math.floor(b)+" x "+Math.floor(c)}function t(a,b,c,d){c===void 0&&(c=0);d===void 0&&(d=0);return{x:c,y:d,width:a,height:b}}function u(a,b,c){if(a!=null)return a;if(b==="original")return t(c.width,c.height);a=r(b,c);b=a[0];c=a[1];return t(b,c)}function a(a){var b=l(a.aspectRatios.first()),e=b[0];b=b[1];var f=a.crops,g=a.image,h=a.onCropUpdate,m=a.crops[e]!=null?e:"original",v=j(function(a){var b;h(babelHelpers["extends"]({},f,(b={},b[e]=a,b)))},[h,f,e]),w=j(function(a){a=a==="original"?null:t.apply(void 0,r(a,g));v(a)},[v,g]),x=k(function(){var a,b=f[e];return d("AdsImageUtils").getImageTransformForBounds(g.width,g.height,q,q,[[(a=b==null?void 0:b.x)!=null?a:0,(a=b==null?void 0:b.y)!=null?a:0],[b!=null?b.x+b.width:g.width,b!=null?b.y+b.height:g.height]])},[g,f,e]);return i.jsxs(c("AdsCreativeToolSecondaryPanelLayout.react"),{children:[i.jsxs(c("AdsCreativeToolSecondaryPanelLayout.react").LeftPanel,{title:a.name,onClose:a.onClickCollapseButton,children:[i.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom20,children:d("AdsTemplateUnificationStrings").IMAGE_CROP_DESCRIPTION}),i.jsx(c("GeoToggleButtonGroup.react"),{density:"flex",display:"block",isDisabled:a.aspectRatios.size<=1,value:e,xstyle:c("geoMargin").bottom20,onChange:b,children:a.aspectRatios.map(function(a){return i.jsx(c("GeoToggleButton.react"),{icon:o[a],label:n[a],value:a},a)}).toArray()}),i.jsxs(c("GeoRadioList.react"),{isLabelHidden:!0,label:d("AdsTemplateUnificationStrings").SELECT_A_CROPPING_OPTION,value:m,onChange:w,children:[i.jsx(c("GeoRadioListItem.react"),{description:a.image.width+" x "+a.image.height,label:d("AdsTemplateUnificationStrings").ORIGINAL,media:i.jsx(c("GeoMediaItem.react"),{fit:"cover",media:i.jsx(c("Image.react"),{src:a.image.url}),size:q}),value:"original"}),i.jsx(c("GeoRadioListItem.react"),{description:s(e,a.image,a.crops[e]),label:n[e],media:i.jsx(c("GeoMediaItem.react"),{fit:"cover",media:i.jsx(c("BackgroundImage.react"),{backgroundSize:"contain",cropTransform:x,height:q,src:a.image.url,width:q}),size:q}),value:e})]})]}),i.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").RightPanel,{children:i.jsx(c("AdsCreativeEditorTemplateCropperTool.react"),{aspectRatio:p[e],image:a.image,imageCrop:u(a.crops[e],m,a.image),onCropUpdate:v})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeEditorTemplateImageCropperV2Container.react",["AdsCreativeContainerLayoutDataProvider","AdsCreativeEditorTemplateImageCropperV2.react","AdsCreativeEditorTemplateSelectedAspectRatiosProvider","AdsFluxHooks","AdsUEditorHooks","LoadObject","adsCreateSelector","adsCreativeEditorUnifiedTemplateToolMutationsSelectors","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=[],k=c("adsCreateSelector")([c("AdsCreativeEditorTemplateSelectedAspectRatiosProvider").toFluxSelector(),c("AdsCreativeContainerLayoutDataProvider").toFluxSelector(),d("adsCreativeEditorUnifiedTemplateToolMutationsSelectors").adsCreativeEditorTemplateToolTemplateImageCropperV2MutationSelector],function(a,b,c){a=a.selected;b=b.sidebarIndex;return{aspectRatios:a,crops:{square:c==null?void 0:c.square,vertical:c==null?void 0:c.vertical},sceneIndex:b}},{name:f.id+".selector"});function a(a){var b,e=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(k);e=e.state;b=(b=a.asset.selectedImages)!=null?b:j;var f=a.onEdit,g=a.onToggleAdvancedSettings,l=i(function(a){f({template_image_cropper_v2:a})},[f]),m=i(function(){return g(!1)},[g]);b=(b=b[(b=e.sceneIndex)!=null?b:0])!=null?b:c("LoadObject").empty();b=b.getValue();return b==null?null:h.jsx(c("AdsCreativeEditorTemplateImageCropperV2.react"),{aspectRatios:e.aspectRatios,crops:e.crops,image:b,name:a.name,onClickCollapseButton:m,onCropUpdate:l})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsTemplateImageCropperV2Plugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateImageCropperV2Container.react","AdsCreativeEditorTemplateMutateGlobalAction","AdsCreativeEditorTemplateMutateSceneAction","adsUEditorCanUseTemplateUnificationSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_image_cropper_v2",availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template]),advancedSettingsComponent:b("AdsCreativeEditorTemplateImageCropperV2Container.react"),category:"MEDIA",containerWidth:900,isCreatingNewMedia:!1,isFullScreen:!0,name:h._("Recortar"),getIcons:function(){return{active:i("798394"),normal:i("798395")}},isAvailable:function(){return c("adsUEditorCanUseTemplateUnificationSelector")},isEnabled:function(){return!0},mutateTemplate:function(a,b,d,e,f){b=a.selectedSceneIndex;d=e.template_image_cropper_v2;b!=null?c("AdsCreativeEditorTemplateMutateSceneAction").dispatch({scene:b,mutation:{template_image_cropper_v2:d}},{line:"78",module:"AdsTemplateImageCropperV2Plugin.js"}):c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{template_image_cropper_v2:d}},{line:"85",module:"AdsTemplateImageCropperV2Plugin.js"})}};e=a;g["default"]=e},98);
__d("StorifyMusicUtils",["StorifyPatchUtils"],function(a,b,c,d,e,f,g){"use strict";var h={themeID:null};function a(a){return d("StorifyPatchUtils").findPatchIndex(a,d("StorifyPatchUtils").AUDIO_PATCH_TYPE)}function b(a){a=d("StorifyPatchUtils").findPatch(a,d("StorifyPatchUtils").AUDIO_PATCH_TYPE);return a==null?null:a.type===d("StorifyPatchUtils").AUDIO_PATCH_TYPE?a:null}function c(a,b){return b==null?null:a.themes.reduce(function(a,b){return a.concat(b.audio_assets)},[]).find(function(a){return a.id===b})}function e(a){return a==null||a.editing_status==null?h:babelHelpers["extends"]({},a.editing_status.music,{DEFAULT_MUSIC_EDITING_STATUS:h})}g.findAudioPatchIndex=a;g.findAudioPatch=b;g.findAudioAssetById=c;g.getEditingStatus=e},98);
__d("AdsCreativeToolTemplateMusicToolContainer.react",["ix","AdsCreativeToolSimpleField.react","FlexLayout.react","FluxContainer","Image.react","StorifyMusicSelectAudioAction","adsCreativeToolTemplateMusicToolSelector","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return a.useDefaultThumbnail?i.jsx(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"kgzac55p dmdr2h6l trbvugp6 j94dm2s7 j32recxq p5mefues gxrezr7k",justify:"center",children:i.jsx(c("Image.react"),{src:h("784770")})}):i.jsx(c("Image.react"),{className:"kgzac55p dmdr2h6l trbvugp6 j94dm2s7 j32recxq p5mefues gxrezr7k",height:32,src:a.coverArtworkurl,width:32})}j.displayName=j.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onToggleAdvancedSettings(!0)},d.$2=function(a){a.stopPropagation(),d.props.onEdit({template_music:null}),c("StorifyMusicSelectAudioAction").dispatch({audioAsset:null},{line:"109",module:"AdsCreativeToolTemplateMusicToolContainer.react.js"}),d.props.onToggleAdvancedSettings(!1)},b)||babelHelpers.assertThisInitialized(d)}b.getStores=function(a,b){a=b.adgroupEditorContext;return c("adsCreativeToolTemplateMusicToolSelector").getStores(a)};b.calculateState=function(a,b,d){a=d.adgroupEditorContext;return c("adsCreativeToolTemplateMusicToolSelector")(a)};var d=b.prototype;d.render=function(){var a=this.state.selectedAudioAsset;return i.jsx("div",{className:"om3e55n1",children:i.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:this.props.isActive,isRequired:a!=null,text:this.props.name,thumbnail:i.jsx(j,{coverArtworkurl:a==null?void 0:a.cover_artwork_url,useDefaultThumbnail:a==null}),onClick:this.$1,onDelete:this.state.selectedAudioAsset!=null?this.$2:null})})};return b}(i.PureComponent);b=c("FluxContainer").create(a,{withProps:!0,withContext:!0});g["default"]=b},98);
__d("storifyMusicFbt",["fbt"],function(a,b,c,d,e,f,g,h){"use strict";a={happy:h._("Happy"),fierce:h._("Fierce"),energetic:h._("Energ\u00e9tica"),quirky:h._("Quirky"),romantic:h._("Romantic"),sentimental:h._("Sentimental"),inspirational:h._("Inspirational"),chill:h._("Chill"),dramatic:h._("Dramatic"),funky:h._("Funky")};g.musicThemesFbtMap=a},98);
__d("AdsCreativeToolTemplateMusicToolPanel.react",["cx","fbt","ix","AdsCreativeToolSecondaryPanelLayout.react","BUIDivider.react","FDSBaseRadioInput.react","FDSDropdownMenu.react","FlexLayout.react","FlexLayoutItem.react","Image.react","ShimButton.react","StorifyMusicSelectAudioAction","StorifyUpdateEditingStatusAction","Text","curry","emptyFunction","react","storifyMusicFbt"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=d("react").useCallback,m=i._("All Moods");function n(a){return k.jsx("div",{children:k.jsx(c("FDSDropdownMenu.react"),{items:[{type:"item",label:m,onClick:l(function(){a.onSelectTheme()},[a])}].concat(a.themes.map(function(b){return{type:"item",label:d("storifyMusicFbt").musicThemesFbtMap[b.id],onClick:c("curry")(a.onSelectTheme,b)}})),label:a.selectedTheme==null?m:d("storifyMusicFbt").musicThemesFbtMap[a.selectedTheme.id],width:"100%"})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){return k.jsx("div",{className:"_87ct",children:k.jsx("ul",{children:a.audioAssets.map(function(b){var d;d=((d=a.selectedAudioAsset)==null?void 0:d.id)===b.id;return k.jsx("li",{children:k.jsx(c("ShimButton.react"),{className:"_87cu",onClick:c("curry")(a.onSelectAudioAsset,b),children:k.jsxs(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_87cv"+(d?" _87cw":"")+" _87cu _2ph-",children:[k.jsx(c("FDSBaseRadioInput.react"),{checked:d,isDisabled:!1,size:"large",onChange:c("emptyFunction")}),k.jsx(c("Image.react"),{className:"_87cx _3-8t",height:48,src:b.cover_artwork_url,width:48}),k.jsxs(c("FlexLayoutItem.react"),{grow:1,children:[k.jsx(c("Text"),{style:{lineHeight:"120%"},children:b.title}),k.jsx(c("Text"),{style:{fontSize:10,color:"rgb(96, 103, 112)"},children:b.display_artist})]}),d?k.jsx(c("Image.react"),{src:j("519608")}):k.jsx(c("Image.react"),{src:j("483326")})]})})},b.id)})})})}o.displayName=o.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){c("StorifyUpdateEditingStatusAction").dispatch({music:{themeID:a==null?void 0:a.id}},{line:"224",module:"AdsCreativeToolTemplateMusicToolPanel.react.js"})},d.$3=function(a){d.props.onEdit({template_music:{music_audio_asset_id:a.id}}),c("StorifyMusicSelectAudioAction").dispatch({audioAsset:a},{line:"235",module:"AdsCreativeToolTemplateMusicToolPanel.react.js"})},d.$1=function(){d.props.onToggleAdvancedSettings(!1)},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.getAudioAssetsOfTheme=function(a){a=this.getTheme(a);return a==null?this.props.audioLibrary.themes.reduce(function(a,b){return a.concat(b.audio_assets)},[]):a.audio_assets};d.getTheme=function(a){return a==null?null:this.props.audioLibrary.themes.find(function(b){return b.id===a})};d.render=function(){var a=this.props.themeID,b=this.getTheme(a);a=this.getAudioAssetsOfTheme(a);return k.jsxs("div",{children:[k.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:i._("Add Music"),onClose:this.$1}),k.jsx(n,{selectedTheme:b,themes:this.props.audioLibrary.themes,onSelectTheme:this.$2}),k.jsxs("div",{className:"_87cy",children:[k.jsx(c("BUIDivider.react"),{}),k.jsx(o,{audioAssets:a,selectedAudioAsset:this.props.selectedAudioAsset,onSelectAudioAsset:this.$3})]})]})};return b}(k.Component);g["default"]=a},98);
__d("AdsCreativeToolTemplateMusicToolPanelContainer.react",["AdsCreativeToolTemplateMusicToolPanel.react","FluxContainer","adsCreativeToolTemplateMusicToolSelector","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(a,b){a=b.adgroupEditorContext;return c("adsCreativeToolTemplateMusicToolSelector").getStores(a)};b.calculateState=function(a,b,d){a=d.adgroupEditorContext;return c("adsCreativeToolTemplateMusicToolSelector")(a)};var d=b.prototype;d.render=function(){var a=this,b=this.state,d=b.audioLibraryLoadObject,e=b.editingStatus,f=b.selectedAudioAsset;return d.match({loading:function(){return h.jsx("div",{children:"loading"})},error:function(a){return h.jsx("div",{children:"error"})},loaded:function(b){return h.jsx(c("AdsCreativeToolTemplateMusicToolPanel.react"),babelHelpers["extends"]({},a.props,{audioLibrary:b,selectedAudioAsset:f,themeID:e.themeID}))}})};return b}(h.PureComponent);b=c("FluxContainer").create(a,{withProps:!0,withContext:!0});g["default"]=b},98);
__d("AdsTemplateMusicToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolTemplateMusicToolContainer.react","AdsCreativeToolTemplateMusicToolPanelContainer.react","AdsUEditorStorifyTemplateUtils","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_music",category:"OTHER",isFullScreen:!1,entryComponent:b("AdsCreativeToolTemplateMusicToolContainer.react"),advancedSettingsComponent:b("AdsCreativeToolTemplateMusicToolPanelContainer.react"),name:h._("M\u00fasica"),getIcons:function(){return{active:i("820133"),normal:i("820134")}},isEnabled:function(){return!0},isAvailable:d("AdsUEditorStorifyTemplateUtils").isTemplateToolAvailable,availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isCreatingNewMedia:!1};e=a;g["default"]=e},98);
__d("AdsCreativeEditorTemplateSettings.react",["AdsCreativeToolSecondaryPanelLayout.react","AdsTemplateUnificationStrings","FlexLayout.react","GeoDropdownMenu.react","GeoHeading.react","GeoMenuItem.react","GeoToggleButton.react","GeoToggleButtonGroup.react","GeoTooltip.react","ShowreelTemplateTransitions","objectValues","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={tooltip:{display:"b6ax4al1"}};function j(a,b,c){return c<a||c>b?!0:!1}function a(a){return h.jsxs("div",{children:[h.jsx(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:a.name,onClose:a.onClose}),h.jsxs(c("FlexLayout.react"),{align:"center",style:{marginBottom:12},children:[h.jsx(c("GeoHeading.react"),{level:4,children:d("AdsTemplateUnificationStrings").SCENE_TRANSITIONS_HEADING}),h.jsx(c("GeoTooltip.react"),{content:d("AdsTemplateUnificationStrings").SCENE_TRANSITION_TOOLTIP,xstyle:i.tooltip})]}),h.jsx(c("GeoDropdownMenu.react"),{grow:"fill",label:d("AdsTemplateUnificationStrings").SceneTransitionsLabels[a.transition],children:c("objectValues")(c("ShowreelTemplateTransitions")).map(function(b){return h.jsx(c("GeoMenuItem.react"),{label:d("AdsTemplateUnificationStrings").SceneTransitionsLabels[b],onClick:function(){return a.onChangeTransition(b)}},b)})}),h.jsxs(c("FlexLayout.react"),{align:"center",style:{marginTop:16,marginBottom:12},children:[h.jsx(c("GeoHeading.react"),{level:4,children:d("AdsTemplateUnificationStrings").DURATION_TOOL_HEADING}),h.jsx(c("GeoTooltip.react"),{content:d("AdsTemplateUnificationStrings").SCENE_DURATION_TOOLTIP,xstyle:i.tooltip})]}),h.jsxs(c("GeoToggleButtonGroup.react"),{value:a.duration,onChange:a.onChangeDuration,children:[h.jsx(c("GeoToggleButton.react"),{isDisabled:j(a.minDurationPerScene,a.maxDurationPerScene,1e3),label:"1",value:1e3}),h.jsx(c("GeoToggleButton.react"),{isDisabled:j(a.minDurationPerScene,a.maxDurationPerScene,2e3),label:"2",value:2e3}),h.jsx(c("GeoToggleButton.react"),{isDisabled:j(a.minDurationPerScene,a.maxDurationPerScene,3e3),label:"3",value:3e3}),h.jsx(c("GeoToggleButton.react"),{isDisabled:j(a.minDurationPerScene,a.maxDurationPerScene,4e3),label:"4",value:4e3}),h.jsx(c("GeoToggleButton.react"),{isDisabled:j(a.minDurationPerScene,a.maxDurationPerScene,5e3),label:"5",value:5e3})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeEditorTemplateSettingsContainer.react",["AdsCreativeEditorTemplateSettings.react","AdsFluxHooks","AdsUEditorHooks","QPLUserFlow","adsCreativeEditorTemplateSettingsContainerSelector","qpl","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=15,k=3;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(c("adsCreativeEditorTemplateSettingsContainerSelector"));b=b.state;var e=b.duration,f=b.transition,g=b.sceneCount,l=b.isMMTAdgroup;b=Math.floor(j/g)*1e3;g=Math.ceil(k/g)*1e3;var m=a.onEdit,n=a.onToggleAdvancedSettings,o=i(function(){return n(!1)},[n]),p=i(function(a){l&&c("QPLUserFlow").addPoint(c("qpl")._(270219048,"544"),"MMT_CHANGE_DURATION_IN_VCK"),m({template_settings:{transition:f,duration:a}})},[m,f,l]),q=i(function(a){l&&c("QPLUserFlow").addPoint(c("qpl")._(270219048,"544"),"MMT_CHANGE_TRANSITION_IN_VCK"),m({template_settings:{duration:e,transition:a}})},[m,e,l]);return h.jsx(c("AdsCreativeEditorTemplateSettings.react"),{duration:e,maxDurationPerScene:b,minDurationPerScene:g,name:a.name,transition:f,onChangeDuration:p,onChangeTransition:q,onClose:o})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsTemplateSettingsToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateMutateGlobalAction","AdsCreativeEditorTemplateSettingsContainer.react","adsUEditorCanUseTemplateUnificationSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_settings",advancedSettingsComponent:c("AdsCreativeEditorTemplateSettingsContainer.react"),availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template]),category:"TEMPLATE",isCreatingNewMedia:!1,name:h._("Configuraci\u00f3n"),getIcons:function(){return{active:i("1260031"),normal:i("1216857")}},isAvailable:function(){return c("adsUEditorCanUseTemplateUnificationSelector")},isEnabled:function(){return!0},mutateTemplate:function(a,b,d,e,f){a=e.template_settings;c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{template_settings:a}},{line:"69",module:"AdsTemplateSettingsToolPlugin.js"})}};b=a;g["default"]=b},98);
__d("AdsTemplateSettingsToolV2Plugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateMutateGlobalAction","AdsCreativeEditorTemplateSettingsContainer.react","adsUEditorCanUseTemplateUnificationSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_settings_v2",advancedSettingsComponent:c("AdsCreativeEditorTemplateSettingsContainer.react"),availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template]),category:"TEMPLATE",isCreatingNewMedia:!1,name:h._("Configuraci\u00f3n de la plantilla"),getIcons:function(){return{active:i("1260031"),normal:i("1216857")}},isAvailable:function(){return c("adsUEditorCanUseTemplateUnificationSelector")},isEnabled:function(){return!0},mutateTemplate:function(a,b,d,e,f){a=e.template_settings;c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{template_settings:a}},{line:"73",module:"AdsTemplateSettingsToolV2Plugin.js"})}};b=a;g["default"]=b},98);
__d("AdsCreativeToolUnifiedTemplateTextOneToolPanelContainer.react",["fbt","AdsCreativeEditorUnifiedTemplateTextOneToolContainerSelector","AdsCreativeToolSecondaryPanelLayout.react","AdsCreativeToolUnifiedTemplateTextTool.react","AdsFluxHooks","AdsUEditorHooks","AdsUniformValue","ShowreelAssetStandardFonts","VCKColorUtils","adsCreativeEditorColorUtils","color","colr","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.onToggleAdvancedSettings,e=a.onEdit;a=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(c("AdsCreativeEditorUnifiedTemplateTextOneToolContainerSelector"));a=a.state;var f=a.value;a=a.disabledFields;var g=f.text,k=f.textColor,l=f.position,m=f.font,n=f.accentColor,o=j(function(){return b(!1)},[b]),p=c("adsCreativeEditorColorUtils").getRBGAArrayFromRGBAString(n);p=c("colr").fromRgbArray(p).toHex();n=d("VCKColorUtils").getOpacityFromRGBAString(n);var q=j(function(a){return e({template_text_one:a.getValue()===""?null:babelHelpers["extends"]({},f,{text:a.getValue()===""?null:a.getValue()})})},[e,f]),r=j(function(a){if(g===null)return;e({template_text_one:babelHelpers["extends"]({},f,{position:a})})},[e,f,g]),s=j(function(a){if(g===null)return;return e({template_text_one:babelHelpers["extends"]({},f,{textColor:a.hex()})})},[e,f,g]),t=j(function(a){if(g===null)return;return e({template_text_one:babelHelpers["extends"]({},f,{font:c("ShowreelAssetStandardFonts")[a]})})},[e,f,g]),u=j(function(a){if(g===null)return;a=c("adsCreativeEditorColorUtils").getRBGAStringFromColor(a);if(a!=null)return e({template_text_one:babelHelpers["extends"]({},f,{accentColor:a})})},[e,f,g]);return i.createElement("div",null,i.createElement(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:h._("A\u00f1adir superposici\u00f3n de texto"),onClose:o}),i.createElement(c("AdsCreativeToolUnifiedTemplateTextTool.react"),{backgroundColor:c("color")(p).alpha(n/100),disabledFields:a,font:m,position:l,text:new(c("AdsUniformValue"))((o=g)!=null?o:""),textColor:c("color")(k),onBackgroundColorChange:u,onColorChange:s,onFontChange:t,onPositionChange:r,onTextChange:q}))}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsTemplateTextOneToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateMutateSceneAction","AdsCreativeToolUnifiedTemplateTextOneToolPanelContainer.react","AdsTemplateUnificationUtils","immutable","unrecoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_text_one",category:"OTHER",name:h._("Superposici\u00f3n de texto"),isCreatingNewMedia:!1,getIcons:function(){return{active:i("820133"),normal:i("820130")}},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template]),isEnabled:d("AdsTemplateUnificationUtils").canUseAdsTemplateUnification,isAvailable:function(){return!1},advancedSettingsComponent:c("AdsCreativeToolUnifiedTemplateTextOneToolPanelContainer.react"),mutateTemplate:function(a,b,d,e,f){b=e.template_text_one;d=a.selectedSceneIndex;if(d!=null)c("AdsCreativeEditorTemplateMutateSceneAction").dispatch({scene:d,mutation:{template_text_one:b}},{line:"70",module:"AdsTemplateTextOneToolPlugin.js"});else throw c("unrecoverableViolation")("text overlay mutations should be set only at scene level","ads_cx_pac")}};b=a;g["default"]=b},98);
__d("AdsCreativeToolTemplateTextTool.react",["fbt","AdsCreativeToolTemplateGenericTextToolContainer.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Escribe una descripci\u00f3n breve para informar a las personas sobre tu promoci\u00f3n.");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsx("div",{"data-testid":void 0,children:i.jsx(c("AdsCreativeToolTemplateGenericTextToolContainer.react"),babelHelpers["extends"]({label:this.props.name,textField:"caption",tooltip:j},this.props))})};return b}(i.Component);g["default"]=a},98);
__d("AdsTemplateTextToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolTemplateTextTool.react","AdsPlacementAssetUtils","AdsUEditorStorifyTemplateUtils","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").List();a={type:"creative/tools",key:"template_text",containerWidth:920,category:"TEXT",isFullScreen:!1,entryComponent:c("AdsCreativeToolTemplateTextTool.react"),advancedSettingsComponent:c("AdsCreativeToolTemplateTextTool.react"),name:h._("Principal"),getIcons:function(){return{active:i("820133"),normal:i("820134")}},isEnabled:function(){return!0},mutatePACAdgroup:function(a,b,c,e,f){c=a.adgroupIDs;a=e.text_asset;e=b==null?void 0:b.assetGroups;b=e!=null?d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(e):j;c!=null&&b!=null&&a!=null&&a.action&&d("AdsPlacementAssetUtils").editBodyCustomization(f,c,b,a.action,a.assetIndex,a.assetValue)},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isAvailable:d("AdsUEditorStorifyTemplateUtils").isTemplateToolAvailable,isCreatingNewMedia:!1};b=a;g["default"]=b},98);
__d("AdsTemplateTextTwoToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateMutateSceneAction","AdsCreativeToolUnifiedTemplateTextTwoToolPanelContainer.react","AdsTemplateUnificationUtils","immutable","unrecoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"template_text_two",category:"OTHER",name:h._("Superposici\u00f3n de texto"),isCreatingNewMedia:!1,getIcons:function(){return{active:i("820133"),normal:i("820130")}},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template]),isEnabled:d("AdsTemplateUnificationUtils").canUseAdsTemplateUnification,isAvailable:function(){return!1},advancedSettingsComponent:c("AdsCreativeToolUnifiedTemplateTextTwoToolPanelContainer.react"),mutateTemplate:function(a,b,d,e,f){b=e.template_text_two;d=a.selectedSceneIndex;if(d!=null)c("AdsCreativeEditorTemplateMutateSceneAction").dispatch({scene:d,mutation:{template_text_two:b}},{line:"70",module:"AdsTemplateTextTwoToolPlugin.js"});else throw c("unrecoverableViolation")("text overlay mutations should be set only at scene level","ads_cx_pac")}};b=a;g["default"]=b},98);
__d("AdsCreativeToolUnifiedTemplatePrimaryTextToolPanelContainer.react",["fbt","AdsBulkMentionsInput.react","AdsCreativeEditorUnifiedTemplateToolPrimaryTextContainerSelector","AdsCreativeToolSecondaryPanelLayout.react","AdsFluxHooks","AdsLabeledField.react","AdsPlacementEditorColorPicker.react","AdsUEditorHooks","AdsUEditorUnifiedTemplateShowreelFontSelector.react","AdsUniformValue","GeoHeading.react","ShowreelAssetStandardFonts","color","geoMargin","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={primaryTextInput:{flexGrow:"cgu29s5g"}},l=45,m={placeholder:h._("Explica a los dem\u00e1s de qu\u00e9 trata tu anuncio")},n=h._("Editar texto principal"),o=h._("Escribe una descripci\u00f3n breve para informar a las personas sobre tu promoci\u00f3n.");function p(a,b){var c=Object.keys(a).find(function(c){return a[c]===b});return c!=null?c:"Archivo Black"}function a(a){var b=a.onToggleAdvancedSettings,e=a.name,f=a.onEdit;a=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(c("AdsCreativeEditorUnifiedTemplateToolPrimaryTextContainerSelector"));a=a.state;var g=a.value,q=g.text,r=g.textColor,s=g.font,t=g.accentColor;g=a.disabledFields;a=new(c("AdsUniformValue"))(q);var u=j(function(){return b(!1)},[b]),v=j(function(a){return f({text_asset:{text:a.getValue()===""?null:a.getValue(),accentColor:t,font:s,position:null,textColor:r,isUnifiedTemplateChange:!0}})},[f,t,s,r]),w=j(function(a){return f({text_asset:{text:q,accentColor:t,font:c("ShowreelAssetStandardFonts")[a],position:null,textColor:r,isUnifiedTemplateChange:!0}})},[f,q,r,t]),x=j(function(a){return f({text_asset:{text:q,accentColor:t,font:s,position:null,textColor:a.hex(),isUnifiedTemplateChange:!0}})},[f,t,q,s]),y=j(function(a){return f({text_asset:{text:q,accentColor:a.hex(),font:s,position:null,textColor:r,isUnifiedTemplateChange:!0}})},[f,r,q,s]);return i.createElement("div",null,i.createElement("div",{className:c("stylex")(c("geoMargin").bottom8)},i.createElement(c("AdsCreativeToolSecondaryPanelLayout.react").TitleRow,{title:n,onClose:u})),i.createElement("div",{className:c("stylex")(c("geoMargin").bottom24)},i.createElement(c("AdsLabeledField.react"),{helpText:o,label:e},i.createElement(c("AdsBulkMentionsInput.react"),{"data-testid":void 0,maxLength:l,multiline:!0,placeholder:m.placeholder,value:a,xstyle:k.primaryTextInput,onChange:v}))),i.createElement("div",{className:c("stylex")(c("geoMargin").bottom24)},i.createElement(c("AdsUEditorUnifiedTemplateShowreelFontSelector.react"),{value:p(c("ShowreelAssetStandardFonts"),s),onChange:w})),i.createElement("div",{className:c("stylex")(c("geoMargin").bottom24)},i.createElement(c("GeoHeading.react"),{level:4,xstyle:c("geoMargin").bottom4},h._("Color del texto")),i.createElement(c("AdsPlacementEditorColorPicker.react"),{color:c("color")(r),onChange:x})),!g.includes("accent")&&i.createElement("div",{className:c("stylex")(c("geoMargin").bottom24)},i.createElement(c("GeoHeading.react"),{level:4,xstyle:c("geoMargin").bottom4},h._("Color de \u00e9nfasis")),i.createElement(c("AdsPlacementEditorColorPicker.react"),{color:c("color")(t),onChange:y})))}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsDeliveryDeadLinksRecord",["ImmutableRecordWithV4Types"],function(a,b,c,d,e,f,g){"use strict";a=d("ImmutableRecordWithV4Types").Record({adgroupID:"",urls:[],assetKeys:[],field:"",path:[],searchKey:""});g.AdsDeliveryDeadLinksRecord=a},98);
__d("AdsCreativeEditorPACCarouselMediaValidatorPlugin",["errorCode","errorDesc","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsCreativeEditorValidationUtils","AdsError","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b,d){return new(c("AdsError"))(1443225,i._(function(a,b){return a._("No se ha establecido un v\u00eddeo ni una imagen para el archivo dependiente de la secuencia. Edita el contenido del anuncio y vuelve a intentarlo.")},{}),{assetKeys:d,field:"media_asset",level:c("AdsError").Level.WARN,path:[].concat(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,[a,"child_attachments",b])})}a={type:"creative_editor/validation",key:"pac/carousel",shouldValidate:function(a){return d("AdsAssetFeedUtils").hasCarouselFormat(a)},validate:function(a){var b=[];a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.carousels;if(a==null)return b;a.forEach(function(a,e){var f=d("AdsCreativeEditorValidationUtils").getAdlabelsNames(a.get("adlabels")).toArray();a=a.get("child_attachments");a instanceof c("immutable").Collection&&a.forEach(function(a,c){a.get("image_label")==null&&a.get("video_label")==null&&b.push(j(e,c,f))})});return b}};b=a;g["default"]=b},98);
__d("AdsCreativeEditorPACCarouselURLValidatorPlugin",["errorCode","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsCreativeEditorValidationUtils","AdsError","ads-lib-urllib","adsErrorDesc","immutable","isFalsey"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,d){return new(c("AdsError"))(1443135,c("adsErrorDesc")._(function(a,b){return a._("La tarjeta de la secuencia {childIndex} no tiene destino. Introduce la URL de un sitio web para cada tarjeta de la secuencia.",[a._param("childIndex",b.childIndex)])},{childIndex:b+1}),{assetKeys:d,field:"url_asset",path:[].concat(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,[a,"child_attachments",b])})}function j(a,b,d,e){return new(c("AdsError"))(2061006,c("adsErrorDesc")._(function(a,b){return a._("La URL que has introducido ({link}) no dirige a un sitio web. Comprueba la URL del sitio web y vuelve a intentarlo.",[a._param("link",b.link)])},{link:d}),{assetKeys:e,field:"url_asset",path:[].concat(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,[a,"child_attachments",b])})}a={type:"creative_editor/validation",key:"pac/carouselUrl",shouldValidate:function(a){return d("AdsAssetFeedUtils").hasCarouselFormat(a)},validate:function(a){var b,e=[];b=(b=a.creative)==null?void 0:(b=b.asset_feed_spec)==null?void 0:b.carousels;a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.link_urls;if(b==null||a==null)return e;var f=a.reduce(function(a,b){var d=b.get("adlabels");d instanceof c("immutable").Collection&&d.forEach(function(c){c=c.get("name");if(c==null)return;a[c]=b});return a},{});b.forEach(function(a,b){var g=a.get("child_attachments"),h=d("AdsCreativeEditorValidationUtils").getAdlabelsNames(a.get("adlabels")).toArray();g instanceof c("immutable").Collection&&g.forEach(function(a,d){a=a==null?void 0:(a=a.get("link_url_label"))==null?void 0:a.get("name");if(a==null)return;a=(a=f[a])==null?void 0:a.get("website_url");c("isFalsey")(a)?e.push(i(b,d,h)):typeof a==="string"&&!c("ads-lib-urllib").isUrl(a)&&e.push(j(b,d,a,h))})});return e}};b=a;g["default"]=b},98);
__d("AdsCreativeEditorPACMediaValidatorPlugin",["errorCode","errorDesc","AdsAPIAdgroupPaths","AdsAdAssetSelectorTypes","AdsAssetFeedUtils","AdsError","AdsPlacementAssetSelectorLabels","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b,e,f){b=d("AdsPlacementAssetSelectorLabels").getLabelForAssetCustomizationGroup(b);f={assetKeys:f,field:"media_asset",path:[].concat(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,[e])};return a===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image?new(c("AdsError"))(1699043,i._(function(a,b){return a._("Para que sea posible la entrega en {placement}, el contenido multimedia de esta ubicaci\u00f3n deber ser un v\u00eddeo.",[a._param("placement",b.placement)])},{placement:b}),f):new(c("AdsError"))(1699042,i._(function(a,b){return a._("Para que sea posible la entrega en {placement}, sustituye el contenido multimedia de esta ubicaci\u00f3n por una imagen.",[a._param("placement",b.placement)])},{placement:b}),f)}a={type:"creative_editor/validation",key:"pac/singleMedia",shouldValidate:function(a){return d("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&!d("AdsAssetFeedUtils").hasCarouselFormat(a)},validate:function(a,b,c){b===void 0&&(b=!1);var e=[];c=(c=a.creative)==null?void 0:(a=c.asset_feed_spec)==null?void 0:a.asset_customization_rules;if(c==null)return e;c.forEach(function(a,c){var f=d("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(a);if(f.size===1){f=d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(f).first();var g=b&&d("AdsPlacementAssetUtils").ASSET_GROUPS_THAT_SUPPORT_ONLY_VIDEO.includes(f)?f==="INSTAGRAM_IGTV":!1;if(a.has("image_label")&&d("AdsPlacementAssetUtils").getVideoOnlyAssetGroups().includes(f)&&!g){g=a.getIn(["image_label","name"]);e.push(j(d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,f,c,[g]))}if(a.has("video_label")&&d("AdsPlacementAssetUtils").ASSET_GROUPS_THAT_SUPPORT_ONLY_IMAGE.includes(f)){g=a.getIn(["video_label","name"]);e.push(j(d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video,f,c,[g]))}}});return e}};b=a;g["default"]=b},98);
__d("AdsCreativeEditorPACURLValidatorPlugin",["errorCode","errorDesc","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsCreativeEditorValidationUtils","AdsError","AdsPlacementAssetTargetingRuleUtils","ads-lib-urllib","adsErrorDesc","isFalsey"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b,d){return new(c("AdsError"))(2061006,c("adsErrorDesc")._(function(a,b){return a._("La URL que has introducido ({link}) no dirige a un sitio web. Comprueba la URL del sitio web y vuelve a intentarlo.",[a._param("link",b.link)])},{link:a}),{assetKeys:d,field:"url_asset",path:[].concat(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,[b])})}function k(a,b){return new(c("AdsError"))(2061027,i._(function(a,b){return a._("El campo del enlace es obligatorio. A\u00f1ade una URL para continuar.")},{}),{assetKeys:b,field:"url_asset",path:[].concat(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,[a])})}function l(a,b,d){return new(c("AdsError"))(2061028,i._(function(a,b){return a._("URL \"{link}\" is not well formatted or not valid. Enter a valid URL.",[a._param("link",b.link)])},{link:a}),{assetKeys:d,field:"url_asset",path:[].concat(c("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,[b])})}a={type:"creative_editor/validation",key:"pac/url",shouldValidate:function(a){return d("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&!d("AdsAssetFeedUtils").hasCarouselFormat(a)},validate:function(a){var b,e=[];b=(b=a.creative)==null?void 0:(b=b.asset_feed_spec)==null?void 0:b.link_urls;a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.asset_customization_rules;if(b==null||b.size===0||a==null)return e;var f=d("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRuleLabelFromTargetingRules(a,"link_url_label");b.forEach(function(a,b){var g=d("AdsCreativeEditorValidationUtils").getAdlabelsNames(a==null?void 0:a.get("adlabels")).toArray();if(g.includes(f))return;var h=a==null?void 0:a.get("website_url");a=a==null?void 0:a.get("display_url");c("isFalsey")(h)?e.push(k(b,g)):typeof h==="string"&&!c("ads-lib-urllib").isUrl(h)&&e.push(j(h,b,g));typeof a==="string"&&!c("isFalsey")(a)&&!c("ads-lib-urllib").isUrl(a)&&e.push(l(a,b,g))});return e}};b=a;g["default"]=b},98);
__d("ShowreelContentValidator",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.checkIsNotNull=function(a,b){a==null&&this.$1.push({$2:"NonNullValidationFailure",path:b,message:"Received nullish content which should not be"})};b.hasFailures=function(){return this.$1.length>0};b.getFailures=function(){return this.$1};return a}();f["default"]=a},66);
__d("AdsCreativeToolUnifiedTemplatePrimaryTextToolEntry.react",["fbt","ix","AdsCreativeToolSimpleField.react","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.onToggleAdvancedSettings,d=k(function(){return b(!0)},[b]);return j.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:a.isActive,isRequired:!0,leftIconAsset:{normal:i("1286644"),active:i("1286645")},text:h._("Texto principal"),onClick:d,onDelete:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsTextAssetToolPlugin",["fbt","ix","AdsAPIObjectives","AdsAdAssetSelectorTypes","AdsCreativeEditorProvider","AdsCreativeEditorTemplateMutateGlobalAction","AdsCreativeToolBodyTextContainer.react","AdsCreativeToolBodyTextEntryComponent.react","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementEditorEvents","AdsPlacementEditorLogger","ApiDynamicCreativeOptimizationTypes","adsCreateSelector","adsUEditorAdgroupOptimizationTypeSelector","adsUEditorStorifyIsTemplateSelectedSelector","first","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").List();b=(a={},a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.INSTAGRAM_STREAM]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.INSTAGRAM_STORY]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.INSTAGRAM_EXPLORE]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.INSTAGRAM_REELS]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.INSTAGRAM_SHOP]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_FEED]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_STORY]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_REELS]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_REELS_OVERLAY]=!1,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_BIZ_DISCO_FEED]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.AUDIENCE_NETWORK_CLASSIC]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.AUDIENCE_NETWORK_INSTREAM_VIDEO]=!1,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.AUDIENCE_NETWORK_REWARDED_VIDEO]=!1,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_INSTREAM]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_MARKETPLACE]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_RHC]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_INSTANT_ARTICLE]=!1,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.MESSENGER_STORY]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.MESSENGER_INBOX]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.SUGGESTED_VIDEO]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.WHATSAPP_STATUS]=!0,a[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.VIDEO_FEEDS]=!0,a);var k=b,l=babelHelpers["extends"]({},b,(e={},e[d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.FACEBOOK_INSTANT_ARTICLE]=!0,e)),m=new Set([c("AdsAPIObjectives").STORE_VISITS]);a={type:"creative/tools",key:"text_asset",containerWidth:920,category:"TEXT",isFullScreen:!1,entryComponent:c("AdsCreativeToolBodyTextEntryComponent.react"),advancedSettingsComponent:c("AdsCreativeToolBodyTextContainer.react"),name:h._("Principal"),getIcons:function(){return{active:i("820133"),normal:i("820134")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel]),isAvailable:function(a,b,e){return c("adsCreateSelector")([c("AdsCreativeEditorProvider").toFluxSelector(),c("adsUEditorAdgroupOptimizationTypeSelector"),c("adsUEditorStorifyIsTemplateSelectedSelector")],function(f,g,h){f=f.isBaseAsset;if(e==null)return!1;if(f&&a.asset.format!==d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel)return!1;f=e.assetGroups;if(f==null)return!1;var i=b.selectedCampaignGroupsSelector(),j=a.asset.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image&&f.some(function(a){return l[a]===!0});f=a.asset.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video&&f.some(function(a){return k[a]===!0});g=g===c("ApiDynamicCreativeOptimizationTypes").PLACEMENT;i=i.every(function(a){return!m.has(a.objective)});return(j||f)&&g&&h===!1&&i},{name:f.id})},isCreatingNewMedia:!1,mutateTemplate:function(a,b,d,e,f){a=e.text_asset;a&&a.isUnifiedTemplateChange&&c("AdsCreativeEditorTemplateMutateGlobalAction").dispatch({mutation:{text_asset:{text:a.text,textColor:a.textColor,accentColor:a.accentColor,font:a.font,position:null}}},{line:"194",module:"AdsTextAssetToolPlugin.js"})},mutatePACAdgroup:function(a,b,e,f,g,h){a=a.adgroupIDs;f=f.text_asset;b=b==null?void 0:b.assetGroups;var i=b!=null?d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(b):j;if(a!=null&&b!=null&&f&&f.action){d("AdsPlacementEditorLogger").logEvent(d("AdsPlacementEditorEvents").PlacementEditorEvents.PLACEMENT_EDITOR_TEXT_CUSTOMIZE,c("first")(a)||"",d("AdsPlacementAssetUtils").getMediaFormat(e==null?void 0:(e=e.asset)==null?void 0:e.format),b,h);d("AdsPlacementAssetUtils").editBodyCustomization(g,a,i,f.action,f.assetIndex,f.assetValue)}}};b=a;g["default"]=b},98);
__d("AdsUrlAssetChangeSet",["$InternalEnum"],function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["CHANGE_ASSET","REMOVE_ASSET"]);f.AdsUrlAssetChangeSetActions=a},66);
__d("AdsUrlAssetToolPlugin",["fbt","ix","AdsAPIObjectives","AdsAdAssetSelectorTypes","AdsPlacementAssetUtils","AdsUEditorAdgroupPACEditCarouselCardDetailAction","AdsUEditorCreativeToolUrlAdvancedSettingsContainer.react","AdsWebAndApp3COUtils","adsCreateSelector","adsUEditorShowDestinationAssetToolSelector","immutable","isStringNullOrWhitespaceOnly","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("immutable").List(),k=(a={},a[c("AdsAPIObjectives").APP_INSTALLS]=!1,a[c("AdsAPIObjectives").LEAD_GENERATION]=!1,a[c("AdsAPIObjectives").MESSAGES]=!1,a[c("AdsAPIObjectives").STORE_VISITS]=!1,a);b={type:"creative/tools",key:"url_asset",category:"TEXT",isFullScreen:!1,advancedSettingsComponent:c("AdsUEditorCreativeToolUrlAdvancedSettingsContainer.react"),name:h._("Destino"),getIcons:function(){return{active:i("537286"),normal:i("491372"),error:i("1265788"),warning:i("192480")}},isEnabled:function(a){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.post,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a,b,e){a=d("adsUEditorShowDestinationAssetToolSelector").getAdsUEditorShowDestinationAssetToolSelector(b,e,k);return c("adsCreateSelector")([a],function(a){var c=b.selectedCampaignGroupsSelector(),e=b.selectedCampaignsSelector(),f=b.selectedAdAccountSelector();return a&&!d("AdsWebAndApp3COUtils").is3COPACAllowed(c[0],e[0],f)},{name:f.id})},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,e,f,g,h){e=a.adgroupIDs;h=f.url_asset;if((b==null?void 0:b.carousel)!=null){f=null;var i=b.assetKey,k=b.carousel.index;if(h!=null&&h.website_url!=null)f=c("isStringNullOrWhitespaceOnly")(h.deeplink_url)?{website_url:h.website_url}:{deeplink_url:h.deeplink_url,website_url:h.website_url};else{c("recoverableViolation")("Should have an url asset with website_url to update carousel card","ads_cx_pac");return}c("AdsUEditorAdgroupPACEditCarouselCardDetailAction").dispatch({hostID:g,adgroupIDs:a.adgroupIDs,carouselLabel:i,cardIndex:k,assetField:"link_urls",asset:f},{line:"162",module:"AdsUrlAssetToolPlugin.js"});return}a=b==null?void 0:b.assetGroups;i=a!=null?d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(a):j;e!=null&&i!=null&&h!=null&&(h.website_url!=null&&d("AdsPlacementAssetUtils").editWebsiteUrlCustomization(g,e,i,h.website_url),h.display_url!=null&&d("AdsPlacementAssetUtils").editDisplayUrlCustomization(g,e,i,h.display_url))},tab_testid:"ads-creative-tools-url-component"};e=b;g["default"]=e},98);
__d("AdsUrlWebAndAppAssetToolPlugin",["AdsAPIObjectives","AdsAdAssetSelectorTypes","AdsPlacementAssetUtils","AdsUrlAssetToolPlugin","AdsWebAndApp3COUtils","adsCreateSelector","adsUEditorShowDestinationAssetToolSelector","immutable"],function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").List(),i=(a={},a[c("AdsAPIObjectives").APP_INSTALLS]=!1,a[c("AdsAPIObjectives").LEAD_GENERATION]=!1,a[c("AdsAPIObjectives").MESSAGES]=!1,a[c("AdsAPIObjectives").STORE_VISITS]=!1,a);b=babelHelpers["extends"]({},c("AdsUrlAssetToolPlugin"),{type:"creative/tools",key:"pac_url_asset",category:"DESTINATION",availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isEnabled:function(a){return!0},isAvailable:function(a,b,e){a=d("adsUEditorShowDestinationAssetToolSelector").getAdsUEditorShowDestinationAssetToolSelector(b,e,i);return c("adsCreateSelector")([a],function(a){var c=b.selectedCampaignGroupsSelector(),e=b.selectedCampaignsSelector(),f=b.selectedAdAccountSelector();return a&&d("AdsWebAndApp3COUtils").is3COPACAllowed(c[0],e[0],f)},{name:f.id})},mutatePACAdgroup:function(a,b,c,e,f,g){c=a.adgroupIDs;g=e.url_asset;a=b==null?void 0:b.assetGroups;e=a!=null?d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(a):h;c!=null&&e!=null&&g!=null&&(g.website_url!=null&&d("AdsPlacementAssetUtils").editWebsiteUrlCustomization(f,c,e,g.website_url,!0),g.display_url!=null&&d("AdsPlacementAssetUtils").editDisplayUrlCustomization(f,c,e,g.display_url,!0),((g==null?void 0:g.android_url)!=null||(g==null?void 0:g.ios_url)!=null)&&d("AdsPlacementAssetUtils").editOmnichannelDestinationCustomization(f,c,e,g.ios_url,g.android_url))}});e=b;g["default"]=e},98);
__d("AdsVideoAssetToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeContainerAvailabilitySelectors","AdsPlacementEditorEvents","AdsPlacementEditorLogger","AdsUEditorAdgroupUpdateCustomizationVideoDataAction","AdsUEditorVideoAssetToolPanelContainer.react","AdsVideoActions","first","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"video_asset",tab_testid:"creative_container_video_media_change_tab",containerWidth:920,name:h._("Cambiar"),getIcons:function(){return{active:i("571393"),normal:i("557840")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(){return d("AdsCreativeContainerAvailabilitySelectors").adsVideoAssetToolAvailabilitySelector},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,e,f,g,h){e=a.adgroupIDs;a=b==null?void 0:b.assetKey;f=f.video_asset;if(f!=null&&a!=null){f=f.videoID;a!=null&&f!=null&&(c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({hostID:g,adgroupIDs:e,isBaseAsset:!1,label:a,videoID:f},{line:"89",module:"AdsVideoAssetToolPlugin.js"}),d("AdsPlacementEditorLogger").logEvent(d("AdsPlacementEditorEvents").PlacementEditorEvents.PLACEMENT_EDITOR_VIDEO_CUSTOMIZE,c("first")(e)||"","VIDEO",b==null?void 0:b.assetGroups,h))}},onCancelDialog:function(a,b){d("AdsVideoActions").cancelUploads(b.videoUploadIDs.toArray())},category:"MEDIA",isFullScreen:!1,advancedSettingsComponent:b("AdsUEditorVideoAssetToolPanelContainer.react")};e=a;g["default"]=e},98);
__d("AdsVideoBackgroundColorToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsPlacementEditorBackgroundColorUtils","AdsUEditorAdgroupSetCustomizationMediaBackgroundColorDataAction","AdsUEditorCreativeToolBackgroundColorAdvancedSettingsContainer.react","immutable","killswitch"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"video_background_color",category:"OTHER",isFullScreen:!1,advancedSettingsComponent:c("AdsUEditorCreativeToolBackgroundColorAdvancedSettingsContainer.react"),containerWidth:920,name:h._("Color de fondo"),getIcons:function(){return{active:i("848844"),normal:i("848846")}},isEnabled:function(a){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a){var b=a.asset;return b.format!=="video"?!1:d("AdsPlacementEditorBackgroundColorUtils").isBackgroundColorAvailableForAsset(b)&&a.placements.size>=1&&a.placements.every(function(a){return(a.platform==="facebook"||a.platform==="instagram"||a.platform==="messenger"&&!c("killswitch")("ADS_PAC_BACKGROUND_COLOR_MESSENGER_STORIES"))&&a.position==="story"||a.platform==="instagram"&&a.position==="reels"})},isCreatingNewMedia:!1,mutatePACAdgroup:function(a,b,e,f,g){b=f.video_background_color;if(b!=null&&e!=null&&e.assetKey!=null&&e.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor){f=b.backgroundColor;c("AdsUEditorAdgroupSetCustomizationMediaBackgroundColorDataAction").dispatch({adgroupIDs:a.adgroupIDs,hostID:g,backgroundColor:f?d("AdsPlacementEditorBackgroundColorUtils").toAPIBackgroundColor(f):null,format:d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video,label:e.assetKey,mediaFormat:"VIDEO"},{line:"116",module:"AdsVideoBackgroundColorToolPlugin.js"})}}};b=a;g["default"]=b},98);
__d("AdsVideoCaptionsChangeSet",["keyMirror"],function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({CHANGE_AUTO_CAPTION:null,REMOVE_CAPTION:null,SET_DEFAULT_CAPTION:null,UPLOAD_CAPTION:null,UPLOAD_CAPTIONS:null});g.AdsVideoCaptionsChangeSetActions=a},98);
__d("AdsVideoCaptionsToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsPlacementEditorLogger","AdsPlatformTypes","AdsUEditorAdgroupSetCaptionIDsDataAction","AdsUEditorAdgroupSetChildCaptionIDsDataAction","AdsUEditorAdgroupSetVideoCaptionIDsAtIndexDataAction","AdsUEditorAdgroupSetVideoCaptionIDsForLabelDataAction","AdsUEditorVideoCaptionsToolAdvancedSettingsContainer.react","AdsVideoCaptionsChangeSet","AdsVideoRemoveVideoCaptionDataAction","AdsVideoSetDefaultCaptionDataAction","AdsVideoUploadCaptionDataAction","AdsVideoUploadCaptionsDataAction","VideoCaptionEditorActions","adsCreativeContainerMediaFormatForPlacements","first","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={onAutoCaptionChange:function(a,b,d){switch(b.parentContainer){case c("AdsCreativeToolParentContainerType").VideoPlacementEditor:b.assetIndex!=null&&c("AdsUEditorAdgroupSetChildCaptionIDsDataAction").dispatch({captionIDs:a,hostID:d,adgroupIDs:b.adgroupIDs,index:b.assetIndex},{line:"65",module:"AdsVideoCaptionsToolPlugin.js"});b.assetKey!=null&&c("AdsUEditorAdgroupSetVideoCaptionIDsForLabelDataAction").dispatch({adgroupIDs:b.adgroupIDs,captionIDs:a,hostID:d,label:b.assetKey},{line:"73",module:"AdsVideoCaptionsToolPlugin.js"});break;case c("AdsCreativeToolParentContainerType").VideoRegularAdgroupAssetEditor:c("AdsUEditorAdgroupSetCaptionIDsDataAction").dispatch({adgroupIDs:b.adgroupIDs,captionIDs:a,hostID:d,platform:b.isBaseAsset===!0?c("AdsPlatformTypes").DEFAULT_PLATFORM:c("AdsPlatformTypes").INSTAGRAM},{line:"82",module:"AdsVideoCaptionsToolPlugin.js"});break;case c("AdsCreativeToolParentContainerType").VideoDCOAdgroupAssetEditor:var e=b.assetIndex;e!=null&&e>=0&&c("AdsUEditorAdgroupSetVideoCaptionIDsAtIndexDataAction").dispatch({hostID:d,adgroupIDs:b.adgroupIDs,assetIndex:e,captionIDs:a},{line:"96",module:"AdsVideoCaptionsToolPlugin.js"});break}},onRemoveCaption:function(a,b,d,e,f){var g=e.asset;if(g==null||g.format!=="video")return;if(b===!0&&d!=null&&g.captionIDs!=null){b=g.captionIDs.filter(function(a){return a!==d});j.onAutoCaptionChange(b,e,f)}c("AdsVideoRemoveVideoCaptionDataAction").dispatch({locale:a,videoID:g.video.id},{line:"131",module:"AdsVideoCaptionsToolPlugin.js"})},onSetDefaultCaption:function(a,b){b=b.asset;b!=null&&b.format==="video"&&c("AdsVideoSetDefaultCaptionDataAction").dispatch({locale:a,videoID:b.video.id},{line:"143",module:"AdsVideoCaptionsToolPlugin.js"})},onUploadCaption:function(a,b){b=b.asset;if(b==null||b.format!=="video")return;c("AdsVideoUploadCaptionDataAction").dispatch({videoID:b.video.id,fileInput:a},{line:"158",module:"AdsVideoCaptionsToolPlugin.js"})},onUploadCaptions:function(a,b,d,e,f){f=f.asset;f!=null&&f.format==="video"&&c("AdsVideoUploadCaptionsDataAction").dispatch({captionFiles:a,defaultLocale:d,localesToRemove:b,callback:e,videoID:f.video.id},{line:"172",module:"AdsVideoCaptionsToolPlugin.js"})}};function k(a,b,c,e,f){if(e==null||c==null)return;switch(e.action){case d("AdsVideoCaptionsChangeSet").AdsVideoCaptionsChangeSetActions.CHANGE_AUTO_CAPTION:j.onAutoCaptionChange(e.captionIDs,c,f);break;case d("AdsVideoCaptionsChangeSet").AdsVideoCaptionsChangeSetActions.REMOVE_CAPTION:j.onRemoveCaption(e.locale,e.shouldRemoveFromAd,e.captionID,c,f);break;case d("AdsVideoCaptionsChangeSet").AdsVideoCaptionsChangeSetActions.SET_DEFAULT_CAPTION:j.onSetDefaultCaption(e.locale,c);break;case d("AdsVideoCaptionsChangeSet").AdsVideoCaptionsChangeSetActions.UPLOAD_CAPTION:j.onUploadCaption(e.fileInput,c);break;case d("AdsVideoCaptionsChangeSet").AdsVideoCaptionsChangeSetActions.UPLOAD_CAPTIONS:j.onUploadCaptions(e.captionFiles,e.localesToRemove,e.defaultLocale,e.callback,c);break}}a={type:"creative/tools",key:"video_captions",category:"TEXT",isFullScreen:!0,advancedSettingsComponent:b("AdsUEditorVideoCaptionsToolAdvancedSettingsContainer.react"),name:h._("Subt\u00edtulos"),getIcons:function(){return{active:i("590999"),normal:i("591000")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a){var b=a.placements.size>0&&a.placements.every(function(a){var b=a.platform;a=a.position;return b==="instagram"&&a==="reels"});return b?!1:a.asset.format==="video"&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("video")},isCreatingNewMedia:!1,mutateDCOAdgroup:function(a,b,c,d,e){d=d.video_captions;k(a,b,c,d,e)},mutatePACAdgroup:function(a,b,e,f,g,h){f=f.video_captions;k(a,b,e,f,g);e=a.adgroupIDs;d("AdsPlacementEditorLogger").logVideoCaptionsCustomizeEvent(c("first")(e)||"",b==null?void 0:b.assetGroups,h)},mutateDLOAdgroup:function(a,b,c,d,e,f){f=d.video_captions;k(a,b,c,f,e)},mutateRegularAdgroup:function(a,b,c,d,e){d=d.video_captions;k(a,b,c,d,e)},onConfirmDialog:function(a,b){a=b.draftChanges;if(a==null)return;b=a.video_captions;(b==null?void 0:b.action)===d("AdsVideoCaptionsChangeSet").AdsVideoCaptionsChangeSetActions.CHANGE_AUTO_CAPTION&&d("VideoCaptionEditorActions").setCaptionToPublish()},tab_testid:"creative_container_video_captions_tab"};e=a;g["default"]=e},98);
__d("AdsCreativeContainerOptionToggler.react",["AdsVideoCreationEditorLogger","FlexLayout.react","GeoBaseText.react","GeoTooltip.react","curry","geoMargin","joinClasses","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function j(a,b,c){c===void 0&&(c={selectedColor:"info",disabledColor:"placeholder",color:"value"});c=c;var d=c.selectedColor,e=c.disabledColor;c=c.color;return a?d:b?e:c}function k(a,b){return a?b?a.primaryIcon:a.secondaryIcon:null}var l={option:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",flexGrow:"cgu29s5g",flexShrink:"i15ihif8",flexBasis:"jg3vgc78",overflowX:"lq84ybu9",overflowY:"hf30pyar",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",position:"om3e55n1",userSelect:"f14ij5to",whiteSpace:"qm54mken",zIndex:"l38y3qj3",cursor:"fsf7x5fv",":focus":{outline:"th8rvtx1"},":active":{outline:"ccy3l8wq"}},optionSelected:{cursor:"h0tt21zz"},optionDisabled:{cursor:"t45fpzwc"},toggler:{backgroundColor:"gpd1tnev",borderTop:"r3z5b2kb",borderEnd:"gkq0hmlw",borderBottom:"bi11l3vo",borderStart:"phjv5i9z",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",boxSizing:"bdao358l",position:"om3e55n1",zIndex:"b0ur3jhr"},selector:{backgroundColor:"jjseejtz",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",bottom:"z6erz7xo",start:"myo4itp8",position:"s8sjc6am",top:"ekq1a7f9",zIndex:"j7qd3pol"},nonAutoSelector:{transitionProperty:"iwr3bmeu",transitionDuration:"qgj99rie",transitionTimingFunction:"pccvoycu"},block:{display:"b6ax4al1"}},m=function(a){var b=a.buttonIcons,d=a.buttonTextColor,e=a.isDisabled,f=a.isSelected,g=a.optionKey,i=a.onClick;a=a.title;d=j(f,e,d);return h.jsx("div",{"aria-checked":f,"aria-disabled":e,className:c("stylex")(l.option,f&&l.optionSelected,e&&l.optionDisabled),"data-index":g,"data-testid":void 0,role:"radio",tabIndex:0,onMouseDown:c("curry")(i,g),children:h.jsxs(c("FlexLayout.react"),{align:"center",justify:"center",children:[k(b,f),h.jsx(c("GeoBaseText.react"),{color:d,display:"truncate",size:"value",textAlign:"center",weight:f?"bold":"normal",xstyle:b?c("geoMargin").start8:null,children:a})]})})};function a(a){var b=a.buttonTextColor,e=a.disabledMessage;e=e===void 0?"":e;var f=a.className,g=a.isAutomaticFlow;g=g===void 0?!1:g;var j=a.isDisabled,k=j===void 0?!1:j,n=a.onSelect;j=a.options;var o=a.selectedKey,p=a.placements;a=j.findIndex(function(a){return a.optionKey===o});var q=i(function(a){k!==!0&&n(a),d("AdsVideoCreationEditorLogger").logVCEThumbnails(o==="generated_selected"?"VCE_THUMBNAIL_TOGGLE_AUTOMATIC":"VCE_THUMBNAIL_TOGGLE_MANUAL",p)},[k,n,o,p]);f=h.jsxs(c("FlexLayout.react"),{className_DO_NOT_USE:c("joinClasses")(f,c("stylex")(l.toggler)),children:[j.map(function(a,c){return h.createElement(m,babelHelpers["extends"]({},a,{buttonTextColor:b,isDisabled:k,isSelected:o===a.optionKey,key:c,onClick:q}))}),h.jsx("div",{className:c("stylex")(l.selector,!g&&l.nonAutoSelector),style:{width:100/j.length+"%",transform:"translateX("+a*100+"%)"}})]});return k&&!!e?h.jsx(c("GeoTooltip.react"),{content:e,xstyle:l.block,children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsVideoThumbnailToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsPlacementAssetCustomizationLoggerEvents","AdsPlacementEditorLogger","AdsPlatformTypes","AdsUEditorAdgroupPACEditCarouselCardDetailAction","AdsUEditorAdgroupSetChildImageURLDataAction","AdsUEditorAdgroupSetPlatformVideoImageUrlDataAction","AdsUEditorAdgroupSetVideoImageURLDataAction","AdsUEditorAdgroupSetVideoThumbnailAtIndexDataAction","AdsUEditorAdgroupSetVideoThumbnailIDDataAction","AdsUEditorAdgroupUpdateCustomizationVideoDataAction","AdsUEditorCreativeToolThumbnailAdvancedSettingsContainer.react","adsCreativeContainerMediaFormatForPlacements","adsIsNewVideoThumbnailDataModelSelector","first","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b){if(a.format!=="carousel")return!1;b=b==null?void 0:(b=b.carousel)==null?void 0:b.index;if(b==null||a.cards.length<=b)return!1;b=(a=a.cards[b].media)==null?void 0:a.getValue();return(b==null?void 0:b.format)==="video"}a={type:"creative/tools",key:"video_thumbnail",category:"MEDIA",isFullScreen:!0,advancedSettingsComponent:b("AdsUEditorCreativeToolThumbnailAdvancedSettingsContainer.react"),name:h._("Miniatura"),getIcons:function(){return{active:i("829251"),normal:i("829253")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a,b,d){b=a.asset;b=b.format==="video"||j(b,d);return b&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("video")},isCreatingNewMedia:!1,mutateDCOAdgroup:function(a,b,d,e,f,g){if(b==null)return;g=e.video_thumbnail;b=a.adgroupIDs;if(g!=null&&d!=null&&(d.parentContainer===c("AdsCreativeToolParentContainerType").VideoDCOAdgroupAssetEditor||d.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor)){e=d.assetIndex;a=g.thumbnail;d=g.thumbnailSource;g=d==="smart_selected"?"0":a.ent_id;e!=null&&e>=0&&c("AdsUEditorAdgroupSetVideoThumbnailAtIndexDataAction").dispatch({assetIndex:e,hostID:f,adgroupIDs:b,videoThumbnailID:g,videoThumbnailURL:a.uri,videoThumbnailSource:d},{line:"151",module:"AdsVideoThumbnailToolPlugin.js"})}},mutateDLOAdgroup:function(a,b,d,e,f,g){d=a.adgroupIDs;g=e.video_thumbnail;a=b==null?void 0:b.assetKey;if(g!=null&&a!=null){e=g.thumbnail;b=g.thumbnailSource;c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({adgroupIDs:d,hostID:f,thumbnailSource:b,isBaseAsset:!1,label:a,thumbnailID:e.ent_id,thumbnailURL:e.uri},{line:"176",module:"AdsVideoThumbnailToolPlugin.js"})}},mutateRegularAdgroup:function(a,b,d,e,f,g){if(b==null)return;g=e.video_thumbnail;e=a.adgroupIDs;a=b.assetKey;if(g!=null&&a!=null){b=g.thumbnail;a=g.thumbnailSource;g=(d==null?void 0:d.isBaseAsset)===!1?c("AdsPlatformTypes").INSTAGRAM:c("AdsPlatformTypes").DEFAULT_PLATFORM;if((d==null?void 0:d.assetIndex)!=null){var h=a==="generated_default"||a==="assumed_generated_default"||a==="smart_selected"?"0":b.ent_id;c("AdsUEditorAdgroupSetChildImageURLDataAction").dispatch({hostID:f,adgroupIDs:e,imageURL:b.uri,index:d==null?void 0:d.assetIndex,videoThumbnailID:h,videoThumbnailSource:a},{line:"217",module:"AdsVideoThumbnailToolPlugin.js"})}else if(g===c("AdsPlatformTypes").INSTAGRAM)c("AdsInterfacesLogger").log({eventName:c("AdsPlacementAssetCustomizationLoggerEvents").INSTAGRAM_VIDEO_THUMBNAIL_CHANGE,eventCategory:c("AdsInterfacesLogEvents").EventCategory.USER_ACTION}),c("AdsUEditorAdgroupSetPlatformVideoImageUrlDataAction").dispatch({hostID:f,adgroupIDs:e,imageURL:b.uri,platform:g,thumbnailSource:a},{line:"231",module:"AdsVideoThumbnailToolPlugin.js"});else{c("AdsInterfacesLogger").log({eventName:c("AdsPlacementAssetCustomizationLoggerEvents").BASE_VIDEO_THUMBNAIL_CHANGE,eventCategory:c("AdsInterfacesLogEvents").EventCategory.USER_ACTION});c("AdsUEditorAdgroupSetVideoImageURLDataAction").dispatch({hostID:f,adgroupIDs:e,imageURL:b.uri,thumbnailSource:a},{line:"244",module:"AdsVideoThumbnailToolPlugin.js"});if(c("adsIsNewVideoThumbnailDataModelSelector")()){d=a==="generated_default"||a==="assumed_generated_default"||a==="smart_selected"?"0":b.ent_id;c("AdsUEditorAdgroupSetVideoThumbnailIDDataAction").dispatch({hostID:f,adgroupIDs:e,thumbnailID:d},{line:"259",module:"AdsVideoThumbnailToolPlugin.js"})}}}},mutatePACAdgroup:function(a,b,e,f,g,h){if(b==null)return;e=f.video_thumbnail;f=a.adgroupIDs;a=b.assetKey;if(e!=null&&a!=null){var i=e.thumbnail,j=e.thumbnailSource;e=e.videoID;if((b==null?void 0:b.carousel)!=null){e={video_id:e,thumbnail_url:i.uri,thumbnail_source:j};c("AdsUEditorAdgroupPACEditCarouselCardDetailAction").dispatch({adgroupIDs:f,hostID:g,carouselLabel:a,cardIndex:b.carousel.index,assetField:"videos",asset:e},{line:"291",module:"AdsVideoThumbnailToolPlugin.js"})}else c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({adgroupIDs:f,hostID:g,thumbnailSource:j,isBaseAsset:!1,label:a,thumbnailURL:i.uri,thumbnailID:i==null?void 0:i.ent_id},{line:"300",module:"AdsVideoThumbnailToolPlugin.js"}),d("AdsPlacementEditorLogger").logVideoThumbnailCustomizeEvent(c("first")(f)||"",b==null?void 0:b.assetGroups,h)}},tab_testid:"creative_container_video_thumbnail_tab"};e=a;g["default"]=e},98);
__d("AdsCFAdgroupAddCustomizationMediaReducerPlugin",["AdsAdgroupAddCustomizationMediaReducerUtils","AdsOpenCreativeEditorActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorHostIDs"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("AdsUEditorAdgroupReducerUtils").createReducer(d("AdsAdgroupAddCustomizationMediaReducerUtils").extraDataSelectors,d("AdsAdgroupAddCustomizationMediaReducerUtils").createReducer(c("AdsUEditorHostIDs").CREATION),d("AdsOpenCreativeEditorActionFlux").actionType)};b=a;g["default"]=b},98);
__d("AdsOpenCreativeEditorReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){a=b.assetGroups;var c=b.assetIndex;return{assetIndex:(c=c)!=null?c:0,assetGroups:a,entryPoint:b.entryPoint,format:b.format,initialTool:b.initialTool,isVisible:!0,isBaseAsset:b.isBaseAsset}}};b=a;f["default"]=b},66);
__d("StorifyVideoOverrideConfirmDialog.react",["fbt","BUIModalHeader.react","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSSection.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.$1=function(){return i.jsx(c("BUIModalHeader.react"),{title:h._("\u00bfAnular plantilla actual?")})};d.$2=function(){return h._("Si contin\u00faas, los cambios que hayas hecho en la plantilla actual se perder\u00e1n.")};d.$3=function(){return i.jsx(c("FDSModalFooter.react"),{primaryButton:i.jsx(c("FDSButton.react"),{label:h._("Confirmar"),use:"primary",onClick:this.props.onConfirm}),secondaryButton:i.jsx(c("FDSButton.react"),{label:h._("Cancelar"),use:"default",onClick:this.props.onCancel})})};d.render=function(){return i.jsx(c("FDSModal.react"),{footer:this.$3(),header:this.$1(),isShown:this.props.isDialogShown,onHide:this.props.onCancel,children:i.jsx(c("FDSSection.react"),{children:this.$2()})})};return b}(i.Component);g["default"]=a},98);
__d("AdsLocalVideoStoreDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=b.uploadKey;b=b.uploadingVideo;return babelHelpers["extends"]({},a,{uploadingVideo:{id:c,type:"localVideo",asset:b}})}};b=a;f["default"]=b},66);
__d("AdsLocalVideoStoreThumbnailDataReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=b.uploadKey;b=b.thumbnailURL;var d=a.uploadingVideo;return d&&d.id===c?babelHelpers["extends"]({},a,{uploadingVideo:babelHelpers["extends"]({},d,{asset:babelHelpers["extends"]({},d.asset,{thumbnailURL:b})})}):a}};b=a;f["default"]=b},66);
__d("AdsRenderSpecServerDataSelectors",["AdsAccountStore","AdsAdPreviewErrorsDataProvider","AdsAdPreviewRenderPropsDataProvider","AdsPreviewRenderSpecBaseSelectors","LoadObject","adsCreateSelector","adsCreateStoreSelector","adsCreateStructuredSelector","adsCurrentAdgroupApiFormatsSelector","adsUEditorAdgroupPublishStatusSelector","immutable"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdgroupPublishStatusSelector"),d("AdsPreviewRenderSpecBaseSelectors").selectAdID],function(a,b){return b!=null&&!((a=a.get(b))==null?void 0:a.hasDraft)},{name:f.id+".selectMaybeLoadByID"});b=c("adsCreateSelector")([c("AdsAccountStore").getSelectedAccount],function(a){return a.getValue()},{name:f.id+".selectAdAccount"});e=c("adsCreateStoreSelector")([],function(a){return a},{name:f.id+".selectContext"});b=c("adsCreateStructuredSelector")({adAccount:b,creative:d("AdsPreviewRenderSpecBaseSelectors").selectCreative,campaign:d("AdsPreviewRenderSpecBaseSelectors").selectCampaign,campaignGroup:d("AdsPreviewRenderSpecBaseSelectors").selectCampaignGroup,placements:c("adsCurrentAdgroupApiFormatsSelector"),adAccountId:d("AdsPreviewRenderSpecBaseSelectors").selectAccountID,requestUUID:d("AdsPreviewRenderSpecBaseSelectors").selectUUID,adID:d("AdsPreviewRenderSpecBaseSelectors").selectAdID,loadByID:a,context:e},f.id+".selectRequestKey");d=c("adsCreateSelector")([b,c("AdsAdPreviewErrorsDataProvider").toFluxSelector()],function(a,b){return a.placements.length>0&&a.creative!=null?b.get(a):c("LoadObject").withValue(c("immutable").Map())},{name:f.id+".adsRenderSpecErrorsLoadObjectSelector"});var h=function(a,b){return babelHelpers["extends"]({},a,{placements:[b]})};e=c("adsCreateSelector")([b,c("AdsAdPreviewRenderPropsDataProvider").toFluxSelector()],function(a,b){return function(c){var d;return a.creative!=null?(d=b.getCached(h(a,c)).getValue())==null?void 0:d[c]:null}},{name:f.id+".adsRenderSpecRenderPropsGetterSelector"});var i=c("adsCreateSelector")([b,c("AdsAdPreviewErrorsDataProvider").toFluxSelector()],function(a,b){return function(d){return a.creative!=null?b.getCached(h(a,d)):c("LoadObject").withValue(c("immutable").Map())}},{name:f.id+".errorsLoadObjectGetterForLazyLoad"}),j=c("adsCreateSelector")([i],function(a){return function(b){var c;return(c=a(b).getValue())==null?void 0:c.get(b)}},{name:f.id+".adsRenderSpecServerErrorGetterSelector"});i=c("adsCreateSelector")([i],function(a){return function(b){return a(b).isLoadingOrEmpty()}},{name:f.id+".adsRenderSpecIsLoadingErrorSelector"});g.selectMaybeLoadByID=a;g.selectRequestKey=b;g.adsRenderSpecErrorsLoadObjectSelector=d;g.adsRenderSpecRenderPropsGetterSelector=e;g.adsRenderSpecServerErrorGetterSelector=j;g.adsRenderSpecIsLoadingErrorSelector=i},98);
__d("AdsRenderSpecCombiners",["AdsCallToActionTypes"],function(a,b,c,d,e,f,g){"use strict";a=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.find(Boolean)||null};b=function(a){if(typeof a!=="string")return null;a=c("AdsCallToActionTypes").TYPES[a];return a?a.text:null};d=function(a){if(typeof a!=="string")return null;a=c("AdsCallToActionTypes").TYPES[a];return a?a.name:null};g.notEmptyCombiner=a;g.ctaTextCombiner=b;g.ctaTypeCombiner=d},98);
__d("adsPreviewShoppingTagsData",["AdsInteractiveComponentConstants"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=a.map(function(a){return(a=a.filter(function(a){return a.get("type")===d("AdsInteractiveComponentConstants").SHOPPING_PRODUCT_TAG}))!=null?a:[]});if(!a.some(function(a){a=a.length;return a>0}))return;a=a.map(function(a){return a.map(function(a){var d=a.getIn(["position_spec"]);a=a.getIn(["product_tag_spec","product_id"]);var e=b.get(""+a).getValue();if(e==null)return;var f=!1,g=0,h=0;d!=null&&(f=!0,g=d.get("x"),h=d.get("y"));d=(d=(d=e.product_catalog)==null?void 0:(d=d.capability_features)==null?void 0:d.includes("checkout"))!=null?d:!1;return{checkoutSetting:c&&d?"on":"off",id:a,hasCoordinates:f,positionX:g,positionY:h,imageURI:e.da_display_preview_url,name:e.name,priceLabel:e.price,salePriceLabel:e.sale_price}}).filter(Boolean)});return{productTags:a,relatedProductTags:a.map(function(){return[]})}}g["default"]=a},98);
__d("adsFirstUEditorAdObjectForSelectedAdgroupsSelector",["adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","firstx"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdObjectsForSelectedAdgroupsSelector")],c("firstx"),{name:f.id+".adsFirstUEditorAdObjectForSelectedAdgroupsSelector"});b=a;g["default"]=b},98);
__d("adsAdgroupSpecPathPluginSelector",["AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","adsCreateSelector","adsEnforcePureGetStores","adsFirstUEditorAdObjectForSelectedAdgroupsSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsEnforcePureGetStores")(c("adsCreateSelector")([c("adsFirstUEditorAdObjectForSelectedAdgroupsSelector")],d("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin,{name:f.id}));b=a;g["default"]=b},98);
__d("adsRenderSpecDefaultAdgroupSpecPathPluginSelector",["adsAdgroupSpecPathPluginSelector"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("adsAdgroupSpecPathPluginSelector")},98);
__d("adsRenderSpecAdgroupSpecPathPluginSelector",["adsRenderSpecDefaultAdgroupSpecPathPluginSelector"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("adsRenderSpecDefaultAdgroupSpecPathPluginSelector")},98);
__d("AdsPreviewRenderSpecStaticSelectors",["AdsAPIAdgroupRecordUtils","AdsAdgroupRecordAccessors","AdsAdgroupSemanticFields","AdsAssetFeedFieldUtils","AdsPreviewRenderSpecBaseSelectors","AdsRenderSpecCombiners","AdsShoppingProductsProvider","adsCreateSelector","adsPreviewShoppingTagsData","adsRenderSpecAdgroupSpecPathPluginSelector","immutable","shallowEqual"],function(a,b,c,d,e,f,g){"use strict";b=[c("adsRenderSpecAdgroupSpecPathPluginSelector"),d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector];e=c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").pageID.get,{name:f.id+".selectPageId"});var h=function(a){return a instanceof c("immutable").List||c("immutable").List.isList(a)?null:a};function a(a){return function(b){if(b instanceof c("immutable").List){var d=b.first();return d!=null?a(d):d}return h(b)}}var i=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").headline.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"text")}),{name:f.id+".selectHeadline"}),j=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").message.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"text")}),{name:f.id+".selectMessage"}),k=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").linkDescription.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"text")}),{name:f.id+".selectDescription"}),l=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").videoID.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"video_id")}),{name:f.id+".selectVideoId"}),m=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").displayURL.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"display_url")}),{name:f.id+".selectDisplayUrl"}),n=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").linkURL.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"website_url")}),{name:f.id+".selectLinkUrl"}),o=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").videoThumbnailURL.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"thumbnail_url")}),{name:f.id+".videoThumbnailURL"}),p=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").imageURL.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"url")}),{name:f.id+".selectImageUrl"}),q=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").imageHash.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"hash")}),{name:f.id+".selectImageHash"}),r=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").callToActionType.get,{name:f.id})],a(function(a){return a}),{name:f.id+".selectCTATypeFromCTATypeField"}),s=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){return(a=a.creative)==null?void 0:(a=a.call_to_action)==null?void 0:a.type},{name:f.id+".selectCTATypeFromCTAField"});r=c("adsCreateSelector")([r,s],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectCTA"});s=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").callToActionValue.get,{name:f.id})],h,{name:f.id+".selectCTAValue"});var t=c("adsCreateSelector")([s],function(a){return(a==null?void 0:a.lead_gen_form_id)!=null},{name:f.id+".selectHasCTALeadGenFormId"});s=c("adsCreateSelector")([s],function(a){return a==null?void 0:a.app_destination},{name:f.id+".selectCTAAppDestination"});var u=c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").videoThumbnailHash.get,{name:f.id+".selectVideoThumbnailImageHash"}),v=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){return(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:a.image_hash},{name:f.id+".selectVideoImageHash"});u=c("adsCreateSelector")([u,v],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectVideoThumbnailHash"});v=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").imageCrops.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getImageAssetCrops(a)}),{name:f.id+".selectImageCropsRecord"});b=c("adsCreateSelector")([v],function(a){return a!=null?c("immutable").Map(typeof a.toJS==="function"?a.toJS():a).first():null},{name:f.id+".selectImageCrops"});a=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.portrait_customizations)==null?void 0:a.specifications;if(a==null||a.count()===0)return null;a=a.first().getIn(["background_color"]).toObject();var b=a.top_color;a=a.bottom_color;return{topColor:b,bottomColor:a}},{equal:c("shallowEqual"),name:f.id+".selectBackgroundColor"});v=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){return a==null?void 0:(a=a.creative)==null?void 0:(a=a.portrait_customizations)==null?void 0:a.carousel_delivery_mode},{name:f.id+".selectCarouselDeliveryMode"});var w=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){a=c("AdsAdgroupRecordAccessors").creative.interactive_components_spec.components.get(a);return a!=null?a.toArray():void 0},{name:f.id+".selectSingleImageInteractiveComponents"}),x=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){a=c("AdsAdgroupRecordAccessors").creative.interactive_components_spec.child_attachments.get(a);if(a==null)return void 0;a=a.map(function(a){return a.getIn(["components"]).toArray()}).toArray();return a.length>0?a:void 0},{name:f.id+".selectCarouselInteractiveComponents"}),y=c("adsCreateSelector")([w,x],function(a,b){return a!=null?[a]:b},{name:f.id+".selectInteractiveComponents"}),z=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){return d("AdsAPIAdgroupRecordUtils").isInstantCheckoutEnabled(a)},{name:f.id+".selectOnsiteCheckoutSetting"});f=c("adsCreateSelector")([c("AdsShoppingProductsProvider").toFluxSelector(),y,z],function(a,b,d){return b!=null?c("adsPreviewShoppingTagsData")(b,a,d):void 0},{name:f.id+".selectShoppingProductTags"});g.selectPageId=e;g.selectHeadline=i;g.selectMessage=j;g.selectDescription=k;g.selectVideoId=l;g.selectDisplayUrl=m;g.selectLinkUrl=n;g.videoThumbnailURL=o;g.selectImageUrl=p;g.selectImageHash=q;g.selectCTA=r;g.selectHasCTALeadGenFormId=t;g.selectCTAAppDestination=s;g.selectVideoThumbnailHash=u;g.selectImageCrops=b;g.selectBackgroundColor=a;g.selectCarouselDeliveryMode=v;g.selectSingleImageInteractiveComponents=w;g.selectCarouselInteractiveComponents=x;g.selectInteractiveComponents=y;g.selectOnsiteCheckoutSetting=z;g.selectShoppingProductTags=f},98);
__d("AdPreviewRenderSpecExistingPostSelectors",["AdsBulkValueUtils","AdsInstagramMediaStore","AdsInstagramMediaV2DataProvider","AdsLoadStateUtils_LEGACY","AdsPreviewRenderSpecBaseSelectors","AdsPreviewRenderSpecStaticSelectors","AdsRenderSpecCombiners","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsInstagramPostConvertToFBPagePost","adsInstagramPostConvertV2MediaToFBPagePost","adsPagePostGetSelector","first"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingPostID,c("adsPagePostGetSelector")],function(a,b){return a!=null?b(a):null},{name:f.id+".selectExistingFacebookPost"});b=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingInstagramBeandedPostID,c("AdsInstagramMediaStore").getSelector],function(a,b){return a!=null?d("AdsLoadStateUtils_LEGACY").toLoadObject(b(a)):null},{name:f.id+".selectExistingInstagramStoryLoadObject"});e=c("adsCreateSelector")([b],function(a){return a!=null&&a.hasValueWithoutError()?a.getValueEnforcing():null},{name:f.id+".selectExistingInstagramStory"});b=c("adsCreateSelector")([e],function(a){return a!=null?c("adsInstagramPostConvertToFBPagePost")(a):null},{name:f.id+".selectExistingNormalizedInstagramStory"});e=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingInstagramPostID,c("AdsInstagramMediaV2DataProvider").toFluxSelector()],function(a,b){return a!=null?b.get(a):null},{name:f.id+".selectExistingInstagramPostLoadObject"});e=c("adsCreateSelector")([e],function(a){return a!=null&&a.hasValueWithoutError()?a.getValueEnforcing():null},{name:f.id+".selectExistingInstagramPost"});e=c("adsCreateSelector")([e],function(a){return a!=null?c("adsInstagramPostConvertV2MediaToFBPagePost")(a):null},{name:f.id+".selectNormalizedInstagramPost"});e=c("adsCreateSelector")([a,e,b],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectExistingPost"});b=[e];e=c("adsCreateSelector")(b,function(a){return a==null?void 0:a.name},{name:f.id+".selectExistingPostHeadline"});var h=c("adsCreateSelector")(b,function(a){return(a==null?void 0:(a=a.attachments)==null?void 0:a.data)||[]},{name:f.id+".selectAttachments"});h=c("adsCreateSelector")([h],c("first"),{name:f.id+".selectFirstAttachment"});var i=c("adsCreateSelector")([h],function(a){return["album","multi_share"].includes(a==null?void 0:a.type)},{name:f.id+".selectExistingPostIsCarousel"}),j=c("adsCreateSelector")([h],function(a){return(a==null?void 0:a.type)==="rich_media_collection"},{name:f.id+".selectExistingPostIsCollection"}),k=c("adsCreateSelector")(b,function(a){return a==null?void 0:a.description},{name:f.id+".selectExistingPostDescription"}),l=c("adsCreateSelector")(b,function(a){return a==null?void 0:a.link},{name:f.id+".selectExistingPostLink"}),m=c("adsCreateSelector")(b,function(a){return a==null?void 0:a.message},{name:f.id+".selectExistingPostMessage"});a=c("adsCreateSelector")([a,d("AdsUEditorAdgroupBulkSelectors").pageID],function(a,b){return(a==null?void 0:(a=a.from)==null?void 0:a.id)||d("AdsBulkValueUtils").getUniformValue(b)},{name:f.id+".selectExistingPostPageID"});var n=c("adsCreateSelector")(b,function(a){return a==null?void 0:(a=a.call_to_action)==null?void 0:a.type},{name:f.id+".selectExistingPostCTA"}),o=c("adsCreateSelector")(b,function(a){return a==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.link},{name:f.id+".selectExistingPostCTALink"}),p=c("adsCreateSelector")(b,function(a){return a==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.app_destination},{name:f.id+".selectExistingPostCTAAppDestination"});h=c("adsCreateSelector")([h],function(a){return(a==null?void 0:(a=a.subattachments)==null?void 0:a.data)||[]},{name:f.id+".selectSubAttachments"});var q=c("adsCreateSelector")([h,d("AdsPreviewRenderSpecStaticSelectors").selectHasCTALeadGenFormId],function(a,b){return a.map(function(a){return{description:a.description,headline:a.title,destinationLink:null,displayURL:null,callToAction:null,callToActionType:null,hasDynamicLeadGenCallToAction:b,media:{backgroundColor:null,imageCrops:null,imageURL:(a=a.media)==null?void 0:(a=a.image)==null?void 0:a.src,videoURL:null}}})},{name:f.id+".selectExistingPostCarousel"});h=c("adsCreateSelector")([h],c("first"),{name:f.id+".selectFirstSubattachment"});h=c("adsCreateSelector")([h],function(a){return a==null?void 0:(a=a.media)==null?void 0:(a=a.image)==null?void 0:a.src},{name:f.id+".selectFirstSubattachmentImage"});b=c("adsCreateSelector")(b,function(a){return(a==null?void 0:a.full_picture)||(a==null?void 0:a.picture)},{name:f.id+".selectExistingPostMainImageUrl"});h=c("adsCreateSelector")([h,b],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectExistingPostImageUrl"});g.selectExistingPostHeadline=e;g.selectExistingPostIsCarousel=i;g.selectExistingPostIsCollection=j;g.selectExistingPostDescription=k;g.selectExistingPostLink=l;g.selectExistingPostMessage=m;g.selectExistingPostPageID=a;g.selectExistingPostCTA=n;g.selectExistingPostCTALink=o;g.selectExistingPostCTAAppDestination=p;g.selectExistingPostCarousel=q;g.selectExistingPostImageUrl=h},98);
__d("AdsPreviewRenderSpecAdgroupContextSelectors",["AdPreviewRenderSpecExistingPostSelectors","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPreviewRenderSpecStaticSelectors","AdsRenderSpecCombiners","LoadObject","adsCreateSelector","adsRenderSpecInstagramAccountSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostPageID,d("AdsPreviewRenderSpecStaticSelectors").selectPageId],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectPageId"});b=c("adsCreateSelector")([a,c("AdsPageStore").getSelector],function(a,b){return a!=null?d("AdsLoadStateUtils_LEGACY").toLoadObject(b(a)):c("LoadObject").withValue(null)},{name:f.id+".selectPage"});e=c("adsCreateSelector")([c("adsRenderSpecInstagramAccountSelector")],function(a){return a!=null?d("AdsLoadStateUtils_LEGACY").toLoadObject(a):c("LoadObject").withValue(null)},{name:f.id+".selectInstagramAccountLoadObject"});g.selectPage=b;g.selectInstagramAccountLoadObject=e},98);
__d("AdsMobileFeedRenderSpecSelector",["adsCreateBranchSelector","adsCreateSelector","adsCreateStructuredSelector","adsCurrentAdgroupApiFormatsSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsCurrentAdgroupApiFormatsSelector")],function(a){return a.includes("MOBILE_FEED_STANDARD")},{name:f.id+".selectHasMobileFeedPlacement"});b=c("adsCreateSelector")([],function(){return 3},{name:f.id+".selectMobileFeedMessageMaxLines"});d=c("adsCreateStructuredSelector")({mobileFeedMessageMaxLines:b},f.id+".selectMobileFeedSpecificRenderSpec");e=c("adsCreateSelector")([],function(){return null},{name:f.id+".nullSelector"});b=c("adsCreateBranchSelector")(a,d,e);g.selectMobileFeedSpecificRenderSpecIfHasPlacement=b},98);
__d("adsPreviewRenderSpecInitialRenderSelector",["AdPreviewRenderSpecExistingPostSelectors","AdsAccountStore","AdsAdPreviewUtils","AdsAssetFeedUtils","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsEditorMPAConstants","AdsImageIDClasses","AdsImageStore","AdsLoadStateUtils_LEGACY","AdsLoadState_LEGACY","AdsLocalVideoSelectors","AdsMobileFeedRenderSpecSelector","AdsPlacementAssetCustomizationTypes","AdsPreviewRenderSpecAdgroupContextSelectors","AdsPreviewRenderSpecBaseSelectors","AdsPreviewRenderSpecStaticSelectors","AdsRenderSpecCombiners","AdsShoppingProductsProvider","AdsStockImageSourceImageDataStore","AdsVideoStore","LoadObject","MentionsInputUtility","ShutterstockImageUtils","adsCreateBranchSelector","adsCreateSelector","adsCreateStoreThunkSelector","adsCreateStructuredSelector","adsGetApiFormatFromPositionData","adsPreviewShoppingTagsData","adsRenderSpecInstagramAccountSelector","adsUEditorPlacementCustomizationDataSelector","filterNulls","getImageSourceURLFromImageish","immutable","isAdsCanvasLink","nullthrows","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h="DEFAULT";a=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectMessage,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostMessage],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectRawMessage"});var i=function(a){return a!=null?d("MentionsInputUtility").parseTextWithMentions(a):null};b=c("adsCreateSelector")([a],i,{name:f.id+".selectParsedMessageResult"});e=c("adsCreateSelector")([b],function(a){return a==null?void 0:a.text.trim()},{name:f.id+".selectParsedMessageString"});var j=function(a){return(a=a==null?void 0:a.ranges.map(function(a){var b=a.length;a=a.offset;return{length:b,offset:a}}))!=null?a:[]};a=c("adsCreateSelector")([b],j,{name:f.id+".selectParsedMessageEntityRanges"});b=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectCTA,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostCTA],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectCTA"});var k=c("adsCreateSelector")([b],d("AdsRenderSpecCombiners").ctaTextCombiner,{name:f.id+".selectCTAText"});b=c("adsCreateSelector")([b],d("AdsRenderSpecCombiners").ctaTypeCombiner,{name:f.id+".selectCTAType"});var l=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectCTAAppDestination,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostCTAAppDestination],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectCTAAppDestination"}),m=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectIsDCO,d("AdsPreviewRenderSpecStaticSelectors").selectImageHash,d("AdsPreviewRenderSpecStaticSelectors").selectImageUrl],function(a,b,c){return a&&(b!=null||c!=null)},{name:f.id+".selectHasDCOImage"});m=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectVideoId,c("AdsVideoStore").getSelector,m],function(a,b,d){if(d||a==null||a===""||a===c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID)return null;d=b(a);return d.loadState===c("AdsLoadState_LEGACY").LOADED?(b=d.download_hd_url)!=null?b:d.download_sd_url:null},{name:f.id+".selectVideoURL"});var n=c("adsCreateSelector")([d("AdsPreviewRenderSpecAdgroupContextSelectors").selectPage],function(a){a=a.getValue();return a!=null?{name:a.name,imageURL:a.picture.data.url,verified:a.is_verified,brandName:a.global_brand_page_name}:null},{name:f.id+".pageProfileSelector"}),o=c("adsCreateSelector")([c("adsRenderSpecInstagramAccountSelector")],function(a){return a!=null?d("AdsLoadStateUtils_LEGACY").toLoadObject(a):c("LoadObject").withValue(null)},{name:f.id+".instagramAccountLoadObjectSelector"});o=c("adsCreateSelector")([o,n],function(a,b){a=a.getValue();if(!a)return null;var d=c("getImageSourceURLFromImageish")(a.profile_pic),e=!a.is_published;return e?b?babelHelpers["extends"]({},b,{isPageBacked:!0}):null:{name:a.username.toString(),imageURL:d,verified:!1}},{name:f.id+".instagramAccountSelector"});o=c("adsCreateSelector")([n,o],function(a,b){return{page:a,instagram:b}},{name:f.id+".selectProfile"});var p=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectImageHash,d("AdsPreviewRenderSpecStaticSelectors").selectVideoThumbnailHash],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectMainImageHash"}),q=function(a,b){var d=c("nullthrows")(c("AdsAccountStore").getSelectedAccountID());if(typeof a!=="string")return null;b=b(d,a);return typeof b!=="string"&&b&&b.loadState===c("AdsLoadState_LEGACY").LOADED?b.url:null},r=c("adsCreateStoreThunkSelector")(c("AdsImageStore"),c("AdsImageStore").getOneFor.bind(c("AdsImageStore")));p=c("adsCreateSelector")([p,r],q,{name:f.id+".selectUrlFromHash"});var s=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectImageUrl],function(a){return a!=null&&d("ShutterstockImageUtils").isStockImageURL(a)?d("AdsImageIDClasses").AdsImageID.fromShutterstockURL(a):null},{name:f.id+".selectShutterstockImageID"}),t=c("adsCreateStoreThunkSelector")(c("AdsStockImageSourceImageDataStore"),c("AdsStockImageSourceImageDataStore").getWithFullSizeURL.bind(c("AdsStockImageSourceImageDataStore")));t=c("adsCreateSelector")([t,s],function(a,b){return b?a(b):null},{name:f.id+".selectShutterstockImageUrlLoadObject"});s=c("adsCreateSelector")([t],function(a){return a&&a.isDone()&&a.hasValue()&&((a=a.value)==null?void 0:a.fullSizeURL)||null},{name:f.id+".selectShutterstockImageUrl"});t=c("adsCreateSelector")([d("AdsLocalVideoSelectors").selectLocalVideoURL,m],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectFinalVideoURL"});m=c("adsCreateSelector")([d("AdsLocalVideoSelectors").selectLocalVideoThumbnailURL,s,d("AdsPreviewRenderSpecStaticSelectors").selectImageUrl,p,d("AdsPreviewRenderSpecStaticSelectors").videoThumbnailURL,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostImageUrl],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectFinalImageUrl"});s=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectDisplayUrl,d("AdsPreviewRenderSpecStaticSelectors").selectLinkUrl,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostCTALink,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostLink],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectURL"});p=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectLinkUrl],c("isAdsCanvasLink"),{name:f.id+".selectIsCanvasAd"});var u=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostIsCollection],function(a,b){return b||d("AdsCollectionsAdUtils").isCollectionsAd(a)},{name:f.id+".selectIsCollection"}),v=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],d("AdsAssetFeedUtils").isPACAdgroupFromRecord,{name:f.id+".selectIsPAC"});function w(a){var b;switch(a.format){case d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage:return a.url;case d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo:return(b=a.thumbnailUrl)!=null?b:(b=a.video)==null?void 0:(a=b.preferredThumbnail)==null?void 0:a.uri;default:return null}}function x(a){switch(a.format){case d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo:return y(a.video);default:return null}}function y(a){var b;return(b=a.download_hd_url)!=null?b:a.download_sd_url}function z(a){return a&&a.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage&&a.crops!=null&&c("immutable").Map(a.crops).first()||null}function A(a){var b;return{description:a.description,headline:a.headline,destinationLink:a.link,media:((b=a.media)==null?void 0:b.hasValue())?(b=a.media)==null?void 0:b.getValueEnforcing():null}}function B(a){var b;return{headline:(b=a.headline)==null?void 0:b.value,description:(b=a.description)==null?void 0:b.value,media:a.media.format!=="carousel"&&a.media.format!=="post"?a.media.value:null,destinationLink:d("AdsRenderSpecCombiners").notEmptyCombiner((b=a.url)==null?void 0:b.value.displayUrl,(b=a.url)==null?void 0:b.value.websiteUrl),displayURL:(b=a.url)==null?void 0:b.value.displayUrl}}var C=function(a,b,e,f,g,h,k){var l=b.bodies!=null?b.bodies.values.get(-1,""):"";l=i(l);var m=l==null?void 0:l.text.trim();l=j(l);if(b.media.value.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage||b.media.value.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo){var n,o=x(b.media.value)!=null;o=o?"VIDEO":"IMAGE";var p=[B(b)].map(function(a){var c=a.headline,e=a.description,f=a.media,h=a.displayURL;return{headline:c,description:e,destinationLink:d("AdsAdPreviewUtils").sanitiseUrl(a.destinationLink),callToAction:d("AdsRenderSpecCombiners").ctaTextCombiner((c=b.cta)==null?void 0:c.value),callToActionType:d("AdsRenderSpecCombiners").ctaTypeCombiner((e=b.cta)==null?void 0:e.value),callToActionAppDestination:null,hasDynamicLeadGenCallToAction:g,media:{backgroundColor:f==null?void 0:f.backgroundColor,imageURL:f!=null?w(f):null,videoURL:f!=null?x(f):null,imageCrops:f!=null?z(f):null},displayURL:h}});n=(n=b.media.value.interactiveComponents)==null?void 0:n.toArray();var q=n!=null?c("adsPreviewShoppingTagsData")([n],h,k):void 0;return{mediaFormat:o,objectType:e,profiles:a,isCanvasAd:f,message:m,messageEntityRanges:l,cards:p,interactiveComponents:n,shoppingProductTagsData:q}}if(b.media.value.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatPost){c("recoverableViolation")("Post format is not supported in render spec yet","ads_cx_pac");return null}o=b.media.value.cards.map(function(a){return A(a)});p=o.map(function(a){var c=a.headline,e=a.description,f=a.media;return{headline:c,description:e,destinationLink:d("AdsAdPreviewUtils").sanitiseUrl(a.destinationLink),callToAction:d("AdsRenderSpecCombiners").ctaTextCombiner((c=b.cta)==null?void 0:c.value),callToActionType:d("AdsRenderSpecCombiners").ctaTypeCombiner((e=b.cta)==null?void 0:e.value),callToActionAppDestination:null,hasDynamicLeadGenCallToAction:g,media:{backgroundColor:f==null?void 0:f.backgroundColor,imageURL:f!=null?w(f):null,videoURL:f!=null?x(f):null,imageCrops:f!=null?z(f):null},displayURL:null}});n=o.map(function(a){a=a.media;if(a!=null){return(a=(a=a.interactiveComponents)==null?void 0:a.toArray())!=null?a:[]}return[]});q=c("adsPreviewShoppingTagsData")(n,h,k);return{mediaFormat:"CAROUSEL",objectType:e,profiles:a,isCanvasAd:f,message:m,messageEntityRanges:l,cards:p,shoppingProductTagsData:q}},D=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationDataSelector")],function(a){a=a.hasValue()?a.getValueEnforcing():null;return(a==null?void 0:a.customizationData)||c("immutable").List()},{name:f.id+".selectPACCustomizationData"}),E=function(a){return a.toSet().map(function(a){return c("immutable").Set(c("adsGetApiFormatFromPositionData")(a.platform,a.position))}).flatten()};D=c("adsCreateSelector")([D,o,d("AdsPreviewRenderSpecBaseSelectors").selectObjectType,p,d("AdsPreviewRenderSpecStaticSelectors").selectHasCTALeadGenFormId,c("AdsShoppingProductsProvider").toFluxSelector(),d("AdsPreviewRenderSpecStaticSelectors").selectOnsiteCheckoutSetting],function(a,b,d,e,f,g,i){return a.reduce(function(a,j){var k=j.isDefault===!0?c("immutable").List([h]):E(j.placements),l=C(b,j.assets,d,e,f,g,i);return l==null?a:a.merge(k.map(function(a){return[a,l]}))},c("immutable").Map())},{name:f.id+".selectPACRenderSpecMap"});var F=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],d("AdsChildAttachmentsUtils").getChildAttachments,{name:f.id+".selectChildAttachments"}),G=function(a,b,e){var f;return{headline:a.name,description:a.description,callToAction:d("AdsRenderSpecCombiners").ctaTextCombiner((f=a.call_to_action)==null?void 0:f.type),callToActionType:(f=a.call_to_action)==null?void 0:f.type,media:{backgroundColor:null,imageCrops:a.image_crops!=null?c("immutable").Map(a.image_crops).first():null,imageURL:a.picture!=null?a.picture:q(a.image_hash,b),videoURL:a.video_id!=null&&a.video_id!==c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID?y(e(a.video_id)):null,isLocationCard:a.place_data!=null},destinationLink:a.link}},H=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingPostID,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostHeadline,n],function(a,b,c){return b!=null&&b!==""?b:a!=null?c==null?void 0:c.name:null},{name:f.id+".selectExistingPostHeadlineWithProfile"});n=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingPostID,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostDescription,n],function(a,b,c){return b!=null&&b!==""?b:a!=null?c==null?void 0:c.name:null},{name:f.id+".selectExistingPostDescriptionWithProfile"});H=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectHeadline,H],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectHeadline"});n=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectDescription,n],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectDescription"});m=c("adsCreateStructuredSelector")({backgroundColor:d("AdsPreviewRenderSpecStaticSelectors").selectBackgroundColor,imageURL:m,imageCrops:d("AdsPreviewRenderSpecStaticSelectors").selectImageCrops,videoURL:t},f.id+".selectMedia");t=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostIsCarousel],function(a,b){return d("AdsChildAttachmentsUtils").isCarouselAd(a)||b},{name:f.id+".selectIsCarousel"});t=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectMediaFormat,t],function(a,b){return b?"CAROUSEL":a},{name:f.id+".selectMediaFormat"});var I=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectCarouselDeliveryMode],function(a){if(a)return{carouselDeliveryMode:a}},{name:f.id+".selectCustomizations"});n=c("adsCreateStructuredSelector")({description:n,headline:H,destinationLink:s,callToAction:k,callToActionType:b,callToActionAppDestination:l,hasDynamicLeadGenCallToAction:d("AdsPreviewRenderSpecStaticSelectors").selectHasCTALeadGenFormId,media:m,displayURL:d("AdsPreviewRenderSpecStaticSelectors").selectDisplayUrl},f.id+".selectSingleFormatCard");H=c("adsCreateSelector")([F,r,c("AdsVideoStore").getSelector,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostCarousel,n,u],function(a,b,d,e,f,g){a=a!=null?a.map(function(a){return G(a,b,d)}):e;if(a.length===0)return[f];if(g){e={products:c("filterNulls")(a.map(function(a){return(a=a.media)==null?void 0:a.imageURL})).map(function(a){return{imageURI:a}}).slice(0,-1)};return[babelHelpers["extends"]({},f,{productListData:e})]}g=f.media;e=f.callToAction;var h=f.callToActionAppDestination,i=f.hasDynamicLeadGenCallToAction,j=f.description,k=f.headline,l=f.destinationLink;f=f.displayURL;var m={media:g,callToAction:e,callToActionAppDestination:h,hasDynamicLeadGenCallToAction:i,description:j,headline:k,destinationLink:l,displayURL:f};return a.map(function(a){return babelHelpers["extends"]({},m,a)})},{name:f.id+".selectCards"});s=c("adsCreateStructuredSelector")({profiles:o,message:e,messageEntityRanges:a,mediaFormat:t,objectType:d("AdsPreviewRenderSpecBaseSelectors").selectObjectType,isCanvasAd:p,cards:H,customizations:I,interactiveComponents:d("AdsPreviewRenderSpecStaticSelectors").selectSingleImageInteractiveComponents,shoppingProductTagsData:d("AdsPreviewRenderSpecStaticSelectors").selectShoppingProductTags},f.id+".adsPreviewRenderSpecSelector");k=c("adsCreateSelector")([s],function(a){return c("immutable").Map([[h,a]])},{name:f.id+".selectRenderSpecMap"});b=c("adsCreateBranchSelector")(v,D,k,!0,f.id+".adsPreviewRenderSpecMapSelector");l=c("adsCreateSelector")([d("AdsMobileFeedRenderSpecSelector").selectMobileFeedSpecificRenderSpecIfHasPlacement],function(a){return a!=null},{name:f.id+".selectHasPlacementSpecificSpecMap"});m=c("adsCreateSelector")([d("AdsMobileFeedRenderSpecSelector").selectMobileFeedSpecificRenderSpecIfHasPlacement],function(a){var b;return c("immutable").Map((b={DEFAULT:a},b.MOBILE_FEED_STANDARD=a,b))},{name:f.id+".selectPlacementSpecificSpecMap"});F=c("adsCreateBranchSelector")(l,c("adsCreateSelector")([b,m],function(a,b){return a.map(function(a,c){c=b.get(c);return c!=null?babelHelpers["extends"]({},a,{placementSpecificSpec:c}):a})},{name:f.id}),b,!0,f.id+".adsPreviewRenderSpecInitialRenderSelector");r=F;g["default"]=r},98);
__d("adsPreviewRenderSpecWithFinalRenderSelector",["AdsPreviewRenderSpecAdgroupContextSelectors","adsCreateSelector","adsPreviewRenderSpecInitialRenderSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsPreviewRenderSpecAdgroupContextSelectors").selectPage,d("AdsPreviewRenderSpecAdgroupContextSelectors").selectInstagramAccountLoadObject],function(a,b){return{errors:!1,facebookPage:a.isLoading(),instagramProfile:b.isLoading(),props:!1}},{name:f.id+".selectBaseLoadingObject"});b=c("adsCreateSelector")([c("adsPreviewRenderSpecInitialRenderSelector"),a],function(a,b){return a.map(function(a){return babelHelpers["extends"]({},a,{loading:b})})},{name:f.id+".adsPreviewRenderSpecWithFinalRenderSelector"});e=b;g["default"]=e},98);
__d("SmallQueue",[],function(a,b,c,d,e,f){a=function(){function a(){this.$1=[]}var b=a.prototype;b.enqueue=function(a){this.$1.push(a)};b.enqueueList=function(a){var b=this;a.forEach(function(a){b.enqueue(a)})};b.dequeue=function(){return this.isEmpty()?null:this.$1.shift()};b.peek=function(){return this.isEmpty()?null:this.$1[0]};b.getLength=function(){return this.$1.length};b.isEmpty=function(){return this.getLength()===0};b.remove=function(a){a=this.$1.indexOf(a);a>-1&&this.$1.splice(a,1)};return a}();f["default"]=a},66);
__d("LRUCache",["SmallQueue"],function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=new Map(),this.$2=a,this.$3=new(c("SmallQueue"))()}var b=a.prototype;b.set=function(a,b){this.$1.set(a,b);this.$3.enqueue(a);if(this.$3.getLength()>this.$2){b=this.$3.dequeue();b!=null&&this.$1["delete"](b)}};b.get=function(a){a=this.$1.get(a);return a===void 0?null:a};return a}();g["default"]=a},98);
__d("OptimisticAdPreviewYielders",["invariant","AdsDLOLanguageUtils","AdsPlacementAssetTargetingRuleUtils","getByPath","immutable"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return function(b,d){return c("getByPath")(b,a)}}function a(a){return a.map(i)}function b(a){return function(b,d){var e=c("immutable").Seq(a).find(function(a){return c("getByPath")(b,a)!==void 0});return e?c("immutable").Seq(a).map(function(a){return c("getByPath")(d,a)}).find(Boolean):void 0}}function e(a,b,e,f,g){return function(h,i,j){if((j==null?void 0:j.language)!=null)return void 0;j=c("immutable").fromJS((i==null?void 0:(j=i.creative)==null?void 0:(j=j.asset_feed_spec)==null?void 0:j.asset_customization_rules)||[]);j=j.find(function(c){return d("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(c).some(function(c){return c.platform===a&&c.position===b})})||d("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRule(j);var k=j&&d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable(j,e);if(k==null)return void 0;j=[i,h].map(function(a){return c("immutable").List(g(a).map(c("immutable").Map))});i=j[0];h=j[1];j=i.findIndex(function(a){return(a.get("adlabels")||[]).some(function(a){return a.get("name")===k})});if(j===-1)return void 0;h=h.get(j);h=h!=null&&h.get(f)!==void 0;if(!h)return void 0;h=i.get(j);return h.get(f)||void 0}}function f(a,b,e,f){return function(g,i,j){if((j==null?void 0:j.language)==null)return void 0;g=f(i).map(c("immutable").Map);i=c("immutable").fromJS((i==null?void 0:(i=i.creative)==null?void 0:(i=i.asset_feed_spec)==null?void 0:i.asset_customization_rules)||[]);i=i.find(function(a){return d("AdsDLOLanguageUtils").getLanguageCodeForRule(a)==(j==null?void 0:j.language)});if(i==null)return void 0;i=i.get(e);if(i===void 0)return void 0;c("immutable").Map.isMap(i)||h(0,13282);var k=i.get("name");i=g.find(function(a){return a.get(b).get(0).get("name")===k});return i.get(a)}}g.pathYielder=i;g.pathYielderArray=a;g.pathYielderOrderedByPriority=b;g.placementAssetCustomizationYielder=e;g.languageAssetCustomizationYielder=f},98);
__d("OptimisticAdPreviewANInterstitialEffect",["csx","fbt","AdsAPIAdgroupPaths","AdsCallToActionTypes","AdsImageStore","AdsOffsiteAdInterstitialPreview.react","AdsPageStore","ApiAdObjectTypes","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders","ReactDOM","ShutterstockImageUtils","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k="0";a={name:"an-interstitial-container",id:"an-interstitial",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path)],formats:["MOBILE_INTERSTITIAL"],update:function(a,b,e){b=a.querySelector("._72xz");if(!b)return c("OptimisticAdPreviewErrors").targetElementNotFound;b=p(e);if(b==null)return c("OptimisticAdPreviewErrors").emptyImage;if(d("ShutterstockImageUtils").isStockImageURL(b))return c("OptimisticAdPreviewErrors").stockImagesNotSupported;d("ReactDOM").render(j.jsx(c("AdsOffsiteAdInterstitialPreview.react"),{adTitle:t(e),contextSentence:"",ctaText:r(e),description:s(e),hasDSO:!1,iconSrc:w(e),imageAspectRatio:q(e),imageSrc:b,isVideo:l(e),screenshotURLs:[],subtitle:v(e),videoID:l(e)?m(e):k}),a);return d("OptimisticAdPreviewResults").SUCCESS}};var l=function(a){return(a==null?void 0:(a=a.creative)==null?void 0:a.object_type)===c("ApiAdObjectTypes").VIDEO},m=function(a){return a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:a.video_id},n=function(a){return a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.link_data)==null?void 0:a.picture},o=function(a){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.link_data)==null?void 0:a.image_hash;if(a==null)return null;a=c("AdsImageStore").get(a);return!a?null:a},p=function(a){if(l(a)){var b;return(b=a.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.video_data)==null?void 0:b.image_url}b=o(a);a=n(a);return b?b.url:(b=a)!=null?b:null},q=function(a){a=o(a);return a?Math.floor(100*a.width/a.height)/100:1},r=function(a){var b;b=l(a)?(b=a.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.video_data)==null?void 0:(b=b.call_to_action)==null?void 0:b.type:(b=a.creative)==null?void 0:(a=b.object_story_spec)==null?void 0:(b=a.link_data)==null?void 0:(a=b.call_to_action)==null?void 0:a.type;if(!b)return null;a=c("AdsCallToActionTypes").TYPES[b];return!a?null:a.text},s=function(a){var b;return l(a)?(b=a.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.video_data)==null?void 0:b.message:(b=a.creative)==null?void 0:(a=b.object_story_spec)==null?void 0:(b=a.link_data)==null?void 0:b.message},t=function(a){var b,c=i._("Encabezado");a=l(a)?(b=a.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.video_data)==null?void 0:b.title:(b=a.creative)==null?void 0:(a=b.object_story_spec)==null?void 0:(b=a.link_data)==null?void 0:b.name;return(b=a)!=null?b:c},u=function(a){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:a.page_id;return a==null?null:c("AdsPageStore").get(a)},v=function(a){a=u(a);return!a?null:a.name},w=function(a){a=u(a);return!a?null:(a=a.picture)==null?void 0:(a=a.data)==null?void 0:a.url};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewUtils",["AdsCallToActionTypes","AdsLinkPostFormat","AdsLoadState_LEGACY","AdsWhatsAppUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],function(a,b,c,d,e,f,g){"use strict";var h="carousel-card",i=[function(a,b,d){return a==="MOBILE_FEED_STANDARD"&&b==="IMAGE"&&d===c("AdsLinkPostFormat").SINGLE},function(a,b,d){return a==="MOBILE_FEED_STANDARD"&&b==="VIDEO"&&d===c("AdsLinkPostFormat").SINGLE},function(a,b,d){return a==="MOBILE_FEED_STANDARD"&&b==="CAROUSEL"&&d===c("AdsLinkPostFormat").MULTIPLE},function(a,b,d){return a==="DESKTOP_FEED_STANDARD"&&b==="IMAGE"&&d===c("AdsLinkPostFormat").SINGLE},function(a,b,d){return a==="DESKTOP_FEED_STANDARD"&&b==="VIDEO"&&d===c("AdsLinkPostFormat").SINGLE},function(a,b,d){return a==="DESKTOP_FEED_STANDARD"&&b==="CAROUSEL"&&d===c("AdsLinkPostFormat").MULTIPLE},function(a,b,d){return a==="INSTAGRAM_STANDARD"&&(b==="IMAGE"||b==="VIDEO")&&d===c("AdsLinkPostFormat").SINGLE}];f=function(a,b,e,f,g,h,i){g=m(g,i);if(g===null)return c("OptimisticAdPreviewErrors").invalidCrops;i=a.getSelectedAccountIDX();a=b.getOneFor(i,h);b=typeof a==="string"?a:a.loadState;i=typeof a!=="string"?a:null;if(b===c("AdsLoadState_LEGACY").LOADING)return c("OptimisticAdPreviewErrors").imageNotFound;if(b!==c("AdsLoadState_LEGACY").LOADED)return c("OptimisticAdPreviewErrors").imageNotFound;if(i===null)return c("OptimisticAdPreviewErrors").imageNotFound;h=e.clientWidth;a=e.clientHeight;f.style.backgroundImage='url("'+i.url+'")';b=g[1][0]-g[0][0];e=g[1][1]-g[0][1];f.style.backgroundSize=i.width/b*100+"% "+i.height/e*100+"%";f.style.backgroundPosition="-"+h/b*g[0][0]+"px -"+a/e*g[0][1]+"px";return d("OptimisticAdPreviewResults").SUCCESS};var j=function(a,b,e){if(e===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(e===null)return c("OptimisticAdPreviewErrors").imageRemovalNotSupported;a=a.get(e);if(!a)return c("OptimisticAdPreviewErrors").imageNotFound;b.style.background='center / cover url("'+a.url+'")';return d("OptimisticAdPreviewResults").SUCCESS},k=function(a,b){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").noButtonCTA;b=c("AdsCallToActionTypes").TYPES[b];if(!b)return c("OptimisticAdPreviewErrors").invalidCTAType;a.innerText=d("AdsWhatsAppUtils").isWhatsAppCTAType(b.name)?b.short_text:b.text;return d("OptimisticAdPreviewResults").SUCCESS},l=function(a,b,e,f){var g=a.querySelectorAll('[data-ad-preview="'+h+'"]');if(b===null||g===null)return d("OptimisticAdPreviewResults").SKIPPED;if(b.length>g.length)return c("OptimisticAdPreviewErrors").carouselCardAdded;a=b.map(function(a,b){var h;if(a===null)return c("OptimisticAdPreviewErrors").carouselCardRemoved;if(a===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(Object.keys(a).length>1)return c("OptimisticAdPreviewErrors").carouselCardMultipleChanges;if(!g[b])return c("OptimisticAdPreviewErrors").carouselCardNotFound;h=e==null?void 0:(h=e.creative)==null?void 0:(h=h.object_story_spec)==null?void 0:(h=h.link_data)==null?void 0:h.child_attachments;if(h==null)return c("OptimisticAdPreviewErrors").carouselCardNotFound;h=h.find(function(a,c){return c===b});return!h?c("OptimisticAdPreviewErrors").carouselCardSpecNotFound:f(g[b],a,h)});b=a.filter(function(a){return Object.prototype.hasOwnProperty.call(c("OptimisticAdPreviewErrors"),a)});if(b.length)return b[0];b=a.filter(function(a){return a===d("OptimisticAdPreviewResults").SUCCESS});return b.length?d("OptimisticAdPreviewResults").SUCCESS:d("OptimisticAdPreviewResults").SKIPPED};function a(a,b,c){return i.some(function(d){return d(a,b,c)})}var m=function(a,b){var c=Object.keys(a)[0];a=a[c];if(a===null)return null;a.length===1&&(a[1]=a[0],a[0]=[0,0]);return b?n(a):a},n=function(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];if(c<=b)return a;c=b/2;b=(a[1][1]+a[0][1])/2;return[[a[0][0],b-c],[a[1][0],b+c]]};function b(a){a.dataset.optimistic_preview="true",delete a.dataset.server_preview}function e(a){a.dataset.server_preview="true",delete a.dataset.optimistic_preview}g.validateAndApplyImageCropEffect=f;g.validateAndApplyImageEffect=j;g.validateAndApplyCtaEffect=k;g.validateAndApplyCarouselEffect=l;g.shouldUpdate=a;g.getCrop=m;g.forceHorizontalCrops=n;g.markNodeAsOptimisticPreview=b;g.markNodeAsServerPreview=e},98);
__d("OptimisticAdPreviewCarouselDescriptionEffect",["AdsAPIAdgroupPaths","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){b=b[c("ApiObjectStorySpecLinkChildFields").DESCRIPTION];if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").carouselCardDescriptionRemoved;a=a.querySelector('[data-ad-preview="card-description"]');if(!a)return c("OptimisticAdPreviewErrors").carouselCardDescriptionNotFound;a.innerText=b;return d("OptimisticAdPreviewResults").SUCCESS};a={name:"carousel",id:"carousel-description",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)],update:function(a,b,c){return d("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,b,c,h)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewCarouselHeadlineEffect",["AdsAPIAdgroupPaths","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){b=b[c("ApiObjectStorySpecLinkChildFields").NAME];if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").carouselCardHeadlineRemoved;a=a.querySelector('[data-ad-preview="card-headline"]');if(!a)return c("OptimisticAdPreviewErrors").carouselCardHeadlineNotFound;a.innerText=b;return d("OptimisticAdPreviewResults").SUCCESS};a={name:"carousel",id:"carousel-headline",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)],update:function(a,b,c){return d("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,b,c,h)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewCarouselImageCropEffect",["AdsAPIAdgroupPaths","AdsAccountStore","AdsImageStore","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"carousel",id:"carousel-image-crop",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)],formats:["MOBILE_FEED_STANDARD"],update:function(a,b,c){return d("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,b,c,h)}};var h=function(a,b,e){b=e[c("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS];if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").nullValue;if(Object.keys(b).length===0)return d("OptimisticAdPreviewResults").SKIPPED;var f=a.querySelector('[data-ad-preview="image-container"]');if(!f)return c("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var g=f.querySelector("i"),h=f.hasAttribute("data-react-ad-preview");if(h){g=a.querySelector('[data-react-ad-preview="image-element"]');if(g==null)return c("OptimisticAdPreviewErrors").carouselImageNotFound;h=d("OptimisticAdPreviewUtils").getCrop(b,!1);if(h==null)return c("OptimisticAdPreviewErrors").invalidCrops;a=h[1][0]-h[0][0];h=h[1][1]-h[0][1];h=h*(f.clientWidth/a)+"px";g.setAttribute("src","");g.style.height=h}return!g?c("OptimisticAdPreviewErrors").carouselImageNotFound:d("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(c("AdsAccountStore"),c("AdsImageStore"),f,g,b,e[c("ApiObjectStorySpecLinkChildFields").IMAGE_HASH],!1)};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewCarouselImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"carousel",id:"carousel-image",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)],formats:["MOBILE_FEED_STANDARD"],update:function(a,b,c){return d("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,b,c,h)}};var h=function(a,b){var e=a.querySelector('[data-ad-preview="image-container"]');if(!e)return c("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var f=e.hasAttribute("data-react-ad-preview");e=e.querySelector("i");if(f){e=a.querySelector('[data-react-ad-preview="image-element"]');if(e!=null)e.setAttribute("src","");else return c("OptimisticAdPreviewErrors").carouselImageNotFound}return!e?c("OptimisticAdPreviewErrors").carouselImageNotFound:d("OptimisticAdPreviewUtils").validateAndApplyImageEffect(c("AdsImageStore"),e,b[c("ApiObjectStorySpecLinkChildFields").IMAGE_HASH])};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewCometMessageEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders","ReactDOM","emptyObject","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={margin:0,wordWrap:"break-word",whiteSpace:"pre-wrap"},j={marginTop:"0.5em"};a={id:"comet-message",name:"message",tes:!0,yielders:[].concat(d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CAPTION,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE]),[d("OptimisticAdPreviewYielders").placementAssetCustomizationYielder("facebook","feed","body_label","text",d("AdsAssetFeedAssetUtils").getTextFromAdgroup)]),formats:["DESKTOP_FEED_STANDARD","MOBILE_FEED_STANDARD"],update:function(a,b){if(b===void 0||!a.hasAttribute("data-ad-comet-preview"))return d("OptimisticAdPreviewResults").SKIPPED;b=(b=b)!=null?b:"";if(b.indexOf("@[")!==-1)return c("OptimisticAdPreviewErrors").mentionsNotSupported;b=b.split("\n\n");a=a.querySelector("span > div");if(!a)return c("OptimisticAdPreviewErrors").targetElementNotFound;d("ReactDOM").render(h.jsx(h.Fragment,{children:b.map(function(a,b){return h.jsx("div",{styles:babelHelpers["extends"]({},i,b!==0?j:c("emptyObject")),children:a},a+b)})}),a);return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDesktopCTAEffect",["AdsAPIAdgroupPaths","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"cta",id:"desktop-cta",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE)],mediaFormats:["IMAGE","VIDEO"],formats:["DESKTOP_FEED_STANDARD"],update:function(a,b){return d("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,b)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDesktopCarouselCTAEffect",["AdsAPIAdgroupPaths","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders","getByPath"],function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){a=a.querySelector('[data-ad-preview="carousel-cta"]');if(!a)return c("OptimisticAdPreviewErrors").carouselCardCTANotFound;b=c("getByPath")(b,[c("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,c("ApiCallToActionFields").TYPE]);return d("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,b)};a={name:"carousel",id:"desktop-carousel-CTA",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)],mediaFormats:["CAROUSEL"],formats:["DESKTOP_FEED_STANDARD"],update:function(a,b,c){return d("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,b,c,h)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDesktopCarouselImageCropEffect",["AdsAPIAdgroupPaths","AdsAccountStore","AdsImageStore","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"carousel",id:"desktop-carousel-image-crop",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)],formats:["DESKTOP_FEED_STANDARD"],update:function(a,b,c){return d("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,b,c,h)}};var h=function(a,b,e){b=e[c("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS];if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").nullValue;if(Object.keys(b).length===0)return d("OptimisticAdPreviewResults").SKIPPED;a=a.querySelector('[data-ad-preview="carousel-image-container"]');if(!a)return c("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var f=a.querySelector('[data-ad-preview="carousel-image"]');if(!f)return c("OptimisticAdPreviewErrors").targetElementNotFound;f.setAttribute("src","");return d("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(c("AdsAccountStore"),c("AdsImageStore"),a,a,b,e[c("ApiObjectStorySpecLinkChildFields").IMAGE_HASH],!1)};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDesktopCarouselImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"carousel",id:"desktop-carousel-image",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)],formats:["DESKTOP_FEED_STANDARD"],update:function(a,b,c){return d("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,b,c,h)}};var h=function(a,b){a=a.querySelector('[data-ad-preview="carousel-image-container"]');if(!a)return c("OptimisticAdPreviewErrors").carouselImageContainerNotFound;b=d("OptimisticAdPreviewUtils").validateAndApplyImageEffect(c("AdsImageStore"),a,b[c("ApiObjectStorySpecLinkChildFields").IMAGE_HASH]);if(b!==d("OptimisticAdPreviewResults").SUCCESS)return b;b=a.querySelector('[data-ad-preview="carousel-image"]');if(!b)return c("OptimisticAdPreviewErrors").targetElementNotFound;b.setAttribute("src","");return d("OptimisticAdPreviewResults").SUCCESS};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDesktopDisplayLinkEffect",["AdsAPIAdgroupPaths","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"desktop-display-link",name:"display-link",yielders:d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.CAPTION]),formats:["DESKTOP_FEED_STANDARD"],update:function(a,b){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").displayLinkRemoved;a.innerText=b;return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDesktopImageCropEffect",["AdsAPIAdgroupPaths","AdsAccountStore","AdsImageStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"image-container",id:"desktop-image-crop",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS)],formats:["DESKTOP_FEED_STANDARD"],update:function(a,b,e){b=e==null?void 0:(b=e.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.link_data)==null?void 0:b.image_crops;if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").nullValue;if(Object.keys(b).length===0)return c("OptimisticAdPreviewErrors").invalidCrops;var f=a.querySelector("[data-ad-preview=image]");if(!f)return c("OptimisticAdPreviewErrors").targetElementNotFound;f.setAttribute("src","");e=e==null?void 0:(f=e.creative)==null?void 0:(e=f.object_story_spec)==null?void 0:(f=e.link_data)==null?void 0:f.image_hash;return e==null?c("OptimisticAdPreviewErrors").nullValue:d("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(c("AdsAccountStore"),c("AdsImageStore"),a,a,b,e,!0)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDesktopImageEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","AdsImageStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"image-container",id:"desktop-image",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH),d("OptimisticAdPreviewYielders").placementAssetCustomizationYielder("facebook","feed","image_label","hash",d("AdsAssetFeedAssetUtils").getImages),d("OptimisticAdPreviewYielders").languageAssetCustomizationYielder("hash","adlabels","image_label",d("AdsAssetFeedAssetUtils").getImagesFromAdgroup)],formats:["DESKTOP_FEED_STANDARD"],update:function(a,b){b=d("OptimisticAdPreviewUtils").validateAndApplyImageEffect(c("AdsImageStore"),a,b);if(b!==d("OptimisticAdPreviewResults").SUCCESS)return b;b=a.querySelector('[data-ad-preview="image"]');if(!b)return c("OptimisticAdPreviewErrors").targetElementNotFound;b.setAttribute("src","");return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDesktopVideoEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"desktop-video",name:"video",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID),d("OptimisticAdPreviewYielders").placementAssetCustomizationYielder("facebook","feed","video_label","video_id",d("AdsAssetFeedAssetUtils").getVideos)],formats:["DESKTOP_FEED_STANDARD"],update:function(a,b){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").videoRemovalNotSupported;b=c("AdsVideoStore").get(b);if(!b)return c("OptimisticAdPreviewErrors").videoNotFound;if(b.download_sd_url==null||b.preferredThumbnail==null||b.preferredThumbnail.uri==null)return c("OptimisticAdPreviewErrors").videoMissingMetadata;a.setAttribute("src",b.download_sd_url);a.setAttribute("poster",b.preferredThumbnail.uri);return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewDisplayLinkEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"display-link",name:"display-link-container",yielders:[].concat(d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.CAPTION]),[d("OptimisticAdPreviewYielders").languageAssetCustomizationYielder("website_url","adlabels","link_url_label",d("AdsAssetFeedAssetUtils").getWebsiteURLsFromAdgroup)]),formats:["MOBILE_FEED_STANDARD"],update:function(a,b){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").displayLinkRemoved;a=a.querySelector("span");if(a){a.innerText=b.toUpperCase();return d("OptimisticAdPreviewResults").SUCCESS}else return c("OptimisticAdPreviewErrors").targetElementNotFound}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewHeadlineEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"headline",name:"headline",yielders:[].concat(d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE]),[d("OptimisticAdPreviewYielders").languageAssetCustomizationYielder("text","adlabels","title_label",d("AdsAssetFeedAssetUtils").getHeadlinesFromAdgroup)]),formats:["MOBILE_FEED_STANDARD","DESKTOP_FEED_STANDARD","INSTANT_ARTICLE_STANDARD"],update:function(a,b){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").headlineRemoved;if(a){a.innerText=b;return d("OptimisticAdPreviewResults").SUCCESS}else return c("OptimisticAdPreviewErrors").targetElementNotFound}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewIAMessageEffect",["AdsAPIAdgroupPaths","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"message",id:"ia-message",yielders:[d("OptimisticAdPreviewYielders").pathYielderOrderedByPriority([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.DESCRIPTION,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.LINK_DESCRIPTION])],formats:["INSTANT_ARTICLE_STANDARD"],update:function(a,b){b=b;if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;b===null&&(b="");if(a){a.innerText=b;return d("OptimisticAdPreviewResults").SUCCESS}else return c("OptimisticAdPreviewErrors").targetElementNotFound}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewIGCTAEffect",["AdsAPIAdgroupPaths","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"ig-cta",id:"ig-cta",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE)],mediaFormats:["IMAGE","VIDEO"],formats:["INSTAGRAM_STANDARD"],update:function(a,b){return d("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,b)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewIGFeedImageCropEffect",["AdsAPIAdgroupPaths","AdsAccountStore","AdsImageStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"media-container",id:"ig-image-crop",yielders:d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS,c("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_CROPS]),formats:["INSTAGRAM_STANDARD"],update:function(a,b,e){b=(b=(b=e.creative)==null?void 0:(b=b.platform_customizations)==null?void 0:(b=b.instagram)==null?void 0:b.image_crops)!=null?b:(b=e.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.link_data)==null?void 0:b.image_crops;if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").nullValue;if(Object.keys(b).length===0)return c("OptimisticAdPreviewErrors").invalidCrops;var f=d("OptimisticAdPreviewUtils").getCrop(b,!1);if(f===null)return c("OptimisticAdPreviewErrors").invalidCrops;var g=f[1][0]-f[0][0];f=f[1][1]-f[0][1];a.style.height=f*(a.clientWidth/g)+"px";f=a.querySelector('[data-ad-preview="image"]');if(!f)return c("OptimisticAdPreviewErrors").targetElementNotFound;f.setAttribute("src","");g=(f=(g=e.creative)==null?void 0:(f=g.platform_customizations)==null?void 0:(g=f.instagram)==null?void 0:g.image_hash)!=null?f:(g=e.creative)==null?void 0:(f=g.object_story_spec)==null?void 0:(e=f.link_data)==null?void 0:e.image_hash;return g==null?c("OptimisticAdPreviewErrors").nullValue:d("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(c("AdsAccountStore"),c("AdsImageStore"),a,a,b,g,!1)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewIGFeedImageEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","AdsImageStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders","nullthrows"],function(a,b,c,d,e,f,g){"use strict";a={name:"media-container",id:"ig-image",yielders:[].concat(d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH,c("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH]),[d("OptimisticAdPreviewYielders").placementAssetCustomizationYielder("instagram","stream","image_label","hash",d("AdsAssetFeedAssetUtils").getImages)]),formats:["INSTAGRAM_STANDARD"],update:function(a,b,e){e=e==null?void 0:(e=e.creative)==null?void 0:(e=e.platform_customizations)==null?void 0:(e=e.instagram)==null?void 0:e.image_hash;e=(e=e)!=null?e:b;b=d("OptimisticAdPreviewUtils").validateAndApplyImageEffect(c("AdsImageStore"),a,e);if(b!==d("OptimisticAdPreviewResults").SUCCESS)return b;b=a.querySelector('[data-ad-preview="image"]');if(!b)return c("OptimisticAdPreviewErrors").targetElementNotFound;a=c("AdsImageStore").get(c("nullthrows")(e));if(!a)return c("OptimisticAdPreviewErrors").imageNotFound;b.setAttribute("src",a.url);b.style.visibility="hidden";return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewIGFeedVideoEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"ig-feed-video",name:"video",formats:["INSTAGRAM_STANDARD"],yielders:[].concat(d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,c("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.VIDEO_ID]),[d("OptimisticAdPreviewYielders").placementAssetCustomizationYielder("instagram","stream","video_label","video_id",d("AdsAssetFeedAssetUtils").getVideos)]),update:function(a,b){if(b==null)return d("OptimisticAdPreviewResults").SKIPPED;b=c("AdsVideoStore").get(b);if(!b)return c("OptimisticAdPreviewErrors").videoNotFound;if(b.download_sd_url==null||b.preferredThumbnail==null||b.preferredThumbnail.uri==null)return c("OptimisticAdPreviewErrors").videoMissingMetadata;a.setAttribute("src",b.download_sd_url);a.setAttribute("poster",b.preferredThumbnail.uri);return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewIGMessageEffect",["cx","AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g,h){"use strict";a={id:"ig-message",name:"ig-message",yielders:[].concat(d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE]),[d("OptimisticAdPreviewYielders").placementAssetCustomizationYielder("instagram","stream","body_label","text",d("AdsAssetFeedAssetUtils").getTextFromAdgroup)]),formats:["INSTAGRAM_STANDARD","INSTAGRAM_EXPLORE_CONTEXTUAL"],update:function(a,b){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;b=(b=b)!=null?b:"";var e=b.match(/(([^\u0000-\u007F]|\w|[\'!\"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~])+)|\s+/g);if(!e)if(b==="")return d("OptimisticAdPreviewResults").SUCCESS;else return c("OptimisticAdPreviewErrors").unsupportedMessageString;if(b.length!==e.reduce(function(a,b){return a+b.length},0))return c("OptimisticAdPreviewErrors").unsupportedMessageString;b=a.childNodes;b.forEach(function(b){a.removeChild(b)});i(a,e);return d("OptimisticAdPreviewResults").SUCCESS}};var i=function(a,b){b.forEach(function(b){var c=document.createElement("span");(b.indexOf("#")||b.indexOf("@"))&&(c.className+="_wd9");a.insertBefore(c,a.firstChild);if(b===""){var d=document.createElement("span");d.setAttribute("data-ad-preview","ig-caption");a.insertBefore(d,c.firstChild);d.innerText=" "}else if(b==="\n"){d=document.createElement("br");d.setAttribute("data-ad-preview","ig-caption");a.insertBefore(d,c.firstChild)}else{d=document.createElement("span");d.setAttribute("data-ad-preview","ig-caption");a.insertBefore(d,c.firstChild);d.innerText=b}})};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewImageCropEffect",["AdsAPIAdgroupPaths","AdsAccountStore","AdsImageStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"image-crop",name:"image-container",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS)],formats:["MOBILE_FEED_STANDARD"],update:function(a,b,e){b=(b=e.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.link_data)==null?void 0:b.image_crops;if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").nullValue;if(Object.keys(b).length===0)return c("OptimisticAdPreviewErrors").invalidCrops;var f=a.querySelector("[data-ad-preview=image]");if(!f)return c("OptimisticAdPreviewErrors").targetElementNotFound;var g=d("OptimisticAdPreviewUtils").getCrop(b,!0);if(g===null)return c("OptimisticAdPreviewErrors").invalidCrops;var h=g[1][0]-g[0][0];g=g[1][1]-g[0][1];g=g*(a.clientWidth/h)+"px";f.hasAttribute("data-react-ad-preview")?(f.setAttribute("src",""),f.style.height=g):f.style.paddingBottom=g;h=(h=e.creative)==null?void 0:(g=h.object_story_spec)==null?void 0:(e=g.link_data)==null?void 0:e.image_hash;return h==null?c("OptimisticAdPreviewErrors").emptyImage:d("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(c("AdsAccountStore"),c("AdsImageStore"),a,f,b,h,!0)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewImageEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","AdsImageStore","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"image",name:"image",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH),d("OptimisticAdPreviewYielders").placementAssetCustomizationYielder("facebook","feed","image_label","hash",d("AdsAssetFeedAssetUtils").getImages),d("OptimisticAdPreviewYielders").languageAssetCustomizationYielder("hash","adlabels","image_label",d("AdsAssetFeedAssetUtils").getImagesFromAdgroup)],formats:["MOBILE_FEED_STANDARD"],update:function(a,b){a.hasAttribute("data-react-ad-preview")&&a.setAttribute("src","");return d("OptimisticAdPreviewUtils").validateAndApplyImageEffect(c("AdsImageStore"),a,b)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewLinkDescriptionEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"link-description",name:"link-description",yielders:[].concat(d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.DESCRIPTION,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.LINK_DESCRIPTION]),[d("OptimisticAdPreviewYielders").languageAssetCustomizationYielder("text","adlabels","description_label",d("AdsAssetFeedAssetUtils").getDescriptionsFromAdgroup)]),formats:["MOBILE_FEED_STANDARD","DESKTOP_FEED_STANDARD"],update:function(a,b,e,f){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").linkDescriptionRemoved;if(a){a.innerText=f==="MESSAGES"?"":b;return d("OptimisticAdPreviewResults").SUCCESS}else return c("OptimisticAdPreviewErrors").targetElementNotFound}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewMessageEffect",["AdsAPIAdgroupPaths","AdsAssetFeedAssetUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders","ReactDOM","TextWithEntities.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");a={id:"message",name:"message",yielders:[].concat(d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CAPTION,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE]),[d("OptimisticAdPreviewYielders").placementAssetCustomizationYielder("facebook","feed","body_label","text",d("AdsAssetFeedAssetUtils").getTextFromAdgroup),d("OptimisticAdPreviewYielders").languageAssetCustomizationYielder("text","adlabels","body_label",d("AdsAssetFeedAssetUtils").getMessagesFromAdgroup)]),formats:["DESKTOP_FEED_STANDARD","MOBILE_FEED_STANDARD"],update:function(a,b){if(b===void 0||a.hasAttribute("data-ad-comet-preview"))return d("OptimisticAdPreviewResults").SKIPPED;b=(b=b)!=null?b:"";if(b.indexOf("@[")!==-1)return c("OptimisticAdPreviewErrors").mentionsNotSupported;var e=a.hasAttribute("data-react-ad-preview");if(e)d("ReactDOM").render(h.jsx("div",{children:h.jsx(c("TextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:b.replace(/^\s*[\r\n]/gm,"\r\n").replace(/^\s*/,"")})}),a);else{e=b.split("\n\n");d("ReactDOM").render(h.jsx(h.Fragment,{children:e.map(function(a,b){return h.jsx("p",{children:h.jsx(c("TextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.replace(/^\s*/,"")})},a+b)})}),a)}return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewMobileCTAEffect",["AdsAPIAdgroupPaths","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={name:"cta",id:"cta",yielders:d("OptimisticAdPreviewYielders").pathYielderArray([c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE,c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE]),mediaFormats:["IMAGE","VIDEO"],formats:["MOBILE_FEED_STANDARD"],update:function(a,b){a=a.querySelector("span");if(a)return d("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,b);else return c("OptimisticAdPreviewErrors").targetElementNotFound}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewMobileCarouselCTAEffect",["AdsAPIAdgroupPaths","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders","getByPath"],function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){a=a.querySelector("[data-ad-preview=carousel-cta]");if(!a)return c("OptimisticAdPreviewErrors").carouselCardCTANotFound;a=a.querySelector("span");if(!a)return c("OptimisticAdPreviewErrors").carouselCardCTANotFound;b=c("getByPath")(b,[c("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,c("ApiCallToActionFields").TYPE]);return d("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,b)};a={name:"carousel",id:"mobile-carousel-CTA",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)],mediaFormats:["CAROUSEL"],formats:["MOBILE_FEED_STANDARD"],update:function(a,b,c){return d("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,b,c,h)}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewVideoEffect",["AdsAPIAdgroupPaths","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"video",name:"video",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID)],formats:["MOBILE_FEED_STANDARD"],update:function(a,b){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").videoRemovalNotSupported;var e=c("AdsVideoStore").get(b);if(!e)return c("OptimisticAdPreviewErrors").videoNotFound;var f=a.getAttribute("data-store");if(f==null)return c("OptimisticAdPreviewErrors").videoNotFound;f=JSON.parse(f);f.src=e.download_sd_url;f.videoID=b;f.rootID=b;a.setAttribute("data-store",JSON.stringify(f));return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewVideoThumbnailEffect",["AdsAPIAdgroupPaths","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],function(a,b,c,d,e,f,g){"use strict";a={id:"video-cover",name:"video-cover",yielders:[d("OptimisticAdPreviewYielders").pathYielder(c("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL)],formats:["MOBILE_FEED_STANDARD"],update:function(a,b){if(b===void 0)return d("OptimisticAdPreviewResults").SKIPPED;if(b===null)return c("OptimisticAdPreviewErrors").videoRemovalNotSupported;var e=a.hasAttribute("data-react-ad-preview");e?a.setAttribute("src",b):a.style.background='center / cover url("'+b+'")';return d("OptimisticAdPreviewResults").SUCCESS}};b=a;g["default"]=b},98);
__d("OptimisticAdPreviewEffectsAggregator",["AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsPreviewLogger","OptimisticAdPreviewANInterstitialEffect","OptimisticAdPreviewCarouselDescriptionEffect","OptimisticAdPreviewCarouselHeadlineEffect","OptimisticAdPreviewCarouselImageCropEffect","OptimisticAdPreviewCarouselImageEffect","OptimisticAdPreviewCometMessageEffect","OptimisticAdPreviewDesktopCTAEffect","OptimisticAdPreviewDesktopCarouselCTAEffect","OptimisticAdPreviewDesktopCarouselImageCropEffect","OptimisticAdPreviewDesktopCarouselImageEffect","OptimisticAdPreviewDesktopDisplayLinkEffect","OptimisticAdPreviewDesktopImageCropEffect","OptimisticAdPreviewDesktopImageEffect","OptimisticAdPreviewDesktopVideoEffect","OptimisticAdPreviewDisplayLinkEffect","OptimisticAdPreviewErrors","OptimisticAdPreviewHeadlineEffect","OptimisticAdPreviewIAMessageEffect","OptimisticAdPreviewIGCTAEffect","OptimisticAdPreviewIGFeedImageCropEffect","OptimisticAdPreviewIGFeedImageEffect","OptimisticAdPreviewIGFeedVideoEffect","OptimisticAdPreviewIGMessageEffect","OptimisticAdPreviewImageCropEffect","OptimisticAdPreviewImageEffect","OptimisticAdPreviewLinkDescriptionEffect","OptimisticAdPreviewMessageEffect","OptimisticAdPreviewMobileCTAEffect","OptimisticAdPreviewMobileCarouselCTAEffect","OptimisticAdPreviewResults","OptimisticAdPreviewVideoEffect","OptimisticAdPreviewVideoThumbnailEffect","adsMemoizeAdgroupRecordCreation","gkx","immutable","nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h=[c("OptimisticAdPreviewIGCTAEffect"),c("OptimisticAdPreviewIGMessageEffect"),c("OptimisticAdPreviewMessageEffect"),c("OptimisticAdPreviewCometMessageEffect"),c("OptimisticAdPreviewImageCropEffect"),c("OptimisticAdPreviewImageEffect"),c("OptimisticAdPreviewMobileCTAEffect"),c("OptimisticAdPreviewHeadlineEffect"),c("OptimisticAdPreviewDisplayLinkEffect"),c("OptimisticAdPreviewLinkDescriptionEffect"),c("OptimisticAdPreviewVideoEffect"),c("OptimisticAdPreviewVideoThumbnailEffect"),c("OptimisticAdPreviewCarouselHeadlineEffect"),c("OptimisticAdPreviewCarouselDescriptionEffect"),c("OptimisticAdPreviewMobileCarouselCTAEffect"),c("OptimisticAdPreviewCarouselImageEffect"),c("OptimisticAdPreviewCarouselImageCropEffect"),c("OptimisticAdPreviewDesktopCTAEffect"),c("OptimisticAdPreviewDesktopImageEffect"),c("OptimisticAdPreviewDesktopImageCropEffect"),c("OptimisticAdPreviewDesktopDisplayLinkEffect"),c("OptimisticAdPreviewDesktopCarouselCTAEffect"),c("OptimisticAdPreviewDesktopCarouselImageEffect"),c("OptimisticAdPreviewDesktopCarouselImageCropEffect"),c("OptimisticAdPreviewDesktopVideoEffect"),c("OptimisticAdPreviewIGFeedImageEffect"),c("OptimisticAdPreviewIGFeedImageCropEffect"),c("OptimisticAdPreviewIGFeedVideoEffect"),c("OptimisticAdPreviewANInterstitialEffect"),c("OptimisticAdPreviewIAMessageEffect")],i=function(a,b,e,f,g,h,i){var j=c("gkx")("7130")?c("adsMemoizeAdgroupRecordCreation")(e):new(c("AdsAPIAdgroupRecord"))(e),k=d("AdsAPIAdgroupRecordUtils").getSingleMediaType(j);if(a.mediaFormats&&!a.mediaFormats.includes(k))return d("OptimisticAdPreviewResults").SKIPPED;if(a.formats&&!a.formats.includes(f))return d("OptimisticAdPreviewResults").SKIPPED;if((b==null?void 0:(k=b.creative)==null?void 0:k.asset_feed_spec)===null)return c("OptimisticAdPreviewErrors").assetFeedSpecRemoved;k=a.yielders.map(function(a){try{return d("AdsAssetFeedUtils").hasLanguageCustomizationFromRecord(e)?a(b,e,i):a(b,e)}catch(b){a=(a=j.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.optimization_type;d("AdsPreviewLogger").logOptimisitcPreviewYielderError(b,f,a);return void 0}}).filter(function(a){return a!==void 0});if(k.length===0)return d("OptimisticAdPreviewResults").SKIPPED;if(k.length>1)return c("OptimisticAdPreviewErrors").effectHadMultiplePathValues;g=g.querySelector('[data-ad-preview="'+a.name+'"]');return!g?c("OptimisticAdPreviewErrors").annotatedElementNotFound:a.update(g,k[0],e,h)};a=function(a,b,e,f,g,i){var k=f;if(a===void 0)return c("immutable").Map([["noSpecChanges",d("OptimisticAdPreviewResults").SKIPPED]]);return!k?c("immutable").Map([["all",c("OptimisticAdPreviewErrors").previewContainerNotFound]]):c("immutable").Map(h.map(function(d){return[d.id,j(d,c("nullthrows")(a),b,e,k,g,i)]}))};var j=function(a,b,d,e,f,g,h){try{return i(a,b,d,e,f,g,h)}catch(a){return c("OptimisticAdPreviewErrors").runtimeError}};g.effects=h;g.run=a},98);
__d("adsAdgroupPreviewSelector",["AdsAccountStore","AdsLocalVideoSelectors","adsCreateSelector","adsCreateStoreSelector","adsCreateStructuredSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("AdsAccountStore").getSelectedAccount],function(a){return a.getValue()},{name:f.id+".accountSelector"});b=c("adsCreateStoreSelector")(function(a){return a?d("AdsLocalVideoSelectors").selectLocalVideoState.getStores(a):[]},function(a){return a?d("AdsLocalVideoSelectors").selectLocalVideoState(a):void 0},{name:f.id+".maybeSelectLocalVideo"});e=c("adsCreateStructuredSelector")({account:a,localVideo:b},f.id+".adsAdgroupPreviewSelector");c=e;g["default"]=c},98);
__d("adsUEditorIsBulkEditingWithPACSelector",["AdsAssetFeedUtils","adsCreateBooleanEverySelector","adsCreateSelector","adsCurrentUEditorAdgroupSelector","adsUEditorIsBulkEditingSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsCurrentUEditorAdgroupSelector")],d("AdsAssetFeedUtils").isPACAdgroupFromRecord,{name:f.id+".selectIsPAC"});b=c("adsCreateBooleanEverySelector")(a,c("adsUEditorIsBulkEditingSelector"));e=b;g["default"]=e},98);
__d("QueuedPropsUpdate.react",["CometHeroHoldTrigger.react","expectationViolation","performanceNow","react","requestAnimationFrame","setTimeout","usePrevious"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.memo,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=h.memo(c("CometHeroHoldTrigger.react")),o=16,p=function(){function a(){var a=this;this.$1=[];this.$2=!1;this.processQueue=function(){a.removeDuplicatesInQueue();var b=c("performanceNow")();b=b+o;a.$2=!1;var d=0;while(b>c("performanceNow")()&&d<a.$1.length){var e=a.$1[d],f=e.callback;e=e.childProps;d++;var g=d<a.$1.length;f(e,g)}a.$1=a.$1.slice(d);a.$1.length>0&&(a.$2=!0,c("requestAnimationFrame")(a.processQueue))}}var b=a.prototype;b.enqueue=function(a,b){var d=this;this.$1.push({callback:a,childProps:b});this.$2||(this.$2=!0,c("setTimeout")(function(){c("requestAnimationFrame")(d.processQueue)}))};b.removeDuplicatesInQueue=function(){var a=new Map();this.$1.forEach(function(b){var c=b.callback;b=b.childProps;a.set(c,b)});this.$1=Array.from(a).map(function(a){var b=a[0];a=a[1];return{callback:b,childProps:a}})};b.hasItemsInQueue=function(){return this.$1.length>0};return a}();function q(a){var b=a.childComponent,d=a.renderQueue,e=a.childProps;a=a.name;var f=m({childPropsState:e,hasItemsInQueue:!1}),g=f[0],o=f[1],p=l(!1);j(function(){return function(){p.current=!0}},[]);f=c("usePrevious")(e);var q=e!==f,r=f==null;j(function(){if(r||!q)return;d==null?(c("expectationViolation")("QueuedRender components should have an ancestor QueuedRenderProvider component in the React tree"),o({childPropsState:e,hasItemsInQueue:!1})):(d.enqueue(function(a,b){p.current||o({childPropsState:a,hasItemsInQueue:b})},e),o(function(a){if(a.hasItemsInQueue!==d.hasItemsInQueue())return babelHelpers["extends"]({},a,{hasItemsInQueue:d.hasItemsInQueue()});else return a}))},[d,e,q,r,a]);f=k(function(){return i(b)},[b]);return h.jsxs(h.Fragment,{children:[h.jsx(n,{description:"QueuedPropsUpdate("+a+")",hold:g.hasItemsInQueue}),h.jsx(f,babelHelpers["extends"]({},g.childPropsState))]})}function a(a){var b=h.createContext(null);function c(a){a=a.children;var c=k(function(){return new p()},[]);return h.jsx(b.Provider,{value:c,children:a})}c.displayName=c.name+" [from "+f.id+"]";function d(c){var d=c.childComponent,e=c.childProps;return h.jsx(b.Consumer,{children:function(b){return h.jsx(q,{childComponent:d,childProps:e,name:a,renderQueue:b})}})}d.displayName=d.name+" [from "+f.id+"]";return{QueuedUpdate:d,QueuedUpdateProvider:c}}g.getQueuedPropsUpdateComponents=a},98);
__d("AdsCreativeContainerLayoutReducerPlugins",["AdsCreativeEditorMode","AdsCreativeEditorTemplatePlugins","AdsCreativeToolsPlugins","isTruthy"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{sidebarIndex:b.index,selectedTool:null,isSecondaryToolOpen:!1,isSecondaryToolFullscreen:!1})}};b={reduce:function(a,b){return babelHelpers["extends"]({},a,{sidebarIndex:b.index,isSecondaryToolFullscreen:!1,selectedTool:"image_asset",isSecondaryToolOpen:!0})}};d={reduce:function(a,b){b=(b=b.sceneIndex)!=null?b:0;b=b===0?0:b-1;return babelHelpers["extends"]({},a,{sidebarIndex:b,selectedTool:null,isSecondaryToolOpen:!1,isSecondaryToolFullscreen:!1})}};e={reduce:function(a,b){var d={mode:b.format==="template"?c("AdsCreativeEditorMode").TemplateSelection:c("AdsCreativeEditorMode").Default};return b.initialTool?babelHelpers["extends"]({},a,d,{isSecondaryToolFullscreen:!!c("AdsCreativeToolsPlugins").get(b.initialTool).isFullScreen,isSecondaryToolReplacePrimary:!1,isSecondaryToolOpen:!0,selectedTool:b.initialTool}):babelHelpers["extends"]({},a,d)}};f={reduce:function(a){return a.processingTool!=null?a:babelHelpers["extends"]({},a,{isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!1,selectedTool:null})}};var h={reduce:function(a,b){return a.processingTool!=null?a:babelHelpers["extends"]({},a,{isSecondaryToolFullscreen:!!c("AdsCreativeToolsPlugins").get(b.tool).isFullScreen,isSecondaryToolReplacePrimary:c("isTruthy")(b.isSecondaryToolReplacePrimary),isSecondaryToolOpen:!0,selectedTool:b.tool})}},i={reduce:function(a,b){return a.selectedTool===b.tool||a.processingTool!=null?a:babelHelpers["extends"]({},a,{isSecondaryToolFullscreen:!1,isSecondaryToolReplacePrimary:!1,selectedTool:b.tool,isSecondaryToolOpen:!1})}},j={reduce:function(a,b){return a.processingTool===b.tool&&b.isProcessing==!1?c("isTruthy")(b.remainOnCurrentToolPostProcessing)?babelHelpers["extends"]({},a,{asyncOperation:b.asyncOperation,processingTool:null}):babelHelpers["extends"]({},a,{asyncOperation:b.asyncOperation,isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!1,selectedTool:null,processingTool:null}):babelHelpers["extends"]({},a,{asyncOperation:b.asyncOperation,selectedTool:b.tool,processingTool:b.isProcessing?b.tool:null})}},k={reduce:function(a){return babelHelpers["extends"]({},a,{isSecondaryToolReplacePrimary:!1,isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!1,mode:c("AdsCreativeEditorMode").Default,sidebarIndex:null,selectedTool:null,processingTool:null})}},l={reduce:function(a){return babelHelpers["extends"]({},a,{isSecondaryToolReplacePrimary:!1,isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!1,sidebarIndex:null,selectedTool:null,processingTool:null})}},m={reduce:function(a,b){return babelHelpers["extends"]({},a,{isSecondaryToolFullscreen:!1,isSecondaryToolReplacePrimary:!1,isSecondaryToolOpen:!1,selectedTool:null,sidebarIndex:b.index})}},n={reduce:function(a,b){return babelHelpers["extends"]({},a,{isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!1,selectedTool:null,sidebarIndex:b.isLastCard?b.cardIndex-1:a.sidebarIndex})}},o={reduce:function(a,b){return babelHelpers["extends"]({},a,{isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!0,selectedTool:"media_asset",sidebarIndex:b.newCarouselIndex})}},p={reduce:function(a,b){b=c("AdsCreativeEditorTemplatePlugins").get(b.template);return b.globalTools.contains("template_settings")?babelHelpers["extends"]({},a,{sidebarIndex:null,selectedTool:"template_settings",isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!0,mode:c("AdsCreativeEditorMode").TemplateCustomization}):babelHelpers["extends"]({},a,{sidebarIndex:null,selectedTool:null,isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!1,mode:c("AdsCreativeEditorMode").TemplateCustomization})}},q={reduce:function(a){return babelHelpers["extends"]({},a,{sidebarIndex:null,selectedTool:null,isSecondaryToolFullscreen:!1,isSecondaryToolOpen:!1,mode:c("AdsCreativeEditorMode").Default,processingTool:null})}},r={reduce:function(a){return babelHelpers["extends"]({},a,{mode:c("AdsCreativeEditorMode").Default})}};g.onUpdateSidebarIndex=a;g.onAddTemplateScene=b;g.onDeleteTemplateScene=d;g.onOpenCreativeEditor=e;g.onCloseSecondaryPanel=f;g.onOpenSecondaryPanel=h;g.onFocusPrimaryPanel=i;g.onToggleProcessingState=j;g.onCloseCreativeContainer=k;g.onConfirmChanges=l;g.onUpdateCarouselCardIndex=m;g.onRemoveCarouselCard=n;g.onAddCarouselCard=o;g.onSelectTemplate=p;g.onSelectIGPortalTemplate=q;g.onRemoveTemplate=r},98);
__d("AdsCreativeToolReelsMusicCreationEntry.react",["fbt","ix","AdsCreativeToolSimpleField.react","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.isActive,d=function(){a.onToggleAdvancedSettings(!b)};return j.jsx(c("AdsCreativeToolSimpleField.react"),{hasError:!1,isActive:b,isRequired:!0,leftIconAsset:{active:i("529423"),normal:i("529423")},text:h._("M\u00fasica"),onClick:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeToolReelsMusicCreationPanel.react",["AdsFluxHooks","AdsUEditorAdgroupTransformationsGKSelector","CometPlaceholder.react","GeoSpinner.react","JSResource","immutable","lazyLoadComponent","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=c("lazyLoadComponent")(c("JSResource")("AdsCreativeToolReelsMusicCreationMusicListSectionContainer.react").__setRef("AdsCreativeToolReelsMusicCreationPanel.react")),k=c("lazyLoadComponent")(c("JSResource")("AdsCreativeCFPMusicSelectionPanelContainer.react").__setRef("AdsCreativeToolReelsMusicCreationPanel.react"));function a(a){var b=a.onEdit;function e(a){var b=c("immutable").List();a.forEach(function(a,c){b=b.push({label:c,audio_asset_id:a})});return Array.from(b)}a=d("AdsFluxHooks").useAdsSelector(d("AdsUEditorAdgroupTransformationsGKSelector").adsMusicExpansionEnabledGKSelector);var f=i(function(a){b({media_music:{type:"selected",selected_audios:e(a)}})},[b]);a=a?h.jsx(k,{source:"cfp",onEdit:b,onSelectedSongs:f}):h.jsx(j,{source:"cfp",onEdit:b,onSelectedSongs:f});return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("GeoSpinner.react"),{}),children:a})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a);g["default"]=b},98);
__d("AdsMusicOnReelsOptInSettingSettingReducerPlugin",["AdsAccountSettingsIdProvider","AdsUserSettingsDataManager","Laminar","isTruthy"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({userSettingsID:c("AdsAccountSettingsIdProvider").toFluxSelector()},function(a,b,d){d=d.userSettingsID;c("isTruthy")(b.shouldSaveToSettings)&&d!=null&&c("AdsUserSettingsDataManager").setMusicOnReelsOptIn(d,c("isTruthy")(b.enableDefaultStickyOptInCarousel)?"ON":"OFF",c("isTruthy")(b.enableDefaultStickyOptInSingleImage)?"ON":"OFF");return a})};b=a;g["default"]=b},98);
__d("AdsMediaMusicToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolReelsMusicCreationEntry.react","AdsCreativeToolReelsMusicCreationPanel.react","AdsPlacementAssetCustomizationTypes","AdsUEditorAdgroupAudiosUtils","AdsUEditorAdgroupSetAudioTypeSpecDataAction","AdsUEditorCreativeContainerUtils","immutable"],function(a,b,c,d,e,f,g,h,i){var j=function(a){var b;return a.carousel!=null&&((b=a.assetGroups)==null?void 0:b.length)===1&&a.assetGroups[0]===d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.INSTAGRAM_REELS};a={type:"creative/tools",key:"media_music",category:"OTHER",isFullScreen:!1,entryComponent:c("AdsCreativeToolReelsMusicCreationEntry.react"),advancedSettingsComponent:c("AdsCreativeToolReelsMusicCreationPanel.react"),name:h._("M\u00fasica"),getIcons:function(){return{active:i("1229141"),normal:i("529422")}},isEnabled:function(a){return d("AdsUEditorCreativeContainerUtils").shouldEnableMusicOnReelsInSingleImage(a)},isEnabledForSideBar:function(a){return d("AdsUEditorAdgroupAudiosUtils").shouldShowAudiosInCarousel(a)},isAvailable:function(a,b,c){return(c==null?void 0:c.carousel)==null&&(c==null?void 0:(a=c.assetGroups)==null?void 0:a.length)===1&&(c==null?void 0:c.assetGroups[0])===d("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups.INSTAGRAM_REELS?!0:!1},isAvailableForSideBar:function(a){return j(a)},getIsSecondaryToolReplacePrimary:function(a){return j(a)},mutatePACAdgroup:function(a,b,d,e,f,g){b=e.media_music;if(b!=null){c("AdsUEditorAdgroupSetAudioTypeSpecDataAction").dispatch({hostID:f,adgroupIDs:a.adgroupIDs,audioType:b.type,selected_audios:(d=b.selected_audios)!=null?d:[]},{line:"124",module:"AdsMediaMusicToolPlugin.js"})}},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.carousel,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isCreatingNewMedia:!1};b=a;g["default"]=b},98);
__d("StorifyAdCreativeUtils",["AdsCallToActionTypes"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b={};if(a){var c,d=a.picture;a=a.name;c={image_url:(c=d==null?void 0:(c=d.data)==null?void 0:c.url)!=null?c:"",image_width:(c=d==null?void 0:(c=d.data)==null?void 0:c.width)!=null?c:0,image_height:(d=d==null?void 0:(c=d.data)==null?void 0:c.height)!=null?d:0};d={text_input:a};b.logo=c;b.headline=d}return b}function b(a,b,d,e){var f={},g="";if(e!=null){e=c("AdsCallToActionTypes").TYPES[e];g=(e=e==null?void 0:e.text)!=null?e:""}e={text_input:g};b={text_input:(g=b)!=null?g:""};d={text_input:(g=d)!=null?g:""};a&&(f.image=a);f.headline=b;f.text=d;f.cta=e;return f}function d(a){var b;return{image_url:(b=a.url)!=null?b:"",image_width:(b=a.width)!=null?b:0,image_height:(b=a.height)!=null?b:0}}g.getAssetsFromPage=a;g.getAssetsFromUserInputs=b;g.convertImageToVCKImageAsset=d},98);
__d("AdsUEditorAdgroupStorifySelector",["AdsAdgroupSemanticFields","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsBulkValueUtils","AdsEmptyValue","AdsImageDimensionProvider","AdsImageIDClasses","AdsImageInfoStore","AdsImagePlacementAssetCustomizationSelectors","AdsImageStore","AdsPlacementAssetUtils","AdsSimpleImage","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorSelectorUtils","AdsUEditorSelectors","AdsUEditorStorifyUtil","LoadObject","ShutterstockImageUtils","StorifyAdCreativeUtils","VCKSingleImageUtils","adsCreateSelector","adsCreateStoreSelector","adsCreateStoreThunkSelector","adsIsPAC2AvailableSelector","adsPromotablePagesForAccountSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAdgroupHeadlineBulkValueSelector","adsUEditorSelectedAdgroupsSelector","adsUEditorTextAssetToolContainerSelector"],function(a,b,c,d,e,f,g){"use strict";var h=c("AdsImageDimensionProvider").toFluxStore();a=c("adsCreateStoreSelector")([],function(a){a=a.placement;return a},{name:f.id+".adsUEditorAdgroupPlacementSelector"});b=c("adsCreateSelector")([d("AdsImagePlacementAssetCustomizationSelectors").adsPlacementAssetAdgroupDataSelector,c("adsCreateStoreThunkSelector")(c("AdsImageStore"),function(a,b){return c("AdsImageStore").getOneFor(a,b)}),c("adsCreateStoreThunkSelector")(c("AdsImageInfoStore"),function(a){return c("AdsImageInfoStore").getFullSize(a)}),c("adsCreateStoreThunkSelector")(h,function(a){return h.getState().get(a)}),a],function(a,b,e,f,g){var h=c("LoadObject").empty();if(a==null)return h;var k=a.assetImageIDs;a=a.assetsPlacements;if(a==null)return c("LoadObject").withError(new Error("Not valid assets placements in adgroup"));a=d("AdsPlacementAssetUtils").getAssetLabelForPlacement(a,g.platform,g.position);if(a==null)return c("LoadObject").withError(new Error("Could not find label for "+g.platform+" "+g.position));g=k.get(a);if(g instanceof d("AdsImageIDClasses").AdsExternalImageID){k=g.getUrl();h=j(e,k,f)}else if(g instanceof d("AdsImageIDClasses").AdsAccountImageID){a=g.getHash();e=g.getAccountID();h=i(b,e,a)}return h},{name:f.id+".adsUEditorAdgroupStorifyAssetSelector"});function i(a,b,d){a=a(b,d);return typeof a==="string"?c("LoadObject").withError(new Error("Hash not found in cache")):c("LoadObject").withValue(new(c("AdsSimpleImage"))({height:a.height,width:a.width,url:a.url}))}function j(a,b,e){c("LoadObject").empty();if(d("ShutterstockImageUtils").isStockImageURL(b)){var f=d("AdsImageIDClasses").AdsImageID.fromShutterstockID(d("ShutterstockImageUtils").urlToID(b));a=a(f);if(a==null)return c("LoadObject").withError(new Error("Problem with fetching stock image"))}else{f=e(b);e=0;var g=0;if(f.isDone()&&f.hasValue()){f=f.getValueEnforcing();e=f.width;g=f.height}a=c("LoadObject").withValue(new(c("AdsSimpleImage"))({height:g,width:e,url:b}))}return a}e=c("adsCreateSelector")([b,c("adsIsPAC2AvailableSelector")],function(a,b){if(!b)return!1;if(a.isDone()&&a.hasValue()){b=a.getValueEnforcing();return d("AdsUEditorStorifyUtil").isAspectRatioProperForInstagramPlacement(b.width,b.height)===!1}return!1},{name:f.id+".adsUEditorAdgroupStorifyEntryPointVisibilitySelector"});a=c("adsCreateSelector")([c("adsUEditorAccountSelector")],function(a){return a.account_id},{name:f.id+".accountIDSelector"});var k=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){return a.map(function(a){return a.id})},{name:f.id+".adgroupIDsSelector"}),l=c("adsCreateSelector")([c("adsUEditorAdObjectsForSelectedAdgroupsSelector")],d("AdsUEditorSelectorUtils").memoizeBulkAggregation(function(a){return a.map(function(a){var b=a.adgroup;a=d("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a);a=c("AdsAdgroupSemanticFields").message.get(a,b);return(d("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(b)?d("AdsAssetFeedFieldUtils").getAssetAtIndex(a,"text",d("AdsAssetFeedFieldUtils").getDefaultAssetIndex(b,"bodies"))||"":d("AdsAssetFeedFieldUtils").getNonAssetFeedValue(a))||""})}),{name:f.id+".messageSelector"}),m=c("adsCreateSelector")([d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").callToActionType.get)],function(a){return a instanceof c("AdsEmptyValue")?a:a.map(function(a){return d("AdsAssetFeedFieldUtils").firstCTAAsset_TALK_WITH_ACE_BEFORE_USE(a)})},{name:f.id+".ctaSelector"}),n=c("adsCreateStoreSelector")(function(a){return[].concat(d("AdsUEditorAdgroupBulkSelectors").pageID.getStores(a))},function(a){a=d("AdsUEditorAdgroupBulkSelectors").pageID(a);a=d("AdsBulkValueUtils").getUniformValue(a);return a},{name:f.id+".pageIDSelector"}),o=c("adsCreateStoreSelector")([],function(a){a=a.assetKey;return a},{name:f.id+".adsUEditorAdgroupAssetkeySelector"});a=c("adsCreateSelector")([a,k,c("adsUEditorAdgroupHeadlineBulkValueSelector"),l,m,n,c("adsPromotablePagesForAccountSelector"),b,c("adsUEditorTextAssetToolContainerSelector"),o],function(e,a,f,b,c,g,h,i,j,n){j=j.bodyByAssetKey;f=d("AdsBulkValueUtils").getUniformValueOrDefault(f,"");b=d("AdsBulkValueUtils").getUniformValueOrDefault(b,"");j=j!=null&&n!=null?j.get(n):null;n=j!=null?j.bodies.get(0):"";n=(j=n)!=null?j:b;j=d("AdsBulkValueUtils").getUniformValueOrDefault(c,"");b=d("VCKSingleImageUtils").getPageByID(h,g);c=i.isDone()&&i.hasValue()?d("StorifyAdCreativeUtils").convertImageToVCKImageAsset(i.getValueEnforcing()):null;return{accountID:e,adgroupIDs:a,headLine:f,message:n,cta:j,image:c,page:b}},{name:f.id+".adsUEditorStorifyFieldSelector"});g.adsUEditorAdgroupStorifyAssetSelector=b;g.getImageFromHash=i;g.getImageFromlUrl=j;g.adsUEditorAdgroupStorifyEntryPointVisibilitySelector=e;g.adsUEditorStorifyFieldSelector=a},98);
__d("VCCTemplateSectionSelectorPlugin",["VCCTemplateDataPluginUtils"],function(a,b,c,d,e,f,g){"use strict";a={select:function(a){a=a.selectedTemplateData;var b=a.selectedTemplate.content,c=b.disabledLayers;b=a.selectedTemplate.sections;var e=[];b.forEach(function(a,b){a=a.components.some(function(a){return d("VCCTemplateDataPluginUtils").isComponentEnabled(a,c)&&d("VCCTemplateDataPluginUtils").isComponentNotEdited(a)&&a.type==="background"||d("VCCTemplateDataPluginUtils").isComponentEnabled(a,c)&&a.type==="image"&&d("VCCTemplateDataPluginUtils").isImageURLValueSameAsDefaultValue(a)});a||e.push(b)});return{totalDuration:a.selectedTemplate.duration_in_ms,allSections:b,selectedSectionIndex:a.selectedSectionIndex,finishedSectionIndexes:e,disabledLayers:c,templateID:a.selectedTemplate.id}}};b=a;g["default"]=b},98);
__d("VCKDefaultAspectRatioPlugin",["VCCEditingStatusDataProvider","VCCSelectTemplateSectionDataAction","VCCSelectedTemplateDataProvider","VCCTemplateSectionSelector","VCKLoadObjectStatus","vckTemplateSetConstructTemplateSetFromTemplate"],function(a,b,c,d,e,f,g){"use strict";var h=c("VCCEditingStatusDataProvider").toFluxSelector(),i=c("VCCTemplateSectionSelector").toFluxSelector(),j=c("VCCSelectedTemplateDataProvider").toFluxSelector();a={type:"video-creation-kit/aspect-ratio",key:"defaultAspectRatio",pivots:{},getSelectedTemplate:function(){return j().selectedTemplate},getStores:function(){return[].concat(j.getStores(),i.getStores(),h.getStores())},getSelectedTemplateSet:function(){return d("vckTemplateSetConstructTemplateSetFromTemplate").vckTemplateSetConstructTemplateSetFromTemplate(j().selectedTemplate)},getSelectedAspectRatio:function(){return h().selectedAspectRatio},getTemplateInfo:function(){return i()},setSelectSectionIndex:function(a,b){c("VCCSelectTemplateSectionDataAction").dispatch({selectedSectionIndex:a,templateID:b},{line:"72",module:"VCKDefaultAspectRatioPlugin.js"})},getTemplatesLoadObjectStatus:function(a){if(!a||a.isLoading()||!a.getValue())return c("VCKLoadObjectStatus").LOADING;else if(a.hasError())return c("VCKLoadObjectStatus").ERROR;else if(a.hasValue())return c("VCKLoadObjectStatus").HAS_VALUE;else return c("VCKLoadObjectStatus").EMPTY},getTemplatesLoadObjectError:function(a){if(a!=null)return a.getError();else return null},getTemplatesLoadObjectTemplates:function(a){if(a==null)return[];else{a=a.getValue();a=!!a&&a.templates?a.templates:[];return a}},shouldRenderContinueBtnForCustomizationTab:function(){return!1},getTemplatesAvailableFonts:function(a){if(a==null)return{};else{a=a.getValue();a=!!a&&a.available_fonts?a.available_fonts:{};return a}}};b=a;g["default"]=b},98);
__d("StorifyStrings",["fbt"],function(a,b,c,d,e,f,g,h){"use strict";a=h._("Convierte tu foto en una historia");b=h._("Elige y personaliza una plantilla que convertir\u00e1 tu foto en una historia a pantalla completa.");c=h._("Kit de creaci\u00f3n de historias");d=h._("Usar historia");e=h._("Creando tu historia");f=h._("Esto puede tardar unos minutos...");var i=h._("No se ha podido crear la historia"),j=h._("Se ha producido un error al crear tu historia. Vuelve a intentarlo."),k=h._("Escribe un t\u00edtulo..."),l=h._("Escribe una descripci\u00f3n..."),m=h._("\u00bfContinuar sin texto?");h=h._("Tu anuncio no contiene texto. \u00bfQuieres continuar sin a\u00f1adir texto?");g.ALPHA_ENTRY_TITLE=a;g.ALPHA_ENTRY_DESCRIPTION=b;g.ALPHA_DIALOG_TITLE=c;g.ALPHA_CUSTOMIZATION_TAB_PRIMARY_ACTION_LABEL=d;g.ALPHA_CREATING_STORY_TITLE=e;g.ALPHA_CREATING_STORY_SUBTITLE=f;g.ALPHA_VIDEO_GENERATION_FAILED_TITLE=i;g.ALPHA_VIDEO_GENERATION_FAILED_SUBTITLE=j;g.ALPHA_HEADLINE_PLACEHOLDER=k;g.ALPHA_CAPTION_PLACEHOLDER=l;g.BETA_CONFIRM_EMPTY_TEXT_TITLE=m;g.BETA_CONFIRM_EMPTY_TEXT_MESSAGE=h},98);
__d("adsUEditorStorifyHasEnteredTextSelector",["VCCSelectedTemplateDataProvider","VCCTemplateDataPluginUtils","adsCreateSelector","adsUEditorStorifyIsTemplateSelectedSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("VCCSelectedTemplateDataProvider").toFluxSelector();b=c("adsCreateSelector")([a,c("adsUEditorStorifyIsTemplateSelectedSelector")],function(a,b){a=a.selectedTemplate;return!b||h(a)},{name:f.id+".adsUEditorStorifyTemplateHasValidState"});function h(a){return a.sections.some(i)}function i(a){return a.components.filter(function(a){return a.type==="text"}).some(function(a){return!d("VCCTemplateDataPluginUtils").isComponentNotEdited(a)})}e=b;g["default"]=e},98);
__d("AdsTemplatePickerToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolTemplatePickerEntry.react","AdsUEditorStorifyEligibleSelector","AdsUEditorTemplatePickerToolWrapperV2.react","StorifyStrings","adsUEditorStorifyHasEnteredTextSelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={tool:"template_picker",title:d("StorifyStrings").BETA_CONFIRM_EMPTY_TEXT_TITLE,msg:d("StorifyStrings").BETA_CONFIRM_EMPTY_TEXT_MESSAGE};a={type:"creative/tools",key:"template_picker",containerWidth:920,name:h._("Plantilla"),getIcons:function(){return{active:i("671971"),normal:i("884926")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isAvailable:function(a,b,c){return d("AdsUEditorStorifyEligibleSelector").adsUEditorStorifyAvailableSelector},isCreatingNewMedia:!1,validateChangeSet:function(){return c("adsUEditorStorifyHasEnteredTextSelector")()?null:j},category:"TEMPLATE",isFullScreen:!1,entryComponent:c("AdsCreativeToolTemplatePickerEntry.react"),advancedSettingsComponent:c("AdsUEditorTemplatePickerToolWrapperV2.react")};b=a;g["default"]=b},98);
__d("AdsUnifiedTemplatePickerToolPlugin",["ix","AdsAdAssetSelectorTypes","AdsCreativeEditorProvider","AdsCreativeToolUnifiedTemplatePickerEntryContainer.react","AdsCreativeToolUnifiedTemplatePickerPanel.react","AdsPlacementEditorEvents","AdsTemplateUnificationStrings","AdsTemplateUnificationUtils","AdsUEditorStorifyEligibleSelector","ApiDynamicCreativeOptimizationTypes","adsCreateInverseBooleanSelector","adsCreateSelector","immutable"],function(a,b,c,d,e,f,g,h){"use strict";a={type:"creative/tools",key:"unified_template_picker",containerWidth:920,name:d("AdsTemplateUnificationStrings").SINGLE_IMAGE_ENTRY_POINT,getIcons:function(){return{active:h("671971"),normal:h("884926")}},isEnabled:function(a){return d("AdsTemplateUnificationUtils").canUseAdsTemplateUnification(a)},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template,d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image]),isAvailable:function(a,b,e,g){b=a.asset.format;if(b===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template)return!0;if(g===c("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS)return!1;if(a.asset.stockImageID!=null)return!1;b=c("immutable").List(e==null?void 0:e.assetGroups);return b.count()===1&&(b.contains("FACEBOOK_RHC")||b.contains("INSTAGRAM_SHOP")||b.contains("INSTAGRAM_EXPLORE_HOME"))?!1:c("adsCreateSelector")([c("adsCreateInverseBooleanSelector")(d("AdsUEditorStorifyEligibleSelector").adsUEditorStorifyAvailableSelector),c("AdsCreativeEditorProvider").toFluxSelector()],function(a,b){b=b.entryPoint;return a&&![d("AdsPlacementEditorEvents").PlacementEditorEntryPoints.EDIT_IMAGE,d("AdsPlacementEditorEvents").PlacementEditorEntryPoints.EDIT_VIDEO].includes(b)},{name:f.id})},isCreatingNewMedia:!1,category:"TEMPLATE",isFullScreen:!0,entryComponent:c("AdsCreativeToolUnifiedTemplatePickerEntryContainer.react"),advancedSettingsComponent:c("AdsCreativeToolUnifiedTemplatePickerPanel.react")};b=a;g["default"]=b},98);
__d("AdsPACApplyChangesBeforeNavigationModalReducerPlugins",["isTruthy"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{navigationCallback:null})}};b={reduce:function(a,b){return{isShown:!1,navigationCallback:c("isTruthy")(b.clearNavigationCallback)?null:a.navigationCallback}}};d={reduce:function(a,b){return{isShown:!0,navigationCallback:b.navigationCallback}}};g.onClearCallback=a;g.onClose=b;g.onOpen=d},98);
__d("AdsDLOAssetFeedSetLoadingVideoReducerPlugin",["invariant","AdsAPICampaignRecordUtils","AdsAdgroupSpecPathPluginResolver","AdsAssetFeedUtils","AdsAudienceDirectConfig","AdsDLOAdgroupFieldMutators","AdsMediaFormatMutators","AdsUIMediaFormat","AdsVideoStore","Laminar"],function(a,b,c,d,e,f,g,h){"use strict";a={reduce:d("Laminar").withFluxSelectors({videoStoreSelector:c("AdsVideoStore").getSelector},function(a,b,e){if(!a.isShown||b.videoID==null)return a;var f=a.draftAdgroup,g=b.videoThumbnailURL;b=b.videoID;var i=a.primaryLanguage,j=a.languageToVCCUploadingIDs;if(g==null){e=e.videoStoreSelector(b);g=e.preferredThumbnail.uri}f!=null||h(0,231);i!==null&&i!=null||h(0,297);g!==null&&g!=null||h(0,2040);e=a.campaignGroup.objective;var k=d("AdsAPICampaignRecordUtils").getPromotedObjectType(e,a.campaign);k=c("AdsAdgroupSpecPathPluginResolver").resolve({accountType:c("AdsAudienceDirectConfig").accountType,objective:e,promotedObjectType:k});var l=d("AdsAssetFeedUtils").hasMediaFormat(f,c("AdsUIMediaFormat").SINGLE_VIDEO);l||(f=d("AdsMediaFormatMutators").setMediaFormat("VIDEO",f,k,e));j=j.filter(function(a,b){return b!==i});return a.merge({draftAdgroup:d("AdsDLOAdgroupFieldMutators").setVideoID(f,i,b,g),hasUnsavedChanges:!0,languageToVCCUploadingIDs:j})})};b=a;g["default"]=b},98);
__d("AdsUEditorAdgroupIGVideoUploadReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.shouldSetVideoIDAfterUpload===!0||b.isIGVideoEncodingComplete===!0&&a.shouldUpdateVideoIDAfterUpload===!0?{shouldUpdateVideoIDAfterUpload:!0}:{shouldUpdateVideoIDAfterUpload:!1}}};b=a;f["default"]=b},66);
__d("AdsVideoCropAndTrimToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsCreativeVideoCropAndTrimSettingsPanelContainer.react","AdsDataAtom","AdsUEditorAdgroupSetPlatformVideoIDDataAction","AdsUEditorAdgroupSetVideoAtIndexDataAction","AdsUEditorAdgroupSetVideoIDDataAction","AdsUEditorAdgroupUpdateCustomizationVideoDataAction","AdsVCAExperimentSelectors","ApiDynamicCreativeOptimizationTypes","VCEEligibilityUtils","VCEUpdateUploadStatusDataAction","VCEUploadStatus","adsCreateSelector","adsCreateThunkSelector","adsCreativeContainerMediaFormatForPlacements","adsCreativeContainerStartBackgroundVideoEditing","adsUEditorAdgroupOptimizationTypeSelector","adsUEditorVCEToolsAvailabilitySelector","adsUEditorVideoCropperAvailabilitySelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"video_crop_and_trim",containerWidth:904,category:"MEDIA",isFullScreen:!0,advancedSettingsComponent:c("AdsCreativeVideoCropAndTrimSettingsPanelContainer.react"),name:h._("Crop & trim"),getIcons:function(){return{active:i("798396"),normal:i("798397")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a,b){return c("adsCreateSelector")([c("adsUEditorAdgroupOptimizationTypeSelector"),c("adsUEditorVideoCropperAvailabilitySelector"),c("adsUEditorVCEToolsAvailabilitySelector"),c("adsCreateThunkSelector")(d("AdsVCAExperimentSelectors").adsMergeCropAndTrimVCESurfaceExperimentSelector)],function(b,e,f,g){if(b===c("ApiDynamicCreativeOptimizationTypes").LANGUAGE||f)return!1;b=a.asset;if(b.format!=="video")return!1;f=b.video;if(!d("VCEEligibilityUtils").isEligibleForCropping(f))return!1;b=e&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("video");return b&&g()},{name:f.id})},isCreatingNewMedia:!0,mutateDCOAdgroup:function(a,b,d,e,f){e=e.video_crop_and_trim;if(b==null)return;b=(b=e==null?void 0:e.autoCroppingResultVideoID)!=null?b:e==null?void 0:e.manualCropAndTrimResultVideoID;if(b==null)return;if(d==null||d.parentContainer!==c("AdsCreativeToolParentContainerType").VideoDCOAdgroupAssetEditor&&d.parentContainer!==c("AdsCreativeToolParentContainerType").VideoPlacementEditor)return;e=a.adgroupIDs;a=d.assetIndex;a!=null&&a>=0&&c("AdsUEditorAdgroupSetVideoAtIndexDataAction").dispatch({hostID:f,adgroupIDs:e,assetIndex:a,videoID:b},{line:"169",module:"AdsVideoCropAndTrimToolPlugin.js"})},mutatePACAdgroup:function(a,b,d,e,f){var g;e=e.video_crop_and_trim;if(b==null)return;g=(g=e==null?void 0:e.autoCroppingResultVideoID)!=null?g:e==null?void 0:e.manualCropAndTrimResultVideoID;if(g==null)return;e=a.adgroupIDs;a=b.assetKey;b=d&&d.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor?d.isBaseAsset:!0;c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({hostID:f,adgroupIDs:e,isBaseAsset:b,label:a,videoID:g},{line:"205",module:"AdsVideoCropAndTrimToolPlugin.js"})},mutateRegularAdgroup:function(a,b,d,e,f){a=e.video_crop_and_trim;if(b==null||d==null)return;b=(e=a==null?void 0:a.autoCroppingResultVideoID)!=null?e:a==null?void 0:a.manualCropAndTrimResultVideoID;if(b==null)return;if(d.isBaseAsset===!0){a=(e=a==null?void 0:a.isCropTestEnrolled)!=null?e:!1;c("AdsUEditorAdgroupSetVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:b,isCropTestEnrolled:a},{line:"235",module:"AdsVideoCropAndTrimToolPlugin.js"})}else c("AdsUEditorAdgroupSetPlatformVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:b,platform:"instagram"},{line:"242",module:"AdsVideoCropAndTrimToolPlugin.js"})},onCancelDialog:function(a,b){c("AdsDataAtom").addPostDispatchCallback(function(){c("VCEUpdateUploadStatusDataAction").dispatch({status:c("VCEUploadStatus").ABORT},{line:"253",module:"AdsVideoCropAndTrimToolPlugin.js"})})},onMoveToBackground:function(a,b,d){c("adsCreativeContainerStartBackgroundVideoEditing")(a,b,d.hostID)},tab_testid:"creative_container_video_crop_and_trim_tab"};b=a;g["default"]=b},98);
__d("AdsVideoCropperChangeSet",[],function(a,b,c,d,e,f){"use strict";a="ORIGINAL";b="1:1";f.DEFAULT_MANUAL_ASPECT_RATIO=a;f.DEFAULT_AUTO_ASPECT_RATIO=b},66);
__d("AdsVideoCropperToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsCreativeVideoCropperSettingsPanelContainer.react","AdsDataAtom","AdsUEditorAdgroupSetPlatformVideoIDDataAction","AdsUEditorAdgroupSetVideoAtIndexDataAction","AdsUEditorAdgroupSetVideoIDDataAction","AdsUEditorAdgroupUpdateCustomizationVideoDataAction","AdsVCAExperimentSelectors","ApiDynamicCreativeOptimizationTypes","VCEEligibilityUtils","VCEUpdateUploadStatusDataAction","VCEUploadStatus","adsCreateSelector","adsCreateThunkSelector","adsCreativeContainerMediaFormatForPlacements","adsCreativeContainerStartBackgroundVideoEditing","adsUEditorAdgroupOptimizationTypeSelector","adsUEditorVCEToolsAvailabilitySelector","adsUEditorVideoCropperAvailabilitySelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"video_crop",containerWidth:904,category:"MEDIA",isFullScreen:!0,advancedSettingsComponent:b("AdsCreativeVideoCropperSettingsPanelContainer.react"),name:h._("Recortar"),getIcons:function(){return{active:i("798396"),normal:i("798397")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a,b){return c("adsCreateSelector")([c("adsUEditorAdgroupOptimizationTypeSelector"),c("adsUEditorVideoCropperAvailabilitySelector"),c("adsUEditorVCEToolsAvailabilitySelector"),c("adsCreateThunkSelector")(d("AdsVCAExperimentSelectors").adsMergeCropAndTrimVCESurfaceExperimentSelector)],function(b,e,f,g){if(b===c("ApiDynamicCreativeOptimizationTypes").LANGUAGE||f)return!1;b=a.asset;if(b.format!=="video")return!1;f=b.video;if(!d("VCEEligibilityUtils").isEligibleForCropping(f))return!1;b=e&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("video");return b&&!g()},{name:f.id})},isCreatingNewMedia:!0,mutateDCOAdgroup:function(a,b,d,e,f){e=e.video_crop;if(b==null)return;b=(b=e==null?void 0:e.autoCroppingResultVideoID)!=null?b:e==null?void 0:e.manualCroppingResultVideoID;if(b==null)return;if(d==null||d.parentContainer!==c("AdsCreativeToolParentContainerType").VideoDCOAdgroupAssetEditor&&d.parentContainer!==c("AdsCreativeToolParentContainerType").VideoPlacementEditor)return;e=a.adgroupIDs;a=d.assetIndex;a!=null&&a>=0&&c("AdsUEditorAdgroupSetVideoAtIndexDataAction").dispatch({hostID:f,adgroupIDs:e,assetIndex:a,videoID:b},{line:"168",module:"AdsVideoCropperToolPlugin.js"})},mutatePACAdgroup:function(a,b,d,e,f){var g;e=e.video_crop;if(b==null)return;g=(g=e==null?void 0:e.autoCroppingResultVideoID)!=null?g:e==null?void 0:e.manualCroppingResultVideoID;if(g==null)return;e=a.adgroupIDs;a=b.assetKey;b=d&&d.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor?d.isBaseAsset:!0;c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({hostID:f,adgroupIDs:e,isBaseAsset:b,label:a,videoID:g},{line:"204",module:"AdsVideoCropperToolPlugin.js"})},mutateRegularAdgroup:function(a,b,d,e,f){a=e.video_crop;if(b==null||d==null)return;b=(e=a==null?void 0:a.autoCroppingResultVideoID)!=null?e:a==null?void 0:a.manualCroppingResultVideoID;if(b==null)return;if(d.isBaseAsset===!0){a=(e=a==null?void 0:a.isCropTestEnrolled)!=null?e:!1;c("AdsUEditorAdgroupSetVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:b,isCropTestEnrolled:a},{line:"234",module:"AdsVideoCropperToolPlugin.js"})}else c("AdsUEditorAdgroupSetPlatformVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:b,platform:"instagram"},{line:"241",module:"AdsVideoCropperToolPlugin.js"})},onCancelDialog:function(a,b){c("AdsDataAtom").addPostDispatchCallback(function(){c("VCEUpdateUploadStatusDataAction").dispatch({status:c("VCEUploadStatus").ABORT},{line:"252",module:"AdsVideoCropperToolPlugin.js"})})},onMoveToBackground:function(a,b,d){c("adsCreativeContainerStartBackgroundVideoEditing")(a,b,d.hostID)},tab_testid:"creative_container_video_cropper_tab"};e=a;g["default"]=e},98);
__d("ShowreelIntersectionObserver",["IntersectionObserver","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=new(c("IntersectionObserver"))(b,{root:null});if(a instanceof Element)this.$1.observe(a);else{throw c("unrecoverableViolation")("Intersection observer expected an Element but got "+((b=a==null?void 0:a.nodeName)!=null?b:"null"),"Showreel")}}var b=a.prototype;b.dispose=function(){this.$1.disconnect()};return a}();g["default"]=a},98);
__d("ShowreelRendererUtils",["ShowreelPIXIJSTyped"],function(a,b,c,d,e,f,g){"use strict";var h=2;function a(a,b,d,e){var f=Math.min(window.devicePixelRatio||1,h),g;switch(d){case"canvas":g=new(c("ShowreelPIXIJSTyped").CanvasRenderer)({width:a,height:b,resolution:f,view:e});break;case"webgl":g=new(c("ShowreelPIXIJSTyped").WebGLRenderer)({width:a,height:b,resolution:f,transparent:"notMultiplied",preserveDrawingBuffer:!0,clearBeforeRender:!0,antialias:!0,view:e});break;default:throw new Error("Unknown render target: "+d)}a=c("ShowreelPIXIJSTyped").ticker.shared;a.autoStart=!1;a.stop();g.plugins.interaction.destroy();return g}g.createPixiRenderer=a},98);
__d("ShowreelSharedRenderer.react",["ShowreelRendererUtils","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={renderer:d("ShowreelRendererUtils").createPixiRenderer(c.props.width,c.props.height,c.props.target)},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.render=function(){var a={renderer:this.state.renderer,playbackMode:this.props.playbackMode};return h.jsx(b.Context.Provider,{value:a,children:this.props.children})};return b}(h.Component);a.Context=h.createContext(null);g["default"]=a},98);
__d("ShowreelAPNGLoader",["ShowreelPIXIJSTyped","apng-js","recoverableViolation","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h={NONE:0,BACKGROUND:1,PREVIOUS:2},i={SOURCE:0,OVER:1};a=function(){function a(){this.$1=document.createElement("canvas"),this.$2=this.$1.getContext("2d")}var d=a.prototype;d.getFrames=function(a){var d,e,f,g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:d=c("apng-js")["default"](a.data);if(!(d instanceof Error)){m.next=4;break}c("recoverableViolation")("Failed to parse APNG","Showreel",{error:d});return m.abrupt("return",[]);case 4:(e=d.width,f=d.height,g=d.frames),this.$1.width=e,this.$1.height=f,this.$2.clearRect(0,0,e,f),h=[],i=null,j=0;case 11:if(!(j<g.length)){m.next=22;break}k=j===g.length-1;l=g[j];m.next=16;return b("regeneratorRuntime").awrap(this.$3(l));case 16:i=m.sent,h.push({texture:this.$4(e,f),time:l.delay}),k||this.$5(l,i);case 19:j++;m.next=11;break;case 22:return m.abrupt("return",h);case 23:case"end":return m.stop()}},null,this)};d.$4=function(a,b){var d=document.createElement("canvas"),e=d.getContext("2d");d.width=a;d.height=b;e.drawImage(this.$1,0,0,a,b);return c("ShowreelPIXIJSTyped").Texture.fromCanvas(d)};d.$3=function(a){var d,e,f,g,j,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return b("regeneratorRuntime").awrap(a.createImage());case 2:d=a.top,e=a.left,f=a.width,g=a.height,j=a.blendOp,k=a.disposeOp,l=a.imageElement;if(!(l==null)){n.next=5;break}return n.abrupt("return",c("recoverableViolation")("Could not load APNG frame data","Showreel"));case 5:m=null;k===h.PREVIOUS&&(m=this.$2.getImageData(e,d,f,g));j===i.SOURCE&&this.$2.clearRect(e,d,f,g);this.$2.drawImage(l,e,d);return n.abrupt("return",m);case 10:case"end":return n.stop()}},null,this)};d.$5=function(a,b){var d=a.top,e=a.left,f=a.width,g=a.height;a=a.disposeOp;if(a===h.BACKGROUND)this.$2.clearRect(e,d,f,g);else if(a===h.PREVIOUS){if(b==null){c("recoverableViolation")("Previous frame dispose operation was PREVIOUS, but got empty previous frame data","Showreel");return}this.$2.putImageData(b,e,d)}};return a}();g["default"]=a},98);
__d("ShowreelAssets",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={},this.$2=[]}var b=a.prototype;b.size=function(){return Object.keys(this.$1).length};b.get=function(a){return this.$1[a]||null};b.add=function(a){this.$1[a.id]=a,a.type==="video"&&this.$2.push(a)};b.forEachVideo=function(a){this.$2.forEach(a)};b.mapVideos=function(a){return this.$2.map(a)};return a}();f["default"]=a},66);
/**
 * License: https://www.facebook.com/legal/license/YwRHAVtN79l/
 */
__d("ShowreelThirdPartyGifuct",[],function(a,b,c,d,e,f){function g(a){this.data=a,this.pos=0}g.prototype.readByte=function(){return this.data[this.pos++]};g.prototype.peekByte=function(){return this.data[this.pos]};g.prototype.readBytes=function(a){var b=new Array(a);for(var c=0;c<a;c++)b[c]=this.readByte();return b};g.prototype.peekBytes=function(a){var b=new Array(a);for(var c=0;c<a;c++)b[c]=this.data[this.pos+c];return b};g.prototype.readString=function(a){var b="";for(var c=0;c<a;c++)b+=String.fromCharCode(this.readByte());return b};g.prototype.readBitArray=function(){var a=[],b=this.readByte();for(var c=7;c>=0;c--)a.push(!!(b&1<<c));return a};g.prototype.readUnsigned=function(a){var b=this.readBytes(2);if(a)return(b[1]<<8)+b[0];else return(b[0]<<8)+b[1]};function h(a){this.stream=new g(a),this.output={}}h.prototype.parse=function(a){this.parseParts(this.output,a);return this.output};h.prototype.parseParts=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];this.parsePart(a,d)}};h.prototype.parsePart=function(a,b){var c=b.label;if(b.requires&&!b.requires(this.stream,this.output,a))return;if(b.loop){var d=[];while(b.loop(this.stream)){var e={};this.parseParts(e,b.parts);d.push(e)}a[c]=d}else b.parts?(e={},this.parseParts(e,b.parts),a[c]=e):b.parser?(e=b.parser(this.stream,this.output,a),b.skip||(a[c]=e)):b.bits&&(a[c]=this.parseBits(b.bits))};function i(a){return a.reduce(function(a,b){return a*2+b},0)}h.prototype.parseBits=function(a){var b={},c=this.stream.readBitArray();for(var d in a){var e=a[d];e.length?b[d]=i(c.slice(e.index,e.index+e.length)):b[d]=c[e.index]}return b};b={readByte:function(){return function(a){return a.readByte()}},readBytes:function(a){return function(b){return b.readBytes(a)}},readString:function(a){return function(b){return b.readString(a)}},readUnsigned:function(a){return function(b){return b.readUnsigned(a)}},readArray:function(a,b){return function(c,d,e){d=b(c,d,e);e=new Array(d);for(var f=0;f<d;f++)e[f]=c.readBytes(a);return e}}};c={label:"blocks",parser:function(a){var b=[],c=0;for(var d=a.readByte();d!==c;d=a.readByte())b=b.concat(a.readBytes(d));return b}};d={label:"gce",requires:function(a){a=a.peekBytes(2);return a[0]===33&&a[1]===249},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"byteSize",parser:b.readByte()},{label:"extras",bits:{future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}}},{label:"delay",parser:b.readUnsigned(!0)},{label:"transparentColorIndex",parser:b.readByte()},{label:"terminator",parser:b.readByte(),skip:!0}]};f={label:"image",requires:function(a){a=a.peekByte();return a===44},parts:[{label:"code",parser:b.readByte(),skip:!0},{label:"descriptor",parts:[{label:"left",parser:b.readUnsigned(!0)},{label:"top",parser:b.readUnsigned(!0)},{label:"width",parser:b.readUnsigned(!0)},{label:"height",parser:b.readUnsigned(!0)},{label:"lct",bits:{exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}}}]},{label:"lct",requires:function(a,b,c){return c.descriptor.lct.exists},parser:b.readArray(3,function(a,b,c){return Math.pow(2,c.descriptor.lct.size+1)})},{label:"data",parts:[{label:"minCodeSize",parser:b.readByte()},c]}]};var j={label:"text",requires:function(a){a=a.peekBytes(2);return a[0]===33&&a[1]===1},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"blockSize",parser:b.readByte()},{label:"preData",parser:function(a,b,c){return a.readBytes(c.text.blockSize)}},c]},k={label:"application",requires:function(a,b,c){b=a.peekBytes(2);return b[0]===33&&b[1]===255},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"blockSize",parser:b.readByte()},{label:"id",parser:function(a,b,c){return a.readString(c.blockSize)}},c]};c={label:"comment",requires:function(a,b,c){b=a.peekBytes(2);return b[0]===33&&b[1]===254},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},c]};d={label:"frames",parts:[d,k,c,f,j],loop:function(a){a=a.peekByte();return a===33||a===44}};var l=[{label:"header",parts:[{label:"signature",parser:b.readString(3)},{label:"version",parser:b.readString(3)}]},{label:"lsd",parts:[{label:"width",parser:b.readUnsigned(!0)},{label:"height",parser:b.readUnsigned(!0)},{label:"gct",bits:{exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}}},{label:"backgroundColorIndex",parser:b.readByte()},{label:"pixelAspectRatio",parser:b.readByte()}]},{label:"gct",requires:function(a,b){return b.lsd.gct.exists},parser:b.readArray(3,function(a,b){return Math.pow(2,b.lsd.gct.size+1)})},d];function a(a){a=new Uint8Array(a);a=new h(a);this.raw=a.parse(l);this.raw.hasImages=!1;for(var a=0;a<this.raw.frames.length;a++)if(this.raw.frames[a].image){this.raw.hasImages=!0;break}}a.prototype.decompressFrame=function(a,b){if(a>=this.raw.frames.length)return null;a=this.raw.frames[a];if(a.image){var c=a.image.descriptor.width*a.image.descriptor.height;d=d(a.image.data.minCodeSize,a.image.data.blocks,c);a.image.descriptor.lct.interlaced&&(d=e(d,a.image.descriptor.width));c={pixels:d,dims:{top:a.image.descriptor.top,left:a.image.descriptor.left,width:a.image.descriptor.width,height:a.image.descriptor.height}};a.image.descriptor.lct&&a.image.descriptor.lct.exists?c.colorTable=a.image.lct:c.colorTable=this.raw.gct;a.gce&&(c.delay=(a.gce.delay||10)*10,c.disposalType=a.gce.extras.disposal,a.gce.extras.transparentColorGiven&&(c.transparentIndex=a.gce.transparentColorIndex));b&&(c.patch=f(c));return c}return null;function d(a,b,c){var d=4096,e=-1,f=c,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;c=new Array(c);var v=new Array(d),w=new Array(d),x=new Array(d+1);a=a;h=1<<a;k=h+1;g=h+2;m=e;j=a+1;i=(1<<j)-1;for(o=0;o<h;o++)v[o]=0,w[o]=o;q=n=count=r=s=u=t=0;for(p=0;p<f;){if(s===0){if(n<j){q+=b[t]<<n;n+=8;t++;continue}o=q&i;q>>=j;n-=j;if(o>g||o==k)break;if(o==h){j=a+1;i=(1<<j)-1;g=h+2;m=e;continue}if(m==e){x[s++]=w[o];m=o;r=o;continue}l=o;o==g&&(x[s++]=r,o=m);while(o>h)x[s++]=w[o],o=v[o];r=w[o]&255;x[s++]=r;g<d&&(v[g]=m,w[g]=r,g++,(g&i)===0&&g<d&&(j++,i+=g));m=l}s--;c[u++]=x[s];p++}for(p=u;p<f;p++)c[p]=0;return c}function e(a,b){var c=new Array(a.length),d=a.length/b,e=function(e,d){d=a.slice(d*b,(d+1)*b);c.splice.apply(c,[e*b,b].concat(d))},f=[0,4,2,1],g=[8,8,4,2],h=0;for(var i=0;i<4;i++)for(var j=f[i];j<d;j+=g[i])e(j,h),h++;return c}function f(b){var a=b.pixels.length,c=new Uint8ClampedArray(a*4);for(var d=0;d<a;d++){var e=d*4,f=b.pixels[d],g=b.colorTable[f];c[e]=g[0];c[e+1]=g[1];c[e+2]=g[2];c[e+3]=f!==b.transparentIndex?255:0}return c}};a.prototype.decompressFrames=function(a){var b=[];for(var c=0;c<this.raw.frames.length;c++){var d=this.raw.frames[c];d.image&&b.push(this.decompressFrame(c,a))}return b};e.exports=a},null);
__d("ShowreelGIFLoader",["ShowreelPIXIJSTyped","ShowreelThirdPartyGifuct"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=document.createElement("canvas"),this.$2=this.$1.getContext("2d"),this.$3={}}var b=a.prototype;b.getFrames=function(a){var b=this;a=a.data;var d=document.createElement("canvas"),e=d.getContext("2d");a=new(c("ShowreelThirdPartyGifuct"))(a);a=a.decompressFrames(!0);var f=a[0].dims,g=f.width,h=f.height;this.$1.width=g;this.$1.height=h;d.width=g*a.length;d.height=h;var i=c("ShowreelPIXIJSTyped").BaseTexture.fromCanvas(d);return a.map(function(a,d,f){var j=a.patch,k=a.dims;a=a.delay;var l=d-1,m=b.createImageData(k.width,k.height),n=k.left;k=k.top;d=d*g;var o=0;m.data.set(j);b.$2.clearRect(0,0,g,h);b.$2.putImageData(m,n,k);j=b.$2.getImageData(0,0,g,h);if(l>=0){m=f[l].disposalType;if(m<2){n=e.getImageData(l*g,0,g,h);b.addBackground(j,n)}}e.putImageData(j,d,o);k=new(c("ShowreelPIXIJSTyped").Texture)(i,new(c("ShowreelPIXIJSTyped").Rectangle)(d,o,g,h));return{texture:k,time:a}})};b.addBackground=function(a,b){for(var c=0;c<a.data.length;c+=4){var d=a.data[c+3]===0;d&&(a.data[c]=b.data[c],a.data[c+1]=b.data[c+1],a.data[c+2]=b.data[c+2],a.data[c+3]=b.data[c+3])}};b.createImageData=function(a,b){var c=a+":"+b;this.$3[c]||(this.$3[c]=this.$2.createImageData(a,b));return this.$3[c]};return a}();g["default"]=a},98);
__d("ShowreelAssetLoader",["BodymovinTypes.flow","Promise","ShowreelAPNGLoader","ShowreelAssets","ShowreelGIFLoader","ShowreelPIXIJSTyped","promiseDone","regeneratorRuntime"],function(a,b,c,d,e,f){"use strict";var g=b("BodymovinTypes.flow").switchSource,h=b("ShowreelPIXIJSTyped").loaders.Loader,i={mp4:"VideoSource",mov:"VideoSource",png:"ImageSource",jpg:"ImageSource",jpeg:"ImageSource",gif:"ImageSource",apng:"ImageSource",mp3:"AudioSource",wav:"AudioSource"};a=b("ShowreelPIXIJSTyped").loaders.Loader.Resource;var j=a.LOAD_TYPE,k=a.XHR_RESPONSE_TYPE,l=/(.*)__local__(.*)/,m=new Uint8Array([137,80,78,71,13,10,26,10]);e.exports=function(){function a(){var a=this;this.$8=function(b){var c=b.url;if(!c||a.$4[b.id]===c)return;var d=a.$2.resources[b.id];d&&(d.isLoading&&d.abort(),delete a.$2.resources[b.id]);a.$4[b.id]=c;var e=q(c);if(!e)throw new Error("Invalid url: "+c+". File extension of asset not found in url.");d=i[e];d||(d="ImageSource");var f=l.exec(c);f&&(c=f[1]);b._type=d;g(b,{ImageSource:function(b){var d=e==="gif",f=e==="png";d=d||f;f=d?j.XHR:j.IMAGE;d=d?k.BUFFER:k.DEFAULT;b={name:b.id,url:c,crossOrigin:!0,loadType:f,xhrType:d,metadata:{extension:e}};a.$2.add(b)},AudioSource:function(b){var d={name:b.id,url:c,crossOrigin:!0,loadType:j.AUDIO,xhrType:k.BUFFER};a.$2.add(d,function(a){a.audio=b})},VideoSource:function(b){a.$10(b,c)}})};this.$7=function(c,d){var e=c.metadata.extension,f=function(a){c.frames=a,c.texture=a[0].texture};if(e==="gif")f(a.$5.getFrames(c)),d();else if(e==="png"){e=new Uint8Array(c.data);var g=p(e);g?b("promiseDone")(a.$6.getFrames(c).then(f),d,d):b("promiseDone")(n(e,"image/png"),function(a){c.texture=b("ShowreelPIXIJSTyped").Texture.from(a),d()},d)}else d()};this.$4={};this.$1=new(b("ShowreelAssets"))();this.$5=new(b("ShowreelGIFLoader"))();this.$6=new(b("ShowreelAPNGLoader"))();this.$3=[];this.$2=new h();this.$2.use(this.$7)}var c=a.prototype;c.getAssets=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:if(!(!a.assets||a.assets.length===0)){c.next=2;break}return c.abrupt("return",this.$1);case 2:a.assets.forEach(this.$8);c.next=5;return b("regeneratorRuntime").awrap(b("Promise").all([this.$9()].concat(this.$3)));case 5:return c.abrupt("return",this.$1);case 6:case"end":return c.stop()}},null,this)};c.isLoaded=function(a){var b=this;a=a.assets.some(function(a){var c=a.url;return!c||b.$4[a.id]===c?!1:!0});return!a};c.$9=function(){var a=this,c=this.$2;return new(b("Promise"))(function(b,d){c.onError.add(d),c.onComplete.add(function(){Object.keys(c.resources).forEach(function(b){var d=c.resources[b].loadType;if(d===j.AUDIO){d={id:b,audio:c.resources[b].data,type:"audio"};a.$1.add(d)}else{d=c.resources[b];var e=d.texture;d=d.frames;b={id:b,type:"image",texture:e,frames:d};a.$1.add(b)}}),b()}),c.load()})};c.$10=function(a,c){var d=this,e=new(b("Promise"))(function(f,g){var h=document.createElement("video");h.setAttribute("webkit-playsinline","");h.setAttribute("playsinline","");h.src=c;h.addEventListener("error",g);a.local||(h.crossOrigin="anonymous");var i=new(b("ShowreelPIXIJSTyped").VideoBaseTexture)(h);i.autoPlay=!1;i.autoUpdate=!1;i.on("loaded",function(){h.pause();h.currentTime=0;var c={id:a.id,video:h,type:"video",texture:new(b("ShowreelPIXIJSTyped").Texture)(i)};a.duration=h.duration;a.width=h.videoWidth;a.height=h.videoHeight;d.$1.add(c);f();c=d.$3.indexOf(e);c>-1&&d.$3.splice(c,1)});h.load()});this.$3.push(e)};return a}();function n(a,c){a=new Blob([a],{type:c});c=URL.createObjectURL(a);var d=new Image();d.src=c;return new(b("Promise"))(function(a,b){d.onload=function(){URL.revokeObjectURL(d.src),a(d)},d.onerror=b})}function o(a){return m.every(function(b,c){return a[c]===b})}function p(a){var b=8,c=4,d=4,e=4,f="IEND",g="acTL",h="IDAT";if(!o(a))return!1;var i=new DataView(a.buffer);b=b;var j=null;while(b<a.length&&j!==f){var k=i.getUint32(b),l=b+c,m=l+d;j=String.fromCharCode.apply(String,a.subarray(l,m));if(j===g)return!0;if(j===h)return!1;b=m+k+e}return!1}function q(a){var b=a.indexOf("?"),c=a.indexOf("#");b=Math.min(b>-1?b:a.length,c>-1?c:a.length);a=a.substring(0,b);return a.substring(a.lastIndexOf(".")+1).toLowerCase()}},null);
__d("ShowreelUtils",["recoverableViolation","setTimeout"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=!1;return function(){d||(a.apply(null,arguments),d=!0,c("setTimeout")(function(){d=!1},b))}}var h=Object.prototype.toString;function i(a){switch(h.call(a)){case"[object String]":case"[object Number]":case"[object Boolean]":case"[object Null]":case"[object Undefined]":return!0}return!1}function j(a,b){var d=function(a){return function(b,c){return j(b,a[c])}},e=function(a,b){return function(c){return c in a&&c in b&&j(a[c],b[c])}};if(h.call(a)!==h.call(b))return!1;if(i(a))return a===b;if(Array.isArray(a)&&Array.isArray(b))return a.length===b.length&&a.every(d(b));if(typeof a==="object"&&typeof b==="object"&&!Array.isArray(a)&&a!==null&&b!==null){d=Object.keys(a);var f=Object.keys(b);return d.length!==f.length?!1:d.every(e(a,b))}c("recoverableViolation")("This point shouldn't be reached; deep equals should handle cases before.","Showreel");return!1}function b(a){return typeof a==="number"&&isFinite(a)&&Math.floor(a)===a}g.throttle=a;g.isPrimitive=i;g.deepEquals=j;g.isInteger=b},98);
__d("ShowreelFontLoader",["Promise","ShowreelFontUtils","ShowreelUtils","nullthrows","regeneratorRuntime","shallowEqual"],function(a,b,c,d,e,f,g){"use strict";var h=!1;a=function(){function a(a,b,c,d){d===void 0&&(d=!1),this.$2={},this.$1=a,this.$3=b,this.$4=c,this.$5=null,this.$6=d}var e=a.prototype;e.load=function(a){var c=this,e,f,g,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:if(a){j.next=2;break}return j.abrupt("return");case 2:e=a.font_resources||{};if(this.$7(e)){j.next=5;break}return j.abrupt("return");case 5:this.$5=e;/Android/i.test(navigator.userAgent)&&e["Font1-Medium"]&&(e["Font1-Bold"]=e["Font1-Medium"]);j.next=9;return b("regeneratorRuntime").awrap(this.$8(e));case 9:f=j.sent;if(!(f==null)){j.next=12;break}return j.abrupt("return");case 12:g=Object.keys(f).map(function(a){if(a==="facebook_emoji")return;var b=d("ShowreelFontUtils").getNamespacedFontName(a,c.$4.id);a=f[a];return c.$9(b,a.uri)});i=f.facebook_emoji;h==!1&&i!=null&&(h=!0,g.push(this.$9("facebook_emoji",i.uri)));j.next=17;return b("regeneratorRuntime").awrap(b("Promise").all(g));case 17:case"end":return j.stop()}},null,this)};e.$9=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(typeof document.fonts==="object"&&typeof FontFace==="function")){f.next=7;break}d=new FontFace(a,"url("+c+") format('truetype')");f.next=4;return b("regeneratorRuntime").awrap(d.load());case 4:document.fonts.add(d);f.next=9;break;case 7:e="@font-face {\n        font-family: '"+a+"';\n        src: url("+c+") format('truetype');\n      }",this.$1.insertRule(e,0);case 9:case"end":return f.stop()}},null,this)};e.isLoaded=function(a){a=a.font_resources||{};return!this.$7(a)};e.$7=function(a){if(!this.$5)return!0;if(this.$6)return!d("ShowreelUtils").deepEquals(a,this.$5);if(!c("shallowEqual")(a,this.$5))return!0;a=Object.values(a)||[];if(typeof a[0]==="string")return!1;var b=Object.values(this.$5)||[];return a.some(function(a){return!b.find(function(b){return b.uri===a.uri})})};e.$8=function(a){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:d=Object.keys(a);if(!(d.length===0)){g.next=3;break}return g.abrupt("return",null);case 3:e=d.reduce(function(b,c){c=a[c];typeof c==="string"&&b.push(c);return b},[]);if(!(e.length===0)){g.next=6;break}return g.abrupt("return",a);case 6:g.next=8;return b("regeneratorRuntime").awrap(this.$10(e));case 8:f=g.sent;return g.abrupt("return",d.reduce(function(b,d){var e=a[d];typeof e==="string"?b[d]=c("nullthrows")(f[e],"Could not find font "+e+" in cache"):b[d]=e;return b},{}));case 10:case"end":return g.stop()}},null,this)};e.$10=function(a){var d,e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:d=Object.keys(this.$2);e=a.filter(function(a){return d.indexOf(a)===-1});if(!(e.length===0)){h.next=4;break}return h.abrupt("return",this.$2);case 4:f=c("nullthrows")(this.$3,"Must specify a FontsResolver (resolveFonts) in ShowreelVideoPlayer");h.next=7;return b("regeneratorRuntime").awrap(f(e));case 7:g=h.sent;Object.assign(this.$2,g);return h.abrupt("return",this.$2);case 10:case"end":return h.stop()}},null,this)};return a}();g["default"]=a},98);
__d("ShowreelContentLoader",["invariant","Promise","ShowreelAssetLoader","ShowreelFontLoader","nullthrows","promiseWithTimeout","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h=13e3;e.exports=function(){function a(a,c,d){d===void 0&&(d=!1),this.$6=c,this.$2=new(b("ShowreelAssetLoader"))(),this.$1=new(b("ShowreelFontLoader"))(window.document.styleSheets[0],a,c,d),this.$5=d}var c=a.prototype;c.load=function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(!(this.isLoaded(a,c)&&this.$4!=null)){d.next=4;break}if(!(this.$7!=null)){d.next=3;break}return d.abrupt("return",this.$7);case 3:return d.abrupt("return",{assets:b("nullthrows")(this.$4)});case 4:this.$7=this.$8(a,c);return d.abrupt("return",this.$7);case 6:case"end":return d.stop()}},null,this)};c.$8=function(a,c){var d=this,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e=function(){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(b("promiseWithTimeout")(d.$9(a,c),{timeout:h,rejectOnTimeout:!0}));case 2:e=f.sent;return f.abrupt("return",b("nullthrows")(e));case 4:case"end":return f.stop()}},null,this)};f.prev=1;f.next=4;return b("regeneratorRuntime").awrap(e());case 4:return f.abrupt("return",f.sent);case 7:f.prev=7;f.t0=f["catch"](1);this.$2=new(b("ShowreelAssetLoader"))();f.prev=10;f.next=13;return b("regeneratorRuntime").awrap(e());case 13:return f.abrupt("return",f.sent);case 16:f.prev=16;f.t1=f["catch"](10);throw new Error("Showreel Content failed to load");case 19:case"end":return f.stop()}},null,this,[[1,7],[10,16]])};c.$9=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(b("Promise").all([this.$2.getAssets(c),this.$1.load(a)]));case 2:d=f.sent;e=d[0];e.size()===c.assets.length||g(0,17365);this.$4=e;this.$3=a;this.$7=null;return f.abrupt("return",{assets:e});case 9:case"end":return f.stop()}},null,this)};c.isLoaded=function(a,b){return this.$5?this.$2.isLoaded(b)&&this.$1.isLoaded(a):!1};return a}()},null);
__d("ShowreelAudioTrack",["invariant"],function(a,b,c,d,e,f,g){"use strict";e.exports=function(){function a(a,b){this.$3=0,this.$1=a,this.$2=new window.Audio(),this.$1.children[0]instanceof HTMLSourceElement||g(0,13420),this.$2.src=this.$1.children[0].src,this.$2.preload="auto",this.$2.volume=b.volume,this.$3=b.start,this.$2.currentTime=this.$3,this.$2.load()}var b=a.prototype;b.play=function(){this.$2.play()};b.stop=function(){this.$2.pause()};b.setCurrentTime=function(a){this.$2.currentTime=this.$3+a};b.destroy=function(){this.stop()};return a}()},null);
__d("ShowreelAudioManager",["ShowreelAudioTrack"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$1=b;this.$2=a;this.$3=[];this.$2.audioTracks!==void 0&&this.$2.audioTracks.forEach(function(a){var b=d.$1.get(a.referenceId);if(b!=null&&b.type==="audio"){b=new(c("ShowreelAudioTrack"))(b.audio,a);d.$3.push(b)}})}var b=a.prototype;b.play=function(){this.$3.forEach(function(a){a.play()})};b.pause=function(){this.$3.forEach(function(a){a.stop()})};b.updateCurrentTime=function(a){this.$3.forEach(function(b){b.setCurrentTime(a)})};b.reset=function(a,b){this.updateCurrentTime(a),b?this.play():this.pause()};b.destroy=function(){this.$3.forEach(function(a){a.destroy()})};return a}();g["default"]=a},98);
__d("ShowreelCanvasRenderer",["FBLogger","nullthrows","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d){this.$3=!1,this.$6=!1,this.$2=a,this.$1=c,this.$5=b,this.setInViewPort(d)}var b=a.prototype;b.render=function(a){if(!this.$3){this.$7=a;return}var b=this.$5,d=this.$4;if(d==null){c("recoverableViolation")("Failed to render, got null renderer","Showreel");return}if(this.$6&&b!=null){while(b.children.length)b.removeChild(b.children[0]);b.appendChild(d.view);this.$6=!1}d.render(a)};b.dispose=function(){this.$2.releaseRenderer(this.$4)};b.getView=function(){return c("nullthrows")(this.$4,"Renderer not found").view};b.setContainer=function(a){if(a!=null&&this.$5===a)return;var b=this.$4;b!=null&&(this.$5!=null&&this.$5.removeChild(b.view),a!=null&&a.appendChild(b.view));this.$5=a};b.setInViewPort=function(a){var b=this.$5;if(this.$3===a)return;this.$3=a;if(a){a=this.$2.borrowRenderer(this.$1);this.$6=!0;this.$4=a;this.$7&&(this.render(this.$7),this.$7=null)}else{a=this.$4;if(b!=null&&a!=null&&a.view.parentElement===b){b.removeChild(a.view);var d=a.extract;if(d!=null)try{d=d.canvas();d.style.width=this.$1.viewSize.width+"px";d.style.height=this.$1.viewSize.height+"px";b.appendChild(d)}catch(a){c("FBLogger")("showreel").catching(a).warn("Failed to switch dynamic renderer for static view")}}this.$2.releaseRenderer(a);this.$4=null}};b.isInViewPort=function(){return this.$3};return a}();g["default"]=a},98);
__d("ShowreelCanvasRendererPool",["ShowreelRendererUtils","nullthrows","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=8;a=function(){function a(a){a===void 0&&(a=h),this.$1=[],this.$2=[],this.$3=a}var b=a.prototype;b.getRendererCount=function(){return this.$1.length+this.$2.length};b.borrowRenderer=function(a){var b=i(a),c=this.$4(b);return(c=c)!=null?c:this.$5(a,b)};b.releaseRenderer=function(a){if(a==null)return;var b=c("nullthrows")(this.$1.find(function(b){return b.renderer===a}),"ShowreelCanvasRendererPool cannot find SystemRenderer");this.$1.splice(this.$1.indexOf(b),1);this.$2.push(b);this.$6()};b.$4=function(a){var b=this.$2.find(function(b){return b.key===a});if(b!=null){var c=this.$2.indexOf(b);this.$2.splice(c,1);this.$1.push(b);return b.renderer}return null};b.$5=function(a,b){this.$6();var c=d("ShowreelRendererUtils").createPixiRenderer(a.rendererSize.width,a.rendererSize.height,a.target);c.view.style.width=a.viewSize.width+"px";c.view.style.height=a.viewSize.height+"px";this.$1.push({key:b,renderer:c});return c};b.$6=function(){while(this.$2.length>0&&this.getRendererCount()>=this.$3){var a=this.$2.shift();if(a!=null)try{a.renderer.destroy()}catch(a){c("recoverableViolation")("Failed to destroy PIXI renderer","Showreel",a)}}};return a}();function i(a){return[a.rendererSize.width,a.rendererSize.height,a.viewSize.width,a.viewSize.height,a.target].join("::")}g["default"]=a},98);
__d("ShowreelFrameUtils",[],function(a,b,c,d,e,f){"use strict";function a(a){return a.outPoint-1}function b(a){return a.inPoint}f.getLastRenderableFrame=a;f.getFirstRenderableFrame=b},66);
__d("ShowreelLayerIndex",[],function(a,b,c,d,e,f){"use strict";e.exports=function(){function a(a){var b=this;this.$2={};this.$3={};this.$1=a.layers.slice().sort(g);a.layers.forEach(function(a){b.$2[a.name]=a,b.$3[a.index]=a})}var b=a.prototype;b.getLayersOrderedByDepth=function(){return this.$1};b.getParentLayer=function(a){return a.layout&&a.layout.parent!=null&&a.layout.parent!==""?this.$2[a.layout.parent]:null};b.getLayerByName=function(a){return this.$2[a]};b.getLayerByIndex=function(a){return this.$3[a]};return a}();function g(a,b){a=!!h(a);b=!!h(b);b=(a||b)&&!(a&&b);return b?a?-1:1:0}function h(a){return(a=a==null?void 0:(a=a.layout)==null?void 0:a.child)!=null?a:null}},null);
__d("ShowreelLayerCache",["invariant","LRUCache","ShowreelLogger"],function(a,b,c,d,e,f,g,h){"use strict";var i=function(a,b){return a[b]!==void 0};a=function(){function a(a,b){b===void 0&&(b=10),this.$1=a,this.$2=new(c("LRUCache"))(b)}var b=a.prototype;b.get=function(a,b){a.length||h(0,4226);a=j(a);var c=this.$2.get(a);c||(d("ShowreelLogger").debug('Cache miss for layer "'+this.$1+'", key "'+a+'"'),c=b(),this.$2.set(a,c));return c};return a}();function j(a){return a.length===1?a[0]:a.map(function(a){if(i(a,"x")&&i(a,"y"))return""+a.x+a.y;return i(a,"width")&&i(a,"height")?""+a.width+a.height:a.toString()}).join("-")}g["default"]=a},98);
__d("ShowreelFilterFragments",[],function(a,b,c,d,e,f){"use strict";a="\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n  gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n  vTextureCoord = aTextureCoord;\n}\n";f.vertex=a},66);
__d("ShowreelThirdPartyKawaseBlurFilter",["ShowreelFilterFragments","ShowreelPIXIJSTyped"],function(a,b,c,d,e,f){var g=b("ShowreelFilterFragments").vertex,h="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n  vec4 color = vec4(0.0);\n\n  // Sample top left pixel\n  color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n  // Sample top right pixel\n  color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n  // Sample bottom right pixel\n  color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n  // Sample bottom left pixel\n  color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n  // Average\n  color *= 0.25;\n\n  gl_FragColor = color;\n}\n",i="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 color = vec4(0.0);\n\n  // Sample top left pixel\n  color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n  // Sample top right pixel\n  color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n  // Sample bottom right pixel\n  color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n  // Sample bottom left pixel\n  color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n  // Average\n  color *= 0.25;\n\n  gl_FragColor = color;\n}\n";a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;c===void 0&&(c=4);d===void 0&&(d=3);e===void 0&&(e=!1);f=a.call(this,g,e?i:h)||this;f.uniforms.uOffset=new Float32Array(2);f._pixelSize=new(b("ShowreelPIXIJSTyped").Point)();f.pixelSize=1;f._clamp=e;f._kernels=null;Array.isArray(c)?f.kernels=c:(f._blur=c,f.quality=d);return f}var d=c.prototype;d.apply=function(a,b,c,d){var e=this.pixelSize.x/b.size.width,f=this.pixelSize.y/b.size.height,g;if(this._quality===1||this._blur===0)g=this._kernels[0]+.5,this.uniforms.uOffset[0]=g*e,this.uniforms.uOffset[1]=g*f,a.applyFilter(this,b,c,d);else{var h=a.getRenderTarget(!0);b=b;var i=h,j,k=this._quality-1;for(var l=0;l<k;l++)g=this._kernels[l]+.5,this.uniforms.uOffset[0]=g*e,this.uniforms.uOffset[1]=g*f,a.applyFilter(this,b,i,!0),j=b,b=i,i=j;g=this._kernels[k]+.5;this.uniforms.uOffset[0]=g*e;this.uniforms.uOffset[1]=g*f;a.applyFilter(this,b,c,d);a.returnRenderTarget(h)}};d._generateKernels=function(){var a=this._blur,b=this._quality,c=[a];if(a>0){var d=a;a=a/b;for(var e=1;e<b;e++)d-=a,c.push(d)}this._kernels=c};return c}(b("ShowreelPIXIJSTyped").Filter);Object.defineProperty(a.prototype,"kernels",{get:function(){return this._kernels},set:function(a){Array.isArray(a)&&a.length>0?(this._kernels=a,this._quality=a.length,this._blur=Math.max.apply(Math,a)):(this._kernels=[0],this._quality=1)}});Object.defineProperty(a.prototype,"clamp",{get:function(){return this._clamp}});Object.defineProperty(a.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(a){typeof a==="number"?(this._pixelSize.x=a,this._pixelSize.y=a):Array.isArray(a)?(this._pixelSize.x=a[0],this._pixelSize.y=a[1]):a instanceof b("ShowreelPIXIJSTyped").Point?(this._pixelSize.x=a.x,this._pixelSize.y=a.y):(this._pixelSize.x=1,this._pixelSize.y=1)}});Object.defineProperty(a.prototype,"quality",{get:function(){return this._quality},set:function(a){this._quality=Math.max(1,Math.round(a)),this._generateKernels()}});Object.defineProperty(a.prototype,"blur",{get:function(){return this._blur},set:function(a){this._blur=a,this._generateKernels()}});e.exports=a},null);
__d("ShowreelTimeSeriesValue",[],function(a,b,c,d,e,f){"use strict";e.exports=function(){function a(a){this.$1=a,this.animated=Array.isArray(a)}var b=a.prototype;b.getValue=function(a){return Array.isArray(this.$1)?this.$1[a]:this.$1};b.map=function(b){var c=this.$1;c=Array.isArray(c)?c.map(function(a,c){return b(a,c)}):b(c,0);return new a(c)};return a}()},null);
__d("ShowreelBlurEffect",["ShowreelGraphicsUtils","ShowreelThirdPartyKawaseBlurFilter","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f,g){"use strict";var h=4,i=8,j=.1,k=0,l=15,m=.5;a=function(){function a(a,b,e,f){this.blur=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(f.value,a,e,function(a){return a*j})),this.filter=new(c("ShowreelThirdPartyKawaseBlurFilter"))(h,i,!0),this.filter.blur>l&&(this.filter.resolution=m),this.filter.padding=k,b.filters=(b.filters||[]).concat(this.filter)}var b=a.prototype;b.render=function(a){this.filter.blur=this.blur.getValue(a)};return a}();g["default"]=a},98);
__d("ShowreelThirdPartyDropShadowFilter",["ShowreelFilterFragments","ShowreelPIXIJSTyped","ShowreelThirdPartyKawaseBlurFilter"],function(a,b,c,d,e,f){"use strict";var g=b("ShowreelFilterFragments").vertex,h="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\nvoid main(void){\n  vec4 sample = texture2D(uSampler, vTextureCoord);\n\n  // Un-premultiply alpha before applying the color\n  if (sample.a > 0.0) {\n      sample.rgb /= sample.a;\n  }\n\n  // Premultiply alpha again\n  sample.rgb = color.rgb * sample.a;\n\n  // alpha user alpha\n  sample *= alpha;\n\n  gl_FragColor = sample;\n}\n";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;c&&c.constructor!==Object&&(c={rotation:c},arguments[1]!==void 0&&(c.distance=arguments[1]),arguments[2]!==void 0&&(c.blur=arguments[2]),arguments[3]!==void 0&&(c.color=arguments[3]),arguments[4]!==void 0&&(c.alpha=arguments[4]));c=Object.assign({rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:b("ShowreelPIXIJSTyped").settings.RESOLUTION},c);d=a.call(this)||this;var e=c,f=e.kernels,i=e.blur,j=e.quality,k=e.pixelSize,l=e.resolution;d._tintFilter=new(b("ShowreelPIXIJSTyped").Filter)(g,h);d._tintFilter.uniforms.color=new Float32Array(4);d._tintFilter.resolution=l;d._blurFilter=f?new(b("ShowreelThirdPartyKawaseBlurFilter"))(f):new(b("ShowreelThirdPartyKawaseBlurFilter"))(i,j);d.pixelSize=k;d.resolution=l;d.targetTransform=new(b("ShowreelPIXIJSTyped").Matrix)();var m=c,n=m.shadowOnly,o=m.rotation,p=m.distance,q=m.alpha,r=m.color;d.shadowOnly=n;d.rotation=o;d.distance=p;d.alpha=q;d.color=r;d._updatePadding();return d}var d=c.prototype;d.apply=function(a,b,c,d){var e=a.getRenderTarget();e.transform=this.targetTransform;this._tintFilter.apply(a,b,e,!0);e.transform=null;this._blurFilter.apply(a,e,c);this.shadowOnly!==!0&&a.applyFilter(this,b,c,d);a.returnRenderTarget(e)};d._updatePadding=function(){this.padding=this.distance+this.blur*5};d._updateTargetTransform=function(){this.targetTransform.tx=this.distance*Math.cos(this.angle),this.targetTransform.ty=this.distance*Math.sin(this.angle)};return c}(b("ShowreelPIXIJSTyped").Filter);Object.defineProperty(a.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._resolution=a,this._tintFilter&&(this._tintFilter.resolution=a),this._blurFilter&&(this._blurFilter.resolution=a)}});Object.defineProperty(a.prototype,"distance",{get:function(){return this._distance},set:function(a){this._distance=a,this._updatePadding(),this._updateTargetTransform()}});Object.defineProperty(a.prototype,"rotation",{get:function(){return this.angle/b("ShowreelPIXIJSTyped").DEG_TO_RAD},set:function(a){this.angle=a*b("ShowreelPIXIJSTyped").DEG_TO_RAD,this._updateTargetTransform()}});Object.defineProperty(a.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(a){this._tintFilter.uniforms.alpha=a}});Object.defineProperty(a.prototype,"color",{get:function(){return b("ShowreelPIXIJSTyped").utils.rgb2hex(this._tintFilter.uniforms.color)},set:function(a){b("ShowreelPIXIJSTyped").utils.hex2rgb(a,this._tintFilter.uniforms.color)}});Object.defineProperty(a.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(a){this._blurFilter.kernels=a}});Object.defineProperty(a.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(a){this._blurFilter.blur=a,this._updatePadding()}});Object.defineProperty(a.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(a){this._blurFilter.quality=a}});Object.defineProperty(a.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(a){this._blurFilter.pixelSize=a}});e.exports=a},null);
__d("ShowreelDropShadowEffect",["ShowreelGraphicsUtils","ShowreelThirdPartyDropShadowFilter","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f,g){"use strict";var h=-90,i=.2,j=10;a=function(){function a(a,b,e,f){f=f.effects;var g=f[0],k=f[1],l=f[2],m=f[3],n=f[4];f=f[5];this.color=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries(g.value,a,e,d("ShowreelGraphicsUtils").toRGBA));this.opacity=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(k.value,a,e,function(a){return a/100}));this.rotation=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(l.value,a,e,function(a){return a+h}));this.blur=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(n.value,a,e,function(a){return a*i}));this.distance=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(m.value,a,e,function(a){return a}));this.shadowOnly=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(f.value,a,e,function(a){return!!a}));this.layer=a;this.filter=new(c("ShowreelThirdPartyDropShadowFilter"))({quality:j});b.filters=(b.filters||[]).concat(this.filter)}var b=a.prototype;b.render=function(a){var b=d("ShowreelGraphicsUtils").rgbaToColorAlpha(this.color.getValue(a)),c=b[0];b=b[1];this.filter.color=c;this.filter.alpha=this.opacity.getValue(a)*b;this.filter.blur=this.blur.getValue(a);this.filter.rotation=this.rotation.getValue(a);this.filter.distance=this.distance.getValue(a);this.filter.shadowOnly=this.shadowOnly.getValue(a)};return a}();g["default"]=a},98);
__d("ShowreelColorFillFilter",["ShowreelFilterFragments","ShowreelPIXIJSTyped"],function(a,b,c,d,e,f,g){"use strict";var h="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec3 color;\n\nvoid main(void) {\n  gl_FragColor = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(color * gl_FragColor.a, gl_FragColor.a);\n}\n";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,d("ShowreelFilterFragments").vertex,h)||this;b&&(c.uniforms.color=b);return c}return b}(c("ShowreelPIXIJSTyped").Filter);g["default"]=a},98);
__d("ShowreelFillEffect",["BodymovinTypes.flow","ShowreelColorFillFilter","ShowreelGraphicsUtils","ShowreelTimeSeriesValue","nullthrows"],function(a,b,c,d,e,f){"use strict";var g=b("BodymovinTypes.flow").switchEffect,h=b("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries,i=b("ShowreelGraphicsUtils").toRGBA;e.exports=function(){function a(a,c,d,e){e=e.effects.find(function(a){return a.name!=null&&a.name==="Color"});e=b("nullthrows")(e&&g(e,{ColorEffect:function(a){return a},PointEffect:function(a){return a}}));this.layer=a;this.filter=new(b("ShowreelColorFillFilter"))();this.color=new(b("ShowreelTimeSeriesValue"))(h(e.value,a,d,i));c.filters=(c.filters||[]).concat(this.filter)}var c=a.prototype;c.render=function(a){a=this.color.getValue(a);var b=a.r,c=a.g;a=a.b;this.filter.uniforms.color=[b,c,a]};return a}()},null);
__d("ShowreelGradientFilter",["ShowreelFilterFragments","ShowreelPIXIJSTyped"],function(a,b,c,d,e,f,g){"use strict";var h="\nvarying vec2 vTextureCoord;\nuniform vec4 filterArea;\n\nuniform vec4 startColor;\nuniform vec4 endColor;\n\nuniform vec2 startPoint;\nuniform vec2 endPoint;\n\nfloat project(vec2 origin, vec2 destination, vec2 point) {\n  return distance(origin, point) / distance(origin, destination);\n}\n\nvoid main(){\n  vec2 pixelCoord = vTextureCoord * filterArea.xy;\n\n  float mixDist = project(startPoint, endPoint, pixelCoord);\n  gl_FragColor = mix(startColor, endColor, mixDist);\n}\n",i="\nvarying vec2 vTextureCoord;\nuniform vec4 filterArea;\n\nuniform vec4 startColor;\nuniform vec4 endColor;\n\nuniform vec2 startPoint;\nuniform vec2 endPoint;\n\nfloat project(vec2 origin, vec2 destination, vec2 point) {\n  vec2 pointFromOrigin = point - origin;\n  vec2 projection = destination - origin;\n  return dot(pointFromOrigin, projection) / dot(projection, projection);\n}\n\nvoid main(){\n  vec2 pixelCoord = vTextureCoord * filterArea.xy;\n\n  float mixDist = project(startPoint, endPoint, pixelCoord);\n  gl_FragColor = mix(startColor, endColor, abs(mixDist));\n}\n";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,d("ShowreelFilterFragments").vertex,b?i:h,{startColor:{type:"vec4",value:[0,0,0,0]},endColor:{type:"vec4",value:[0,0,0,0]},startPoint:{type:"vec2",value:[0,0]},endPoint:{type:"vec2",value:[0,0]}})||this}return b}(c("ShowreelPIXIJSTyped").Filter);g["default"]=a},98);
__d("ShowreelGradientEffect",["BodymovinTypes.flow","ShowreelGradientFilter","ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f){"use strict";var g=(a=b("BodymovinTypes.flow")).isColorEffect,h=a.isDropDownEffect,i=a.isPointEffect,j=a.switchEffect,k=b("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries,l=b("ShowreelGraphicsUtils").toRGBA,m=/Start/i;e.exports=(d=c=function(){function a(a,c,d,e){var f=this,n=!1,o=function(c){return new(b("ShowreelTimeSeriesValue"))(k(c.value,a,d,function(a){var b=a[0];a=a[1];return{x:b,y:a}}))},p=function(c){return new(b("ShowreelTimeSeriesValue"))(k(c.value,a,d,l))};e.effects.filter(function(a){return i(a)||g(a)||h(a)}).forEach(function(a){j(a,{PointEffect:function(a){var b=o(a);m.test(a.name)?f.startPoint=b:f.endPoint=b},ColorEffect:function(a){var b=p(a);m.test(a.name)?f.startColor=b:f.endColor=b},DropDownEffect:function(a){n=a.value.value===1}})});this.layer=a;this.filter=new(b("ShowreelGradientFilter"))(n);c.filters=(c.filters||[]).concat(this.filter)}var c=a.prototype;c.render=function(a){var b=this.startPoint,c=this.startColor,d=this.endPoint,e=this.endColor;if(b==null||c==null||d==null||e==null)return;b=b.getValue(a);c=c.getValue(a);d=d.getValue(a);e=e.getValue(a);this.filter.uniforms.startPoint=[b.x,b.y];this.filter.uniforms.startColor=[c.r,c.g,c.b,c.a];this.filter.uniforms.endPoint=[d.x,d.y];this.filter.uniforms.endColor=[e.r,e.g,e.b,e.a]};return a}(),c.NAME="Gradient Ramp",d)},null);
__d("ShowreelLayerEffects",["BodymovinTypes.flow","ShowreelBlurEffect","ShowreelDropShadowEffect","ShowreelFillEffect","ShowreelGradientEffect"],function(a,b,c,d,e,f){"use strict";var g=b("BodymovinTypes.flow").switchEffect;e.exports=function(){function a(a,c,d){var e=this;this.addEffect=function(a){g(a,{GroupEffect:e.addGroupEffect,SliderEffect:e.addSliderEffect,FillEffect:e.addFillEffect,DropShadowEffect:e.addDropShadowEffect})};this.addGroupEffect=function(a){a.name===b("ShowreelGradientEffect").NAME?e.addGradientEffect(a):e.addAvailableEffects(a.effects)};this.addSliderEffect=function(a){a.name=="Blurriness"&&e.effects.push(new(b("ShowreelBlurEffect"))(e.layer,e.target,e.animation,a))};this.addFillEffect=function(a){e.effects.push(new(b("ShowreelFillEffect"))(e.layer,e.target,e.animation,a))};this.addDropShadowEffect=function(a){e.effects.push(new(b("ShowreelDropShadowEffect"))(e.layer,e.target,e.animation,a))};this.effects=[];this.layer=a;this.target=c;this.animation=d;Array.isArray(a.effects)&&this.addAvailableEffects(a.effects)}var c=a.prototype;c.addAvailableEffects=function(a){a.filter(function(a){return a._type!=="effects/noValue"}).forEach(this.addEffect)};c.addGradientEffect=function(a){this.effects.push(new(b("ShowreelGradientEffect"))(this.layer,this.target,this.animation,a))};c.render=function(a){this.effects.forEach(function(b){return b.render(a)})};return a}()},null);
__d("ShowreelLayerTransforms",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f){"use strict";var g=(a=b("ShowreelGraphicsUtils")).getAnchorTimeSeries,h=a.getOpacityTimeSeries,i=a.getPositionTimeSeries,j=a.getRotationTimeSeries,k=a.getScaleTimeSeries;e.exports=function(a,c){var d;this.position=new(d=b("ShowreelTimeSeriesValue"))(i(a.transform,a,c));this.rotation=new d(j(a.transform,a,c));this.opacity=new d(h(a.transform,a,c));this.scale=new d(k(a.transform,a,c));this.anchor=new d(g(a.transform,a,c))}},null);
__d("ShowreelVectorUtils",[],function(a,b,c,d,e,f){var g=.1;function h(a,b){var c=a.b.x-a.a.x,d=a.b.y-a.a.y;return{a:a.a,b:{x:a.a.x+c*b,y:a.a.y+d*b}}}function i(a,b){return(a.a.x-a.b.x)*(b.a.x-b.b.x)+(a.a.y-a.b.y)*(b.a.y-b.b.y)}function j(a,b){return(a.a.x-a.b.x)*(b.a.y-b.b.y)-(a.a.y-a.b.y)*(b.a.x-b.b.x)}function a(a,b,c,d){b={a:a,b:b};d={a:c,b:d};c={a:a,b:c};if(j(b,d)===0)if(j(c,b)===0){var e=i(c,b)/i(b,b),f=e+i(d,b)/i(b,b);if(f>=0&&f<=1)return h(b,f).b;if(e>=0&&e<=1)return h(b,e).b;if(e<0&&f>1||e>1&&f<0)return a}else return null;else{e=j(c,d)/j(b,d);f=j(c,b)/j(b,d);if(0<=e&&e<=1&&0<=f&&f<=1)return h(b,e).b}return null}function b(a){var b=[];for(var c=1;c<a.length;c++)b.push({a:a[c-1],b:a[c]});b.push({a:a[a.length-1],b:a[0]});return{points:a,edges:b}}function k(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g}function c(a,b){return k(a.a,b.a)&&k(a.b,b.b)||k(a.a,b.b)&&k(a.b,b.a)}function d(a,b){return k(a.a,b.a)||k(a.a,b.b)||k(a.b,b.a)||k(a.b,b.b)}function l(a){return Math.sqrt((a.a.x-a.b.x)*(a.a.x-a.b.x)+(a.a.y-a.b.y)*(a.a.y-a.b.y))}function e(a,b){var c=Math.acos(i(a,b)/(l(a)*l(b)));a=Math.sign(j(a,b));if(a>0)return 2*Math.PI-c;else if(a<0)return c;else return Math.PI}f.intersect=a;f.toGraphFromClockwiseCoordinates=b;f.equals=k;f.equalsOrOpposite=c;f.shareEndpoint=d;f.angle=e},66);
__d("ShowreelPathUtils",["ShowreelLogger","ShowreelPIXIJSTyped","ShowreelUtils","ShowreelVectorUtils","nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h=20,i=180,j=20,k=-1,l=2*Math.PI,m=l/i,n=l/4*-k,o=n+l,p=.1,q=1,r=.5;function a(a,b,c,e){if(e!==0)throw new Error("Showreel does not support trim offsets.");e=u(t(a));a=e.length-1;var f=Math.min(b,c)*a;b=Math.max(b,c)*a;c=e.slice(Math.ceil(f),Math.floor(b)+1);d("ShowreelUtils").isInteger(f)||c.unshift(B(e,f));d("ShowreelUtils").isInteger(b)||c.push(B(e,b));return s(c)}function s(a){return a.reduce(function(a,b){return a.concat([b.x,b.y])},[])}function t(a){return a.reduce(function(b,c,d){d%2===0&&b.push({x:c,y:a[d+1]});return b},[])}function u(a){var b=v(a);return a.reduce(function(c,d,e){c.push(d);if(e===a.length-1)return c;e=a[e+1];var f=A(d,e);f=b/f;for(var g=f;g<1;g+=f)c.push(C(d,e,g));return c},[])}function v(a){return a.reduce(function(b,c,d){if(d===a.length-1)return b;c=A(c,a[d+1]);return c<p?b:Math.min(b,c)},Infinity)}function b(a,b,c,d){var e=[];c={x:c/2,y:d/2};d={x:a+c.x,y:b+c.y};for(var a=n;a<o;a+=m)e.push(d.x-Math.cos(a*k)*c.x),e.push(d.y+Math.sin(a*k)*c.y);e.push(e[0]);e.push(e[1]);return e}function e(a,b,c,d){var e=b,f=a;a=a+c;c=b+d;return[a,e,a,c,f,c,f,e,a,e]}function f(a,b,c,d,e){var f=b,g=a;a=a+c;c=b+d;b=w(g,f+e,g,f,g+e,f);d=w(a,c-e,a,c,a-e,c);a=w(a-e,f,a,f,a,f+e);f=w(g+e,c,g,c,g,c-e);g=[].concat(a.slice(-2),d,f,b,a);return g}function w(a,b,c,d,e,f){var g=[],i,j,k,l,m;for(var n=0;n<=h;++n)m=n/h,i=z(a,c,m),j=z(b,d,m),k=z(c,e,m),l=z(d,f,m),i=z(i,k,m),k=z(j,l,m),g.push(i,k);return g}function x(a,b,c){var d=[];for(var e=0;e<a.length;e++){var f=e===0?a.length-1:e-1,g=a[f],h=g[0];g=g[1];f=c[f];var i=f[0];f=f[1];var j=b[e],k=j[0];j=j[1];var l=a[e],m=l[0];l=l[1];h=y(h,g,h+i,g+f,m+k,l+j,m,l);d.push.apply(d,h)}return d}function y(a,b,c,d,e,f,g,h){var i=[],k=0,l=0,m=0,n=0,o;i.push(a,b);for(var p=1,q=0;p<=j;++p)q=p/j,k=1-q,l=Math.pow(k,2),m=Math.pow(k,3),n=Math.pow(q,2),o=Math.pow(q,3),i.push(m*a+3*l*q*c+3*k*n*e+o*g,m*b+3*l*q*d+3*k*n*f+o*h);return i}function z(a,b,c){return a+(b-a)*c}function A(a,b){var c=b.x-a.x;b=b.y-a.y;a=Math.sqrt(Math.pow(c,2)+Math.pow(b,2));return Math.round(a/p)*p}function B(a,b){var c=Math.floor(b),d=Math.ceil(b),e=a[c];a=a[d];d=b-c;return C(e,a,d)}function C(a,b,c){return{x:z(a.x,b.x,c),y:z(a.y,b.y,c)}}function D(a,b,c,d){b===void 0&&(b=0);c===void 0&&(c=0);d===void 0&&(d="paragraph");var e=a.maxLineWidth,f=a.style,g=a.height,h=a.width,i=a.lineWidths,j=a.lineHeight;f=f.align;d==="block"&&(i=[h],j=g);d=2*b;h=isNaN(c)?0:c;g=a.lineHeight-2*h;c=Math.max(r*a.fontProperties.fontSize,d);a=g<=c;g=P(i,d,a);c=g.map(F(f,e,j)).reduce(k,[]).filter(function(a){return a.length>0}).map(l(h,h));return M(c,b);function k(a,b){if(b==null)return[].concat(a,[[]]);var c=a.pop()||[];return[].concat(a,[c.concat(b)])}function l(a,b){return function(c){return c.map(function(d,e,f){e=d.x;f=d.y;var c=d.width;d=d.height;return{x:e-a,y:f-b,width:c+a*2,height:d+b*2}})}}}function E(b,d,a){var e=b.maxLineWidth,f=b.style,g=b.lineWidths,h=b.lineHeight,i=b.fontProperties;b=f.align;f=function(b){var c=b.x,d=b.y,e=b.width;b=b.height;return{width:e,height:b,x:c,y:d+h-i.descent+a}};return g.map(F(b,e,h,d)).filter(Boolean).map(f).map(function(a){var b=a.x,d=a.y,e=a.width;a=a.height;return new(c("ShowreelPIXIJSTyped").Rectangle)(b,d,e,a)})}function F(a,b,c,d){d===void 0&&(d=c);return function(e,f){if(e===0)return null;f=f*c;var g=0;a==="center"?g+=(b-e)/2:a==="right"&&(g+=b-e);return{x:g,y:f,width:e,height:d}}}function G(a,b){return a.reduce(function(a,c){a.some(function(a){return b(a,c)})||a.push(c);return a},[])}function H(a){return a.filter(function(a){return!d("ShowreelVectorUtils").equals(a.a,a.b)})}function I(a){var b=a.points;a=a.edges;b=G(b,d("ShowreelVectorUtils").equals);var c=H(a),e=!1,f=new Set();for(var g=a,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;for(var k=a,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;if(j===n||d("ShowreelVectorUtils").shareEndpoint(j,n)||f.has(j)||f.has(n))continue;var o=d("ShowreelVectorUtils").intersect(j.a,j.b,n.a,n.b);o!=null&&(e=!0,b.push(o),f.add(j),f.add(n),c.push({a:j.a,b:o},{a:j.b,b:o},{a:n.a,b:o},{a:n.b,b:o}))}}return{resolvedGraph:{points:G(b,d("ShowreelVectorUtils").equals),edges:G(H(c).filter(function(a){return!f.has(a)}),d("ShowreelVectorUtils").equalsOrOpposite)},hadChange:e}}function J(a,b){var c=a.points;a=a.edges;var e=b.points;b=b.edges;var f=128,g=0;c={points:c.concat(e),edges:a.concat(b)};e=I(c);a=e.resolvedGraph;b=e.hadChange;while(b&&g<f){a;c=I(a);a=c.resolvedGraph;b=c.hadChange;g++}g>=f&&d("ShowreelLogger").warn("Background rectangles for text could not be consolidated into a polygon in 128 iterations.");return a}function K(a){var b=a.points;a=a.edges;b.sort(function(a,b){return b.y===a.y?a.x-b.x:b.y-a.y});var e=function(a){return a.x.toFixed(q)+":"+a.y.toFixed(q)},f=new Map();for(var g=b,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;f.set(e(j),[])}var k=function(a){return c("nullthrows")(f.get(e(a)),"Neighbours of a point should be initialized")};for(var j=a,i=Array.isArray(j),h=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(h>=j.length)break;g=j[h++]}else{h=j.next();if(h.done)break;g=h.value}a=g;k(a.a).push(a.b);k(a.b).push(a.a)}g=b[0];var l=g,m=k(l)[0],n=[g],o=[];a=function(){o.push(m);n.push(m);var a={a:l,b:m},b=k(m).filter(function(a){return!o.some(function(b){return d("ShowreelVectorUtils").equals(b,a)})}).filter(function(b){return!d("ShowreelVectorUtils").equals(a.a,b)&&!d("ShowreelVectorUtils").equals(a.b,b)});if(b.length===0)return"break";b.sort(function(b,c){b=d("ShowreelVectorUtils").angle(a,{a:m,b:b});c=d("ShowreelVectorUtils").angle(a,{a:m,b:c});return c-b});l=m;m=b[0]};while(m!==g){h=a();if(h==="break")break}return n}function L(a){return G(a.reverse().reduce(function(a,b){var c=b[0],e=b[1],f=b[2];b=b[3];if(!a.length)return[c,e,f,b];a=d("ShowreelVectorUtils").toGraphFromClockwiseCoordinates(a);c=d("ShowreelVectorUtils").toGraphFromClockwiseCoordinates([c,e,f,b]);e=J(a,c);f=K(e);return f},[]),d("ShowreelVectorUtils").equals)}function M(a,b){var d=function(a){a=a.map(O);a=L(a);a=N(a,b);return new(c("ShowreelPIXIJSTyped").Polygon)(s(a))};return a.map(d)}function N(a,b){if(b===0)return a;var c=function(a,c){a={x:a.x<c.x?-1:a.x>c.x?1:0,y:a.y<c.y?-1:a.y>c.y?1:0};return{x:c.x+b*a.x,y:c.y+b*a.y}},d=function(a,b,d){var e=b===0?d[d.length-1]:d[b-1];d=b===d.length-1?d[0]:d[b+1];b=a;e=c(e,a);d=c(d,a);return t(w(e.x,e.y,b.x,b.y,d.x,d.y))},e=function(a,b){return a.concat(b)};return a.map(d).reduce(e)}function O(a){var b=a.x,c=a.y,d=a.width;a=a.height;return[{x:b+d,y:c},{x:b+d,y:c+a},{x:b,y:c+a},{x:b,y:c}]}function P(a,b,c){c===void 0&&(c=!1);a=a.slice();for(var d=0;d<a.length-1;d++){var e=d+1,f=Math.abs(a[d]-a[e]);if(f===0)continue;else if(f<b)a[d]>a[e]?a[e]=a[d]:a[d]=a[e],d=0;else if(c){f=d!==0&&d!==a.length-1&&a[d]<a[d-1]&&a[d]<a[d+1];f&&(a[d]=Math.min(a[d-1],a[d+1]),d=0)}}return a}g.getTrimmedPoints=a;g.createEllipsePoints=b;g.createRectanglePoints=e;g.createRoundedRectanglePoints=f;g.createBezierShapePoints=x;g.getBackgroundsFor=D;g.getUnderlinesFor=E},98);
__d("ShowreelMasksLayerRenderer",["invariant","BodymovinTypes.flow","ShowreelGraphicsUtils","ShowreelKeyframeUtils","ShowreelPIXIJSTyped","ShowreelPathUtils","ShowreelTimeSeriesValue","nullthrows"],function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b,e){this.$2=!1;var f=a.some(function(a){a=a.points;return a.animated}),g=function(a,b){a=c("nullthrows")(d("BodymovinTypes.flow").switchShapeProperty(a,{ShapeProperty:function(a){return a.value},ShapeKeyframedProperty:function(a){typeof b==="number"||h(0,1074);return d("ShowreelKeyframeUtils").interpolateShapeValue(a,b)}}));var e=a.vertices,f=a.inPoint;a=a.outPoint;return new(c("ShowreelPIXIJSTyped").Polygon)(d("ShowreelPathUtils").createBezierShapePoints(e,f,a))};this.$1=a.map(function(a){var i=a.points;a=a.mode;a==="Additive"||h(0,1075);return!f?new(c("ShowreelTimeSeriesValue"))(g(i)):new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getTimeSeries(b,e,function(a){return g(i,a)}))});this.$3=f;this.target=new(c("ShowreelPIXIJSTyped").Graphics)();this.target.name=b.name+" (masks)"}var b=a.prototype;b.$4=function(a){var b=this.target,c=this.$1;b.clear();b.beginFill(0);c.forEach(function(c){return b.drawShape(c.getValue(a))});b.endFill()};b.render=function(a){(!this.$2||this.$3)&&(this.$4(a),this.$2=!0)};return a}();g["default"]=a},98);
__d("ShowreelLayerRenderer",["ShowreelFrameUtils","ShowreelGraphicsUtils","ShowreelLayerCache","ShowreelLayerEffects","ShowreelLayerTransforms","ShowreelMasksLayerRenderer","ShowreelTimeSeriesValue","ShowreelUtils"],function(a,b,c,d,e,f){"use strict";var g=b("ShowreelFrameUtils").getFirstRenderableFrame,h=b("ShowreelFrameUtils").getLastRenderableFrame,i=b("ShowreelGraphicsUtils").getTimeSeries,j=b("ShowreelUtils").deepEquals;e.exports=function(){function a(a,b,c,d){this.context={frameNumber:0,scale:{width:1,height:1},cache:this.cache,assets:d,animation:c,parentLayer:b},this.target=this.createTarget(),this.target.name=a.name,this.maybeUpdateRenderer(a,b,c,d)}var c=a.prototype;c.inFrame=function(a){var b=g(this.layer),c=h(this.layer);return a>=b&&a<=c};c.render=function(a){var b=this.target;this.context.frameNumber=a;b.visible=this.inFrame(a);b.visible&&(this.updateTarget(a),this.$1&&this.$1.render(a))};c.getBounds=function(){var a=this,c=this.context.frameNumber,d=i(this.layer,this.animation,function(b){a.render(b);return a.target.getBounds().clone()});this.render(c);return new(b("ShowreelTimeSeriesValue"))(d)};c.wrapAround=function(a){var b=this,c=this.getBounds();this.transforms.scale=a.map(function(a,d){var e=c.getValue(d);d=b.transforms.scale.getValue(d);a={x:a.width/e.width,y:a.height/e.height};return{x:d.x*a.x,y:d.y*a.y}})};c.createTarget=function(){};c.updateTarget=function(a){var b=this.effects,c=this.target,d=this.transforms,e=d.position.getValue(a),f=d.anchor.getValue(a),g=d.scale.getValue(a),h=d.opacity.getValue(a);d=d.rotation.getValue(a);c.scale.set(g.x,g.y);c.position.set(e.x,e.y);c.pivot.set(f.x,f.y);c.alpha=h;c.rotation=d;b!=null&&b.render(a)};c.updateRenderer=function(){};c.rendererShouldUpdate=function(a,b){return!j(this.layer,a)};c.maybeUpdateRenderer=function(a,c,d,e){var f=!this.layer,g=f||this.rendererShouldUpdate(a,d),h=f||this.$2(a);f=f||this.$3(a);this.layer=a;this.assets=e;this.animation=d;this.parentLayer=c;h&&(this.transforms=new(b("ShowreelLayerTransforms"))(a,d));f&&(this.effects=new(b("ShowreelLayerEffects"))(a,this.target,d));g&&(this.cache=new(b("ShowreelLayerCache"))(a.name),this.context.cache=this.cache,this.updateRenderer(),this.$4());return g};c.$4=function(){var a=this.layer,c=this.animation,d=this.$1;if(a.maskProperties){d&&d.target.parent&&d.target.parent.removeChild(d.target);d=new(b("ShowreelMasksLayerRenderer"))(a.maskProperties,a,c);this.target.addChild(d.target);this.target.mask=d.target;this.$1=d}};c.$2=function(a){return a.inPoint!==this.layer.inPoint||a.outPoint!==this.layer.outPoint||!j(a.transform,this.layer.transform)};c.$3=function(a){return!j(a.effects,this.layer.effects)};return a}()},null);
__d("ShowreelImageLayerRenderer",["ShowreelGraphicsUtils","ShowreelLayerRenderer","ShowreelPIXIJSTyped","ShowreelTimeSeriesValue","ShowreelUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";var g=b("ShowreelGraphicsUtils").getAssetScale,h=b("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries,i=b("ShowreelGraphicsUtils").getTimeSeries,j=b("ShowreelUtils").deepEquals;e.exports=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.createTarget=function(){return new(b("ShowreelPIXIJSTyped").Container)()};d.updateRenderer=function(){var a=this.layer,c=this.animation,d=this.assets,e=this.target,f=a.referenceId;d=d.get(f);if(!d)throw new Error("Could not find asset "+f+" referenced by "+a.name+" in animation "+c.name);if(d.type!=="image"&&d.type!=="video")throw new Error("Wrong asset type used with id "+f+" referenced by "+a.name);var i=d.texture.clone();f=n(f,c);var j=k(i,f),l=g(j,f);this.target.removeChildren();var m;if(d.type==="image"&&d.frames!=null){var p=d.frames;m=new(b("ShowreelPIXIJSTyped").extras.AnimatedSprite)(p,!1);m.animationSpeed=.05;m.$ShowreelImageLayerRenderer1=!0;m.$ShowreelImageLayerRenderer2=o(p,a,c)}else m=new(b("ShowreelPIXIJSTyped").Sprite)(),m.texture=i;e.addChild(m);i.frame=j;m.filters=null;this.type=d.type;this.texture=i;this.layer=a;this.frame=j;this.source=f;this.dimensions=new(b("ShowreelTimeSeriesValue"))(h(a.transform.scale,a,c,function(a){return{width:j.width*a[0]/100*l.width,height:j.height*a[1]/100*l.height}}))};d.rendererShouldUpdate=function(b,c){var d=n(b.referenceId,c);return!j(d,this.source)?!0:a.prototype.rendererShouldUpdate.call(this,b,c)};d.updateTarget=function(b){var c=this.type,d=this.texture,e=this.source,f=this.target;a.prototype.updateTarget.call(this,b);var g=this.target.getChildAt(0);g.$ShowreelImageLayerRenderer1&&g.gotoAndStop(g.$ShowreelImageLayerRenderer2.getValue(b));c==="video"&&d.baseTexture.update();g=this.transforms.anchor.getValue(b);c=this.dimensions.getValue(b);f.width=c.width;f.height=c.height;f.pivot.set(d.width*(g.x/e.originalWidth),d.height*(g.y/e.originalHeight))};return c}(b("ShowreelLayerRenderer"));function k(a,b){if(b.cropWindow){var c=b.cropWindow,d=c.x,e=c.y,f=c.width;c=c.height;if(d>=0&&e>=0&&f>=0&&c>=0)return l(b.cropWindow)}else if(b.cropType==="center")return l(m(a,b));return l({x:0,y:0,width:a.width,height:a.height})}function l(a){return new(b("ShowreelPIXIJSTyped").Rectangle)(a.x,a.y,a.width,a.height)}function m(a,b){var c=0,d=0,e=a.width,f=a.height,g=a.width/a.height;b=b.originalWidth/b.originalHeight;g>b?(f=a.height,e=f*b,c=(a.width-e)/2):g<b&&(e=a.width,f=e/b,d=(a.height-f)/2);return{x:c,y:d,width:e,height:f}}function n(a,c){return b("nullthrows")(c.assets.find(function(b){return b.id===a}))}function o(a,c,d){var e=d.outPoint,f=d.inPoint,g=d.frameRate,h=1e3/g;g=a.reduce(function(a,b){b=b.time;return a+b},0);e=(e-f)*h;f=e/g;var j=f*a.length,k=p(function(b){if(b===0)return{circularFrameNumber:0,timeAtEnd:a[0].time};var c=b*h;b=k(b-1);var d=b.circularFrameNumber;b=b.timeAtEnd;d=d;b=b;var e=j;while(b<c&&e-->0)d++,b+=a[d%a.length].time;return{circularFrameNumber:d,timeAtEnd:b}});return new(b("ShowreelTimeSeriesValue"))(i(c,d,function(b){b=k(b);b=b.circularFrameNumber;return b%a.length}))}function p(a){var b={};return function(c){if(c in b)return b[c];var d=a(c);b[c]=d;return d}}},null);
__d("ShowreelParentLayerRenderer",["ShowreelLayerRenderer","ShowreelPIXIJSTyped"],function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f){d=a.call(this,c,d,e,f)||this;d.target=d.createTarget(b);d.target.name=c.name+" (parent)";return d}var d=c.prototype;d.createTarget=function(a){var c=new(b("ShowreelPIXIJSTyped").Container)();a&&c.addChild(a);return c};d.updateTarget=function(b){a.prototype.updateTarget.call(this,b),this.target.alpha=1};return c}(b("ShowreelLayerRenderer"))},null);
__d("ShowreelTrimShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){this.start=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.start,b,e,function(a){return a/100})),this.end=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.end,b,e,function(a){return a/100})),this.offset=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.offset,b,e,function(a){return a*Math.PI/180})),this.animated=this.start.animated||this.end.animated||this.offset.animated};g["default"]=a},98);
__d("ShowreelEllipseShape",["ShowreelGraphicsUtils","ShowreelPIXIJSTyped","ShowreelPathUtils","ShowreelTimeSeriesValue","ShowreelTrimShape"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){this.layer=b;this.animation=e;f=f?new(c("ShowreelTrimShape"))(f,b,e):null;var g=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getCoordinatesTimeSeries(a.position,b,e));a=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries(a.size,b,e,function(a){return{width:a[0],height:a[1]}}));this.animated=g.animated||a.animated||!!f&&f.animated;this.$1=f;this.$3=a;this.$2=g;this.redrawPolygons()}var b=a.prototype;b.scale=function(a){throw new Error("Ellipse shapes can not currently be wrapped")};b.redrawPolygons=function(){this.polygon=this.drawPolygons(),this.$1&&(this.untrimmedPolygon=this.drawPolygons(!1))};b.drawPolygons=function(a){var b=this;a===void 0&&(a=!0);var e=this.layer,f=this.animation,g=this.$1,h=this.$3,i=this.$2,j=function(c){var d;g&&a===!0&&(d={start:g.start.getValue(c),end:g.end.getValue(c),offset:g.offset.getValue(c)});return b.drawPolygon(i.getValue(c),h.getValue(c),d)};f=this.animated?d("ShowreelGraphicsUtils").getTimeSeries(e,f,j):j(e.inPoint);return new(c("ShowreelTimeSeriesValue"))(f)};b.drawPolygon=function(a,b,e){var f=a.x;a=a.y;var g=b.width,h=b.height;f=d("ShowreelPathUtils").createEllipsePoints(f,a,g,h);for(var a=0;a<f.length;a+=2)f[a]-=b.width/2,f[a+1]-=b.height/2;e&&(f=d("ShowreelPathUtils").getTrimmedPoints(f,e.start,e.end,e.offset));return new(c("ShowreelPIXIJSTyped").Polygon)(f)};b.drawShape=function(a,b){a.drawPolygon(this.polygon.getValue(b))};return a}();g["default"]=a},98);
__d("ShowreelFillShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){var f=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.opacity,b,e,function(a){return a/100})),g=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries(a.color,b,e,function(a){return d("ShowreelGraphicsUtils").rgbaToColorAlpha(a)[1]}));this.opacity=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getTimeSeries(b,e,function(a){var b=g.getValue(a);a=f.getValue(a);return b*a}));this.color=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries(a.color,b,e,function(a){return d("ShowreelGraphicsUtils").rgbaToColorAlpha(a)[0]}));this.animated=this.opacity.animated||this.color.animated};g["default"]=a},98);
__d("ShowreelRectShape",["ShowreelGraphicsUtils","ShowreelPIXIJSTyped","ShowreelPathUtils","ShowreelTimeSeriesValue","ShowreelTrimShape"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){this.layer=b;this.animation=e;f=f?new(c("ShowreelTrimShape"))(f,b,e):null;var g=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getCoordinatesTimeSeries(a.position,b,e)),h=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries(a.size,b,e,function(a){return{width:a[0],height:a[1]}}));a=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.roundedCorners,b,e,function(a){return a||0}));this.animated=g.animated||h.animated||a.animated||!!f&&f.animated;this.$1=f;this.$3=h;this.$2=g;this.$4=a;this.redrawPolygons()}var b=a.prototype;b.scale=function(a){var b=this;this.$3=a.map(function(a,c){c=b.$3.getValue(c);return{width:c.width*a.width,height:c.height*a.height}});this.redrawPolygons()};b.redrawPolygons=function(){this.polygon=this.drawPolygons(),this.$1&&(this.untrimmedPolygon=this.drawPolygons(!1))};b.drawPolygons=function(a){var b=this;a===void 0&&(a=!0);var e=this.layer,f=this.animation,g=this.$1,h=this.$3,i=this.$4,j=this.$2,k=function(c){var d;g&&a===!0&&(d={start:g.start.getValue(c),end:g.end.getValue(c),offset:g.offset.getValue(c)});return b.drawPolygon(j.getValue(c),h.getValue(c),i.getValue(c),d)};f=this.animated?d("ShowreelGraphicsUtils").getTimeSeries(e,f,k):k(e.inPoint);return new(c("ShowreelTimeSeriesValue"))(f)};b.drawPolygon=function(a,b,e,f){var g=a.x;a=a.y;var h=b.width,i=b.height;e?e=d("ShowreelPathUtils").createRoundedRectanglePoints(g,a,h,i,e):e=d("ShowreelPathUtils").createRectanglePoints(g,a,h,i);for(var g=0;g<e.length;g+=2)e[g]-=b.width/2,e[g+1]-=b.height/2;f&&(e=d("ShowreelPathUtils").getTrimmedPoints(e,f.start,f.end,f.offset));return new(c("ShowreelPIXIJSTyped").Polygon)(e)};b.drawShape=function(a,b){a.drawPolygon(this.polygon.getValue(b))};return a}();g["default"]=a},98);
__d("ShowreelShapeShape",["BodymovinTypes.flow","ShowreelGraphicsUtils","ShowreelKeyframeUtils","ShowreelPIXIJSTyped","ShowreelPathUtils","ShowreelTimeSeriesValue","ShowreelTrimShape","nullthrows"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e){this.layer=b;this.animation=d;this.vertices=a.vertices;e=e?new(c("ShowreelTrimShape"))(e,b,d):null;this.animated=a.vertices.animated===1||!!(e==null?void 0:e.animated);this.$1=e;this.polygon=this.drawPolygons(!0);this.untrimmedPolygon=this.drawPolygons(!1)}var b=a.prototype;b.scale=function(a){throw new Error("Arbitrary shapes can not currently be wrapped")};b.drawPolygons=function(a){var b=this;a===void 0&&(a=!0);var e=this.layer,f=this.animation,g=this.$1,h=function(c){var d=null;g&&a===!0&&(d={start:g.start.getValue(c),end:g.end.getValue(c),offset:g.offset.getValue(c)});return b.drawPolygon(c,d)};f=this.animated?d("ShowreelGraphicsUtils").getTimeSeries(e,f,h):h(e.inPoint);return new(c("ShowreelTimeSeriesValue"))(f)};b.drawPolygon=function(a,b){var e=this.vertices;e=c("nullthrows")(d("BodymovinTypes.flow").switchShapeProperty(e,{ShapeProperty:function(a){return a.value},ShapeKeyframedProperty:function(b){return d("ShowreelKeyframeUtils").interpolateShapeValue(b,a)}}));var f=e.vertices,g=e.inPoint;e=e.outPoint;f=f.slice().reverse();f=d("ShowreelPathUtils").createBezierShapePoints(f,g,e);return b!=null?new(c("ShowreelPIXIJSTyped").Polygon)(d("ShowreelPathUtils").getTrimmedPoints(f,b.start,b.end,b.offset)):new(c("ShowreelPIXIJSTyped").Polygon)(f)};b.drawShape=function(a,b){a.drawPolygon(this.polygon.getValue(b))};return a}();g["default"]=a},98);
__d("ShowreelStarShape",["ShowreelGraphicsUtils","ShowreelPIXIJSTyped","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){if(f)throw new Error("Star shapes can not currently be trimmed");this.layer=b;this.animation=e;this.$1=a.starType==="Polygon";this.$2=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getCoordinatesTimeSeries(a.position,b,e));this.$3=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.points,b,e,function(a){return a||0}));this.$4=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.outerRadius,b,e,function(a){return a||0}));this.$6=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.rotation,b,e,function(a){return a||0}));this.animated=this.$2.animated||this.$4.animated||this.$6.animated||this.$3.animated;this.$1||(this.$5=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.innerRadius,b,e,function(a){return a||0})),this.animated=this.animated||this.$5.animated);this.redrawPolygons()}var b=a.prototype;b.scale=function(a){throw new Error("Star shapes can not currently be wrapped")};b.redrawPolygons=function(){this.$1&&(this.polygon=this.drawPolygons())};b.drawPolygons=function(){var a=this,b=function(b){return a.drawPolygon(a.$2.getValue(b),a.$3.getValue(b),a.$4.getValue(b),a.$6.getValue(b))};b=this.animated?d("ShowreelGraphicsUtils").getTimeSeries(this.layer,this.animation,b):b(this.layer.inPoint);return new(c("ShowreelTimeSeriesValue"))(b)};b.drawPolygon=function(a,b,e,f){var g=a.x;a=a.y;g=d("ShowreelGraphicsUtils").getRotatedPolygon(g,a,b,e,f*Math.PI/180);return new(c("ShowreelPIXIJSTyped").Polygon)(g)};b.drawShape=function(a,b){if(this.$1)a.drawPolygon(this.polygon.getValue(b));else{var c=this.$2.getValue(b),d=c.x;c=c.y;var e=this.$3.getValue(b),f=this.$5.getValue(b),g=this.$4.getValue(b);b=this.$6.getValue(b);a.drawStar(d,c,e,g,f,b*Math.PI/180)}};return a}();g["default"]=a},98);
__d("ShowreelStrokeShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){this.opacity=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.opacity,b,e,function(a){return a/100})),this.width=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getValueTimeSeries(a.width,b,e,function(a){return a})),this.color=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getMultiDimensionalValueTimeSeries(a.color,b,e,function(a){return d("ShowreelGraphicsUtils").rgbaToColorAlpha(a)[0]})),this.animated=this.opacity.animated||this.color.animated||this.width.animated};g["default"]=a},98);
__d("ShowreelTransformShape",["ShowreelGraphicsUtils","ShowreelTimeSeriesValue"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){this.position=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getPositionTimeSeries(a,b,e)),this.rotation=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getRotationTimeSeries(a,b,e)),this.opacity=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getOpacityTimeSeries(a,b,e)),this.scale=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getScaleTimeSeries(a,b,e)),this.anchor=new(c("ShowreelTimeSeriesValue"))(d("ShowreelGraphicsUtils").getAnchorTimeSeries(a,b,e))};g["default"]=a},98);
__d("ShowreelGroupShape",["invariant","BodymovinTypes.flow","ShowreelEllipseShape","ShowreelFillShape","ShowreelPIXIJSTyped","ShowreelRectShape","ShowreelShapeShape","ShowreelStarShape","ShowreelStrokeShape","ShowreelTransformShape","nullthrows"],function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b,e,f){a=i(a);var g=a.trim,j=a.shape,k=a.fill,l=a.stroke;a=a.transform;var m=[];g&&f&&h(0,723);var n=f||g;f=c("nullthrows")(j,"Could not find supported shape. Supported shapes are Rectangles, rounded rectangles, ellipsis or star");k&&(this.fill=new(c("ShowreelFillShape"))(k,b,e),m.push(this.fill));l&&(this.stroke=new(c("ShowreelStrokeShape"))(l,b,e),m.push(this.stroke));a&&(this.transform=new(c("ShowreelTransformShape"))(a,b,e));this.shape=c("nullthrows")(d("BodymovinTypes.flow").switchShape(f,{RectShape:function(a){return new(c("ShowreelRectShape"))(a,b,e,n)},EllipseShape:function(a){return new(c("ShowreelEllipseShape"))(a,b,e,n)},StarShape:function(a){return new(c("ShowreelStarShape"))(a,b,e,n)},ShapeShape:function(a){return new(c("ShowreelShapeShape"))(a,b,e,n)}}));m.push(this.shape);this.graphics=new(c("ShowreelPIXIJSTyped").Graphics)();this.$1=!1;this.$2=m.some(function(a){return a&&a.animated})}var b=a.prototype;b.scale=function(a){this.shape.scale(a),this.$1=!1};b.draw=function(a){var b=this.graphics,c=this.stroke,d=this.fill,e=this.shape;if(!e)return;var f=c?c.opacity.getValue(a):0,g=c?c.width.getValue(a):0;c=c?c.color.getValue(a):0;var h=d?d.color.getValue(a):0;d=d?d.opacity.getValue(a):0;b.clear();b.lineStyle(g,c,f);b.beginFill(h,d);e.drawShape(b,a);b.endFill();f=e.untrimmedPolygon?e.untrimmedPolygon.getValue(a):null;f&&(b.lineStyle(g,c,0),b.beginFill(h,0),b.drawPolygon(f),b.endFill())};b.render=function(a){var b=this.transform,c=this.graphics;this.$3=a;if(b){var d=b.scale.getValue(a),e=b.anchor.getValue(a),f=b.position.getValue(a),g=b.rotation.getValue(a);b=b.opacity.getValue(a);c.scale.set(d.x,d.y);c.pivot.set(e.x,e.y);c.position.set(f.x,f.y);c.rotation=g;c.alpha=b}(!this.$1||this.$2)&&(this.draw(a),this.$1=!0);return c};return a}();function i(a){return a.items.reduce(function(a,b){d("BodymovinTypes.flow").switchShape(b,{FillShape:function(b){a.fill=b},StrokeShape:function(b){a.stroke=b},TransformShape:function(b){a.transform=b},RectShape:function(b){a.shape=b},EllipseShape:function(b){a.shape=b},StarShape:function(b){a.shape=b},TrimShape:function(b){a.trim=b},ShapeShape:function(b){a.shape=b}});return a},{})}g["default"]=a},98);
__d("ShowreelShapeLayerRenderer",["invariant","BodymovinTypes.flow","ShowreelGraphicsUtils","ShowreelGroupShape","ShowreelLayerRenderer","ShowreelLayerTransforms","ShowreelPIXIJSTyped","ShowreelTimeSeriesValue","nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h=b("BodymovinTypes.flow").switchShape,i=b("ShowreelGraphicsUtils").getTimeSeries;e.exports=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.createTarget=function(){return new(b("ShowreelPIXIJSTyped").Container)()};d.wrapAround=function(a){this.shapes.length===1||g(0,5971);var c=this.getBounds(),d=new(b("ShowreelTimeSeriesValue"))(i(this.layer,this.animation,function(b){var d=c.getValue(b);b=a.getValue(b);return{width:b.width/d.width,height:b.height/d.height}}));this.shapes[0].scale(d)};d.updateRenderer=function(){var a=this.layer,c=this.animation,d=this.target;this.transforms=new(b("ShowreelLayerTransforms"))(a,c);var e=b("nullthrows")(a.shapes).slice(),f=j(e),g=f.trim,i=f.index;i>-1&&e.splice(i,1);f=e.map(function(d,e){d=h(d,{GroupShape:function(d){return new(b("ShowreelGroupShape"))(d,a,c,g&&i>e?g:null)}});return b("nullthrows")(d,"Only group shapes and trim paths are currently supported in shape layers")});e=f.reverse().map(function(a){return a.graphics});this.shapes=f;d.removeChildren();d.addChild.apply(d,e)};d.updateTarget=function(b){a.prototype.updateTarget.call(this,b),this.shapes.forEach(function(a){return a.render(b)})};return c}(b("ShowreelLayerRenderer"));function j(a){var b=function(b,c){c=h(a[b],{TrimShape:function(a){return{trim:a,index:b}}});if(c)return{v:c}};for(var c=0,d=a.length;c<d;c++){var e=b(c,d);if(typeof e==="object")return e.v}return{trim:null,index:-1}}},null);
__d("ShowreelSolidLayerRenderer",["ShowreelGraphicsUtils","ShowreelLayerRenderer","ShowreelPIXIJSTyped"],function(a,b,c,d,e,f){"use strict";var g=b("ShowreelGraphicsUtils").hexToDecimal;e.exports=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.createTarget=function(){return new(b("ShowreelPIXIJSTyped").Graphics)()};d.updateRenderer=function(){var a=this.layer,b=this.target;b.clear();b.beginFill(g(a.solidColor));b.drawRect(0,0,a.solidWidth,a.solidHeight);b.endFill()};return c}(b("ShowreelLayerRenderer"))},null);
__d("ShowreelStandardTextLayerRenderer",["invariant","ShowreelGraphicsUtils","ShowreelPIXIJSTyped","ShowreelPathUtils","ShowreelTextUtils","ShowreelTimeSeriesValue","nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h=b("ShowreelGraphicsUtils").getTimeSeries,i=b("ShowreelGraphicsUtils").rgbaToColorAlpha,j=b("ShowreelPathUtils").getBackgroundsFor,k=b("ShowreelPathUtils").getUnderlinesFor,l=(a=b("ShowreelTextUtils")).HORIZONTAL_ELLIPSIS,m=a.getStyle,n=a.getTextDataKeyframe,o=a.getTextProperties,p=a.setTokenizer,q=a.transformText,r=a.truncateText,s="standard",t="background",u="underline";e.exports=function(){function a(a){this.$5=new(b("ShowreelPIXIJSTyped").Text)("",null,a)}var c=a.prototype;c.updateRenderer=function(a,c,d,e,f,g){var i=this;this.$5==null&&(this.$5=new(b("ShowreelPIXIJSTyped").Text)());this.$5.parent!==e&&(e.removeChildren(),e.addChild(this.$5));d=a.layout;e=d||{};d=e.fontSize;var j=e.lineBreakStrategy,k=e.background;e=e.underline;var l=this.$5;this.$3=k;this.$4=e;j?l.updateText=function(){p(j);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b("ShowreelPIXIJSTyped").Text.prototype.updateText.apply(this,c);p(s)}:l.updateText=b("ShowreelPIXIJSTyped").Text.prototype.updateText;d==="auto"?this.$1=new(b("ShowreelTimeSeriesValue"))(h(a,f,function(b){return i.$6(b,a,c,f,g)})):this.$1=new(b("ShowreelTimeSeriesValue"))(this.$7(a,c,f,g))};c.rendererShouldUpdate=function(){return!1};c.$7=function(a,c,d,e){var f=this,g=a.outPoint,h=a.textData,i=function(a,c){if(c>a.length){var d=b("nullthrows")(a[a.length-1]);c=new Array(c-a.length);return a.concat(c.fill(d))}return a},j=function(b,g){g=g.time;var h=f.$6(g,a,c,d,e);return i(b,g).concat(h)};return i(h.document.keyframes.reduce(j,[]),g)};c.updateTarget=function(a,b,c,d,e,f,h){c=this.$5;f=d.scale.getValue(a);h=d.anchor.getValue(a);this.$1||g(0,17716);d=this.$1.getValue(a);var i=this.$8(d),j=d.scale||{x:1,y:1},k=d.text,l=d.style,m=c.style!==l;b=this.$9(b,a);(m||b)&&(c.style=l);c.text!==k&&(c.text=k);this.$10(d,c);this.$11(c);this.$12(c);e.pivot.set(h.x-i.x,h.y-i.y);e.scale.set(f.x*j.x,f.y*j.y)};c.$9=function(a,b){a=n(a,b);if(this.$2!==a){this.$2=a;return!0}return!1};c.$6=function(a,c,d,e,f){c=o(c,e,a,d,f);e=c.text;a=c.characterLimit;d=c.textTransform;f=m(c);var g=this.$13(c,f);a=Math.min(b("nullthrows")(a),g);g=r(b("nullthrows")(e),a,a===0?"":l);e=q(g,d);return babelHelpers["extends"]({},c,{text:e,style:f})};c.$13=function(a,c){var d=a.overflow,e=a.text||"";a=a.boxTextSize?a.boxTextSize[0]:null;d=d==="truncate"&&e&&a!=null;var f=c.clone();f.wordWrap=!1;c=function(a){return b("ShowreelPIXIJSTyped").TextMetrics.measureText(a,f).width};d=d&&c(e)>a;if(d){for(var d=e.length;d>0;d--){var g=c(e.slice(0,d)+l);if(g<=a)return d}return 0}return Infinity};c.$8=function(a){var b=a.boxTextSize;a=a.boxTextPosition;return{x:a?a[0]:0,y:a?a[1]:0,width:b?b[0]:0,height:b?b[1]:0}};c.$10=function(a,b){var c=a.textBoxAlignment,d=a.textBoxVAlignment;a=this.$8(a);switch(c){case"center":b.x=(a.width-b.width)/2;break;case"right":b.x=a.width-b.width;break;default:case"left":b.x=0;break}switch(d){case"middle":b.y=(a.height-b.height)/2;break;case"bottom":b.y=a.height-b.height;break;default:case"top":b.y=0;break}};c.$11=function(a){var c=this.$3,d=a.text,e=a.style,f=a.parent;if(c!=null){var g=c.colour,h=c.radius;h=h===void 0?0:h;var k=c.padding;k=k===void 0?0:k;c=c.wrap;c=c===void 0?"paragraph":c;var l=!!f.getChildByName(t),m;l?m=f.getChildByName(t):(m=new(b("ShowreelPIXIJSTyped").Graphics)(),m.name=t,f.addChildAt(m,0));m.clear();if(d){l=i(g);var n=l[0],o=l[1];g=Object.assign(new(b("ShowreelPIXIJSTyped").TextStyle)(e),(f=e.originalFontSizings)!=null?f:{});l=b("ShowreelPIXIJSTyped").TextMetrics.measureText(d,g);e=j(l,h,k,c);e.forEach(function(a){m.beginFill(n,o),m.drawShape(a),m.endFill()});m.position.x=a.position.x;m.position.y=a.position.y;m.pivot.x=a.pivot.x;m.pivot.y=a.pivot.y}}};c.$12=function(a){var c=this.$4,d=a.text,e=a.style,f=a.parent;if(c!=null){var g=c.colour,h=c.thickness;h=h===void 0?5:h;c=c.distance;c=c===void 0?0:c;var j=!!f.getChildByName(u),l;j?l=f.getChildByName(u):(l=new(b("ShowreelPIXIJSTyped").Graphics)(),l.name=u,f.addChildAt(l,0));l.clear();if(d){j=i(g);var m=j[0],n=j[1];g=Object.assign(new(b("ShowreelPIXIJSTyped").TextStyle)(e),(f=e.originalFontSizings)!=null?f:{});j=b("ShowreelPIXIJSTyped").TextMetrics.measureText(d,g);e=k(j,h,c);e.forEach(function(a){l.beginFill(m,n),l.drawShape(a),l.endFill()});l.position.x=a.position.x;l.position.y=a.position.y;l.pivot.x=a.pivot.x;l.pivot.y=a.pivot.y}}};return a}()},null);
__d("ShowreelTextLayerRenderer",["ShowreelLayerRenderer","ShowreelPIXIJSTyped","ShowreelStandardTextLayerRenderer","ShowreelTextUtils"],function(a,b,c,d,e,f){"use strict";var g=b("ShowreelTextUtils").setTokenizer,h="standard";e.exports=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ShowreelTextLayerRenderer1=document.createElement("canvas"),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.createTarget=function(){return new(b("ShowreelPIXIJSTyped").Container)()};d.updateRenderer=function(){var a=this.$ShowreelTextLayerRenderer1;this.textLayer=new(b("ShowreelStandardTextLayerRenderer"))(a);this.textLayer.updateRenderer(this.layer,this.parentLayer,this.transforms,this.target,this.animation,this.cache)};d.updateTarget=function(b){a.prototype.updateTarget.call(this,b),this.textLayer.updateTarget(b,this.layer,this.parentLayer,this.transforms,this.target,this.animation,this.cache)};d.render=function(b){this.layer.layout&&this.layer.layout.lineBreakStrategy&&g(this.layer.layout.lineBreakStrategy),a.prototype.render.call(this,b),g(h)};d.rendererShouldUpdate=function(b,c){return a.prototype.rendererShouldUpdate.call(this,b,c)||this.textLayer.rendererShouldUpdate()};return c}(b("ShowreelLayerRenderer"))},null);
__d("ShowreelTypes",[],function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a._type){case"CompLayer":return!b.CompLayer?null:b.CompLayer(a);case"ImageLayer":return!b.ImageLayer?null:b.ImageLayer(a);case"NullLayer":return!b.NullLayer?null:b.NullLayer(a);case"ShapeLayer":return!b.ShapeLayer?null:b.ShapeLayer(a);case"SolidLayer":return!b.SolidLayer?null:b.SolidLayer(a);case"TextLayer":return!b.TextLayer?null:b.TextLayer(a);default:throw new Error("Unknown Layer type "+a._type)}}g.switchLayer=a},98);
__d("ShowreelLayerRenderers",["invariant","ShowreelImageLayerRenderer","ShowreelParentLayerRenderer","ShowreelShapeLayerRenderer","ShowreelSolidLayerRenderer","ShowreelTextLayerRenderer","ShowreelTypes","nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h=b("ShowreelTypes").switchLayer;e.exports=function(){function a(){this.$1={},this.$2={},this.$4=new WeakMap()}var c=a.prototype;c.render=function(a){var b=this.$5(),c=this.$6();c.concat(b).forEach(function(b){return b.render(a)})};c.getRoots=function(){var a=this,b=this.$5(),c=function(b){var c=a.$7(b);return c[0]||b},d=function(a,b){return b.layer.index-a.layer.index};return b.sort(d).map(c).map(function(a){return a.target})};c.getRenderer=function(a){return this.$1[a]};c.getRoot=function(a){a=this.$1[a];var b=this.$7(a);return(b[0]||a).target};c.update=function(a,b,c){var d=this,e=i(a),f=i(this.$3);e.forEach(function(e){f.has(e)?d.$8(e,a,b,c):d.$9(e,a,b,c)});f.forEach(function(a){e.has(a)||d.$10(a)});this.$3=a};c.$5=function(){var a=this;return Object.keys(this.$1).map(function(b){return a.$1[b]})};c.$6=function(){var a=this;return Object.keys(this.$2).map(function(b){return a.$2[b]}).reduce(function(a,b){return a.concat(b)},[])};c.$9=function(a,c,d,e){a=e.getLayerByName(a);var f=e.getParentLayer(a);this.$1[a.name]&&g(0,3536,a.name);var i=h(a,{SolidLayer:function(a){return new(b("ShowreelSolidLayerRenderer"))(a,f,c,d)},ImageLayer:function(a){return new(b("ShowreelImageLayerRenderer"))(a,f,c,d)},ShapeLayer:function(a){return new(b("ShowreelShapeLayerRenderer"))(a,f,c,d)},TextLayer:function(a){return new(b("ShowreelTextLayerRenderer"))(a,f,c,d)}});if(i){i=i;this.$1[a.name]=i;this.$11(a,i,c,d,e)}};c.$8=function(a,c,d,e){var f=this.$1[a],g=this.$2[a],h=b("nullthrows")(e.getLayerByName(a),"Could not find layer "+a+" in the Layer Index"),i=e.getParentLayer(h);f&&f.maybeUpdateRenderer(h,i,c,d);g&&g.forEach(function(a){a.maybeUpdateRenderer(h,i,c,d)})};c.$11=function(a,b,c,d,e){this.$4.set(b,this.$12(a,b.target,c,d,e))};c.$7=function(a){return this.$4.get(a)||[]};c.$10=function(a){delete this.$1[a],delete this.$2[a]};c.$12=function(a,c,d,e,f){a=f.getLayerByIndex((a=a.parent)!=null?a:-1);if(a){c=new(b("ShowreelParentLayerRenderer"))(c,a,null,d,e);this.$2[a.name]=(this.$2[a.name]||[]).concat(c);return this.$12(a,c.target,d,e,f).concat(c)}return[]};return a}();function i(a){return a?new Set(a.layers.map(function(a){return a.name})):new Set()}},null);
__d("ShowreelLayerUtils",["ShowreelLayerIndex"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b instanceof c("ShowreelLayerIndex")?b:new(c("ShowreelLayerIndex"))(b);return b.getLayerByIndex(a.index-1)}g.getTrackMatteForLayer=a},98);
__d("ShowreelThirdPartyYogaBind",[],function $module_ShowreelThirdPartyYogaBind(global,require,requireDynamic,requireLazy,module,exports){module.exports=function(Module,cb){typeof Module=="function"&&(cb=Module,Module={});Module.onRuntimeInitialized=function(init,cb){return function(){init&&init.apply(this,arguments);try{Module.ccall("nbind_init")}catch(err){cb(err);return}cb(null,{bind:Module._nbind_value,reflect:Module.NBind.reflect,queryType:Module.NBind.queryType,toggleLightGC:Module.toggleLightGC,lib:Module})}}(Module.onRuntimeInitialized,cb);var Module;Module||(Module=(typeof Module!=="undefined"?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;if(Module.ENVIRONMENT)if(Module.ENVIRONMENT==="WEB")ENVIRONMENT_IS_WEB=!0;else if(Module.ENVIRONMENT==="WORKER")ENVIRONMENT_IS_WORKER=!0;else if(Module.ENVIRONMENT==="NODE")ENVIRONMENT_IS_NODE=!0;else if(Module.ENVIRONMENT==="SHELL")ENVIRONMENT_IS_SHELL=!0;else throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");else ENVIRONMENT_IS_WEB=typeof window==="object",ENVIRONMENT_IS_WORKER=typeof importScripts==="function",ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=emptyFunction);Module.printErr||(Module.printErr=emptyFunction);var nodeFS,nodePath;Module.read=function shell_read(filename,binary){nodeFS||(nodeFS={}(""));nodePath||(nodePath={}(""));filename=nodePath.normalize(filename);var ret=nodeFS.readFileSync(filename);return binary?ret:ret.toString()};Module.readBinary=function readBinary(filename){var ret=Module.read(filename,!0);ret.buffer||(ret=new Uint8Array(ret));assert(ret.buffer);return ret};Module.load=function load(f){globalEval(read(f))};Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program");Module.arguments=process.argv.slice(2);typeof module!=="undefined"&&(module.exports=Module);process.on("uncaughtException",function(ex){if(!(ex instanceof ExitStatus))throw ex});Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),typeof printErr!="undefined"&&(Module.printErr=printErr),typeof read!="undefined"?Module.read=read:Module.read=function shell_read(){throw"no read() available"},Module.readBinary=function readBinary(f){if(typeof readbuffer==="function")return new Uint8Array(readbuffer(f));var data=read(f,"binary");assert(typeof data==="object");return data},typeof scriptArgs!="undefined"?Module.arguments=scriptArgs:typeof arguments!="undefined"&&(Module.arguments=arguments),typeof quit==="function"&&(Module.quit=function(status,toThrow){quit(status)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){Module.read=function shell_read(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,!1);xhr.send(null);return xhr.responseText};ENVIRONMENT_IS_WORKER&&(Module.readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,!1);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)});Module.readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,!0);xhr.responseType="arraybuffer";xhr.onload=function xhr_onload(){xhr.status==200||xhr.status==0&&xhr.response?onload(xhr.response):onerror()};xhr.onerror=onerror;xhr.send(null)};typeof arguments!="undefined"&&(Module.arguments=arguments);if(typeof console!=="undefined")Module.print||(Module.print=function shell_print(x){}),Module.printErr||(Module.printErr=function shell_printErr(x){});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&typeof dump!=="undefined"?function(x){dump(x)}:function(x){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts);typeof Module.setWindowTitle==="undefined"&&(Module.setWindowTitle=function(title){document.title=title})}else throw"Unknown runtime environment. Where are we?";function globalEval(x){eval.call(null,x)}!Module.load&&Module.read&&(Module.load=function load(f){globalEval(Module.read(f))});Module.print||(Module.print=function(){});Module.printErr||(Module.printErr=Module.print);Module.arguments||(Module.arguments=[]);Module.thisProgram||(Module.thisProgram="./this.program");Module.quit||(Module.quit=function(status,toThrow){throw toThrow});Module.print=Module.print;Module.printErr=Module.printErr;Module.preRun=[];Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(value){tempRet0=value;return value},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(stackTop){STACKTOP=stackTop},getNativeTypeSize:function(type){switch(type){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if(type[type.length-1]==="*")return Runtime.QUANTUM_SIZE;else if(type[0]==="i"){var bits=parseInt(type.substr(1));assert(bits%8===0);return bits/8}else return 0}},getNativeFieldSize:function(type){return Math.max(Runtime.getNativeTypeSize(type),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(ptr,type){type==="double"||type==="i64"?ptr&7&&(assert((ptr&7)===4),ptr+=4):assert((ptr&3)===0);return ptr},getAlignSize:function(type,size,vararg){if(!vararg&&(type=="i64"||type=="double"))return 8;return!type?Math.min(size,8):Math.min(size||(type?Runtime.getNativeFieldSize(type):0),Runtime.QUANTUM_SIZE)},dynCall:function(sig,ptr,args){if(args&&args.length)return Module["dynCall_"+sig].apply(null,[ptr].concat(args));else return Module["dynCall_"+sig].call(null,ptr)},functionPointers:[],addFunction:function(func){for(var i=0;i<Runtime.functionPointers.length;i++)if(!Runtime.functionPointers[i]){Runtime.functionPointers[i]=func;return 2*(1+i)}throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(index){Runtime.functionPointers[(index-2)/2]=null},warnOnce:function(text){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[text]||(Runtime.warnOnce.shown[text]=1,Module.printErr(text))},funcWrappers:{},getFuncWrapper:function(func,sig){if(!func)return;assert(sig);Runtime.funcWrappers[sig]||(Runtime.funcWrappers[sig]={});var sigCache=Runtime.funcWrappers[sig];sigCache[func]||(sig.length===1?sigCache[func]=function dynCall_wrapper(){return Runtime.dynCall(sig,func)}:sig.length===2?sigCache[func]=function dynCall_wrapper(arg){return Runtime.dynCall(sig,func,[arg])}:sigCache[func]=function dynCall_wrapper(){return Runtime.dynCall(sig,func,Array.prototype.slice.call(arguments))});return sigCache[func]},getCompilerSetting:function(name){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(size){var ret=STACKTOP;STACKTOP=STACKTOP+size|0;STACKTOP=STACKTOP+15&-16;return ret},staticAlloc:function(size){var ret=STATICTOP;STATICTOP=STATICTOP+size|0;STATICTOP=STATICTOP+15&-16;return ret},dynamicAlloc:function(size){var ret=HEAP32[DYNAMICTOP_PTR>>2],end=(ret+size+15|0)&-16;HEAP32[DYNAMICTOP_PTR>>2]=end;if(end>=TOTAL_MEMORY){var success=enlargeMemory();if(!success){HEAP32[DYNAMICTOP_PTR>>2]=ret;return 0}}return ret},alignMemory:function(size,quantum){var ret=size=Math.ceil(size/(quantum?quantum:16))*(quantum?quantum:16);return ret},makeBigInt:function(low,high,unsigned){var ret=unsigned?+(low>>>0)+(+(high>>>0))*4294967296:+(low>>>0)+(+(high|0))*4294967296;return ret},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0,EXITSTATUS=0;function assert(condition,text){condition||abort("Assertion failed: "+text)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)");return func}var cwrap,ccall;(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(arr){var ret=Runtime.stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret},stringToC:function(str){var ret=0;if(str!=null&&str!==0){var len=(str.length<<2)+1;ret=Runtime.stackAlloc(len);stringToUTF8(str,ret,len)}return ret}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function ccallFunc(ident,returnType,argTypes,args,opts){var func=getCFunc(ident),cArgs=[],stack=0;if(args)for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];converter?(stack===0&&(stack=Runtime.stackSave()),cArgs[i]=converter(args[i])):cArgs[i]=args[i]}var ret=func.apply(null,cArgs);returnType==="string"&&(ret=Pointer_stringify(ret));if(stack!==0){if(opts&&opts.async){EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(stack)});return}Runtime.stackRestore(stack)}return ret};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(jsfunc){var parsed=jsfunc.toString().match(sourceRegex).slice(1);return{arguments:parsed[0],body:parsed[1],returnValue:parsed[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource){JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]))}}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(type){return type==="number"}),numericRet=returnType!=="string";if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(x,i){return"$"+i}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource();funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type==="number")continue;var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";";funcstr+=convertCode.body+";";funcstr+=arg+"=("+convertCode.returnValue+");"}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");";if(!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";");funcstr+="return ret})";return eval(funcstr)}})();Module.ccall=ccall;Module.cwrap=cwrap;function setValue(ptr,value,type,noSafe){type=type||"i8";type.charAt(type.length-1)==="*"&&(type="i32");switch(type){case"i1":HEAP8[ptr>>0]=value;break;case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}}Module.setValue=setValue;function getValue(ptr,type,noSafe){type=type||"i8";type.charAt(type.length-1)==="*"&&(type="i32");switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":return HEAP32[ptr>>2];case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];default:abort("invalid type for setValue: "+type)}return null}Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL;Module.ALLOC_STACK=ALLOC_STACK;Module.ALLOC_STATIC=ALLOC_STATIC;Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC;Module.ALLOC_NONE=ALLOC_NONE;function allocate(slab,types,allocator,ptr){var zeroinit,size;typeof slab==="number"?(zeroinit=!0,size=slab):(zeroinit=!1,size=slab.length);var singleType=typeof types==="string"?types:null,ret;allocator==ALLOC_NONE?ret=ptr:ret=[typeof _malloc==="function"?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][allocator===void 0?ALLOC_STATIC:allocator](Math.max(size,singleType?1:types.length));if(zeroinit){var ptr=ret,stop;assert((ret&3)==0);stop=ret+(size&-4);for(;ptr<stop;ptr+=4)HEAP32[ptr>>2]=0;stop=ret+size;while(ptr<stop)HEAP8[ptr++>>0]=0;return ret}if(singleType==="i8"){slab.subarray||slab.slice?HEAPU8.set(slab,ret):HEAPU8.set(new Uint8Array(slab),ret);return ret}var i=0,type,typeSize,previousType;while(i<size){var curr=slab[i];typeof curr==="function"&&(curr=Runtime.getFunctionIndex(curr));type=singleType||types[i];if(type===0){i++;continue}type=="i64"&&(type="i32");setValue(ret+i,curr,type);previousType!==type&&(typeSize=Runtime.getNativeTypeSize(type),previousType=type);i+=typeSize}return ret}Module.allocate=allocate;function getMemory(size){if(!staticSealed)return Runtime.staticAlloc(size);return!runtimeInitialized?Runtime.dynamicAlloc(size):_malloc(size)}Module.getMemory=getMemory;function Pointer_stringify(ptr,length){if(length===0||!ptr)return"";var hasUtf=0,t,i=0;while(1){t=HEAPU8[ptr+i>>0];hasUtf|=t;if(t==0&&!length)break;i++;if(length&&i==length)break}length||(length=i);var ret="";if(hasUtf<128){var MAX_CHUNK=1024,curr;while(length>0)curr=String.fromCharCode.apply(String,HEAPU8.subarray(ptr,ptr+Math.min(length,MAX_CHUNK))),ret=ret?ret+curr:curr,ptr+=MAX_CHUNK,length-=MAX_CHUNK;return ret}return Module.UTF8ToString(ptr)}Module.Pointer_stringify=Pointer_stringify;function AsciiToString(ptr){var str="";while(1){var ch=HEAP8[ptr++>>0];if(!ch)return str;str+=String.fromCharCode(ch)}}Module.AsciiToString=AsciiToString;function stringToAscii(str,outPtr){return writeAsciiToMemory(str,outPtr,!1)}Module.stringToAscii=stringToAscii;var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(u8Array,idx){var endPtr=idx;while(u8Array[endPtr])++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder)return UTF8Decoder.decode(u8Array.subarray(idx,endPtr));else{var u0,u1,u2,u3,u4,u5,str="";while(1){u0=u8Array[idx++];if(!u0)return str;if(!(u0&128)){str+=String.fromCharCode(u0);continue}u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}u2=u8Array[idx++]&63;(u0&240)==224?u0=(u0&15)<<12|u1<<6|u2:(u3=u8Array[idx++]&63,(u0&248)==240?u0=(u0&7)<<18|u1<<12|u2<<6|u3:(u4=u8Array[idx++]&63,(u0&252)==248?u0=(u0&3)<<24|u1<<18|u2<<12|u3<<6|u4:(u5=u8Array[idx++]&63,u0=(u0&1)<<30|u1<<24|u2<<18|u3<<12|u4<<6|u5)));if(u0<65536)str+=String.fromCharCode(u0);else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}}Module.UTF8ArrayToString=UTF8ArrayToString;function UTF8ToString(ptr){return UTF8ArrayToString(HEAPU8,ptr)}Module.UTF8ToString=UTF8ToString;function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx,endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);u>=55296&&u<=57343&&(u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023);if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6;outU8Array[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else if(u<=2097151){if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else if(u<=67108863){if(outIdx+4>=endIdx)break;outU8Array[outIdx++]=248|u>>24;outU8Array[outIdx++]=128|u>>18&63;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else{if(outIdx+5>=endIdx)break;outU8Array[outIdx++]=252|u>>30;outU8Array[outIdx++]=128|u>>24&63;outU8Array[outIdx++]=128|u>>18&63;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}}outU8Array[outIdx]=0;return outIdx-startIdx}Module.stringToUTF8Array=stringToUTF8Array;function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}Module.stringToUTF8=stringToUTF8;function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);u>=55296&&u<=57343&&(u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023);u<=127?++len:u<=2047?len+=2:u<=65535?len+=3:u<=2097151?len+=4:u<=67108863?len+=5:len+=6}return len}Module.lengthBytesUTF8=lengthBytesUTF8;var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):void 0;function demangle(func){var __cxa_demangle_func=Module.___cxa_demangle||Module.__cxa_demangle;if(__cxa_demangle_func){try{var s=func.substr(1),len=lengthBytesUTF8(s)+1,buf=_malloc(len);stringToUTF8(s,buf,len);var status=_malloc(4),ret=__cxa_demangle_func(buf,0,0,status);if(getValue(status,"i32")===0&&ret)return Pointer_stringify(ret)}catch(e){}finally{buf&&_free(buf),status&&_free(status),ret&&_free(ret)}return func}Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");return func}function demangleAll(text){var regex=/__Z[\w\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:x+" ["+y+"]"})}function jsStackTrace(){var err=new Error();if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack)return"(no stack trace available)"}return err.stack.toString()}function stackTrace(){var js=jsStackTrace();Module.extraStackTrace&&(js+="\n"+Module.extraStackTrace());return demangleAll(js)}Module.stackTrace=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0;staticSealed=!1;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||134217728;TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");Module.buffer?buffer=Module.buffer:buffer=new ArrayBuffer(TOTAL_MEMORY);updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}HEAP32[0]=1668509029;HEAP16[1]=25459;if(HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";Module.HEAP=HEAP;Module.buffer=buffer;Module.HEAP8=HEAP8;Module.HEAP16=HEAP16;Module.HEAP32=HEAP32;Module.HEAPU8=HEAPU8;Module.HEAPU16=HEAPU16;Module.HEAPU32=HEAPU32;Module.HEAPF32=HEAPF32;Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback();continue}var func=callback.func;typeof func==="number"?callback.arg===void 0?Module.dynCall_v(func):Module.dynCall_vi(func,callback.arg):func(callback.arg===void 0?null:callback.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun){typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);while(Module.preRun.length)addOnPreRun(Module.preRun.shift())}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=!0;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun){typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);while(Module.postRun.length)addOnPostRun(Module.postRun.shift())}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}Module.addOnPreRun=addOnPreRun;function addOnInit(cb){__ATINIT__.unshift(cb)}Module.addOnInit=addOnInit;function addOnPreMain(cb){__ATMAIN__.unshift(cb)}Module.addOnPreMain=addOnPreMain;function addOnExit(cb){__ATEXIT__.unshift(cb)}Module.addOnExit=addOnExit;function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1,u8array=new Array(len),numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);dontAddNull&&(u8array.length=numBytesWritten);return u8array}Module.intArrayFromString=intArrayFromString;function intArrayToString(array){var ret=[];for(var i=0;i<array.length;i++){var chr=array[i];chr>255&&(chr&=255);ret.push(String.fromCharCode(chr))}return ret.join("")}Module.intArrayToString=intArrayToString;function writeStringToMemory(string,buffer,dontAddNull){Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var lastChar,end;dontAddNull&&(end=buffer+lengthBytesUTF8(string),lastChar=HEAP8[end]);stringToUTF8(string,buffer,Infinity);dontAddNull&&(HEAP8[end]=lastChar)}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i)HEAP8[buffer++>>0]=str.charCodeAt(i);dontAddNull||(HEAP8[buffer>>0]=0)}Module.writeAsciiToMemory=writeAsciiToMemory;(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function imul(a,b){var ah=a>>>16,al=a&65535,bh=b>>>16,bl=b&65535;return al*bl+(ah*bl+al*bh<<16)|0});Math.imul=Math.imul;if(!Math.fround){var froundBuffer=new Float32Array(1);Math.fround=function(x){froundBuffer[0]=x;return froundBuffer[0]}}Math.fround=Math.fround;Math.clz32||(Math.clz32=function(x){x=x>>>0;for(var i=0;i<32;i++)if(x&1<<31-i)return i;return 32});Math.clz32=Math.clz32;Math.trunc||(Math.trunc=function(x){return x<0?Math.ceil(x):Math.floor(x)});Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(id){return id}function addRunDependency(id){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(id){runDependencies--;Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies);if(runDependencies==0){runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null);if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module.removeRunDependency=removeRunDependency;Module.preloadedImages={};Module.preloadedAudios={};var ASM_CONSTS=[function($0,$1,$2,$3,$4,$5,$6,$7){return _nbind.callbackSignatureList[$0].apply(this,arguments)}];function _emscripten_asm_const_iiiiiiii(code,a0,a1,a2,a3,a4,a5,a6){return ASM_CONSTS[code](a0,a1,a2,a3,a4,a5,a6)}function _emscripten_asm_const_iiiii(code,a0,a1,a2,a3){return ASM_CONSTS[code](a0,a1,a2,a3)}function _emscripten_asm_const_iiidddddd(code,a0,a1,a2,a3,a4,a5,a6,a7){return ASM_CONSTS[code](a0,a1,a2,a3,a4,a5,a6,a7)}function _emscripten_asm_const_iiididi(code,a0,a1,a2,a3,a4,a5){return ASM_CONSTS[code](a0,a1,a2,a3,a4,a5)}function _emscripten_asm_const_iiii(code,a0,a1,a2){return ASM_CONSTS[code](a0,a1,a2)}function _emscripten_asm_const_iiiid(code,a0,a1,a2,a3){return ASM_CONSTS[code](a0,a1,a2,a3)}function _emscripten_asm_const_iiiiii(code,a0,a1,a2,a3,a4){return ASM_CONSTS[code](a0,a1,a2,a3,a4)}STATIC_BASE=Runtime.GLOBAL_BASE;STATICTOP=STATIC_BASE+12800;__ATINIT__.push({func:function(){__GLOBAL__sub_I_Yoga_cpp()}},{func:function(){__GLOBAL__sub_I_nbind_cc()}},{func:function(){__GLOBAL__sub_I_common_cc()}},{func:function(){__GLOBAL__sub_I_Binding_cc()}});allocate([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,192,127,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,128,191,0,0,128,191,0,0,192,127,0,0,0,0,0,0,0,0,0,0,128,63,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,190,12,0,0,200,12,0,0,208,12,0,0,216,12,0,0,230,12,0,0,242,12,0,0,1,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,192,127,3,0,0,0,180,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,182,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,4,0,0,0,183,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,184,45,0,0,185,45,0,0,181,45,0,0,181,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,148,4,0,0,3,0,0,0,187,45,0,0,164,4,0,0,188,45,0,0,2,0,0,0,189,45,0,0,164,4,0,0,188,45,0,0,185,45,0,0,164,4,0,0,185,45,0,0,164,4,0,0,188,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,183,45,0,0,182,45,0,0,181,45,0,0,190,45,0,0,190,45,0,0,182,45,0,0,182,45,0,0,185,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,185,45,0,0,48,5,0,0,3,0,0,0,56,5,0,0,1,0,0,0,189,45,0,0,185,45,0,0,164,4,0,0,76,5,0,0,2,0,0,0,191,45,0,0,186,45,0,0,182,45,0,0,185,45,0,0,192,45,0,0,185,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,76,5,0,0,76,5,0,0,136,5,0,0,182,45,0,0,181,45,0,0,2,0,0,0,190,45,0,0,136,5,0,0,56,19,0,0,156,5,0,0,2,0,0,0,184,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,9,0,0,0,1,0,0,0,10,0,0,0,204,5,0,0,181,45,0,0,181,45,0,0,2,0,0,0,180,45,0,0,204,5,0,0,2,0,0,0,195,45,0,0,236,5,0,0,97,19,0,0,198,45,0,0,211,45,0,0,212,45,0,0,213,45,0,0,214,45,0,0,215,45,0,0,188,45,0,0,182,45,0,0,216,45,0,0,217,45,0,0,218,45,0,0,219,45,0,0,192,45,0,0,181,45,0,0,0,0,0,0,185,45,0,0,110,19,0,0,186,45,0,0,115,19,0,0,221,45,0,0,120,19,0,0,148,4,0,0,132,19,0,0,96,6,0,0,145,19,0,0,222,45,0,0,164,19,0,0,223,45,0,0,173,19,0,0,0,0,0,0,3,0,0,0,104,6,0,0,1,0,0,0,187,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,13,0,0,0,185,45,0,0,224,45,0,0,164,6,0,0,188,45,0,0,172,6,0,0,180,6,0,0,2,0,0,0,188,6,0,0,7,0,0,0,224,45,0,0,7,0,0,0,164,6,0,0,1,0,0,0,213,45,0,0,185,45,0,0,224,45,0,0,172,6,0,0,185,45,0,0,224,45,0,0,164,6,0,0,185,45,0,0,224,45,0,0,211,45,0,0,211,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,172,6,0,0,222,45,0,0,211,45,0,0,224,45,0,0,188,45,0,0,222,45,0,0,211,45,0,0,40,7,0,0,188,45,0,0,2,0,0,0,224,45,0,0,185,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,222,45,0,0,224,45,0,0,148,4,0,0,185,45,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,185,45,0,0,164,6,0,0,148,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,15,0,0,0,1,0,0,0,16,0,0,0,148,7,0,0,2,0,0,0,225,45,0,0,183,45,0,0,188,45,0,0,168,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,234,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,148,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,9,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,242,45,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,110,111,100,101,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,119,104,105,99,104,32,115,116,105,108,108,32,104,97,115,32,99,104,105,108,100,114,101,110,32,97,116,116,97,99,104,101,100,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,115,116,105,108,108,32,97,116,116,97,99,104,101,100,32,116,111,32,97,32,112,97,114,101,110,116,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,99,111,110,102,105,103,0,67,97,110,110,111,116,32,115,101,116,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,67,104,105,108,100,32,97,108,114,101,97,100,121,32,104,97,115,32,97,32,112,97,114,101,110,116,44,32,105,116,32,109,117,115,116,32,98,101,32,114,101,109,111,118,101,100,32,102,105,114,115,116,46,0,67,97,110,110,111,116,32,97,100,100,32,99,104,105,108,100,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,79,110,108,121,32,108,101,97,102,32,110,111,100,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,115,104,111,117,108,100,32,109,97,110,117,97,108,108,121,32,109,97,114,107,32,116,104,101,109,115,101,108,118,101,115,32,97,115,32,100,105,114,116,121,0,67,97,110,110,111,116,32,103,101,116,32,108,97,121,111,117,116,32,112,114,111,112,101,114,116,105,101,115,32,111,102,32,109,117,108,116,105,45,101,100,103,101,32,115,104,111,114,116,104,97,110,100,115,0,37,115,37,100,46,123,91,115,107,105,112,112,101,100,93,32,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,61,62,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,37,115,37,100,46,123,37,115,0,42,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,37,115,10,0,37,115,37,100,46,125,37,115,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,79,117,116,32,111,102,32,99,97,99,104,101,32,101,110,116,114,105,101,115,33,10,0,83,99,97,108,101,32,102,97,99,116,111,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,108,101,115,115,32,116,104,97,110,32,122,101,114,111,0,105,110,105,116,105,97,108,0,37,115,10,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,85,78,68,69,70,73,78,69,68,0,69,88,65,67,84,76,89,0,65,84,95,77,79,83,84,0,76,65,89,95,85,78,68,69,70,73,78,69,68,0,76,65,89,95,69,88,65,67,84,76,89,0,76,65,89,95,65,84,95,77,79,83,84,0,97,118,97,105,108,97,98,108,101,87,105,100,116,104,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,119,105,100,116,104,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,97,118,97,105,108,97,98,108,101,72,101,105,103,104,116,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,104,101,105,103,104,116,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,102,108,101,120,0,115,116,114,101,116,99,104,0,109,117,108,116,105,108,105,110,101,45,115,116,114,101,116,99,104,0,69,120,112,101,99,116,101,100,32,110,111,100,101,32,116,111,32,104,97,118,101,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,0,109,101,97,115,117,114,101,0,69,120,112,101,99,116,32,99,117,115,116,111,109,32,98,97,115,101,108,105,110,101,32,102,117,110,99,116,105,111,110,32,116,111,32,110,111,116,32,114,101,116,117,114,110,32,78,97,78,0,97,98,115,45,109,101,97,115,117,114,101,0,97,98,115,45,108,97,121,111,117,116,0,78,111,100,101,0,99,114,101,97,116,101,68,101,102,97,117,108,116,0,99,114,101,97,116,101,87,105,116,104,67,111,110,102,105,103,0,100,101,115,116,114,111,121,0,114,101,115,101,116,0,99,111,112,121,83,116,121,108,101,0,115,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,115,101,116,80,111,115,105,116,105,111,110,0,115,101,116,80,111,115,105,116,105,111,110,80,101,114,99,101,110,116,0,115,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,115,101,116,65,108,105,103,110,73,116,101,109,115,0,115,101,116,65,108,105,103,110,83,101,108,102,0,115,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,115,101,116,70,108,101,120,87,114,97,112,0,115,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,115,101,116,77,97,114,103,105,110,0,115,101,116,77,97,114,103,105,110,80,101,114,99,101,110,116,0,115,101,116,77,97,114,103,105,110,65,117,116,111,0,115,101,116,79,118,101,114,102,108,111,119,0,115,101,116,68,105,115,112,108,97,121,0,115,101,116,70,108,101,120,0,115,101,116,70,108,101,120,66,97,115,105,115,0,115,101,116,70,108,101,120,66,97,115,105,115,80,101,114,99,101,110,116,0,115,101,116,70,108,101,120,71,114,111,119,0,115,101,116,70,108,101,120,83,104,114,105,110,107,0,115,101,116,87,105,100,116,104,0,115,101,116,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,87,105,100,116,104,65,117,116,111,0,115,101,116,72,101,105,103,104,116,0,115,101,116,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,72,101,105,103,104,116,65,117,116,111,0,115,101,116,77,105,110,87,105,100,116,104,0,115,101,116,77,105,110,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,105,110,72,101,105,103,104,116,0,115,101,116,77,105,110,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,77,97,120,87,105,100,116,104,0,115,101,116,77,97,120,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,97,120,72,101,105,103,104,116,0,115,101,116,77,97,120,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,65,115,112,101,99,116,82,97,116,105,111,0,115,101,116,66,111,114,100,101,114,0,115,101,116,80,97,100,100,105,110,103,0,115,101,116,80,97,100,100,105,110,103,80,101,114,99,101,110,116,0,103,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,103,101,116,80,111,115,105,116,105,111,110,0,103,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,103,101,116,65,108,105,103,110,73,116,101,109,115,0,103,101,116,65,108,105,103,110,83,101,108,102,0,103,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,103,101,116,70,108,101,120,87,114,97,112,0,103,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,103,101,116,77,97,114,103,105,110,0,103,101,116,70,108,101,120,66,97,115,105,115,0,103,101,116,70,108,101,120,71,114,111,119,0,103,101,116,70,108,101,120,83,104,114,105,110,107,0,103,101,116,87,105,100,116,104,0,103,101,116,72,101,105,103,104,116,0,103,101,116,77,105,110,87,105,100,116,104,0,103,101,116,77,105,110,72,101,105,103,104,116,0,103,101,116,77,97,120,87,105,100,116,104,0,103,101,116,77,97,120,72,101,105,103,104,116,0,103,101,116,65,115,112,101,99,116,82,97,116,105,111,0,103,101,116,66,111,114,100,101,114,0,103,101,116,79,118,101,114,102,108,111,119,0,103,101,116,68,105,115,112,108,97,121,0,103,101,116,80,97,100,100,105,110,103,0,105,110,115,101,114,116,67,104,105,108,100,0,114,101,109,111,118,101,67,104,105,108,100,0,103,101,116,67,104,105,108,100,67,111,117,110,116,0,103,101,116,80,97,114,101,110,116,0,103,101,116,67,104,105,108,100,0,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,117,110,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,109,97,114,107,68,105,114,116,121,0,105,115,68,105,114,116,121,0,99,97,108,99,117,108,97,116,101,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,76,101,102,116,0,103,101,116,67,111,109,112,117,116,101,100,82,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,84,111,112,0,103,101,116,67,111,109,112,117,116,101,100,66,111,116,116,111,109,0,103,101,116,67,111,109,112,117,116,101,100,87,105,100,116,104,0,103,101,116,67,111,109,112,117,116,101,100,72,101,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,77,97,114,103,105,110,0,103,101,116,67,111,109,112,117,116,101,100,66,111,114,100,101,114,0,103,101,116,67,111,109,112,117,116,101,100,80,97,100,100,105,110,103,0,67,111,110,102,105,103,0,99,114,101,97,116,101,0,115,101,116,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,115,101,116,80,111,105,110,116,83,99,97,108,101,70,97,99,116,111,114,0,105,115,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,86,97,108,117,101,0,76,97,121,111,117,116,0,83,105,122,101,0,103,101,116,73,110,115,116,97,110,99,101,67,111,117,110,116,0,73,110,116,54,52,0,1,1,1,2,2,4,4,4,4,8,8,4,8,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,99,98,70,117,110,99,116,105,111,110,32,38,0,99,111,110,115,116,32,99,98,70,117,110,99,116,105,111,110,32,38,0,69,120,116,101,114,110,97,108,0,66,117,102,102,101,114,0,78,66,105,110,100,73,68,0,78,66,105,110,100,0,98,105,110,100,95,118,97,108,117,101,0,114,101,102,108,101,99,116,0,113,117,101,114,121,84,121,112,101,0,108,97,108,108,111,99,0,108,114,101,115,101,116,0,123,114,101,116,117,114,110,40,95,110,98,105,110,100,46,99,97,108,108,98,97,99,107,83,105,103,110,97,116,117,114,101,76,105,115,116,91,36,48,93,46,97,112,112,108,121,40,116,104,105,115,44,97,114,103,117,109,101,110,116,115,41,41,59,125,0,95,110,98,105,110,100,95,110,101,119,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16;function _atexit(func,arg){__ATEXIT__.unshift({func:func,arg:arg})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function _abort(){Module.abort()}function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj(){Module.printErr("missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj"),abort(-1)}function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function _defineHidden(value){return function(target,key){Object.defineProperty(target,key,{configurable:!1,enumerable:!1,value:value,writable:!0})}}var _nbind={};function __nbind_free_external(num){_nbind.externalList[num].dereference(num)}function __nbind_reference_external(num){_nbind.externalList[num].reference()}function _llvm_stackrestore(p){var self=_llvm_stacksave,ret=self.LLVM_SAVEDSTACKS[p];self.LLVM_SAVEDSTACKS.splice(p,1);Runtime.stackRestore(ret)}function __nbind_register_pool(pageSize,usedPtr,rootPtr,pagePtr){_nbind.Pool.pageSize=pageSize;_nbind.Pool.usedPtr=usedPtr/4;_nbind.Pool.rootPtr=rootPtr;_nbind.Pool.pagePtr=pagePtr/4;HEAP32[usedPtr/4]=16909060;HEAP8[usedPtr]==1&&(_nbind.bigEndian=!0);HEAP32[usedPtr/4]=0;_nbind.makeTypeKindTbl=(_a={},_a[1024]=_nbind.PrimitiveType,_a[64]=_nbind.Int64Type,_a[2048]=_nbind.BindClass,_a[3072]=_nbind.BindClassPtr,_a[4096]=_nbind.SharedClassPtr,_a[5120]=_nbind.ArrayType,_a[6144]=_nbind.ArrayType,_a[7168]=_nbind.CStringType,_a[9216]=_nbind.CallbackType,_a[10240]=_nbind.BindType,_a);_nbind.makeTypeNameTbl={Buffer:_nbind.BufferType,External:_nbind.ExternalType,Int64:_nbind.Int64Type,_nbind_new:_nbind.CreateValueType,bool:_nbind.BooleanType,"cbFunction &":_nbind.CallbackType,"const cbFunction &":_nbind.CallbackType,"const std::string &":_nbind.StringType,"std::string":_nbind.StringType};Module.toggleLightGC=_nbind.toggleLightGC;_nbind.callUpcast=Module.dynCall_ii;var globalScope=_nbind.makeType(_nbind.constructType,{flags:2048,id:0,name:""});globalScope.proto=Module;_nbind.BindClass.list.push(globalScope);var _a}function _emscripten_set_main_loop_timing(mode,value){Browser.mainLoop.timingMode=mode;Browser.mainLoop.timingValue=value;if(!Browser.mainLoop.func)return 1;if(mode==0)Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setTimeout(){var timeUntilNextTick=Math.max(0,Browser.mainLoop.tickStartTime+value-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,timeUntilNextTick)},Browser.mainLoop.method="timeout";else if(mode==1)Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_rAF(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(mode==2){if(!window.setImmediate){var setImmediates=[],emscriptenMainLoopMessageId="setimmediate";function Browser_setImmediate_messageHandler(event){event.source===window&&event.data===emscriptenMainLoopMessageId&&(event.stopPropagation(),setImmediates.shift()())}window.addEventListener("message",Browser_setImmediate_messageHandler,!0);window.setImmediate=function Browser_emulated_setImmediate(func){setImmediates.push(func),ENVIRONMENT_IS_WORKER?(Module.setImmediates===void 0&&(Module.setImmediates=[]),Module.setImmediates.push(func),window.postMessage({target:emscriptenMainLoopMessageId})):window.postMessage(emscriptenMainLoopMessageId,"*")}}Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setImmediate(){window.setImmediate(Browser.mainLoop.runner)};Browser.mainLoop.method="immediate"}return 0}function _emscripten_get_now(){abort()}function _emscripten_set_main_loop(func,fps,simulateInfiniteLoop,arg,noSetTiming){Module.noExitRuntime=!0;assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Browser.mainLoop.func=func;Browser.mainLoop.arg=arg;var browserIterationFunc;typeof arg!=="undefined"?browserIterationFunc=function(){Module.dynCall_vi(func,arg)}:browserIterationFunc=function(){Module.dynCall_v(func)};var thisMainLoopId=Browser.mainLoop.currentlyRunningMainloop;Browser.mainLoop.runner=function Browser_mainLoop_runner(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var start=Date.now(),blocker=Browser.mainLoop.queue.shift();blocker.func(blocker.arg);if(Browser.mainLoop.remainingBlockers){var remaining=Browser.mainLoop.remainingBlockers,next=remaining%1==0?remaining-1:Math.floor(remaining);blocker.counted?Browser.mainLoop.remainingBlockers=next:(next=next+.5,Browser.mainLoop.remainingBlockers=(8*remaining+next)/9)}Browser.mainLoop.updateStatus();if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0);return}if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop)return;Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0;if(Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else Browser.mainLoop.timingMode==0&&(Browser.mainLoop.tickStartTime=_emscripten_get_now());Browser.mainLoop.method==="timeout"&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method="");Browser.mainLoop.runIter(browserIterationFunc);if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop)return;typeof SDL==="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData();Browser.mainLoop.scheduler()};noSetTiming||(fps&&fps>0?_emscripten_set_main_loop_timing(0,1e3/fps):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler());if(simulateInfiniteLoop)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var timingMode=Browser.mainLoop.timingMode,timingValue=Browser.mainLoop.timingValue,func=Browser.mainLoop.func;Browser.mainLoop.func=null;_emscripten_set_main_loop(func,0,!1,Browser.mainLoop.arg,!0);_emscripten_set_main_loop_timing(timingMode,timingValue);Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var message=Module.statusMessage||"Please wait...",remaining=Browser.mainLoop.remainingBlockers,expected=Browser.mainLoop.expectedBlockers;remaining?remaining<expected?Module.setStatus(message+" ("+(expected-remaining)+"/"+expected+")"):Module.setStatus(message):Module.setStatus("")}},runIter:function(func){if(ABORT)return;if(Module.preMainLoop){var preRet=Module.preMainLoop();if(preRet===!1)return}try{func()}catch(e){if(e instanceof ExitStatus)return;else{e&&typeof e==="object"&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]);throw e}}Module.postMainLoop&&Module.postMainLoop()}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){Module.preloadPlugins||(Module.preloadPlugins=[]);if(Browser.initted)return;Browser.initted=!0;try{new Blob(),Browser.hasBlobConstructor=!0}catch(e){Browser.hasBlobConstructor=!1}Browser.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:!1;Browser.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:void 0;!Module.noImageDecoding&&typeof Browser.URLObject==="undefined"&&(Module.noImageDecoding=!0);var imagePlugin={};imagePlugin.canHandle=function imagePlugin_canHandle(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(name)};imagePlugin.handle=function imagePlugin_handle(byteArray,name,onload,onerror){var b=null;if(Browser.hasBlobConstructor)try{b=new Blob([byteArray],{type:Browser.getMimetype(name)}),b.size!==byteArray.length&&(b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!b){var bb=new Browser.BlobBuilder();bb.append(new Uint8Array(byteArray).buffer);b=bb.getBlob()}var url=Browser.URLObject.createObjectURL(b),img=new Image();img.onload=function img_onload(){assert(img.complete,"Image "+name+" could not be decoded");var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);Module.preloadedImages[name]=canvas;Browser.URLObject.revokeObjectURL(url);onload&&onload(byteArray)};img.onerror=function img_onerror(event){onerror&&onerror()};img.src=url};Module.preloadPlugins.push(imagePlugin);var audioPlugin={};audioPlugin.canHandle=function audioPlugin_canHandle(name){return!Module.noAudioDecoding&&name.substr(-4)in{".ogg":1,".wav":1,".mp3":1}};audioPlugin.handle=function audioPlugin_handle(byteArray,name,onload,onerror){var done=!1;function finish(audio){if(done)return;done=!0;Module.preloadedAudios[name]=audio;onload&&onload(byteArray)}function fail(){if(done)return;done=!0;Module.preloadedAudios[name]=new Audio();onerror&&onerror()}if(Browser.hasBlobConstructor){try{var b=new Blob([byteArray],{type:Browser.getMimetype(name)})}catch(e){return fail()}var url=Browser.URLObject.createObjectURL(b),audio=new Audio();audio.addEventListener("canplaythrough",function(){finish(audio)},!1);audio.onerror=function audio_onerror(event){if(done)return;function encode64(data){var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PAD="=",ret="",leftchar=0,leftbits=0;for(var i=0;i<data.length;i++){leftchar=leftchar<<8|data[i];leftbits+=8;while(leftbits>=6){var curr=leftchar>>leftbits-6&63;leftbits-=6;ret+=BASE[curr]}}leftbits==2?(ret+=BASE[(leftchar&3)<<4],ret+=PAD+PAD):leftbits==4&&(ret+=BASE[(leftchar&15)<<2],ret+=PAD);return ret}audio.src="data:audio/x-"+name.substr(-3)+";base64,"+encode64(byteArray);finish(audio)};audio.src=url;Browser.safeSetTimeout(function(){finish(audio)},1e4)}else return fail()};Module.preloadPlugins.push(audioPlugin);function pointerLockChange(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}var canvas=Module.canvas;canvas&&(canvas.requestPointerLock=canvas.requestPointerLock||canvas.mozRequestPointerLock||canvas.webkitRequestPointerLock||canvas.msRequestPointerLock||function(){},canvas.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},canvas.exitPointerLock=canvas.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",pointerLockChange,!1),document.addEventListener("mozpointerlockchange",pointerLockChange,!1),document.addEventListener("webkitpointerlockchange",pointerLockChange,!1),document.addEventListener("mspointerlockchange",pointerLockChange,!1),Module.elementPointerLock&&canvas.addEventListener("click",function(ev){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),ev.preventDefault())},!1))},createContext:function(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx,contextHandle;if(useWebGL){var contextAttributes={antialias:!1,alpha:!1};if(webGLContextAttributes)for(var attribute in webGLContextAttributes)contextAttributes[attribute]=webGLContextAttributes[attribute];contextHandle=GL.createContext(canvas,contextAttributes);contextHandle&&(ctx=GL.getContext(contextHandle).GLctx)}else ctx=canvas.getContext("2d");if(!ctx)return null;setInModule&&(useWebGL||assert(typeof GLctx==="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=ctx,useWebGL&&GL.makeContextCurrent(contextHandle),Module.useWebGL=useWebGL,Browser.moduleContextCreatedCallbacks.forEach(function(callback){callback()}),Browser.init());return ctx},destroyContext:function(canvas,useWebGL,setInModule){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(lockPointer,resizeCanvas,vrDevice){Browser.lockPointer=lockPointer;Browser.resizeCanvas=resizeCanvas;Browser.vrDevice=vrDevice;typeof Browser.lockPointer==="undefined"&&(Browser.lockPointer=!0);typeof Browser.resizeCanvas==="undefined"&&(Browser.resizeCanvas=!1);typeof Browser.vrDevice==="undefined"&&(Browser.vrDevice=null);var canvas=Module.canvas;function fullscreenChange(){Browser.isFullscreen=!1;var canvasContainer=canvas.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===canvasContainer?(canvas.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},canvas.exitFullscreen=canvas.exitFullscreen.bind(document),Browser.lockPointer&&canvas.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas&&Browser.setFullscreenCanvasSize()):(canvasContainer.parentNode.insertBefore(canvas,canvasContainer),canvasContainer.parentNode.removeChild(canvasContainer),Browser.resizeCanvas&&Browser.setWindowedCanvasSize());Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen);Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen);Browser.updateCanvasDimensions(canvas)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",fullscreenChange,!1),document.addEventListener("mozfullscreenchange",fullscreenChange,!1),document.addEventListener("webkitfullscreenchange",fullscreenChange,!1),document.addEventListener("MSFullscreenChange",fullscreenChange,!1));var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas);canvasContainer.appendChild(canvas);canvasContainer.requestFullscreen=canvasContainer.requestFullscreen||canvasContainer.mozRequestFullScreen||canvasContainer.msRequestFullscreen||(canvasContainer.webkitRequestFullscreen?function(){canvasContainer.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(canvasContainer.webkitRequestFullScreen?function(){canvasContainer.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null);vrDevice?canvasContainer.requestFullscreen({vrDisplay:vrDevice}):canvasContainer.requestFullscreen()},requestFullScreen:function(lockPointer,resizeCanvas,vrDevice){Module.printErr("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead.");Browser.requestFullScreen=function(lockPointer,resizeCanvas,vrDevice){return Browser.requestFullscreen(lockPointer,resizeCanvas,vrDevice)};return Browser.requestFullscreen(lockPointer,resizeCanvas,vrDevice)},nextRAF:0,fakeRequestAnimationFrame:function(func){var now=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=now+1e3/60;else while(now+2>=Browser.nextRAF)Browser.nextRAF+=1e3/60;var delay=Math.max(Browser.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame:function requestAnimationFrame(func){typeof window==="undefined"?Browser.fakeRequestAnimationFrame(func):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(func))},safeCallback:function(func){return function(){if(!ABORT)return func.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!0;if(Browser.queuedAsyncCallbacks.length>0){var callbacks=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[];callbacks.forEach(function(func){func()})}},safeRequestAnimationFrame:function(func){return Browser.requestAnimationFrame(function(){if(ABORT)return;Browser.allowAsyncCallbacks?func():Browser.queuedAsyncCallbacks.push(func)})},safeSetTimeout:function(func,timeout){Module.noExitRuntime=!0;return setTimeout(function(){if(ABORT)return;Browser.allowAsyncCallbacks?func():Browser.queuedAsyncCallbacks.push(func)},timeout)},safeSetInterval:function(func,timeout){Module.noExitRuntime=!0;return setInterval(function(){if(ABORT)return;Browser.allowAsyncCallbacks&&func()},timeout)},getMimetype:function(name){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[name.substr(name.lastIndexOf(".")+1)]},getUserMedia:function(func){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(func)},getMovementX:function(event){return event.movementX||event.mozMovementX||event.webkitMovementX||0},getMovementY:function(event){return event.movementY||event.mozMovementY||event.webkitMovementY||0},getMouseWheelDelta:function(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail;break;case"mousewheel":delta=event.wheelDelta;break;case"wheel":delta=event.deltaY;break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(event){if(Browser.pointerLock)event.type!="mousemove"&&"mozMovementX"in event?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(event),Browser.mouseMovementY=Browser.getMovementY(event)),typeof SDL!="undefined"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var rect=Module.canvas.getBoundingClientRect(),cw=Module.canvas.width,ch=Module.canvas.height,scrollX=typeof window.scrollX!=="undefined"?window.scrollX:window.pageXOffset,scrollY=typeof window.scrollY!=="undefined"?window.scrollY:window.pageYOffset;if(event.type==="touchstart"||event.type==="touchend"||event.type==="touchmove"){var touch=event.touch;if(touch===void 0)return;var adjustedX=touch.pageX-(scrollX+rect.left),adjustedY=touch.pageY-(scrollY+rect.top);adjustedX=adjustedX*(cw/rect.width);adjustedY=adjustedY*(ch/rect.height);var coords={x:adjustedX,y:adjustedY};if(event.type==="touchstart")Browser.lastTouches[touch.identifier]=coords,Browser.touches[touch.identifier]=coords;else if(event.type==="touchend"||event.type==="touchmove"){var last=Browser.touches[touch.identifier];last||(last=coords);Browser.lastTouches[touch.identifier]=last;Browser.touches[touch.identifier]=coords}return}var x=event.pageX-(scrollX+rect.left),y=event.pageY-(scrollY+rect.top);x=x*(cw/rect.width);y=y*(ch/rect.height);Browser.mouseMovementX=x-Browser.mouseX;Browser.mouseMovementY=y-Browser.mouseY;Browser.mouseX=x;Browser.mouseY=y}},asyncLoad:function(url,onload,onerror,noRunDep){var dep=noRunDep?"":getUniqueRunDependency("al "+url);Module.readAsync(url,function(arrayBuffer){assert(arrayBuffer,'Loading data file "'+url+'" failed (no arrayBuffer).'),onload(new Uint8Array(arrayBuffer)),dep&&removeRunDependency(dep)},function(event){if(onerror)onerror();else throw'Loading data file "'+url+'" failed.'});dep&&addRunDependency(dep)},resizeListeners:[],updateResizeListeners:function(){var canvas=Module.canvas;Browser.resizeListeners.forEach(function(listener){listener(canvas.width,canvas.height)})},setCanvasSize:function(width,height,noUpdates){var canvas=Module.canvas;Browser.updateCanvasDimensions(canvas,width,height);noUpdates||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];flags=flags|8388608;HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=flags}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];flags=flags&-8388609;HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=flags}Browser.updateResizeListeners()},updateCanvasDimensions:function(canvas,wNative,hNative){wNative&&hNative?(canvas.widthNative=wNative,canvas.heightNative=hNative):(wNative=canvas.widthNative,hNative=canvas.heightNative);var w=wNative,h=hNative;Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(w/h<Module.forcedAspectRatio?w=Math.round(h*Module.forcedAspectRatio):h=Math.round(w/Module.forcedAspectRatio));if((document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===canvas.parentNode&&typeof screen!="undefined"){var factor=Math.min(screen.width/w,screen.height/h);w=Math.round(w*factor);h=Math.round(h*factor)}Browser.resizeCanvas?(canvas.width!=w&&(canvas.width=w),canvas.height!=h&&(canvas.height=h),typeof canvas.style!="undefined"&&(canvas.style.removeProperty("width"),canvas.style.removeProperty("height"))):(canvas.width!=wNative&&(canvas.width=wNative),canvas.height!=hNative&&(canvas.height=hNative),typeof canvas.style!="undefined"&&(w!=wNative||h!=hNative?(canvas.style.setProperty("width",w+"px","important"),canvas.style.setProperty("height",h+"px","important")):(canvas.style.removeProperty("width"),canvas.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var handle=Browser.nextWgetRequestHandle;Browser.nextWgetRequestHandle++;return handle}},SYSCALLS={varargs:0,get:function(varargs){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(){var ret=Pointer_stringify(SYSCALLS.get());return ret},get64:function(){var low=SYSCALLS.get(),high=SYSCALLS.get();low>=0?assert(high===0):assert(high===-1);return low},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall6(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD();FS.close(stream);return 0}catch(e){(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))&&abort(e);return-e.errno}}function ___syscall54(which,varargs){SYSCALLS.varargs=varargs;try{return 0}catch(e){(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))&&abort(e);return-e.errno}}function _typeModule(self){var structureList=[[0,1,"X"],[1,1,"const X"],[128,1,"X *"],[256,1,"X &"],[384,1,"X &&"],[512,1,"std::shared_ptr<X>"],[640,1,"std::unique_ptr<X>"],[5120,1,"std::vector<X>"],[6144,2,"std::array<X, Y>"],[9216,-1,"std::function<X (Y)>"]];function applyStructure(outerName,outerFlags,innerName,innerFlags,param,flip){if(outerFlags==1){var ref=innerFlags&896;(ref==128||ref==256||ref==384)&&(outerName="X const")}var name;flip?name=innerName.replace("X",outerName).replace("Y",param):name=outerName.replace("X",innerName).replace("Y",param);return name.replace(/([*&]) (?=[*&])/g,"$1")}function reportProblem(problem,id,kind,structureType,place){throw new Error(problem+" type "+kind.replace("X",id+"?")+(structureType?" with flag "+structureType:"")+" in "+place)}function getComplexType(id,constructType,getType,queryType,place,kind,prevStructure,depth){kind===void 0&&(kind="X");depth===void 0&&(depth=1);var result=getType(id);if(result)return result;var query=queryType(id),structureType=query.placeholderFlag,structure=structureList[structureType];prevStructure&&structure&&(kind=applyStructure(prevStructure[2],prevStructure[0],kind,structure[0],"?",!0));var problem;structureType==0&&(problem="Unbound");structureType>=10&&(problem="Corrupt");depth>20&&(problem="Deeply nested");problem&&reportProblem(problem,id,kind,structureType,place||"?");var subId=query.paramList[0],subType=getComplexType(subId,constructType,getType,queryType,place,kind,structure,depth+1),srcSpec,spec={flags:structure[0],id:id,name:"",paramList:[subType]},argList=[],structureParam="?";switch(query.placeholderFlag){case 1:srcSpec=subType.spec;break;case 2:if((subType.flags&15360)==1024&&subType.spec.ptrSize==1){spec.flags=7168;break}case 3:case 6:case 5:srcSpec=subType.spec;(subType.flags&15360)!=2048;break;case 8:structureParam=""+query.paramList[1];spec.paramList.push(query.paramList[1]);break;case 9:for(var _i=0,_a=query.paramList[1];_i<_a.length;_i++){var paramId=_a[_i],paramType=getComplexType(paramId,constructType,getType,queryType,place,kind,structure,depth+1);argList.push(paramType.name);spec.paramList.push(paramType)}structureParam=argList.join(", ");break;default:break}spec.name=applyStructure(structure[2],structure[0],subType.name,subType.flags,structureParam);if(srcSpec){for(var _b=0,_c=Object.keys(srcSpec);_b<_c.length;_b++){var key=_c[_b];spec[key]=spec[key]||srcSpec[key]}spec.flags|=srcSpec.flags}return makeType(constructType,spec)}function makeType(constructType,spec){var flags=spec.flags,refKind=flags&896,kind=flags&15360;!spec.name&&kind==1024&&(spec.ptrSize==1?spec.name=(flags&16?"":(flags&8?"un":"")+"signed ")+"char":spec.name=(flags&8?"u":"")+(flags&32?"float":"int")+(spec.ptrSize*8+"_t"));spec.ptrSize==8&&!(flags&32)&&(kind=64);kind==2048&&(refKind==512||refKind==640?kind=4096:refKind&&(kind=3072));return constructType(kind,spec)}var Type=function(){function Type(spec){this.id=spec.id,this.name=spec.name,this.flags=spec.flags,this.spec=spec}Type.prototype.toString=function(){return this.name};return Type}(),output={Type:Type,getComplexType:getComplexType,makeType:makeType,structureList:structureList};self.output=output;return self.output||output}function __nbind_register_type(id,namePtr){var name=_nbind.readAsciiString(namePtr),spec={flags:10240,id:id,name:name};_nbind.makeType(_nbind.constructType,spec)}function __nbind_register_callback_signature(typeListPtr,typeCount){var typeList=_nbind.readTypeIdList(typeListPtr,typeCount),num=_nbind.callbackSignatureList.length;_nbind.callbackSignatureList[num]=_nbind.makeJSCaller(typeList);return num}function __extends(Class,Parent){for(var key in Parent)Parent.hasOwnProperty(key)&&(Class[key]=Parent[key]);function Base(){this.constructor=Class}Base.prototype=Parent.prototype;Class.prototype=new Base()}function __nbind_register_class(idListPtr,policyListPtr,superListPtr,upcastListPtr,superCount,destructorPtr,namePtr){var name=_nbind.readAsciiString(namePtr),policyTbl=_nbind.readPolicyList(policyListPtr),idList=HEAPU32.subarray(idListPtr/4,idListPtr/4+2),spec={flags:2048|(policyTbl.Value?2:0),id:idList[0],name:name},bindClass=_nbind.makeType(_nbind.constructType,spec);bindClass.ptrType=_nbind.getComplexType(idList[1],_nbind.constructType,_nbind.getType,_nbind.queryType);bindClass.destroy=_nbind.makeMethodCaller(bindClass.ptrType,{boundID:spec.id,flags:0,name:"destroy",num:0,ptr:destructorPtr,title:bindClass.name+".free",typeList:["void","uint32_t","uint32_t"]});superCount&&(bindClass.superIdList=Array.prototype.slice.call(HEAPU32.subarray(superListPtr/4,superListPtr/4+superCount)),bindClass.upcastList=Array.prototype.slice.call(HEAPU32.subarray(upcastListPtr/4,upcastListPtr/4+superCount)));Module[bindClass.name]=bindClass.makeBound(policyTbl);_nbind.BindClass.list.push(bindClass)}function _removeAccessorPrefix(name){var prefixMatcher=/^[Gg]et_?([A-Z]?([A-Z]?))/;return name.replace(prefixMatcher,function(match,initial,second){return second?initial:initial.toLowerCase()})}function __nbind_register_function(boundID,policyListPtr,typeListPtr,typeCount,ptr,direct,signatureType,namePtr,num,flags){var bindClass=_nbind.getType(boundID),policyTbl=_nbind.readPolicyList(policyListPtr),typeList=_nbind.readTypeIdList(typeListPtr,typeCount),specList;if(signatureType==5)specList=[{direct:ptr,name:"__nbindConstructor",ptr:0,title:bindClass.name+" constructor",typeList:["uint32_t"].concat(typeList.slice(1))},{direct:direct,name:"__nbindValueConstructor",ptr:0,title:bindClass.name+" value constructor",typeList:["void","uint32_t"].concat(typeList.slice(1))}];else{var name_1=_nbind.readAsciiString(namePtr),title=(bindClass.name&&bindClass.name+".")+name_1;(signatureType==3||signatureType==4)&&(name_1=_removeAccessorPrefix(name_1));specList=[{boundID:boundID,direct:direct,name:name_1,ptr:ptr,title:title,typeList:typeList}]}for(var _i=0,specList_1=specList;_i<specList_1.length;_i++){var spec=specList_1[_i];spec.signatureType=signatureType;spec.policyTbl=policyTbl;spec.num=num;spec.flags=flags;bindClass.addMethod(spec)}}function _nbind_value(name,proto){_nbind.typeNameTbl[name]||_nbind.throwError("Unknown value type "+name),Module.NBind.bind_value(name,proto),_defineHidden(_nbind.typeNameTbl[name].proto.prototype.__nbindValueConstructor)(proto.prototype,"__nbindValueConstructor")}Module._nbind_value=_nbind_value;function __nbind_get_value_object(num,ptr){var obj=_nbind.popValue(num);if(!obj.fromJS)throw new Error("Object "+obj+" has no fromJS function");obj.fromJS(function(){obj.__nbindValueConstructor.apply(this,Array.prototype.concat.apply([ptr],arguments))})}function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest);return dest}function __nbind_register_primitive(id,size,flags){var spec={flags:1024|flags,id:id,ptrSize:size};_nbind.makeType(_nbind.constructType,spec)}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);function ___setErrNo(value){Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=value);return value}function _llvm_stacksave(){var self=_llvm_stacksave;self.LLVM_SAVEDSTACKS||(self.LLVM_SAVEDSTACKS=[]);self.LLVM_SAVEDSTACKS.push(Runtime.stackSave());return self.LLVM_SAVEDSTACKS.length-1}function ___syscall140(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),offset_high=SYSCALLS.get(),offset_low=SYSCALLS.get(),result=SYSCALLS.get(),whence=SYSCALLS.get(),offset=offset_low;FS.llseek(stream,offset,whence);HEAP32[result>>2]=stream.position;stream.getdents&&offset===0&&whence===0&&(stream.getdents=null);return 0}catch(e){(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))&&abort(e);return-e.errno}}function ___syscall146(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.get(),iov=SYSCALLS.get(),iovcnt=SYSCALLS.get(),ret=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(stream,curr){var buffer=___syscall146.buffers[stream];assert(buffer);curr===0||curr===10?((stream===1?Module.print:Module.printErr)(UTF8ArrayToString(buffer,0)),buffer.length=0):buffer.push(curr)});for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2],len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++)___syscall146.printChar(stream,HEAPU8[ptr+j]);ret+=len}return ret}catch(e){(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))&&abort(e);return-e.errno}}function __nbind_finish(){for(var _i=0,_a=_nbind.BindClass.list;_i<_a.length;_i++){var bindClass=_a[_i];bindClass.finish()}}var ___dso_handle=STATICTOP;STATICTOP+=16;(function(_nbind){var typeIdTbl={};_nbind.typeNameTbl={};var Pool=function(){function Pool(){}Pool.lalloc=function(size){size=size+7&-8;var used=HEAPU32[Pool.usedPtr];if(size>Pool.pageSize/2||size>Pool.pageSize-used){var NBind=_nbind.typeNameTbl.NBind.proto;return NBind.lalloc(size)}else{HEAPU32[Pool.usedPtr]=used+size;return Pool.rootPtr+used}};Pool.lreset=function(used,page){var topPage=HEAPU32[Pool.pagePtr];if(topPage){var NBind=_nbind.typeNameTbl.NBind.proto;NBind.lreset(used,page)}else HEAPU32[Pool.usedPtr]=used};return Pool}();_nbind.Pool=Pool;function constructType(kind,spec){var construct=kind==10240?_nbind.makeTypeNameTbl[spec.name]||_nbind.BindType:_nbind.makeTypeKindTbl[kind],bindType=new construct(spec);typeIdTbl[spec.id]=bindType;_nbind.typeNameTbl[spec.name]=bindType;return bindType}_nbind.constructType=constructType;function getType(id){return typeIdTbl[id]}_nbind.getType=getType;function queryType(id){var placeholderFlag=HEAPU8[id],paramCount=_nbind.structureList[placeholderFlag][1];id/=4;paramCount<0&&(++id,paramCount=HEAPU32[id]+1);var paramList=Array.prototype.slice.call(HEAPU32.subarray(id+1,id+1+paramCount));placeholderFlag==9&&(paramList=[paramList[0],paramList.slice(1)]);return{paramList:paramList,placeholderFlag:placeholderFlag}}_nbind.queryType=queryType;function getTypes(idList,place){return idList.map(function(id){return typeof id=="number"?_nbind.getComplexType(id,constructType,getType,queryType,place):_nbind.typeNameTbl[id]})}_nbind.getTypes=getTypes;function readTypeIdList(typeListPtr,typeCount){return Array.prototype.slice.call(HEAPU32,typeListPtr/4,typeListPtr/4+typeCount)}_nbind.readTypeIdList=readTypeIdList;function readAsciiString(ptr){var endPtr=ptr;while(HEAPU8[endPtr++]);return String.fromCharCode.apply("",HEAPU8.subarray(ptr,endPtr-1))}_nbind.readAsciiString=readAsciiString;function readPolicyList(policyListPtr){var policyTbl={};if(policyListPtr)while(1){var namePtr=HEAPU32[policyListPtr/4];if(!namePtr)break;policyTbl[readAsciiString(namePtr)]=!0;policyListPtr+=4}return policyTbl}_nbind.readPolicyList=readPolicyList;function getDynCall(typeList,name){var mangleMap={float32_t:"d",float64_t:"d",int64_t:"d",uint64_t:"d","void":"v"},signature=typeList.map(function(type){return mangleMap[type.name]||"i"}).join(""),dynCall=Module["dynCall_"+signature];if(!dynCall)throw new Error("dynCall_"+signature+" not found for "+name+"("+typeList.map(function(type){return type.name}).join(", ")+")");return dynCall}_nbind.getDynCall=getDynCall;function addMethod(obj,name,func,arity){var overload=obj[name];obj.hasOwnProperty(name)&&overload?((overload.arity||overload.arity===0)&&(overload=_nbind.makeOverloader(overload,overload.arity),obj[name]=overload),overload.addMethod(func,arity)):(func.arity=arity,obj[name]=func)}_nbind.addMethod=addMethod;function throwError(message){throw new Error(message)}_nbind.throwError=throwError;_nbind.bigEndian=!1;_a=_typeModule(_typeModule),_nbind.Type=_a.Type,_nbind.makeType=_a.makeType,_nbind.getComplexType=_a.getComplexType,_nbind.structureList=_a.structureList;var BindType=function(_super){__extends(BindType,_super);function BindType(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.heap=HEAPU32;_this.ptrSize=4;return _this}BindType.prototype.needsWireRead=function(policyTbl){return!!this.wireRead||!!this.makeWireRead};BindType.prototype.needsWireWrite=function(policyTbl){return!!this.wireWrite||!!this.makeWireWrite};return BindType}(_nbind.Type);_nbind.BindType=BindType;var PrimitiveType=function(_super){__extends(PrimitiveType,_super);function PrimitiveType(spec){var _this=_super.call(this,spec)||this,heapTbl=spec.flags&32?{32:HEAPF32,64:HEAPF64}:spec.flags&8?{8:HEAPU8,16:HEAPU16,32:HEAPU32}:{8:HEAP8,16:HEAP16,32:HEAP32};_this.heap=heapTbl[spec.ptrSize*8];_this.ptrSize=spec.ptrSize;return _this}PrimitiveType.prototype.needsWireWrite=function(policyTbl){return!!policyTbl&&!!policyTbl.Strict};PrimitiveType.prototype.makeWireWrite=function(expr,policyTbl){return policyTbl&&policyTbl.Strict&&function(arg){if(typeof arg=="number")return arg;throw new Error("Type mismatch")}};return PrimitiveType}(BindType);_nbind.PrimitiveType=PrimitiveType;function pushCString(str,policyTbl){if(str==null)if(policyTbl&&policyTbl.Nullable)return 0;else throw new Error("Type mismatch");if(policyTbl&&policyTbl.Strict){if(typeof str!="string")throw new Error("Type mismatch")}else str=str.toString();var length=Module.lengthBytesUTF8(str)+1,result=_nbind.Pool.lalloc(length);Module.stringToUTF8Array(str,HEAPU8,result,length);return result}_nbind.pushCString=pushCString;function popCString(ptr){return ptr===0?null:Module.Pointer_stringify(ptr)}_nbind.popCString=popCString;var CStringType=function(_super){__extends(CStringType,_super);function CStringType(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.wireRead=popCString;_this.wireWrite=pushCString;_this.readResources=[_nbind.resources.pool];_this.writeResources=[_nbind.resources.pool];return _this}CStringType.prototype.makeWireWrite=function(expr,policyTbl){return function(arg){return pushCString(arg,policyTbl)}};return CStringType}(BindType);_nbind.CStringType=CStringType;var BooleanType=function(_super){__extends(BooleanType,_super);function BooleanType(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.wireRead=function(arg){return!!arg};return _this}BooleanType.prototype.needsWireWrite=function(policyTbl){return!!policyTbl&&!!policyTbl.Strict};BooleanType.prototype.makeWireRead=function(expr){return"!!("+expr+")"};BooleanType.prototype.makeWireWrite=function(expr,policyTbl){return policyTbl&&policyTbl.Strict&&function(arg){if(typeof arg=="boolean")return arg;throw new Error("Type mismatch")}||expr};return BooleanType}(BindType);_nbind.BooleanType=BooleanType;var Wrapper=function(){function Wrapper(){}Wrapper.prototype.persist=function(){this.__nbindState|=1};return Wrapper}();_nbind.Wrapper=Wrapper;function makeBound(policyTbl,bindClass){var Bound=function(_super){__extends(Bound,_super);function Bound(marker,flags,ptr,shared){var _this=_super.call(this)||this;if(!(_this instanceof Bound))return new(Function.prototype.bind.apply(Bound,Array.prototype.concat.apply([null],arguments)))();var nbindFlags=flags,nbindPtr=ptr,nbindShared=shared;if(marker!==_nbind.ptrMarker){var wirePtr=_this.__nbindConstructor.apply(_this,arguments);nbindFlags=4096|512;nbindShared=HEAPU32[wirePtr/4];nbindPtr=HEAPU32[wirePtr/4+1]}var spec={configurable:!0,enumerable:!1,value:null,writable:!1},propTbl={__nbindFlags:nbindFlags,__nbindPtr:nbindPtr};nbindShared&&(propTbl.__nbindShared=nbindShared,_nbind.mark(_this));for(var _i=0,_a=Object.keys(propTbl);_i<_a.length;_i++){var key=_a[_i];spec.value=propTbl[key];Object.defineProperty(_this,key,spec)}_defineHidden(0)(_this,"__nbindState");return _this}Bound.prototype.free=function(){bindClass.destroy.call(this,this.__nbindShared,this.__nbindFlags),this.__nbindState|=2,disableMember(this,"__nbindShared"),disableMember(this,"__nbindPtr")};return Bound}(Wrapper);__decorate([_defineHidden()],Bound.prototype,"__nbindConstructor",void 0);__decorate([_defineHidden()],Bound.prototype,"__nbindValueConstructor",void 0);__decorate([_defineHidden(policyTbl)],Bound.prototype,"__nbindPolicies",void 0);return Bound}_nbind.makeBound=makeBound;function disableMember(obj,name){function die(){throw new Error("Accessing deleted object")}Object.defineProperty(obj,name,{configurable:!1,enumerable:!1,get:die,set:die})}_nbind.ptrMarker={};var BindClass=function(_super){__extends(BindClass,_super);function BindClass(spec){var _this=_super.call(this,spec)||this;_this.wireRead=function(arg){return _nbind.popValue(arg,_this.ptrType)};_this.wireWrite=function(arg){return pushPointer(arg,_this.ptrType,!0)};_this.pendingSuperCount=0;_this.ready=!1;_this.methodTbl={};spec.paramList?(_this.classType=spec.paramList[0].classType,_this.proto=_this.classType.proto):_this.classType=_this;return _this}BindClass.prototype.makeBound=function(policyTbl){var Bound=_nbind.makeBound(policyTbl,this);this.proto=Bound;this.ptrType.proto=Bound;return Bound};BindClass.prototype.addMethod=function(spec){var overloadList=this.methodTbl[spec.name]||[];overloadList.push(spec);this.methodTbl[spec.name]=overloadList};BindClass.prototype.registerMethods=function(src,staticOnly){var setter;for(var _i=0,_a=Object.keys(src.methodTbl);_i<_a.length;_i++){var name_1=_a[_i],overloadList=src.methodTbl[name_1];for(var _b=0,overloadList_1=overloadList;_b<overloadList_1.length;_b++){var spec=overloadList_1[_b],target=void 0,caller=void 0;target=this.proto.prototype;if(staticOnly&&spec.signatureType!=1)continue;switch(spec.signatureType){case 1:target=this.proto;case 5:caller=_nbind.makeCaller(spec);_nbind.addMethod(target,spec.name,caller,spec.typeList.length-1);break;case 4:setter=_nbind.makeMethodCaller(src.ptrType,spec);break;case 3:Object.defineProperty(target,spec.name,{configurable:!0,enumerable:!1,get:_nbind.makeMethodCaller(src.ptrType,spec),set:setter});break;case 2:caller=_nbind.makeMethodCaller(src.ptrType,spec);_nbind.addMethod(target,spec.name,caller,spec.typeList.length-1);break;default:break}}}};BindClass.prototype.registerSuperMethods=function(src,firstSuper,visitTbl){if(visitTbl[src.name])return;visitTbl[src.name]=!0;var superNum=0,nextFirst;for(var _i=0,_a=src.superIdList||[];_i<_a.length;_i++){var superId=_a[_i],superClass=_nbind.getType(superId);superNum++<firstSuper||firstSuper<0?nextFirst=-1:nextFirst=0;this.registerSuperMethods(superClass,nextFirst,visitTbl)}this.registerMethods(src,firstSuper<0)};BindClass.prototype.finish=function(){if(this.ready)return this;this.ready=!0;this.superList=(this.superIdList||[]).map(function(superId){return _nbind.getType(superId).finish()});var Bound=this.proto;if(this.superList.length){var Proto=function(){this.constructor=Bound};Proto.prototype=this.superList[0].proto.prototype;Bound.prototype=new Proto()}Bound!=Module&&(Bound.prototype.__nbindType=this);this.registerSuperMethods(this,1,{});return this};BindClass.prototype.upcastStep=function(dst,ptr){if(dst==this)return ptr;for(var i=0;i<this.superList.length;++i){var superPtr=this.superList[i].upcastStep(dst,_nbind.callUpcast(this.upcastList[i],ptr));if(superPtr)return superPtr}return 0};return BindClass}(_nbind.BindType);BindClass.list=[];_nbind.BindClass=BindClass;function popPointer(ptr,type){return ptr?new type.proto(_nbind.ptrMarker,type.flags,ptr):null}_nbind.popPointer=popPointer;function pushPointer(obj,type,tryValue){if(!(obj instanceof _nbind.Wrapper))if(tryValue)return _nbind.pushValue(obj);else throw new Error("Type mismatch");var ptr=obj.__nbindPtr,objType=obj.__nbindType.classType,classType=type.classType;if(obj instanceof type.proto)while(objType!=classType)ptr=_nbind.callUpcast(objType.upcastList[0],ptr),objType=objType.superList[0];else{ptr=objType.upcastStep(classType,ptr);if(!ptr)throw new Error("Type mismatch")}return ptr}_nbind.pushPointer=pushPointer;function pushMutablePointer(obj,type){var ptr=pushPointer(obj,type);if(obj.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return ptr}var BindClassPtr=function(_super){__extends(BindClassPtr,_super);function BindClassPtr(spec){var _this=_super.call(this,spec)||this;_this.classType=spec.paramList[0].classType;_this.proto=_this.classType.proto;var isConst=spec.flags&1,isValue=(_this.flags&896)==256&&spec.flags&2,push=isConst?pushPointer:pushMutablePointer,pop=isValue?_nbind.popValue:popPointer;_this.makeWireWrite=function(expr,policyTbl){return policyTbl.Nullable?function(arg){return arg?push(arg,_this):0}:function(arg){return push(arg,_this)}};_this.wireRead=function(arg){return pop(arg,_this)};_this.wireWrite=function(arg){return push(arg,_this)};return _this}return BindClassPtr}(_nbind.BindType);_nbind.BindClassPtr=BindClassPtr;function popShared(ptr,type){var shared=HEAPU32[ptr/4],unsafe=HEAPU32[ptr/4+1];return unsafe?new type.proto(_nbind.ptrMarker,type.flags,unsafe,shared):null}_nbind.popShared=popShared;function pushShared(obj,type){if(!(obj instanceof type.proto))throw new Error("Type mismatch");return obj.__nbindShared}function pushMutableShared(obj,type){if(!(obj instanceof type.proto))throw new Error("Type mismatch");if(obj.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return obj.__nbindShared}var SharedClassPtr=function(_super){__extends(SharedClassPtr,_super);function SharedClassPtr(spec){var _this=_super.call(this,spec)||this;_this.readResources=[_nbind.resources.pool];_this.classType=spec.paramList[0].classType;_this.proto=_this.classType.proto;var isConst=spec.flags&1,push=isConst?pushShared:pushMutableShared;_this.wireRead=function(arg){return popShared(arg,_this)};_this.wireWrite=function(arg){return push(arg,_this)};return _this}return SharedClassPtr}(_nbind.BindType);_nbind.SharedClassPtr=SharedClassPtr;_nbind.externalList=[0];var firstFreeExternal=0,External=function(){function External(data){this.refCount=1,this.data=data}External.prototype.register=function(){var num=firstFreeExternal;num?firstFreeExternal=_nbind.externalList[num]:num=_nbind.externalList.length;_nbind.externalList[num]=this;return num};External.prototype.reference=function(){++this.refCount};External.prototype.dereference=function(num){--this.refCount==0&&(this.free&&this.free(),_nbind.externalList[num]=firstFreeExternal,firstFreeExternal=num)};return External}();_nbind.External=External;function popExternal(num){var obj=_nbind.externalList[num];obj.dereference(num);return obj.data}function pushExternal(obj){var external=new External(obj);external.reference();return external.register()}var ExternalType=function(_super){__extends(ExternalType,_super);function ExternalType(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.wireRead=popExternal;_this.wireWrite=pushExternal;return _this}return ExternalType}(_nbind.BindType);_nbind.ExternalType=ExternalType;_nbind.callbackSignatureList=[];var CallbackType=function(_super){__extends(CallbackType,_super);function CallbackType(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.wireWrite=function(func){typeof func!="function"&&_nbind.throwError("Type mismatch");return new _nbind.External(func).register()};return _this}return CallbackType}(_nbind.BindType);_nbind.CallbackType=CallbackType;_nbind.valueList=[0];var firstFreeValue=0;function pushValue(value){var num=firstFreeValue;num?firstFreeValue=_nbind.valueList[num]:num=_nbind.valueList.length;_nbind.valueList[num]=value;return num*2+1}_nbind.pushValue=pushValue;function popValue(num,type){num||_nbind.throwError("Value type JavaScript class is missing or not registered");if(num&1){num>>=1;var obj=_nbind.valueList[num];_nbind.valueList[num]=firstFreeValue;firstFreeValue=num;return obj}else if(type)return _nbind.popShared(num,type);else throw new Error("Invalid value slot "+num)}_nbind.popValue=popValue;var valueBase=18446744073709552e3;function push64(num){return typeof num=="number"?num:pushValue(num)*4096+valueBase}function pop64(num){return num<valueBase?num:popValue((num-valueBase)/4096)}var CreateValueType=function(_super){__extends(CreateValueType,_super);function CreateValueType(){return _super!==null&&_super.apply(this,arguments)||this}CreateValueType.prototype.makeWireWrite=function(expr){return"(_nbind.pushValue(new "+expr+"))"};return CreateValueType}(_nbind.BindType);_nbind.CreateValueType=CreateValueType;var Int64Type=function(_super){__extends(Int64Type,_super);function Int64Type(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.wireWrite=push64;_this.wireRead=pop64;return _this}return Int64Type}(_nbind.BindType);_nbind.Int64Type=Int64Type;function pushArray(arr,type){if(!arr)return 0;var length=arr.length;if((type.size||type.size===0)&&length<type.size)throw new Error("Type mismatch");var ptrSize=type.memberType.ptrSize,result=_nbind.Pool.lalloc(4+length*ptrSize);HEAPU32[result/4]=length;var heap=type.memberType.heap,ptr=(result+4)/ptrSize,wireWrite=type.memberType.wireWrite,num=0;if(wireWrite)while(num<length)heap[ptr++]=wireWrite(arr[num++]);else while(num<length)heap[ptr++]=arr[num++];return result}_nbind.pushArray=pushArray;function popArray(ptr,type){if(ptr===0)return null;var length=HEAPU32[ptr/4],arr=new Array(length),heap=type.memberType.heap;ptr=(ptr+4)/type.memberType.ptrSize;var wireRead=type.memberType.wireRead,num=0;if(wireRead)while(num<length)arr[num++]=wireRead(heap[ptr++]);else while(num<length)arr[num++]=heap[ptr++];return arr}_nbind.popArray=popArray;var ArrayType=function(_super){__extends(ArrayType,_super);function ArrayType(spec){var _this=_super.call(this,spec)||this;_this.wireRead=function(arg){return popArray(arg,_this)};_this.wireWrite=function(arg){return pushArray(arg,_this)};_this.readResources=[_nbind.resources.pool];_this.writeResources=[_nbind.resources.pool];_this.memberType=spec.paramList[0];spec.paramList[1]&&(_this.size=spec.paramList[1]);return _this}return ArrayType}(_nbind.BindType);_nbind.ArrayType=ArrayType;function pushString(str,policyTbl){if(str==null)if(policyTbl&&policyTbl.Nullable)str="";else throw new Error("Type mismatch");if(policyTbl&&policyTbl.Strict){if(typeof str!="string")throw new Error("Type mismatch")}else str=str.toString();var length=Module.lengthBytesUTF8(str),result=_nbind.Pool.lalloc(4+length+1);HEAPU32[result/4]=length;Module.stringToUTF8Array(str,HEAPU8,result+4,length+1);return result}_nbind.pushString=pushString;function popString(ptr){if(ptr===0)return null;var length=HEAPU32[ptr/4];return Module.Pointer_stringify(ptr+4,length)}_nbind.popString=popString;var StringType=function(_super){__extends(StringType,_super);function StringType(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.wireRead=popString;_this.wireWrite=pushString;_this.readResources=[_nbind.resources.pool];_this.writeResources=[_nbind.resources.pool];return _this}StringType.prototype.makeWireWrite=function(expr,policyTbl){return function(arg){return pushString(arg,policyTbl)}};return StringType}(_nbind.BindType);_nbind.StringType=StringType;function makeArgList(argCount){return Array.apply(null,Array(argCount)).map(function(dummy,num){return"a"+(num+1)})}function anyNeedsWireWrite(typeList,policyTbl){return typeList.reduce(function(result,type){return result||type.needsWireWrite(policyTbl)},!1)}function anyNeedsWireRead(typeList,policyTbl){return typeList.reduce(function(result,type){return result||!!type.needsWireRead(policyTbl)},!1)}function makeWireRead(convertParamList,policyTbl,type,expr){var paramNum=convertParamList.length;if(type.makeWireRead)return type.makeWireRead(expr,convertParamList,paramNum);else if(type.wireRead){convertParamList[paramNum]=type.wireRead;return"(convertParamList["+paramNum+"]("+expr+"))"}else return expr}function makeWireWrite(convertParamList,policyTbl,type,expr){var wireWrite,paramNum=convertParamList.length;type.makeWireWrite?wireWrite=type.makeWireWrite(expr,policyTbl,convertParamList,paramNum):wireWrite=type.wireWrite;if(wireWrite)if(typeof wireWrite=="string")return wireWrite;else{convertParamList[paramNum]=wireWrite;return"(convertParamList["+paramNum+"]("+expr+"))"}else return expr}function buildCallerFunction(dynCall,ptrType,ptr,num,policyTbl,needsWireWrite,prefix,returnType,argTypeList,mask,err){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireRead(convertParamList,policyTbl,returnType,"dynCall("+[prefix].concat(argList.map(function(name,index){return makeWireWrite(convertParamList,policyTbl,argTypeList[index],name)})).join(",")+")"),resourceSet=_nbind.listResources([returnType],argTypeList),sourceCode="function("+argList.join(",")+"){"+(mask?"this.__nbindFlags&mask&&err();":"")+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}function buildJSCallerFunction(returnType,argTypeList){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireWrite(convertParamList,null,returnType,"_nbind.externalList[num].data("+argList.map(function(name,index){return makeWireRead(convertParamList,null,argTypeList[index],name)}).join(",")+")"),resourceSet=_nbind.listResources(argTypeList,[returnType]);resourceSet.remove(_nbind.resources.pool);var sourceCode="function("+["dummy","num"].concat(argList).join(",")+"){"+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}_nbind.buildJSCallerFunction=buildJSCallerFunction;function makeJSCaller(idList){var argCount=idList.length-1,typeList=_nbind.getTypes(idList,"callback"),returnType=typeList[0],argTypeList=typeList.slice(1),needsWireRead=anyNeedsWireRead(argTypeList,null),needsWireWrite=returnType.needsWireWrite(null);if(!needsWireWrite&&!needsWireRead)switch(argCount){case 0:return function(dummy,num){return _nbind.externalList[num].data()};case 1:return function(dummy,num,a1){return _nbind.externalList[num].data(a1)};case 2:return function(dummy,num,a1,a2){return _nbind.externalList[num].data(a1,a2)};case 3:return function(dummy,num,a1,a2,a3){return _nbind.externalList[num].data(a1,a2,a3)};default:break}return buildJSCallerFunction(returnType,argTypeList)}_nbind.makeJSCaller=makeJSCaller;function makeMethodCaller(ptrType,spec){var argCount=spec.typeList.length-1,typeIdList=spec.typeList.slice(0);typeIdList.splice(1,0,"uint32_t",spec.boundID);var typeList=_nbind.getTypes(typeIdList,spec.title),returnType=typeList[0],argTypeList=typeList.slice(3),needsWireRead=returnType.needsWireRead(spec.policyTbl),needsWireWrite=anyNeedsWireWrite(argTypeList,spec.policyTbl),ptr=spec.ptr,num=spec.num,dynCall=_nbind.getDynCall(typeList,spec.title),mask=~spec.flags&1;function err(){throw new Error("Calling a non-const method on a const object")}if(!needsWireRead&&!needsWireWrite)switch(argCount){case 0:return function(){return this.__nbindFlags&mask?err():dynCall(ptr,num,_nbind.pushPointer(this,ptrType))};case 1:return function(a1){return this.__nbindFlags&mask?err():dynCall(ptr,num,_nbind.pushPointer(this,ptrType),a1)};case 2:return function(a1,a2){return this.__nbindFlags&mask?err():dynCall(ptr,num,_nbind.pushPointer(this,ptrType),a1,a2)};case 3:return function(a1,a2,a3){return this.__nbindFlags&mask?err():dynCall(ptr,num,_nbind.pushPointer(this,ptrType),a1,a2,a3)};default:break}return buildCallerFunction(dynCall,ptrType,ptr,num,spec.policyTbl,needsWireWrite,"ptr,num,pushPointer(this,ptrType)",returnType,argTypeList,mask,err)}_nbind.makeMethodCaller=makeMethodCaller;function makeCaller(spec){var argCount=spec.typeList.length-1,typeList=_nbind.getTypes(spec.typeList,spec.title),returnType=typeList[0],argTypeList=typeList.slice(1),needsWireRead=returnType.needsWireRead(spec.policyTbl),needsWireWrite=anyNeedsWireWrite(argTypeList,spec.policyTbl),direct=spec.direct,ptr=spec.ptr;if(spec.direct&&!needsWireRead&&!needsWireWrite){var dynCall_1=_nbind.getDynCall(typeList,spec.title);switch(argCount){case 0:return function(){return dynCall_1(direct)};case 1:return function(a1){return dynCall_1(direct,a1)};case 2:return function(a1,a2){return dynCall_1(direct,a1,a2)};case 3:return function(a1,a2,a3){return dynCall_1(direct,a1,a2,a3)};default:break}ptr=0}var prefix;if(ptr){var typeIdList=spec.typeList.slice(0);typeIdList.splice(1,0,"uint32_t");typeList=_nbind.getTypes(typeIdList,spec.title);prefix="ptr,num"}else ptr=direct,prefix="ptr";var dynCall=_nbind.getDynCall(typeList,spec.title);return buildCallerFunction(dynCall,null,ptr,spec.num,spec.policyTbl,needsWireWrite,prefix,returnType,argTypeList)}_nbind.makeCaller=makeCaller;function makeOverloader(func,arity){var callerList=[];function call(){return callerList[arguments.length].apply(this,arguments)}call.addMethod=function(_func,_arity){callerList[_arity]=_func};call.addMethod(func,arity);return call}_nbind.makeOverloader=makeOverloader;var Resource=function(){function Resource(open,close){var _this=this;this.makeOpen=function(){return Object.keys(_this.openTbl).join("")};this.makeClose=function(){return Object.keys(_this.closeTbl).join("")};this.openTbl={};this.closeTbl={};open&&(this.openTbl[open]=!0);close&&(this.closeTbl[close]=!0)}Resource.prototype.add=function(other){for(var _i=0,_a=Object.keys(other.openTbl);_i<_a.length;_i++){var key=_a[_i];this.openTbl[key]=!0}for(var _b=0,_c=Object.keys(other.closeTbl);_b<_c.length;_b++){var key=_c[_b];this.closeTbl[key]=!0}};Resource.prototype.remove=function(other){for(var _i=0,_a=Object.keys(other.openTbl);_i<_a.length;_i++){var key=_a[_i];delete this.openTbl[key]}for(var _b=0,_c=Object.keys(other.closeTbl);_b<_c.length;_b++){var key=_c[_b];delete this.closeTbl[key]}};return Resource}();_nbind.Resource=Resource;function listResources(readList,writeList){var result=new Resource();for(var _i=0,readList_1=readList;_i<readList_1.length;_i++){var bindType=readList_1[_i];for(var _a=0,_b=bindType.readResources||[];_a<_b.length;_a++){var resource=_b[_a];result.add(resource)}}for(var _c=0,writeList_1=writeList;_c<writeList_1.length;_c++){var bindType=writeList_1[_c];for(var _d=0,_e=bindType.writeResources||[];_d<_e.length;_d++){var resource=_e[_d];result.add(resource)}}return result}_nbind.listResources=listResources;_nbind.resources={pool:new Resource("var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];","_nbind.Pool.lreset(used,page);")};var ExternalBuffer=function(_super){__extends(ExternalBuffer,_super);function ExternalBuffer(buf,ptr){var _this=_super.call(this,buf)||this;_this.ptr=ptr;return _this}ExternalBuffer.prototype.free=function(){_free(this.ptr)};return ExternalBuffer}(_nbind.External);function getBuffer(buf){if(buf instanceof ArrayBuffer)return new Uint8Array(buf);else if(buf instanceof DataView)return new Uint8Array(buf.buffer,buf.byteOffset,buf.byteLength);else return buf}function pushBuffer(buf,policyTbl){buf==null&&(policyTbl&&policyTbl.Nullable&&(buf=[]));if(typeof buf!="object")throw new Error("Type mismatch");var b=buf,length=b.byteLength||b.length;if(!length&&length!==0&&b.byteLength!==0)throw new Error("Type mismatch");var result=_nbind.Pool.lalloc(8),data=_malloc(length),ptr=result/4;HEAPU32[ptr++]=length;HEAPU32[ptr++]=data;HEAPU32[ptr++]=new ExternalBuffer(buf,data).register();HEAPU8.set(getBuffer(buf),data);return result}var BufferType=function(_super){__extends(BufferType,_super);function BufferType(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.wireWrite=pushBuffer;_this.readResources=[_nbind.resources.pool];_this.writeResources=[_nbind.resources.pool];return _this}BufferType.prototype.makeWireWrite=function(expr,policyTbl){return function(arg){return pushBuffer(arg,policyTbl)}};return BufferType}(_nbind.BindType);_nbind.BufferType=BufferType;function commitBuffer(num,data,length){var buf=_nbind.externalList[num].data,NodeBuffer=Buffer;typeof Buffer!="function"&&(NodeBuffer=function(){});if(!(buf instanceof Array)){var src=HEAPU8.subarray(data,data+length);if(buf instanceof NodeBuffer){var srcBuf=void 0;typeof Buffer.from=="function"&&Buffer.from.length>=3?srcBuf=Buffer.from(src):srcBuf=new Buffer(src);srcBuf.copy(buf)}else getBuffer(buf).set(src)}}_nbind.commitBuffer=commitBuffer;var dirtyList=[],gcTimer=0;function sweep(){for(var _i=0,dirtyList_1=dirtyList;_i<dirtyList_1.length;_i++){var obj=dirtyList_1[_i];obj.__nbindState&(1|2)||obj.free()}dirtyList=[];gcTimer=0}_nbind.mark=function(obj){};function toggleLightGC(enable){enable?_nbind.mark=function(obj){dirtyList.push(obj),gcTimer||(gcTimer=setTimeout(sweep,0))}:_nbind.mark=function(obj){}}_nbind.toggleLightGC=toggleLightGC})(_nbind);Module.requestFullScreen=function Module_requestFullScreen(lockPointer,resizeCanvas,vrDevice){Module.printErr("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),Module.requestFullScreen=Module.requestFullscreen,Browser.requestFullScreen(lockPointer,resizeCanvas,vrDevice)};Module.requestFullscreen=function Module_requestFullscreen(lockPointer,resizeCanvas,vrDevice){Browser.requestFullscreen(lockPointer,resizeCanvas,vrDevice)};Module.requestAnimationFrame=function Module_requestAnimationFrame(func){Browser.requestAnimationFrame(func)};Module.setCanvasSize=function Module_setCanvasSize(width,height,noUpdates){Browser.setCanvasSize(width,height,noUpdates)};Module.pauseMainLoop=function Module_pauseMainLoop(){Browser.mainLoop.pause()};Module.resumeMainLoop=function Module_resumeMainLoop(){Browser.mainLoop.resume()};Module.getUserMedia=function Module_getUserMedia(){Browser.getUserMedia()};Module.createContext=function Module_createContext(canvas,useWebGL,setInModule,webGLContextAttributes){return Browser.createContext(canvas,useWebGL,setInModule,webGLContextAttributes)};ENVIRONMENT_IS_NODE?_emscripten_get_now=function _emscripten_get_now_actual(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof dateNow!=="undefined"?_emscripten_get_now=dateNow:typeof self==="object"&&self.performance&&typeof self.performance.now==="function"?_emscripten_get_now=function(){return self.performance.now()}:typeof performance==="object"&&typeof performance.now==="function"?_emscripten_get_now=function(){return performance.now()}:_emscripten_get_now=Date.now;__ATEXIT__.push(function(){var fflush=Module._fflush;fflush&&fflush(0);var printChar=___syscall146.printChar;if(!printChar)return;var buffers=___syscall146.buffers;buffers[1].length&&printChar(1,10);buffers[2].length&&printChar(2,10)});DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC);STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP);STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;staticSealed=!0;function invoke_viiiii(index,a1,a2,a3,a4,a5){try{Module.dynCall_viiiii(index,a1,a2,a3,a4,a5)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_vif(index,a1,a2){try{Module.dynCall_vif(index,a1,a2)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_vid(index,a1,a2){try{Module.dynCall_vid(index,a1,a2)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_fiff(index,a1,a2,a3){try{return Module.dynCall_fiff(index,a1,a2,a3)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_vi(index,a1){try{Module.dynCall_vi(index,a1)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_vii(index,a1,a2){try{Module.dynCall_vii(index,a1,a2)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_ii(index,a1){try{return Module.dynCall_ii(index,a1)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viddi(index,a1,a2,a3,a4){try{Module.dynCall_viddi(index,a1,a2,a3,a4)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_vidd(index,a1,a2,a3){try{Module.dynCall_vidd(index,a1,a2,a3)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_iiii(index,a1,a2,a3){try{return Module.dynCall_iiii(index,a1,a2,a3)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_diii(index,a1,a2,a3){try{return Module.dynCall_diii(index,a1,a2,a3)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_di(index,a1){try{return Module.dynCall_di(index,a1)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_iid(index,a1,a2){try{return Module.dynCall_iid(index,a1,a2)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_iii(index,a1,a2){try{return Module.dynCall_iii(index,a1,a2)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viiddi(index,a1,a2,a3,a4,a5){try{Module.dynCall_viiddi(index,a1,a2,a3,a4,a5)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viiiiii(index,a1,a2,a3,a4,a5,a6){try{Module.dynCall_viiiiii(index,a1,a2,a3,a4,a5,a6)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_dii(index,a1,a2){try{return Module.dynCall_dii(index,a1,a2)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_i(index){try{return Module.dynCall_i(index)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_iiiiii(index,a1,a2,a3,a4,a5){try{return Module.dynCall_iiiiii(index,a1,a2,a3,a4,a5)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viiid(index,a1,a2,a3,a4){try{Module.dynCall_viiid(index,a1,a2,a3,a4)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viififi(index,a1,a2,a3,a4,a5,a6){try{Module.dynCall_viififi(index,a1,a2,a3,a4,a5,a6)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viii(index,a1,a2,a3){try{Module.dynCall_viii(index,a1,a2,a3)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_v(index){try{Module.dynCall_v(index)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viid(index,a1,a2,a3){try{Module.dynCall_viid(index,a1,a2,a3)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_idd(index,a1,a2){try{return Module.dynCall_idd(index,a1,a2)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viiii(index,a1,a2,a3,a4){try{Module.dynCall_viiii(index,a1,a2,a3,a4)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:Infinity};Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_viiiii:invoke_viiiii,invoke_vif:invoke_vif,invoke_vid:invoke_vid,invoke_fiff:invoke_fiff,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viddi:invoke_viddi,invoke_vidd:invoke_vidd,invoke_iiii:invoke_iiii,invoke_diii:invoke_diii,invoke_di:invoke_di,invoke_iid:invoke_iid,invoke_iii:invoke_iii,invoke_viiddi:invoke_viiddi,invoke_viiiiii:invoke_viiiiii,invoke_dii:invoke_dii,invoke_i:invoke_i,invoke_iiiiii:invoke_iiiiii,invoke_viiid:invoke_viiid,invoke_viififi:invoke_viififi,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_idd:invoke_idd,invoke_viiii:invoke_viiii,_emscripten_asm_const_iiiii:_emscripten_asm_const_iiiii,_emscripten_asm_const_iiidddddd:_emscripten_asm_const_iiidddddd,_emscripten_asm_const_iiiid:_emscripten_asm_const_iiiid,__nbind_reference_external:__nbind_reference_external,_emscripten_asm_const_iiiiiiii:_emscripten_asm_const_iiiiiiii,_removeAccessorPrefix:_removeAccessorPrefix,_typeModule:_typeModule,__nbind_register_pool:__nbind_register_pool,__decorate:__decorate,_llvm_stackrestore:_llvm_stackrestore,___cxa_atexit:___cxa_atexit,__extends:__extends,__nbind_get_value_object:__nbind_get_value_object,__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj:__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,_emscripten_set_main_loop_timing:_emscripten_set_main_loop_timing,__nbind_register_primitive:__nbind_register_primitive,__nbind_register_type:__nbind_register_type,_emscripten_memcpy_big:_emscripten_memcpy_big,__nbind_register_function:__nbind_register_function,___setErrNo:___setErrNo,__nbind_register_class:__nbind_register_class,__nbind_finish:__nbind_finish,_abort:_abort,_nbind_value:_nbind_value,_llvm_stacksave:_llvm_stacksave,___syscall54:___syscall54,_defineHidden:_defineHidden,_emscripten_set_main_loop:_emscripten_set_main_loop,_emscripten_get_now:_emscripten_get_now,__nbind_register_callback_signature:__nbind_register_callback_signature,_emscripten_asm_const_iiiiii:_emscripten_asm_const_iiiiii,__nbind_free_external:__nbind_free_external,_emscripten_asm_const_iiii:_emscripten_asm_const_iiii,_emscripten_asm_const_iiididi:_emscripten_asm_const_iiididi,___syscall6:___syscall6,_atexit:_atexit,___syscall140:___syscall140,___syscall146:___syscall146,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(global,env,buffer){var a=new global.Int8Array(buffer),b=new global.Int16Array(buffer),c=new global.Int32Array(buffer),d=new global.Uint8Array(buffer),e=new global.Uint16Array(buffer),f=new global.Uint32Array(buffer),g=new global.Float32Array(buffer),h=new global.Float64Array(buffer),i=env.DYNAMICTOP_PTR|0,j=env.tempDoublePtr|0,k=env.ABORT|0,l=env.STACKTOP|0,m=env.STACK_MAX|0,n=env.cttz_i8|0,o=env.___dso_handle|0,p=0,q=0,r=0,s=0,t=global.NaN,u=global.Infinity,v=0,w=0,x=0,y=0,z=0,A=0,B=global.Math.floor,C=global.Math.abs,D=global.Math.sqrt,E=global.Math.pow,F=global.Math.cos,G=global.Math.sin,H=global.Math.tan,I=global.Math.acos,J=global.Math.asin,K=global.Math.atan,L=global.Math.atan2,M=global.Math.exp,N=global.Math.log,O=global.Math.ceil,P=global.Math.imul,Q=global.Math.min,R=global.Math.max,S=global.Math.clz32,T=global.Math.fround,U=env.abort,V=env.assert,W=env.enlargeMemory,X=env.getTotalMemory,Y=env.abortOnCannotGrowMemory,Z=env.invoke_viiiii,_=env.invoke_vif,$=env.invoke_vid,aa=env.invoke_fiff,ba=env.invoke_vi,ca=env.invoke_vii,da=env.invoke_ii,ea=env.invoke_viddi,fa=env.invoke_vidd,ga=env.invoke_iiii,ha=env.invoke_diii,ia=env.invoke_di,ja=env.invoke_iid,ka=env.invoke_iii,la=env.invoke_viiddi,ma=env.invoke_viiiiii,na=env.invoke_dii,oa=env.invoke_i,pa=env.invoke_iiiiii,qa=env.invoke_viiid,ra=env.invoke_viififi,sa=env.invoke_viii,ta=env.invoke_v,ua=env.invoke_viid,va=env.invoke_idd,wa=env.invoke_viiii,xa=env._emscripten_asm_const_iiiii,ya=env._emscripten_asm_const_iiidddddd,za=env._emscripten_asm_const_iiiid,Aa=env.__nbind_reference_external,Ba=env._emscripten_asm_const_iiiiiiii,Ca=env._removeAccessorPrefix,Da=env._typeModule,Ea=env.__nbind_register_pool,Fa=env.__decorate,Ga=env._llvm_stackrestore,Ha=env.___cxa_atexit,Ia=env.__extends,Ja=env.__nbind_get_value_object,Ka=env.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,La=env._emscripten_set_main_loop_timing,Ma=env.__nbind_register_primitive,Na=env.__nbind_register_type,Oa=env._emscripten_memcpy_big,Pa=env.__nbind_register_function,Qa=env.___setErrNo,Ra=env.__nbind_register_class,Sa=env.__nbind_finish,Ta=env._abort,Ua=env._nbind_value,Va=env._llvm_stacksave,Wa=env.___syscall54,Xa=env._defineHidden,Ya=env._emscripten_set_main_loop,Za=env._emscripten_get_now,_a=env.__nbind_register_callback_signature,$a=env._emscripten_asm_const_iiiiii,ab=env.__nbind_free_external,bb=env._emscripten_asm_const_iiii,cb=env._emscripten_asm_const_iiididi,db=env.___syscall6,eb=env._atexit,fb=env.___syscall140,gb=env.___syscall146,hb=T(0),ib=T(0);function Jb(a){a=a|0;var b=0;b=l;l=l+a|0;l=l+15&-16;return b|0}function Kb(){return l|0}function Lb(a){a=a|0,l=a}function Mb(a,b){a=a|0,b=b|0,l=a,m=b}function Nb(a,b){a=a|0,b=b|0,p||(p=a,q=b)}function Ob(a){a=a|0,A=a}function Pb(){return A|0}function Qb(){var b=0,d=0;BC(8104,8,400)|0;BC(8504,408,540)|0;b=9044;d=b+44|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));a[9088]=0;a[9089]=1;c[2273]=0;c[2274]=948;c[2275]=948;Ha(17,8104,o|0)|0;return}function Rb(a){a=a|0;oc(a+948|0);return}function Sb(a){a=T(a);return((af(a)|0)&2147483647)>>>0>2139095040|0}function Tb(a,b,d){a=a|0;b=b|0;d=d|0;a:do if(!(c[a+(b<<3)+4>>2]|0)){if((b|2|0)==3?c[a+60>>2]|0:0){a=a+56|0;break}switch(b|0){case 0:case 2:case 4:case 5:if(c[a+52>>2]|0){a=a+48|0;break a}break;default:}if(!(c[a+68>>2]|0)){a=(b|1|0)==5?948:d;break}else{a=a+64|0;break}}else a=a+(b<<3)|0;while(0);return a|0}function Ub(b){b=b|0;var d=0;d=oB(1e3)|0;Vb(b,(d|0)!=0,2456);c[2276]=(c[2276]|0)+1;BC(d|0,8104,1e3)|0;a[b+2>>0]|0&&(c[d+4>>2]=2,c[d+12>>2]=4);c[d+976>>2]=b;return d|0}function Vb(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;f=l;l=l+16|0;e=f;b||(c[e>>2]=d,fe(a,5,3197,e));l=f;return}function Wb(){return Ub(956)|0}function Xb(a){a=a|0;var b=0;b=qC(1e3)|0;Yb(b,a);Vb(c[a+976>>2]|0,1,2456);c[2276]=(c[2276]|0)+1;c[b+944>>2]=0;return b|0}function Yb(a,b){a=a|0;b=b|0;var d=0;BC(a|0,b|0,948)|0;ie(a+948|0,b+948|0);d=a+960|0;a=b+960|0;b=d+40|0;do c[d>>2]=c[a>>2],d=d+4|0,a=a+4|0;while((d|0)<(b|0));return}function Zb(a){a=a|0;var b=0,d=0,e=0,f=0;b=a+944|0;d=c[b>>2]|0;d|0&&(_b(d+948|0,a)|0,c[b>>2]=0);d=$b(a)|0;if(d|0){b=0;do c[(ac(a,b)|0)+944>>2]=0,b=b+1|0;while((b|0)!=(d|0))}d=a+948|0;e=c[d>>2]|0;f=a+952|0;b=c[f>>2]|0;(b|0)!=(e|0)&&(c[f>>2]=b+(~((b+-4-e|0)>>>2)<<2));bc(d);pB(a);c[2276]=(c[2276]|0)+-1;return}function _b(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0;e=c[a>>2]|0;i=a+4|0;d=c[i>>2]|0;g=d;a:do if((e|0)==(d|0))f=e,h=4;else{a=e;while(1){if((c[a>>2]|0)==(b|0)){f=a;h=4;break a}a=a+4|0;if((a|0)==(d|0)){a=0;break}}}while(0);(h|0)==4&&((f|0)!=(d|0)?(e=f+4|0,a=g-e|0,b=a>>2,b&&(GC(f|0,e|0,a|0)|0,d=c[i>>2]|0),a=f+(b<<2)|0,(d|0)==(a|0)?a=1:(c[i>>2]=d+(~((d+-4-a|0)>>>2)<<2),a=1)):a=0);return a|0}function $b(a){a=a|0;return(c[a+952>>2]|0)-(c[a+948>>2]|0)>>2|0}function ac(a,b){a=a|0;b=b|0;var d=0;d=c[a+948>>2]|0;(c[a+952>>2]|0)-d>>2>>>0>b>>>0?a=c[d+(b<<2)>>2]|0:a=0;return a|0}function bc(a){a=a|0;var b=0,d=0,e=0,f=0;e=l;l=l+32|0;b=e;f=c[a>>2]|0;d=(c[a+4>>2]|0)-f|0;((c[a+8>>2]|0)-f|0)>>>0>d>>>0&&(f=d>>2,bf(b,f,f,a+8|0),cf(a,b),df(b));l=e;return}function cc(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0;k=$b(a)|0;do if(k|0){if((c[(ac(a,0)|0)+944>>2]|0)==(a|0)){if(!(_b(a+948|0,b)|0))break;BC(b+400|0,8504,540)|0;c[b+944>>2]=0;nc(a);break}h=c[(c[a+976>>2]|0)+12>>2]|0;i=a+948|0;j=(h|0)==0;d=0;g=0;do e=c[(c[i>>2]|0)+(g<<2)>>2]|0,(e|0)==(b|0)?nc(a):(f=Xb(e)|0,c[(c[i>>2]|0)+(d<<2)>>2]=f,c[f+944>>2]=a,j||Ib[h&15](e,f,a,d),d=d+1|0),g=g+1|0;while((g|0)!=(k|0));if(d>>>0<k>>>0){j=a+948|0;i=a+952|0;h=d;d=c[i>>2]|0;do g=(c[j>>2]|0)+(h<<2)|0,e=g+4|0,f=d-e|0,b=f>>2,!b?f=d:(GC(g|0,e|0,f|0)|0,d=c[i>>2]|0,f=d),e=g+(b<<2)|0,(f|0)!=(e|0)&&(d=f+(~((f+-4-e|0)>>>2)<<2)|0,c[i>>2]=d),h=h+1|0;while((h|0)!=(k|0))}}while(0);return}function dc(b){b=b|0;var d=0,e=0,f=0,g=0;ec(b,($b(b)|0)==0,2491);ec(b,(c[b+944>>2]|0)==0,2545);d=b+948|0;e=c[d>>2]|0;f=b+952|0;g=c[f>>2]|0;(g|0)!=(e|0)&&(c[f>>2]=g+(~((g+-4-e|0)>>>2)<<2));bc(d);d=b+976|0;e=c[d>>2]|0;BC(b|0,8104,1e3)|0;a[e+2>>0]|0&&(c[b+4>>2]=2,c[b+12>>2]=4);c[d>>2]=e;return}function ec(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;f=l;l=l+16|0;e=f;b||(c[e>>2]=d,Vd(a,5,3197,e));l=f;return}function fc(){return c[2276]|0}function gc(){var a=0;a=oB(20)|0;hc((a|0)!=0,2592);c[2277]=(c[2277]|0)+1;c[a>>2]=c[239];c[a+4>>2]=c[240];c[a+8>>2]=c[241];c[a+12>>2]=c[242];c[a+16>>2]=c[243];return a|0}function hc(a,b){a=a|0;b=b|0;var d=0,e=0;e=l;l=l+16|0;d=e;a||(c[d>>2]=b,Vd(0,5,3197,d));l=e;return}function ic(a){a=a|0;pB(a);c[2277]=(c[2277]|0)+-1;return}function jc(a,b){a=a|0;b=b|0;var d=0;!b?(d=0,b=0):(ec(a,($b(a)|0)==0,2629),d=1);c[a+964>>2]=b;c[a+988>>2]=d;return}function kc(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;g=e+8|0;f=e+4|0;h=e;c[f>>2]=b;ec(a,(c[b+944>>2]|0)==0,2709);ec(a,(c[a+964>>2]|0)==0,2763);lc(a);b=a+948|0;c[h>>2]=(c[b>>2]|0)+(d<<2);c[g>>2]=c[h>>2];mc(b,g,f)|0;c[(c[f>>2]|0)+944>>2]=a;nc(a);l=e;return}function lc(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0;d=$b(a)|0;if(d|0?(c[(ac(a,0)|0)+944>>2]|0)!=(a|0):0){e=c[(c[a+976>>2]|0)+12>>2]|0;f=a+948|0;g=(e|0)==0;b=0;do h=c[(c[f>>2]|0)+(b<<2)>>2]|0,i=Xb(h)|0,c[(c[f>>2]|0)+(b<<2)>>2]=i,c[i+944>>2]=a,g||Ib[e&15](h,i,a,b),b=b+1|0;while((b|0)!=(d|0))}return}function mc(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;s=l;l=l+64|0;n=s+52|0;i=s+48|0;o=s+28|0;p=s+24|0;q=s+20|0;r=s;e=c[a>>2]|0;g=e;b=e+((c[b>>2]|0)-g>>2<<2)|0;e=a+4|0;f=c[e>>2]|0;h=a+8|0;do if(f>>>0<(c[h>>2]|0)>>>0){if((b|0)==(f|0)){c[b>>2]=c[d>>2];c[e>>2]=(c[e>>2]|0)+4;break}ef(a,b,f,b+4|0);b>>>0<=d>>>0&&(d=(c[e>>2]|0)>>>0>d>>>0?d+4|0:d);c[b>>2]=c[d>>2]}else{e=(f-g>>2)+1|0;f=le(a)|0;f>>>0<e>>>0&&jC(a);m=c[a>>2]|0;k=(c[h>>2]|0)-m|0;g=k>>1;bf(r,k>>2>>>0<f>>>1>>>0?g>>>0<e>>>0?e:g:f,b-m>>2,a+8|0);m=r+8|0;e=c[m>>2]|0;g=r+12|0;k=c[g>>2]|0;h=k;j=e;do if((e|0)==(k|0)){k=r+4|0;e=c[k>>2]|0;t=c[r>>2]|0;f=t;if(e>>>0<=t>>>0){e=h-f>>1;e=(e|0)==0?1:e;bf(o,e,e>>>2,c[r+16>>2]|0);c[p>>2]=c[k>>2];c[q>>2]=c[m>>2];c[i>>2]=c[p>>2];c[n>>2]=c[q>>2];gf(o,i,n);e=c[r>>2]|0;c[r>>2]=c[o>>2];c[o>>2]=e;e=o+4|0;t=c[k>>2]|0;c[k>>2]=c[e>>2];c[e>>2]=t;e=o+8|0;t=c[m>>2]|0;c[m>>2]=c[e>>2];c[e>>2]=t;e=o+12|0;t=c[g>>2]|0;c[g>>2]=c[e>>2];c[e>>2]=t;df(o);e=c[m>>2]|0;break}g=e;h=((g-f>>2)+1|0)/-2|0;i=e+(h<<2)|0;f=j-g|0;g=f>>2;g&&(GC(i|0,e|0,f|0)|0,e=c[k>>2]|0);t=i+(g<<2)|0;c[m>>2]=t;c[k>>2]=e+(h<<2);e=t}while(0);c[e>>2]=c[d>>2];c[m>>2]=(c[m>>2]|0)+4;b=ff(a,r,b)|0;df(r)}while(0);l=s;return b|0}function nc(b){b=b|0;var d=0;do{d=b+984|0;if(a[d>>0]|0)break;a[d>>0]=1;g[b+504>>2]=T(t);b=c[b+944>>2]|0}while((b|0)!=0);return}function oc(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-4-e|0)>>>2)<<2)),sC(d));return}function pc(a){a=a|0;return c[a+944>>2]|0}function qc(a){a=a|0;ec(a,(c[a+964>>2]|0)!=0,2832);nc(a);return}function rc(b){b=b|0;return(a[b+984>>0]|0)!=0|0}function sc(a,b){a=a|0;b=b|0;BB(a,b,400)|0&&(BC(a|0,b|0,400)|0,nc(a));return}function tc(a){a=a|0;var b=ib;b=T(g[a+44>>2]);a=Sb(b)|0;return T(a?T(0):b)}function uc(b){b=b|0;var d=ib;d=T(g[b+48>>2]);Sb(d)|0&&(d=a[(c[b+976>>2]|0)+2>>0]|0?T(1):T(0));return T(d)}function vc(a,b){a=a|0;b=b|0;c[a+980>>2]=b;return}function wc(a){a=a|0;return c[a+980>>2]|0}function xc(a,b){a=a|0;b=b|0;var d=0;d=a+4|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function yc(a){a=a|0;return c[a+4>>2]|0}function zc(a,b){a=a|0;b=b|0;var d=0;d=a+8|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function Ac(a){a=a|0;return c[a+8>>2]|0}function Bc(a,b){a=a|0;b=b|0;var d=0;d=a+12|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function Cc(a){a=a|0;return c[a+12>>2]|0}function Dc(a,b){a=a|0;b=b|0;var d=0;d=a+16|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function Ec(a){a=a|0;return c[a+16>>2]|0}function Fc(a,b){a=a|0;b=b|0;var d=0;d=a+20|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function Gc(a){a=a|0;return c[a+20>>2]|0}function Hc(a,b){a=a|0;b=b|0;var d=0;d=a+24|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function Ic(a){a=a|0;return c[a+24>>2]|0}function Jc(a,b){a=a|0;b=b|0;var d=0;d=a+28|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function Kc(a){a=a|0;return c[a+28>>2]|0}function Lc(a,b){a=a|0;b=b|0;var d=0;d=a+32|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function Mc(a){a=a|0;return c[a+32>>2]|0}function Nc(a,b){a=a|0;b=b|0;var d=0;d=a+36|0;(c[d>>2]|0)!=(b|0)&&(c[d>>2]=b,nc(a));return}function Oc(a){a=a|0;return c[a+36>>2]|0}function Pc(a,b){a=a|0;b=T(b);var c=0;c=a+40|0;T(g[c>>2])!=b&&(g[c>>2]=b,nc(a));return}function Qc(a,b){a=a|0;b=T(b);var c=0;c=a+44|0;T(g[c>>2])!=b&&(g[c>>2]=b,nc(a));return}function Rc(a,b){a=a|0;b=T(b);var c=0;c=a+48|0;T(g[c>>2])!=b&&(g[c>>2]=b,nc(a));return}function Sc(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=(h^1)&1;e=a+52|0;f=a+56|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function Tc(a,b){a=a|0;b=T(b);var d=0,e=0;e=a+52|0;d=a+56|0;(T(g[e>>2])!=b?0:(c[d>>2]|0)==2)||(g[e>>2]=b,e=Sb(b)|0,c[d>>2]=e?3:2,nc(a));return}function Uc(a,b){a=a|0;b=b|0;var d=0,e=0;e=b+52|0;d=c[e+4>>2]|0;b=a;c[b>>2]=c[e>>2];c[b+4>>2]=d;return}function Vc(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0,h=0;h=Sb(d)|0;e=(h^1)&1;f=a+132+(b<<3)|0;b=a+132+(b<<3)+4|0;(h|T(g[f>>2])==d?(c[b>>2]|0)==(e|0):0)||(g[f>>2]=d,c[b>>2]=e,nc(a));return}function Wc(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0,h=0;h=Sb(d)|0;e=h?0:2;f=a+132+(b<<3)|0;b=a+132+(b<<3)+4|0;(h|T(g[f>>2])==d?(c[b>>2]|0)==(e|0):0)||(g[f>>2]=d,c[b>>2]=e,nc(a));return}function Xc(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=b+132+(d<<3)|0;b=c[e+4>>2]|0;d=a;c[d>>2]=c[e>>2];c[d+4>>2]=b;return}function Yc(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0,h=0;h=Sb(d)|0;e=(h^1)&1;f=a+60+(b<<3)|0;b=a+60+(b<<3)+4|0;(h|T(g[f>>2])==d?(c[b>>2]|0)==(e|0):0)||(g[f>>2]=d,c[b>>2]=e,nc(a));return}function Zc(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0,h=0;h=Sb(d)|0;e=h?0:2;f=a+60+(b<<3)|0;b=a+60+(b<<3)+4|0;(h|T(g[f>>2])==d?(c[b>>2]|0)==(e|0):0)||(g[f>>2]=d,c[b>>2]=e,nc(a));return}function _c(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=b+60+(d<<3)|0;b=c[e+4>>2]|0;d=a;c[d>>2]=c[e>>2];c[d+4>>2]=b;return}function $c(a,b){a=a|0;b=b|0;var d=0;d=a+60+(b<<3)+4|0;(c[d>>2]|0)!=3&&(g[a+60+(b<<3)>>2]=T(t),c[d>>2]=3,nc(a));return}function ad(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0,h=0;h=Sb(d)|0;e=(h^1)&1;f=a+204+(b<<3)|0;b=a+204+(b<<3)+4|0;(h|T(g[f>>2])==d?(c[b>>2]|0)==(e|0):0)||(g[f>>2]=d,c[b>>2]=e,nc(a));return}function bd(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0,h=0;h=Sb(d)|0;e=h?0:2;f=a+204+(b<<3)|0;b=a+204+(b<<3)+4|0;(h|T(g[f>>2])==d?(c[b>>2]|0)==(e|0):0)||(g[f>>2]=d,c[b>>2]=e,nc(a));return}function cd(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=b+204+(d<<3)|0;b=c[e+4>>2]|0;d=a;c[d>>2]=c[e>>2];c[d+4>>2]=b;return}function dd(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0,h=0;h=Sb(d)|0;e=(h^1)&1;f=a+276+(b<<3)|0;b=a+276+(b<<3)+4|0;(h|T(g[f>>2])==d?(c[b>>2]|0)==(e|0):0)||(g[f>>2]=d,c[b>>2]=e,nc(a));return}function ed(a,b){a=a|0;b=b|0;return T(g[a+276+(b<<3)>>2])}function fd(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=(h^1)&1;e=a+348|0;f=a+352|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function gd(a,b){a=a|0;b=T(b);var d=0,e=0;e=a+348|0;d=a+352|0;(T(g[e>>2])!=b?0:(c[d>>2]|0)==2)||(g[e>>2]=b,e=Sb(b)|0,c[d>>2]=e?3:2,nc(a));return}function hd(a){a=a|0;var b=0;b=a+352|0;(c[b>>2]|0)!=3&&(g[a+348>>2]=T(t),c[b>>2]=3,nc(a));return}function id(a,b){a=a|0;b=b|0;var d=0,e=0;e=b+348|0;d=c[e+4>>2]|0;b=a;c[b>>2]=c[e>>2];c[b+4>>2]=d;return}function jd(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=(h^1)&1;e=a+356|0;f=a+360|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function kd(a,b){a=a|0;b=T(b);var d=0,e=0;e=a+356|0;d=a+360|0;(T(g[e>>2])!=b?0:(c[d>>2]|0)==2)||(g[e>>2]=b,e=Sb(b)|0,c[d>>2]=e?3:2,nc(a));return}function ld(a){a=a|0;var b=0;b=a+360|0;(c[b>>2]|0)!=3&&(g[a+356>>2]=T(t),c[b>>2]=3,nc(a));return}function md(a,b){a=a|0;b=b|0;var d=0,e=0;e=b+356|0;d=c[e+4>>2]|0;b=a;c[b>>2]=c[e>>2];c[b+4>>2]=d;return}function nd(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=(h^1)&1;e=a+364|0;f=a+368|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function od(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=h?0:2;e=a+364|0;f=a+368|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function pd(a,b){a=a|0;b=b|0;var d=0,e=0;e=b+364|0;d=c[e+4>>2]|0;b=a;c[b>>2]=c[e>>2];c[b+4>>2]=d;return}function qd(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=(h^1)&1;e=a+372|0;f=a+376|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function rd(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=h?0:2;e=a+372|0;f=a+376|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function sd(a,b){a=a|0;b=b|0;var d=0,e=0;e=b+372|0;d=c[e+4>>2]|0;b=a;c[b>>2]=c[e>>2];c[b+4>>2]=d;return}function td(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=(h^1)&1;e=a+380|0;f=a+384|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function ud(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=h?0:2;e=a+380|0;f=a+384|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function vd(a,b){a=a|0;b=b|0;var d=0,e=0;e=b+380|0;d=c[e+4>>2]|0;b=a;c[b>>2]=c[e>>2];c[b+4>>2]=d;return}function wd(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=(h^1)&1;e=a+388|0;f=a+392|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function xd(a,b){a=a|0;b=T(b);var d=0,e=0,f=0,h=0;h=Sb(b)|0;d=h?0:2;e=a+388|0;f=a+392|0;(h|T(g[e>>2])==b?(c[f>>2]|0)==(d|0):0)||(g[e>>2]=b,c[f>>2]=d,nc(a));return}function yd(a,b){a=a|0;b=b|0;var d=0,e=0;e=b+388|0;d=c[e+4>>2]|0;b=a;c[b>>2]=c[e>>2];c[b+4>>2]=d;return}function zd(a,b){a=a|0;b=T(b);var c=0;c=a+396|0;T(g[c>>2])!=b&&(g[c>>2]=b,nc(a));return}function Ad(a){a=a|0;return T(g[a+396>>2])}function Bd(a){a=a|0;return T(g[a+400>>2])}function Cd(a){a=a|0;return T(g[a+404>>2])}function Dd(a){a=a|0;return T(g[a+408>>2])}function Ed(a){a=a|0;return T(g[a+412>>2])}function Fd(a){a=a|0;return T(g[a+416>>2])}function Gd(a){a=a|0;return T(g[a+420>>2])}function Hd(a,b){a=a|0;b=b|0;ec(a,(b|0)<6,2918);switch(b|0){case 0:b=(c[a+496>>2]|0)==2?5:4;break;case 2:b=(c[a+496>>2]|0)==2?4:5;break;default:}return T(g[a+424+(b<<2)>>2])}function Id(a,b){a=a|0;b=b|0;ec(a,(b|0)<6,2918);switch(b|0){case 0:b=(c[a+496>>2]|0)==2?5:4;break;case 2:b=(c[a+496>>2]|0)==2?4:5;break;default:}return T(g[a+448+(b<<2)>>2])}function Jd(a,b){a=a|0;b=b|0;ec(a,(b|0)<6,2918);switch(b|0){case 0:b=(c[a+496>>2]|0)==2?5:4;break;case 2:b=(c[a+496>>2]|0)==2?4:5;break;default:}return T(g[a+472+(b<<2)>>2])}function Kd(a,b){a=a|0;b=b|0;var d=0,e=ib;d=c[a+4>>2]|0;(d|0)==(c[b+4>>2]|0)?!d?a=1:(e=T(g[a>>2]),a=T(C(T(e-T(g[b>>2]))))<T(999999974e-13)):a=0;return a|0}function Ld(a,b){a=T(a);b=T(b);var c=0;Sb(a)|0?c=Sb(b)|0:c=T(C(T(a-b)))<T(999999974e-13);return c|0}function Md(a,b){a=a|0;b=b|0;Nd(a,b);return}function Nd(b,d){b=b|0;d=d|0;var e=0,f=0;e=l;l=l+16|0;f=e+4|0;c[f>>2]=0;c[f+4>>2]=0;c[f+8>>2]=0;Ka(f|0,b|0,d|0,0);Vd(b,3,(a[f+11>>0]|0)<0?c[f>>2]|0:f,e);tC(f);l=e;return}function Od(a,b,c,d){a=T(a);b=T(b);c=c|0;d=d|0;var e=ib;a=T(a*b);e=T(gC(a,T(1)));do if(!(Ld(e,T(0))|0)){a=T(a-e);if(Ld(e,T(1))|0){a=T(a+T(1));break}if(c){a=T(a+T(1));break}d||(e>T(.5)?e=T(1):(d=Ld(e,T(.5))|0,e=d?T(1):T(0)),a=T(a+e))}else a=T(a-e);while(0);return T(a/b)}function Pd(a,b,c,d,e,f,h,i,j,k,l,m,n){a=a|0;b=T(b);c=c|0;d=T(d);e=e|0;f=T(f);h=h|0;i=T(i);j=T(j);k=T(k);l=T(l);m=T(m);n=n|0;var o=0,p=ib,q=ib,r=ib,s=ib,t=ib,u=ib;j<T(0)|k<T(0)?n=0:(((n|0)!=0?(p=T(g[n+4>>2]),p!=T(0)):0)?(r=T(Od(b,p,0,0)),s=T(Od(d,p,0,0)),q=T(Od(f,p,0,0)),p=T(Od(i,p,0,0))):(q=f,r=b,p=i,s=d),(e|0)==(a|0)?o=Ld(q,r)|0:o=0,(h|0)==(c|0)?n=Ld(p,s)|0:n=0,((o?0:(t=T(b-l),!(Qd(a,t,j)|0)))?!(Rd(a,t,e,j)|0):0)?o=Sd(a,t,e,f,j)|0:o=1,((n?0:(u=T(d-m),!(Qd(c,u,k)|0)))?!(Rd(c,u,h,k)|0):0)?n=Sd(c,u,h,i,k)|0:n=1,n=o&n);return n|0}function Qd(a,b,c){a=a|0;b=T(b);c=T(c);(a|0)==1?a=Ld(b,c)|0:a=0;return a|0}function Rd(a,b,c,d){a=a|0;b=T(b);c=c|0;d=T(d);(a|0)==2&(c|0)==0?!(b>=d)?a=Ld(b,d)|0:a=1:a=0;return a|0}function Sd(a,b,c,d,e){a=a|0;b=T(b);c=c|0;d=T(d);e=T(e);(a|0)==2&(c|0)==2&d>b?!(e<=b)?a=Ld(b,e)|0:a=1:a=0;return a|0}function Td(b,d,e,f,i,j,k,m,n,o,p){b=b|0;d=T(d);e=T(e);f=f|0;i=i|0;j=j|0;k=T(k);m=T(m);n=n|0;o=o|0;p=p|0;var q=0,r=0,s=0,t=0,u=ib,v=ib,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=ib,I=ib,J=ib,K=0,L=0;G=l;l=l+160|0;D=G+152|0;C=G+120|0;B=G+104|0;y=G+72|0;t=G+56|0;A=G+8|0;x=G;z=(c[2279]|0)+1|0;c[2279]=z;E=b+984|0;((a[E>>0]|0)!=0?(c[b+512>>2]|0)!=(c[2278]|0):0)?w=4:(c[b+516>>2]|0)==(f|0)?F=0:w=4;(w|0)==4&&(c[b+520>>2]=0,c[b+924>>2]=-1,c[b+928>>2]=-1,g[b+932>>2]=T(-1),g[b+936>>2]=T(-1),F=1);a:do if(!(c[b+964>>2]|0)){if(n){q=b+916|0;if(!(Ld(T(g[q>>2]),d)|0)){w=21;break}if(!(Ld(T(g[b+920>>2]),e)|0)){w=21;break}if((c[b+924>>2]|0)!=(i|0)){w=21;break}q=(c[b+928>>2]|0)==(j|0)?q:0;w=22;break}s=c[b+520>>2]|0;if(!s)w=21;else{r=0;while(1){q=b+524+(r*24|0)|0;if(((Ld(T(g[q>>2]),d)|0?Ld(T(g[b+524+(r*24|0)+4>>2]),e)|0:0)?(c[b+524+(r*24|0)+8>>2]|0)==(i|0):0)?(c[b+524+(r*24|0)+12>>2]|0)==(j|0):0){w=22;break a}r=r+1|0;if(r>>>0>=s>>>0){w=21;break}}}}else{u=T(Ud(b,2,k));v=T(Ud(b,0,k));q=b+916|0;J=T(g[q>>2]);I=T(g[b+920>>2]);H=T(g[b+932>>2]);if(!(Pd(i,d,j,e,c[b+924>>2]|0,J,c[b+928>>2]|0,I,H,T(g[b+936>>2]),u,v,p)|0)){s=c[b+520>>2]|0;if(!s)w=21;else{r=0;while(1){q=b+524+(r*24|0)|0;H=T(g[q>>2]);I=T(g[b+524+(r*24|0)+4>>2]);J=T(g[b+524+(r*24|0)+16>>2]);if(Pd(i,d,j,e,c[b+524+(r*24|0)+8>>2]|0,H,c[b+524+(r*24|0)+12>>2]|0,I,J,T(g[b+524+(r*24|0)+20>>2]),u,v,p)|0){w=22;break a}r=r+1|0;if(r>>>0>=s>>>0){w=21;break}}}}else w=22}while(0);do if((w|0)==21)!(a[11697]|0)?(q=0,w=31):(q=0,w=28);else if((w|0)==22){r=(a[11697]|0)!=0;if(!((q|0)!=0&(F^1)))if(r){w=28;break}else{w=31;break}t=q+16|0;c[b+908>>2]=c[t>>2];s=q+20|0;c[b+912>>2]=c[s>>2];(a[11698]|0)==0|r^1||(c[x>>2]=Wd(z)|0,c[x+4>>2]=z,Vd(b,4,2972,x),r=c[b+972>>2]|0,r|0&&nb[r&127](b),i=Xd(i,n)|0,j=Xd(j,n)|0,L=+T(g[t>>2]),K=+T(g[s>>2]),c[A>>2]=i,c[A+4>>2]=j,h[A+8>>3]=+d,h[A+16>>3]=+e,h[A+24>>3]=L,h[A+32>>3]=K,c[A+40>>2]=o,Vd(b,4,2989,A))}while(0);(w|0)==28&&(r=Wd(z)|0,c[t>>2]=r,c[t+4>>2]=z,c[t+8>>2]=F?3047:11699,Vd(b,4,3038,t),r=c[b+972>>2]|0,r|0&&nb[r&127](b),A=Xd(i,n)|0,w=Xd(j,n)|0,c[y>>2]=A,c[y+4>>2]=w,h[y+8>>3]=+d,h[y+16>>3]=+e,c[y+24>>2]=o,Vd(b,4,3049,y),w=31);(w|0)==31&&(Yd(b,d,e,f,i,j,k,m,n,p),a[11697]|0&&(r=c[2279]|0,A=Wd(r)|0,c[B>>2]=A,c[B+4>>2]=r,c[B+8>>2]=F?3047:11699,Vd(b,4,3083,B),r=c[b+972>>2]|0,r|0&&nb[r&127](b),A=Xd(i,n)|0,B=Xd(j,n)|0,K=+T(g[b+908>>2]),L=+T(g[b+912>>2]),c[C>>2]=A,c[C+4>>2]=B,h[C+8>>3]=K,h[C+16>>3]=L,c[C+24>>2]=o,Vd(b,4,3092,C)),c[b+516>>2]=f,q||(r=b+520|0,q=c[r>>2]|0,(q|0)==16&&(a[11697]|0&&Vd(b,4,3124,D),c[r>>2]=0,q=0),n?q=b+916|0:(c[r>>2]=q+1,q=b+524+(q*24|0)|0),g[q>>2]=d,g[q+4>>2]=e,c[q+8>>2]=i,c[q+12>>2]=j,c[q+16>>2]=c[b+908>>2],c[q+20>>2]=c[b+912>>2],q=0));n&&(c[b+416>>2]=c[b+908>>2],c[b+420>>2]=c[b+912>>2],a[b+985>>0]=1,a[E>>0]=0);c[2279]=(c[2279]|0)+-1;c[b+512>>2]=c[2278];l=G;return F|(q|0)==0|0}function Ud(a,b,c){a=a|0;b=b|0;c=T(c);var d=ib;d=T(me(a,b,c));return T(d+T(ne(a,b,c)))}function Vd(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=l;l=l+16|0;f=g;c[f>>2]=e;!a?e=0:e=c[a+976>>2]|0;ge(e,a,b,d,f);l=g;return}function Wd(a){a=a|0;return(a>>>0>60?3201:3201+(60-a)|0)|0}function Xd(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=l;l=l+32|0;d=f+12|0;e=f;c[d>>2]=c[254];c[d+4>>2]=c[255];c[d+8>>2]=c[256];c[e>>2]=c[257];c[e+4>>2]=c[258];c[e+8>>2]=c[259];(a|0)>2?a=11699:a=c[(b?e:d)+(a<<2)>>2]|0;l=f;return a|0}function Yd(b,e,f,h,i,k,m,n,o,p){b=b|0;e=T(e);f=T(f);h=h|0;i=i|0;k=k|0;m=T(m);n=T(n);o=o|0;p=p|0;var q=0,r=0,s=0,t=0,u=ib,v=ib,w=ib,x=ib,y=ib,z=ib,A=ib,B=0,C=0,D=0,E=ib,F=ib,G=0,H=ib,I=0,J=0,K=0,L=0,M=0,N=0,O=0,P=0,Q=0,R=0,S=0,U=0,V=0,W=0,X=0,Y=0,Z=0,_=0,$=ib,aa=ib,ba=ib,ca=ib,da=ib,ea=0,fa=0,ga=0,ha=0,ia=0,ja=ib,ka=ib,la=ib,ma=ib,na=ib,oa=ib,pa=0,qa=ib,ra=ib,sa=ib,ta=ib,ua=ib,va=ib,wa=0,xa=0,ya=ib,za=ib,Aa=0,Ba=0,Ca=0,Da=0,Ea=ib,Fa=0,Ga=0,Ha=0,Ia=0,Ja=0,Ka=0,La=0,Ma=ib,Na=0,Oa=0;La=l;l=l+16|0;ea=La+12|0;fa=La+8|0;ga=La+4|0;ha=La;ec(b,(i|0)==0|(Sb(e)|0)^1,3326);ec(b,(k|0)==0|(Sb(f)|0)^1,3406);Ga=qe(b,h)|0;c[b+496>>2]=Ga;Ja=re(2,Ga)|0;Ka=re(0,Ga)|0;g[b+440>>2]=T(me(b,Ja,m));g[b+444>>2]=T(ne(b,Ja,m));g[b+428>>2]=T(me(b,Ka,m));g[b+436>>2]=T(ne(b,Ka,m));g[b+464>>2]=T(se(b,Ja));g[b+468>>2]=T(te(b,Ja));g[b+452>>2]=T(se(b,Ka));g[b+460>>2]=T(te(b,Ka));g[b+488>>2]=T(ue(b,Ja,m));g[b+492>>2]=T(ve(b,Ja,m));g[b+476>>2]=T(ue(b,Ka,m));g[b+484>>2]=T(ve(b,Ka,m));do if(!(c[b+964>>2]|0)){Ha=b+948|0;Ia=(c[b+952>>2]|0)-(c[Ha>>2]|0)>>2;if(!Ia){xe(b,e,f,i,k,m,n);break}if(o?0:ye(b,e,f,i,k,m,n)|0)break;lc(b);Y=b+508|0;a[Y>>0]=0;Ja=re(c[b+4>>2]|0,Ga)|0;Ka=ze(Ja,Ga)|0;Fa=oe(Ja)|0;Z=c[b+8>>2]|0;Ba=b+28|0;_=(c[Ba>>2]|0)!=0;ua=Fa?m:n;ya=Fa?n:m;$=T(Ae(b,Ja,m));aa=T(Be(b,Ja,m));u=T(Ae(b,Ka,m));va=T(Ce(b,Ja,m));za=T(Ce(b,Ka,m));D=Fa?i:k;Aa=Fa?k:i;Ea=Fa?va:za;y=Fa?za:va;ta=T(Ud(b,2,m));x=T(Ud(b,0,m));v=T(T(be(b+364|0,m))-Ea);w=T(T(be(b+380|0,m))-Ea);z=T(T(be(b+372|0,n))-y);A=T(T(be(b+388|0,n))-y);ba=Fa?v:z;ca=Fa?w:A;ta=T(e-ta);e=T(ta-Ea);Sb(e)|0?Ea=e:Ea=T(cC(T(eC(e,w)),v));ra=T(f-x);e=T(ra-y);Sb(e)|0?sa=e:sa=T(cC(T(eC(e,A)),z));v=Fa?Ea:sa;qa=Fa?sa:Ea;a:do if((D|0)==1){h=0;r=0;while(1){q=ac(b,r)|0;if(!h)(T(Ee(q))>T(0)?T(Fe(q))>T(0):0)?h=q:h=0;else if(De(q)|0){t=0;break a}r=r+1|0;if(r>>>0>=Ia>>>0){t=h;break}}}else t=0;while(0);B=t+500|0;C=t+504|0;h=0;q=0;e=T(0);s=0;do{r=c[(c[Ha>>2]|0)+(s<<2)>>2]|0;if((c[r+36>>2]|0)==1)Ge(r),a[r+985>>0]=1,a[r+984>>0]=0;else{$d(r);o&&ce(r,qe(r,Ga)|0,v,qa,Ea);do if((c[r+24>>2]|0)!=1)if((r|0)==(t|0)){c[B>>2]=c[2278];g[C>>2]=T(0);break}else{He(b,r,Ea,i,sa,Ea,sa,k,Ga,p);break}else q|0&&(c[q+960>>2]=r),c[r+960>>2]=0,q=r,h=(h|0)==0?r:h;while(0);oa=T(g[r+504>>2]);e=T(e+T(oa+T(Ud(r,Ja,Ea))))}s=s+1|0}while((s|0)!=(Ia|0));K=e>v;pa=_&((D|0)==2&K)?1:D;I=(Aa|0)==1;M=I&(o^1);N=(pa|0)==1;O=(pa|0)==2;P=976+(Ja<<2)|0;Q=(Aa|2|0)==2;W=I&(_^1);R=1040+(Ka<<2)|0;S=1040+(Ja<<2)|0;U=976+(Ka<<2)|0;V=(Aa|0)!=1;K=_&((D|0)!=0&K);J=b+976|0;I=I^1;e=v;G=0;L=0;oa=T(0);da=T(0);while(1){b:do if(G>>>0<Ia>>>0){C=c[Ha>>2]|0;s=0;A=T(0);z=T(0);w=T(0);v=T(0);r=0;q=0;t=G;while(1){B=c[C+(t<<2)>>2]|0;if((c[B+36>>2]|0)!=1?(c[B+940>>2]=L,(c[B+24>>2]|0)!=1):0){x=T(Ud(B,Ja,Ea));X=c[P>>2]|0;f=T(be(B+380+(X<<3)|0,ua));y=T(g[B+504>>2]);f=T(eC(f,y));f=T(cC(T(be(B+364+(X<<3)|0,ua)),f));if(_&(s|0)!=0&T(x+T(z+f))>e){k=s;x=A;D=t;break b}x=T(x+f);f=T(z+x);x=T(A+x);De(B)|0&&(w=T(w+T(Ee(B))),v=T(v-T(y*T(Fe(B)))));q|0&&(c[q+960>>2]=B);c[B+960>>2]=0;s=s+1|0;q=B;r=(r|0)==0?B:r}else x=A,f=z;t=t+1|0;if(t>>>0<Ia>>>0)A=x,z=f;else{k=s;D=t;break}}}else k=0,x=T(0),w=T(0),v=T(0),r=0,D=G;while(0);X=w>T(0)&w<T(1);E=X?T(1):w;X=v>T(0)&v<T(1);A=X?T(1):v;do if(!N)if(!(x<ba&((Sb(ba)|0)^1)))if(!(x>ca&((Sb(ca)|0)^1)))if(!(a[(c[J>>2]|0)+3>>0]|0)){if(E==T(0)?0:!(T(Ee(b))==T(0))){X=53;break}e=x;X=53}else X=51;else e=ca,X=51;else e=ba,X=51;else X=51;while(0);(X|0)==51&&(X=0,Sb(e)|0?X=53:(F=T(e-x),H=e));(X|0)==53&&(X=0,x<T(0)?(F=T(-x),H=e):(F=T(0),H=e));if(M?0:(ia=(r|0)==0,!ia)){s=c[P>>2]|0;t=F<T(0);y=T(F/A);B=F>T(0);z=T(F/E);w=T(0);x=T(0);e=T(0);q=r;do f=T(be(q+380+(s<<3)|0,ua)),v=T(be(q+364+(s<<3)|0,ua)),v=T(eC(f,T(cC(v,T(g[q+504>>2]))))),t?(f=T(v*T(Fe(q))),(f!=T(-0)?(Ma=T(v-T(y*f)),ja=T(Ie(q,Ja,Ma,H,Ea)),Ma!=ja):0)&&(w=T(w-T(ja-v)),e=T(e+f))):((B?(ka=T(Ee(q)),ka!=T(0)):0)?(Ma=T(v+T(z*ka)),la=T(Ie(q,Ja,Ma,H,Ea)),Ma!=la):0)&&(w=T(w-T(la-v)),x=T(x-ka)),q=c[q+960>>2]|0;while((q|0)!=0);e=T(A+e);v=T(F+w);if(!ia){y=T(E+x);t=c[P>>2]|0;B=v<T(0);C=e==T(0);z=T(v/e);s=v>T(0);y=T(v/y);e=T(0);do{Ma=T(be(r+380+(t<<3)|0,ua));w=T(be(r+364+(t<<3)|0,ua));w=T(eC(Ma,T(cC(w,T(g[r+504>>2])))));B?(Ma=T(w*T(Fe(r))),v=T(-Ma),Ma!=T(-0)?(Ma=T(z*v),v=T(Ie(r,Ja,T(w+(C?v:Ma)),H,Ea))):v=w):(s?(ma=T(Ee(r)),ma!=T(0)):0)?v=T(Ie(r,Ja,T(w+T(y*ma)),H,Ea)):v=w;e=T(e-T(v-w));x=T(Ud(r,Ja,Ea));f=T(Ud(r,Ka,Ea));v=T(v+x);g[fa>>2]=v;c[ha>>2]=1;w=T(g[r+396>>2]);c:do if(Sb(w)|0){q=Sb(qa)|0;do if(!q){if(K|(ae(r,Ka,qa)|0|I))break;if((Je(b,r)|0)!=4)break;if((c[(Ke(r,Ka)|0)+4>>2]|0)==3)break;if((c[(Le(r,Ka)|0)+4>>2]|0)==3)break;g[ea>>2]=qa;c[ga>>2]=1;break c}while(0);if(ae(r,Ka,qa)|0){q=c[r+992+(c[U>>2]<<2)>>2]|0;Ma=T(f+T(be(q,qa)));g[ea>>2]=Ma;q=V&(c[q+4>>2]|0)==2;c[ga>>2]=((Sb(Ma)|0|q)^1)&1;break}else{g[ea>>2]=qa;c[ga>>2]=q?0:2;break}}else Ma=T(v-x),E=T(Ma/w),Ma=T(w*Ma),c[ga>>2]=1,g[ea>>2]=T(f+(Fa?E:Ma));while(0);Me(r,Ja,H,Ea,ha,fa);Me(r,Ka,qa,Ea,ga,ea);do if(ae(r,Ka,qa)|0?0:(Je(b,r)|0)==4){if((c[(Ke(r,Ka)|0)+4>>2]|0)==3){q=0;break}q=(c[(Le(r,Ka)|0)+4>>2]|0)!=3}else q=0;while(0);Ma=T(g[fa>>2]);E=T(g[ea>>2]);Na=c[ha>>2]|0;Oa=c[ga>>2]|0;Td(r,Fa?Ma:E,Fa?E:Ma,Ga,Fa?Na:Oa,Fa?Oa:Na,Ea,sa,o&(q^1),3488,p)|0;a[Y>>0]=a[Y>>0]|a[r+508>>0];r=c[r+960>>2]|0}while((r|0)!=0)}else e=T(0)}else e=T(0);e=T(F+e);Oa=e<T(0)&1;a[Y>>0]=Oa|d[Y>>0];O&e>T(0)?(q=c[P>>2]|0,((c[b+364+(q<<3)+4>>2]|0)!=0?(na=T(be(b+364+(q<<3)|0,ua)),na>=T(0)):0)?v=T(cC(T(0),T(na-T(H-e)))):v=T(0)):v=e;B=G>>>0<D>>>0;if(B){t=c[Ha>>2]|0;s=G;q=0;do r=c[t+(s<<2)>>2]|0,c[r+24>>2]|0||(q=((c[(Ke(r,Ja)|0)+4>>2]|0)==3&1)+q|0,q=q+((c[(Le(r,Ja)|0)+4>>2]|0)==3&1)|0),s=s+1|0;while((s|0)!=(D|0));q?(x=T(0),f=T(0)):X=101}else X=101;d:do if((X|0)==101){X=0;switch(Z|0){case 1:q=0;x=T(v*T(.5));f=T(0);break d;case 2:q=0;x=v;f=T(0);break d;case 3:if(k>>>0<=1){q=0;x=T(0);f=T(0);break d}f=T((k+-1|0)>>>0);q=0;x=T(0);f=T(T(cC(v,T(0)))/f);break d;case 5:f=T(v/T((k+1|0)>>>0));q=0;x=f;break d;case 4:f=T(v/T(k>>>0));q=0;x=T(f*T(.5));break d;default:q=0;x=T(0);f=T(0);break d}}while(0);e=T($+x);if(B){w=T(v/T(q|0));s=c[Ha>>2]|0;r=G;v=T(0);do{q=c[s+(r<<2)>>2]|0;e:do if((c[q+36>>2]|0)!=1){switch(c[q+24>>2]|0){case 1:if(Ne(q,Ja)|0){if(!o)break e;Ma=T(Oe(q,Ja,H));Ma=T(Ma+T(se(b,Ja)));Ma=T(Ma+T(me(q,Ja,Ea)));g[q+400+(c[S>>2]<<2)>>2]=Ma;break e}break;case 0:Oa=(c[(Ke(q,Ja)|0)+4>>2]|0)==3;Ma=T(w+e);e=Oa?Ma:e;o&&(Oa=q+400+(c[S>>2]<<2)|0,g[Oa>>2]=T(e+T(g[Oa>>2])));Oa=(c[(Le(q,Ja)|0)+4>>2]|0)==3;Ma=T(w+e);e=Oa?Ma:e;if(M){Ma=T(f+T(Ud(q,Ja,Ea)));v=qa;e=T(e+T(Ma+T(g[q+504>>2])));break e}else{e=T(e+T(f+T(Pe(q,Ja,Ea))));v=T(cC(v,T(Pe(q,Ka,Ea))));break e}default:}o&&(Ma=T(x+T(se(b,Ja))),Oa=q+400+(c[S>>2]<<2)|0,g[Oa>>2]=T(Ma+T(g[Oa>>2])))}while(0);r=r+1|0}while((r|0)!=(D|0))}else v=T(0);f=T(aa+e);Q?x=T(T(Ie(b,Ka,T(za+v),ya,m))-za):x=qa;w=T(T(Ie(b,Ka,T(za+(W?qa:v)),ya,m))-za);if(B&o){r=G;do{s=c[(c[Ha>>2]|0)+(r<<2)>>2]|0;do if((c[s+36>>2]|0)!=1){if((c[s+24>>2]|0)==1){if(Ne(s,Ka)|0){Ma=T(Oe(s,Ka,qa));Ma=T(Ma+T(se(b,Ka)));Ma=T(Ma+T(me(s,Ka,Ea)));q=c[R>>2]|0;g[s+400+(q<<2)>>2]=Ma;if(!(Sb(Ma)|0))break}else q=c[R>>2]|0;Ma=T(se(b,Ka));g[s+400+(q<<2)>>2]=T(Ma+T(me(s,Ka,Ea)));break}q=Je(b,s)|0;do if((q|0)==4){if((c[(Ke(s,Ka)|0)+4>>2]|0)==3){X=139;break}if((c[(Le(s,Ka)|0)+4>>2]|0)==3){X=139;break}if(ae(s,Ka,qa)|0){e=u;break}Na=c[s+908+(c[P>>2]<<2)>>2]|0;c[ea>>2]=Na;e=T(g[s+396>>2]);Oa=Sb(e)|0;v=(c[j>>2]=Na,T(g[j>>2]));Oa?e=w:(F=T(Ud(s,Ka,Ea)),Ma=T(v/e),e=T(e*v),e=T(F+(Fa?Ma:e)));g[fa>>2]=e;g[ea>>2]=T(T(Ud(s,Ja,Ea))+v);c[ga>>2]=1;c[ha>>2]=1;Me(s,Ja,H,Ea,ga,ea);Me(s,Ka,qa,Ea,ha,fa);e=T(g[ea>>2]);F=T(g[fa>>2]);Ma=Fa?e:F;e=Fa?F:e;Oa=((Sb(Ma)|0)^1)&1;Td(s,Ma,e,Ga,Oa,((Sb(e)|0)^1)&1,Ea,sa,1,3493,p)|0;e=u}else X=139;while(0);f:do if((X|0)==139){X=0;e=T(x-T(Pe(s,Ka,Ea)));do if((c[(Ke(s,Ka)|0)+4>>2]|0)==3){if((c[(Le(s,Ka)|0)+4>>2]|0)!=3)break;e=T(u+T(cC(T(0),T(e*T(.5)))));break f}while(0);if((c[(Le(s,Ka)|0)+4>>2]|0)==3){e=u;break}if((c[(Ke(s,Ka)|0)+4>>2]|0)==3){e=T(u+T(cC(T(0),e)));break}switch(q|0){case 1:e=u;break f;case 2:e=T(u+T(e*T(.5)));break f;default:e=T(u+e);break f}}while(0);Ma=T(oa+e);Oa=s+400+(c[R>>2]<<2)|0;g[Oa>>2]=T(Ma+T(g[Oa>>2]))}while(0);r=r+1|0}while((r|0)!=(D|0))}oa=T(oa+w);da=T(cC(da,f));k=L+1|0;if(D>>>0>=Ia>>>0)break;else e=H,G=D,L=k}do if(o){q=k>>>0>1;if(q?0:!(Qe(b)|0))break;if(!(Sb(qa)|0)){e=T(qa-oa);g:do switch(c[b+12>>2]|0){case 3:u=T(u+e);z=T(0);break;case 2:u=T(u+T(e*T(.5)));z=T(0);break;case 4:qa>oa?z=T(e/T(k>>>0)):z=T(0);break;case 7:if(qa>oa){u=T(u+T(e/T(k<<1>>>0)));z=T(e/T(k>>>0));z=q?z:T(0);break g}else{u=T(u+T(e*T(.5)));z=T(0);break g}case 6:z=T(e/T(L>>>0));z=qa>oa&q?z:T(0);break;default:z=T(0)}while(0);if(k|0){B=1040+(Ka<<2)|0;C=976+(Ka<<2)|0;t=0;r=0;while(1){h:do if(r>>>0<Ia>>>0){v=T(0);w=T(0);e=T(0);s=r;while(1){q=c[(c[Ha>>2]|0)+(s<<2)>>2]|0;do if((c[q+36>>2]|0)!=1?(c[q+24>>2]|0)==0:0){if((c[q+940>>2]|0)!=(t|0))break h;Re(q,Ka)|0&&(Ma=T(g[q+908+(c[C>>2]<<2)>>2]),e=T(cC(e,T(Ma+T(Ud(q,Ka,Ea))))));if((Je(b,q)|0)!=5)break;na=T(Se(q));na=T(na+T(me(q,0,Ea)));Ma=T(g[q+912>>2]);Ma=T(T(Ma+T(Ud(q,0,Ea)))-na);na=T(cC(w,na));Ma=T(cC(v,Ma));v=Ma;w=na;e=T(cC(e,T(na+Ma)))}while(0);q=s+1|0;if(q>>>0<Ia>>>0)s=q;else{s=q;break}}}else w=T(0),e=T(0),s=r;while(0);y=T(z+e);f=u;u=T(u+y);if(r>>>0<s>>>0){x=T(f+w);q=r;do{r=c[(c[Ha>>2]|0)+(q<<2)>>2]|0;i:do if((c[r+36>>2]|0)!=1?(c[r+24>>2]|0)==0:0)switch(Je(b,r)|0){case 1:Ma=T(f+T(me(r,Ka,Ea)));g[r+400+(c[B>>2]<<2)>>2]=Ma;break i;case 3:Ma=T(T(u-T(ne(r,Ka,Ea)))-T(g[r+908+(c[C>>2]<<2)>>2]));g[r+400+(c[B>>2]<<2)>>2]=Ma;break i;case 2:Ma=T(f+T(T(y-T(g[r+908+(c[C>>2]<<2)>>2]))*T(.5)));g[r+400+(c[B>>2]<<2)>>2]=Ma;break i;case 4:Ma=T(f+T(me(r,Ka,Ea)));g[r+400+(c[B>>2]<<2)>>2]=Ma;if(ae(r,Ka,qa)|0)break i;Fa?(v=T(g[r+908>>2]),e=T(v+T(Ud(r,Ja,Ea))),w=y):(w=T(g[r+912>>2]),w=T(w+T(Ud(r,Ka,Ea))),e=y,v=T(g[r+908>>2]));if(Ld(e,v)|0?Ld(w,T(g[r+912>>2]))|0:0)break i;Td(r,e,w,Ga,1,1,Ea,sa,1,3501,p)|0;break i;case 5:g[r+404>>2]=T(T(x-T(Se(r)))+T(Oe(r,0,qa)));break i;default:break i}while(0);q=q+1|0}while((q|0)!=(s|0))}t=t+1|0;if((t|0)==(k|0))break;else r=s}}}}while(0);g[b+908>>2]=T(Ie(b,2,ta,m,m));g[b+912>>2]=T(Ie(b,0,ra,n,m));((pa|0)!=0?(wa=c[b+32>>2]|0,xa=(pa|0)==2,!(xa&(wa|0)!=2)):0)?xa&(wa|0)==2&&(e=T(va+H),e=T(cC(T(eC(e,T(Te(b,Ja,da,ua)))),va)),X=198):(e=T(Ie(b,Ja,da,ua,m)),X=198);(X|0)==198&&(g[b+908+(c[976+(Ja<<2)>>2]<<2)>>2]=e);((Aa|0)!=0?(Ca=c[b+32>>2]|0,Da=(Aa|0)==2,!(Da&(Ca|0)!=2)):0)?Da&(Ca|0)==2&&(e=T(za+qa),e=T(cC(T(eC(e,T(Te(b,Ka,T(za+oa),ya)))),za)),X=204):(e=T(Ie(b,Ka,T(za+oa),ya,m)),X=204);(X|0)==204&&(g[b+908+(c[976+(Ka<<2)>>2]<<2)>>2]=e);if(o){if((c[Ba>>2]|0)==2){r=976+(Ka<<2)|0;s=1040+(Ka<<2)|0;q=0;do t=ac(b,q)|0,c[t+24>>2]|0||(Na=c[r>>2]|0,Ma=T(g[b+908+(Na<<2)>>2]),Oa=t+400+(c[s>>2]<<2)|0,Ma=T(Ma-T(g[Oa>>2])),g[Oa>>2]=T(Ma-T(g[t+908+(Na<<2)>>2]))),q=q+1|0;while((q|0)!=(Ia|0))}if(h|0){q=Fa?pa:i;do Ue(b,h,Ea,q,sa,Ga,p),h=c[h+960>>2]|0;while((h|0)!=0)}q=(Ja|2|0)==3;r=(Ka|2|0)==3;if(q|r){h=0;do s=c[(c[Ha>>2]|0)+(h<<2)>>2]|0,(c[s+36>>2]|0)!=1&&(q&&Ve(b,s,Ja),r&&Ve(b,s,Ka)),h=h+1|0;while((h|0)!=(Ia|0))}}}else we(b,e,f,i,k,m,n);while(0);l=La;return}function Zd(a,b){a=a|0;b=T(b);var c=0;Vb(a,b>=T(0),3147);c=b==T(0);g[a+4>>2]=c?T(0):b;return}function _d(b,d,e,f){b=b|0;d=T(d);e=T(e);f=f|0;var h=ib,i=ib,j=0,k=0,l=0;c[2278]=(c[2278]|0)+1;$d(b);!(ae(b,2,d)|0)?(h=T(be(b+380|0,d)),!(h>=T(0))?(l=((Sb(d)|0)^1)&1,h=d):l=2):(h=T(be(c[b+992>>2]|0,d)),l=1,h=T(h+T(Ud(b,2,d))));!(ae(b,0,e)|0)?(i=T(be(b+388|0,e)),!(i>=T(0))?(k=((Sb(e)|0)^1)&1,i=e):k=2):(i=T(be(c[b+996>>2]|0,e)),k=1,i=T(i+T(Ud(b,0,d))));j=b+976|0;(Td(b,h,i,f,l,k,d,e,1,3189,c[j>>2]|0)|0?(ce(b,c[b+496>>2]|0,d,e,d),de(b,T(g[(c[j>>2]|0)+4>>2]),T(0),T(0)),a[11696]|0):0)&&Md(b,7);return}function $d(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;h=i+24|0;g=i+16|0;e=i+8|0;f=i;d=0;do b=a+380+(d<<3)|0,((c[a+380+(d<<3)+4>>2]|0)!=0?(j=b,k=c[j+4>>2]|0,m=e,c[m>>2]=c[j>>2],c[m+4>>2]=k,m=a+364+(d<<3)|0,k=c[m+4>>2]|0,j=f,c[j>>2]=c[m>>2],c[j+4>>2]=k,c[g>>2]=c[e>>2],c[g+4>>2]=c[e+4>>2],c[h>>2]=c[f>>2],c[h+4>>2]=c[f+4>>2],Kd(g,h)|0):0)||(b=a+348+(d<<3)|0),c[a+992+(d<<2)>>2]=b,d=d+1|0;while((d|0)!=2);l=i;return}function ae(a,b,d){a=a|0;b=b|0;d=T(d);var e=0;a=c[a+992+(c[976+(b<<2)>>2]<<2)>>2]|0;switch(c[a+4>>2]|0){case 0:case 3:a=0;break;case 1:T(g[a>>2])<T(0)?a=0:e=5;break;case 2:T(g[a>>2])<T(0)?a=0:a=(Sb(d)|0)^1;break;default:e=5}(e|0)==5&&(a=1);return a|0}function be(a,b){a=a|0;b=T(b);switch(c[a+4>>2]|0){case 2:b=T(T(T(g[a>>2])*b)/T(100));break;case 1:b=T(g[a>>2]);break;default:b=T(t)}return T(b)}function ce(a,b,d,e,f){a=a|0;b=b|0;d=T(d);e=T(e);f=T(f);var h=0,i=ib;b=c[a+944>>2]|0?b:1;h=re(c[a+4>>2]|0,b)|0;b=ze(h,b)|0;d=T($e(a,h,d));e=T($e(a,b,e));i=T(d+T(me(a,h,f)));g[a+400+(c[1040+(h<<2)>>2]<<2)>>2]=i;d=T(d+T(ne(a,h,f)));g[a+400+(c[1e3+(h<<2)>>2]<<2)>>2]=d;d=T(e+T(me(a,b,f)));g[a+400+(c[1040+(b<<2)>>2]<<2)>>2]=d;f=T(e+T(ne(a,b,f)));g[a+400+(c[1e3+(b<<2)>>2]<<2)>>2]=f;return}function de(a,b,d,e){a=a|0;b=T(b);d=T(d);e=T(e);var f=0,h=0,i=ib,j=ib,k=0,l=0,m=ib,n=0,o=ib,p=ib,q=ib,r=ib;if(!(b==T(0))){f=a+400|0;r=T(g[f>>2]);h=a+404|0;q=T(g[h>>2]);n=a+416|0;p=T(g[n>>2]);l=a+420|0;i=T(g[l>>2]);o=T(r+d);m=T(q+e);e=T(o+p);j=T(m+i);k=(c[a+988>>2]|0)==1;g[f>>2]=T(Od(r,b,0,k));g[h>>2]=T(Od(q,b,0,k));d=T(gC(T(p*b),T(1)));Ld(d,T(0))|0?h=0:h=(Ld(d,T(1))|0)^1;d=T(gC(T(i*b),T(1)));Ld(d,T(0))|0?f=0:f=(Ld(d,T(1))|0)^1;r=T(Od(e,b,k&h,k&(h^1)));g[n>>2]=T(r-T(Od(o,b,0,k)));r=T(Od(j,b,k&f,k&(f^1)));g[l>>2]=T(r-T(Od(m,b,0,k)));h=(c[a+952>>2]|0)-(c[a+948>>2]|0)>>2;if(h|0){f=0;do de(ac(a,f)|0,b,o,m),f=f+1|0;while((f|0)!=(h|0))}}return}function ee(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;switch(d|0){case 5:case 0:a=CB(c[489]|0,e,f)|0;break;default:a=iC(e,f)|0}return a|0}function fe(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;f=l;l=l+16|0;g=f;c[g>>2]=e;ge(a,0,b,d,g);l=f;return}function ge(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;a=a|0?a:956;Bb[c[a+8>>2]&1](a,b,d,e,f)|0;if((d|0)==5)Ta();else return}function he(b,c,d){b=b|0;c=c|0;d=d|0;a[b+c>>0]=d&1;return}function ie(a,b){a=a|0;b=b|0;var d=0,e=0;c[a>>2]=0;c[a+4>>2]=0;c[a+8>>2]=0;d=b+4|0;e=(c[d>>2]|0)-(c[b>>2]|0)>>2;e|0&&(je(a,e),ke(a,c[b>>2]|0,c[d>>2]|0,e));return}function je(a,b){a=a|0;b=b|0;var d=0;(le(a)|0)>>>0<b>>>0&&jC(a);if(b>>>0>1073741823)Ta();else{d=qC(b<<2)|0;c[a+4>>2]=d;c[a>>2]=d;c[a+8>>2]=d+(b<<2);return}}function ke(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;e=a+4|0;a=d-b|0;(a|0)>0&&(BC(c[e>>2]|0,b|0,a|0)|0,c[e>>2]=(c[e>>2]|0)+(a>>>2<<2));return}function le(a){a=a|0;return 1073741823}function me(a,b,d){a=a|0;b=b|0;d=T(d);(oe(b)|0?(c[a+96>>2]|0)!=0:0)?a=a+92|0:a=Tb(a+60|0,c[1040+(b<<2)>>2]|0,992)|0;return T(pe(a,d))}function ne(a,b,d){a=a|0;b=b|0;d=T(d);(oe(b)|0?(c[a+104>>2]|0)!=0:0)?a=a+100|0:a=Tb(a+60|0,c[1e3+(b<<2)>>2]|0,992)|0;return T(pe(a,d))}function oe(a){a=a|0;return(a|1|0)==3|0}function pe(a,b){a=a|0;b=T(b);(c[a+4>>2]|0)==3?b=T(0):b=T(be(a,b));return T(b)}function qe(a,b){a=a|0;b=b|0;a=c[a>>2]|0;return((a|0)==0?(b|0)>1?b:1:a)|0}function re(a,b){a=a|0;b=b|0;var c=0;a:do if((b|0)==2){switch(a|0){case 2:a=3;break a;case 3:break;default:c=4;break a}a=2}else c=4;while(0);return a|0}function se(a,b){a=a|0;b=b|0;var d=ib;((oe(b)|0?(c[a+312>>2]|0)!=0:0)?(d=T(g[a+308>>2]),d>=T(0)):0)||(d=T(cC(T(g[(Tb(a+276|0,c[1040+(b<<2)>>2]|0,992)|0)>>2]),T(0))));return T(d)}function te(a,b){a=a|0;b=b|0;var d=ib;((oe(b)|0?(c[a+320>>2]|0)!=0:0)?(d=T(g[a+316>>2]),d>=T(0)):0)||(d=T(cC(T(g[(Tb(a+276|0,c[1e3+(b<<2)>>2]|0,992)|0)>>2]),T(0))));return T(d)}function ue(a,b,d){a=a|0;b=b|0;d=T(d);var e=ib;((oe(b)|0?(c[a+240>>2]|0)!=0:0)?(e=T(be(a+236|0,d)),e>=T(0)):0)||(e=T(cC(T(be(Tb(a+204|0,c[1040+(b<<2)>>2]|0,992)|0,d)),T(0))));return T(e)}function ve(a,b,d){a=a|0;b=b|0;d=T(d);var e=ib;((oe(b)|0?(c[a+248>>2]|0)!=0:0)?(e=T(be(a+244|0,d)),e>=T(0)):0)||(e=T(cC(T(be(Tb(a+204|0,c[1e3+(b<<2)>>2]|0,992)|0,d)),T(0))));return T(e)}function we(a,b,d,e,f,h,i){a=a|0;b=T(b);d=T(d);e=e|0;f=f|0;h=T(h);i=T(i);var j=ib,k=ib,m=ib,n=ib,o=ib,p=ib,q=0,r=0,s=0;s=l;l=l+16|0;q=s;r=a+964|0;ec(a,(c[r>>2]|0)!=0,3519);j=T(Ce(a,2,b));k=T(Ce(a,0,b));m=T(Ud(a,2,b));n=T(Ud(a,0,b));Sb(b)|0?o=b:o=T(cC(T(0),T(T(b-m)-j)));Sb(d)|0?p=d:p=T(cC(T(0),T(T(d-n)-k)));(e|0)==1&(f|0)==1?(g[a+908>>2]=T(Ie(a,2,T(b-m),h,h)),b=T(Ie(a,0,T(d-n),i,h))):(Db[c[r>>2]&1](q,a,o,e,p,f),o=T(j+T(g[q>>2])),p=T(b-m),g[a+908>>2]=T(Ie(a,2,(e|2|0)==2?o:p,h,h)),p=T(k+T(g[q+4>>2])),b=T(d-n),b=T(Ie(a,0,(f|2|0)==2?p:b,i,h)));g[a+912>>2]=b;l=s;return}function xe(a,b,c,d,e,f,h){a=a|0;b=T(b);c=T(c);d=d|0;e=e|0;f=T(f);h=T(h);var i=ib,j=ib,k=ib,l=ib;k=T(Ce(a,2,f));i=T(Ce(a,0,f));l=T(Ud(a,2,f));j=T(Ud(a,0,f));b=T(b-l);g[a+908>>2]=T(Ie(a,2,(d|2|0)==2?k:b,f,f));c=T(c-j);g[a+912>>2]=T(Ie(a,0,(e|2|0)==2?i:c,h,f));return}function ye(a,b,c,d,e,f,h){a=a|0;b=T(b);c=T(c);d=d|0;e=e|0;f=T(f);h=T(h);var i=0,j=ib,k=ib;i=(d|0)==2;((b<=T(0)&i?0:!(c<=T(0)&(e|0)==2))?!((d|0)==1&(e|0)==1):0)?a=0:(j=T(Ud(a,0,f)),k=T(Ud(a,2,f)),i=b<T(0)&i|(Sb(b)|0),b=T(b-k),g[a+908>>2]=T(Ie(a,2,i?T(0):b,f,f)),b=T(c-j),i=c<T(0)&(e|0)==2|(Sb(c)|0),g[a+912>>2]=T(Ie(a,0,i?T(0):b,h,f)),a=1);return a|0}function ze(a,b){a=a|0;b=b|0;We(a)|0?a=re(2,b)|0:a=0;return a|0}function Ae(a,b,c){a=a|0;b=b|0;c=T(c);c=T(ue(a,b,c));return T(c+T(se(a,b)))}function Be(a,b,c){a=a|0;b=b|0;c=T(c);c=T(ve(a,b,c));return T(c+T(te(a,b)))}function Ce(a,b,c){a=a|0;b=b|0;c=T(c);var d=ib;d=T(Ae(a,b,c));return T(d+T(Be(a,b,c)))}function De(a){a=a|0;!(c[a+24>>2]|0)?T(Ee(a))!=T(0)?a=1:a=T(Fe(a))!=T(0):a=0;return a|0}function Ee(a){a=a|0;var b=ib;if(c[a+944>>2]|0){b=T(g[a+44>>2]);if(Sb(b)|0){b=T(g[a+40>>2]);a=b>T(0)&((Sb(b)|0)^1);return T(a?b:T(0))}}else b=T(0);return T(b)}function Fe(b){b=b|0;var d=ib,e=0,f=ib;do if(c[b+944>>2]|0){d=T(g[b+48>>2]);if(Sb(d)|0){e=a[(c[b+976>>2]|0)+2>>0]|0;if(e<<24>>24==0?(f=T(g[b+40>>2]),f<T(0)&((Sb(f)|0)^1)):0){d=T(-f);break}d=e<<24>>24?T(1):T(0)}}else d=T(0);while(0);return T(d)}function Ge(b){b=b|0;var d=0,e=0;yC(b+400|0,0,540)|0;a[b+985>>0]=1;lc(b);e=$b(b)|0;if(e|0){d=b+948|0;b=0;do Ge(c[(c[d>>2]|0)+(b<<2)>>2]|0),b=b+1|0;while((b|0)!=(e|0))}return}function He(a,b,d,e,f,h,i,j,k,m){a=a|0;b=b|0;d=T(d);e=e|0;f=T(f);h=T(h);i=T(i);j=j|0;k=k|0;m=m|0;var n=0,o=ib,p=0,q=0,r=ib,s=ib,u=0,v=ib,w=0,x=ib,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0;G=l;l=l+16|0;A=G+12|0;B=G+8|0;C=G+4|0;D=G;F=re(c[a+4>>2]|0,k)|0;y=oe(F)|0;o=T(be(Xe(b)|0,y?h:i));z=ae(b,2,h)|0;E=ae(b,0,i)|0;do if(Sb(o)|0?0:!(Sb(y?d:f)|0)){n=b+504|0;if(!(Sb(T(g[n>>2]))|0)){if(!(Ye(c[b+976>>2]|0,0)|0))break;if((c[b+500>>2]|0)==(c[2278]|0))break}g[n>>2]=T(cC(o,T(Ce(b,F,h))))}else p=7;while(0);do if((p|0)==7){w=y^1;if(!(w|z^1)){i=T(be(c[b+992>>2]|0,h));g[b+504>>2]=T(cC(i,T(Ce(b,2,h))));break}if(!(y|E^1)){i=T(be(c[b+996>>2]|0,i));g[b+504>>2]=T(cC(i,T(Ce(b,0,h))));break}g[A>>2]=T(t);g[B>>2]=T(t);c[C>>2]=0;c[D>>2]=0;v=T(Ud(b,2,h));x=T(Ud(b,0,h));z?(r=T(v+T(be(c[b+992>>2]|0,h))),g[A>>2]=r,c[C>>2]=1,q=1):(q=0,r=T(t));E?(o=T(x+T(be(c[b+996>>2]|0,i))),g[B>>2]=o,c[D>>2]=1,n=1):(n=0,o=T(t));p=c[a+32>>2]|0;!(y&(p|0)==2)?(Sb(r)|0?!(Sb(d)|0):0)&&(g[A>>2]=d,c[C>>2]=2,q=2,r=d):p=2;(((p|0)==2&w?0:Sb(o)|0)?!(Sb(f)|0):0)&&(g[B>>2]=f,c[D>>2]=2,n=2,o=f);s=T(g[b+396>>2]);u=Sb(s)|0;do if(!u){if((q|0)==1&w){g[B>>2]=T(T(r-v)/s);c[D>>2]=1;n=1;p=1;break}y&(n|0)==1?(g[A>>2]=T(s*T(o-x)),c[C>>2]=1,n=1,p=1):p=q}else p=q;while(0);H=Sb(d)|0;q=(Je(a,b)|0)!=4;(y|z|((e|0)!=1|H)|(q|(p|0)==1)?0:(g[A>>2]=d,c[C>>2]=1,!u))&&(g[B>>2]=T(T(d-v)/s),c[D>>2]=1,n=1);(E|w|((j|0)!=1|(Sb(f)|0))|(q|(n|0)==1)?0:(g[B>>2]=f,c[D>>2]=1,!u))&&(g[A>>2]=T(s*T(f-x)),c[C>>2]=1);Me(b,2,h,h,C,A);Me(b,0,i,h,D,B);d=T(g[A>>2]);f=T(g[B>>2]);Td(b,d,f,k,c[C>>2]|0,c[D>>2]|0,h,i,0,3565,m)|0;i=T(g[b+908+(c[976+(F<<2)>>2]<<2)>>2]);g[b+504>>2]=T(cC(i,T(Ce(b,F,h))))}while(0);c[b+500>>2]=c[2278];l=G;return}function Ie(a,b,c,d,e){a=a|0;b=b|0;c=T(c);d=T(d);e=T(e);d=T(Te(a,b,c,d));return T(cC(d,T(Ce(a,b,e))))}function Je(a,b){a=a|0;b=b|0;b=b+20|0;b=c[((c[b>>2]|0)==0?a+16|0:b)>>2]|0;((b|0)==5?We(c[a+4>>2]|0)|0:0)&&(b=1);return b|0}function Ke(a,b){a=a|0;b=b|0;(oe(b)|0?(c[a+96>>2]|0)!=0:0)?b=4:b=c[1040+(b<<2)>>2]|0;return a+60+(b<<3)|0}function Le(a,b){a=a|0;b=b|0;(oe(b)|0?(c[a+104>>2]|0)!=0:0)?b=5:b=c[1e3+(b<<2)>>2]|0;return a+60+(b<<3)|0}function Me(a,b,d,e,f,h){a=a|0;b=b|0;d=T(d);e=T(e);f=f|0;h=h|0;d=T(be(a+380+(c[976+(b<<2)>>2]<<3)|0,d));d=T(d+T(Ud(a,b,e)));switch(c[f>>2]|0){case 2:case 1:f=Sb(d)|0;e=T(g[h>>2]);g[h>>2]=f|e<d?e:d;break;case 0:Sb(d)|0||(c[f>>2]=2,g[h>>2]=d);break;default:}return}function Ne(a,b){a=a|0;b=b|0;a=a+132|0;(oe(b)|0?(c[(Tb(a,4,948)|0)+4>>2]|0)!=0:0)?a=1:a=(c[(Tb(a,c[1040+(b<<2)>>2]|0,948)|0)+4>>2]|0)!=0;return a|0}function Oe(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0;a=a+132|0;(oe(b)|0?(e=Tb(a,4,948)|0,(c[e+4>>2]|0)!=0):0)?f=4:(e=Tb(a,c[1040+(b<<2)>>2]|0,948)|0,!(c[e+4>>2]|0)?d=T(0):f=4);(f|0)==4&&(d=T(be(e,d)));return T(d)}function Pe(a,b,d){a=a|0;b=b|0;d=T(d);var e=ib;e=T(g[a+908+(c[976+(b<<2)>>2]<<2)>>2]);e=T(e+T(me(a,b,d)));return T(e+T(ne(a,b,d)))}function Qe(a){a=a|0;var b=0,d=0,e=0;a:do if(!(We(c[a+4>>2]|0)|0))if((c[a+16>>2]|0)!=5){d=$b(a)|0;if(!d)b=0;else{b=0;while(1){e=ac(a,b)|0;if((c[e+24>>2]|0)==0?(c[e+20>>2]|0)==5:0){b=1;break a}b=b+1|0;if(b>>>0>=d>>>0){b=0;break}}}}else b=1;else b=0;while(0);return b|0}function Re(a,b){a=a|0;b=b|0;var d=ib;d=T(g[a+908+(c[976+(b<<2)>>2]<<2)>>2]);return d>=T(0)&((Sb(d)|0)^1)|0}function Se(a){a=a|0;var b=ib,d=0,e=0,f=0,h=0,i=0,j=0,k=ib;d=c[a+968>>2]|0;if(!d){h=$b(a)|0;do if(h|0){d=0;f=0;while(1){e=ac(a,f)|0;if(c[e+940>>2]|0){i=8;break}if((c[e+24>>2]|0)!=1){j=(Je(a,e)|0)==5;if(j){d=e;break}else d=(d|0)==0?e:d}f=f+1|0;if(f>>>0>=h>>>0){i=8;break}}if((i|0)==8&&!d)break;b=T(Se(d));return T(b+T(g[d+404>>2]))}while(0);b=T(g[a+912>>2])}else k=T(g[a+908>>2]),b=T(g[a+912>>2]),b=T(mb[d&0](a,k,b)),ec(a,(Sb(b)|0)^1,3573);return T(b)}function Te(a,b,c,d){a=a|0;b=b|0;c=T(c);d=T(d);var e=ib,f=0;!(We(b)|0)?oe(b)|0?(b=0,f=3):(d=T(t),e=T(t)):(b=1,f=3);(f|0)==3&&(e=T(be(a+364+(b<<3)|0,d)),d=T(be(a+380+(b<<3)|0,d)));f=d<c&(d>=T(0)&((Sb(d)|0)^1));c=f?d:c;f=e>=T(0)&((Sb(e)|0)^1)&c<e;return T(f?e:c)}function Ue(a,b,d,e,f,h,i){a=a|0;b=b|0;d=T(d);e=e|0;f=T(f);h=h|0;i=i|0;var j=ib,k=ib,l=0,m=0,n=ib,o=ib,p=ib,q=0,r=0,s=0,u=0,v=ib,w=0;s=re(c[a+4>>2]|0,h)|0;q=ze(s,h)|0;r=oe(s)|0;n=T(Ud(b,2,d));o=T(Ud(b,0,d));!(ae(b,2,d)|0)?(Ne(b,2)|0?Ze(b,2)|0:0)?(j=T(g[a+908>>2]),k=T(se(a,2)),k=T(j-T(k+T(te(a,2)))),j=T(Oe(b,2,d)),j=T(Ie(b,2,T(k-T(j+T(_e(b,2,d)))),d,d))):j=T(t):j=T(n+T(be(c[b+992>>2]|0,d)));!(ae(b,0,f)|0)?(Ne(b,0)|0?Ze(b,0)|0:0)?(k=T(g[a+912>>2]),v=T(se(a,0)),v=T(k-T(v+T(te(a,0)))),k=T(Oe(b,0,f)),k=T(Ie(b,0,T(v-T(k+T(_e(b,0,f)))),f,d))):k=T(t):k=T(o+T(be(c[b+996>>2]|0,f)));l=Sb(j)|0;m=Sb(k)|0;do if(l^m?(p=T(g[b+396>>2]),!(Sb(p)|0)):0)if(l){j=T(n+T(T(k-o)*p));break}else{v=T(o+T(T(j-n)/p));k=m?v:k;break}while(0);m=Sb(j)|0;l=Sb(k)|0;m|l&&(w=(m^1)&1,e=d>T(0)&((e|0)!=0&m),j=r?j:e?d:j,Td(b,j,k,h,r?w:e?2:w,m&(l^1)&1,j,k,0,3623,i)|0,j=T(g[b+908>>2]),j=T(j+T(Ud(b,2,d))),k=T(g[b+912>>2]),k=T(k+T(Ud(b,0,d))));Td(b,j,k,h,1,1,j,k,1,3635,i)|0;(Ze(b,s)|0?!(Ne(b,s)|0):0)?(w=c[976+(s<<2)>>2]|0,v=T(g[a+908+(w<<2)>>2]),v=T(v-T(g[b+908+(w<<2)>>2])),v=T(v-T(te(a,s))),v=T(v-T(ne(b,s,d))),v=T(v-T(_e(b,s,r?d:f))),g[b+400+(c[1040+(s<<2)>>2]<<2)>>2]=v):u=21;do if((u|0)==21){if(Ne(b,s)|0?0:(c[a+8>>2]|0)==1){w=c[976+(s<<2)>>2]|0;v=T(g[a+908+(w<<2)>>2]);v=T(T(v-T(g[b+908+(w<<2)>>2]))*T(.5));g[b+400+(c[1040+(s<<2)>>2]<<2)>>2]=v;break}(Ne(b,s)|0?0:(c[a+8>>2]|0)==2)&&(w=c[976+(s<<2)>>2]|0,v=T(g[a+908+(w<<2)>>2]),v=T(v-T(g[b+908+(w<<2)>>2])),g[b+400+(c[1040+(s<<2)>>2]<<2)>>2]=v)}while(0);(Ze(b,q)|0?!(Ne(b,q)|0):0)?(w=c[976+(q<<2)>>2]|0,v=T(g[a+908+(w<<2)>>2]),v=T(v-T(g[b+908+(w<<2)>>2])),v=T(v-T(te(a,q))),v=T(v-T(ne(b,q,d))),v=T(v-T(_e(b,q,r?f:d))),g[b+400+(c[1040+(q<<2)>>2]<<2)>>2]=v):u=30;do if((u|0)==30?!(Ne(b,q)|0):0){if((Je(a,b)|0)==2){w=c[976+(q<<2)>>2]|0;v=T(g[a+908+(w<<2)>>2]);v=T(T(v-T(g[b+908+(w<<2)>>2]))*T(.5));g[b+400+(c[1040+(q<<2)>>2]<<2)>>2]=v;break}w=(Je(a,b)|0)==3;w^(c[a+28>>2]|0)==2&&(w=c[976+(q<<2)>>2]|0,v=T(g[a+908+(w<<2)>>2]),v=T(v-T(g[b+908+(w<<2)>>2])),g[b+400+(c[1040+(q<<2)>>2]<<2)>>2]=v)}while(0);return}function Ve(a,b,d){a=a|0;b=b|0;d=d|0;var e=ib,f=0;f=c[976+(d<<2)>>2]|0;e=T(g[b+908+(f<<2)>>2]);e=T(T(g[a+908+(f<<2)>>2])-e);e=T(e-T(g[b+400+(c[1040+(d<<2)>>2]<<2)>>2]));g[b+400+(c[1e3+(d<<2)>>2]<<2)>>2]=e;return}function We(a){a=a|0;return(a|1|0)==1|0}function Xe(b){b=b|0;var d=ib;switch(c[b+56>>2]|0){case 0:case 3:d=T(g[b+40>>2]);d>T(0)&((Sb(d)|0)^1)?b=a[(c[b+976>>2]|0)+2>>0]|0?1056:992:b=1056;break;default:b=b+52|0}return b|0}function Ye(b,c){b=b|0;c=c|0;return(a[b+c>>0]|0)!=0|0}function Ze(a,b){a=a|0;b=b|0;a=a+132|0;(oe(b)|0?(c[(Tb(a,5,948)|0)+4>>2]|0)!=0:0)?a=1:a=(c[(Tb(a,c[1e3+(b<<2)>>2]|0,948)|0)+4>>2]|0)!=0;return a|0}function _e(a,b,d){a=a|0;b=b|0;d=T(d);var e=0,f=0;a=a+132|0;(oe(b)|0?(e=Tb(a,5,948)|0,(c[e+4>>2]|0)!=0):0)?f=4:(e=Tb(a,c[1e3+(b<<2)>>2]|0,948)|0,!(c[e+4>>2]|0)?d=T(0):f=4);(f|0)==4&&(d=T(be(e,d)));return T(d)}function $e(a,b,c){a=a|0;b=b|0;c=T(c);Ne(a,b)|0?c=T(Oe(a,b,c)):c=T(-T(_e(a,b,c)));return T(c)}function af(a){a=T(a);return(g[j>>2]=a,c[j>>2]|0)|0}function bf(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>1073741823)Ta();else{f=qC(b<<2)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<2)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<2);return}function cf(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>2)<<2)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function df(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-4-b|0)>>>2)<<2));a=c[a>>2]|0;a|0&&sC(a);return}function ef(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;h=a+4|0;i=c[h>>2]|0;f=i-e|0;g=f>>2;a=b+(g<<2)|0;if(a>>>0<d>>>0){e=i;do c[e>>2]=c[a>>2],a=a+4|0,e=(c[h>>2]|0)+4|0,c[h>>2]=e;while(a>>>0<d>>>0)}g|0&&GC(i+(0-g<<2)|0,b|0,f|0)|0;return}function ff(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0;i=b+4|0;j=c[i>>2]|0;f=c[a>>2]|0;h=d;g=h-f|0;e=j+(0-(g>>2)<<2)|0;c[i>>2]=e;(g|0)>0&&BC(e|0,f|0,g|0)|0;f=a+4|0;g=b+8|0;e=(c[f>>2]|0)-h|0;(e|0)>0&&(BC(c[g>>2]|0,d|0,e|0)|0,c[g>>2]=(c[g>>2]|0)+(e>>>2<<2));h=c[a>>2]|0;c[a>>2]=c[i>>2];c[i>>2]=h;h=c[f>>2]|0;c[f>>2]=c[g>>2];c[g>>2]=h;h=a+8|0;d=b+12|0;a=c[h>>2]|0;c[h>>2]=c[d>>2];c[d>>2]=a;c[b>>2]=c[i>>2];return j|0}function gf(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;h=c[b>>2]|0;g=c[d>>2]|0;if((h|0)!=(g|0)){f=a+8|0;d=((g+-4-h|0)>>>2)+1|0;a=h;e=c[f>>2]|0;do c[e>>2]=c[a>>2],e=(c[f>>2]|0)+4|0,c[f>>2]=e,a=a+4|0;while((a|0)!=(g|0));c[b>>2]=h+(d<<2)}return}function hf(){Qb();return}function jf(){var a=0;a=qC(4)|0;kf(a);return a|0}function kf(a){a=a|0;c[a>>2]=gc()|0;return}function lf(a){a=a|0;a|0&&(mf(a),sC(a));return}function mf(a){a=a|0;ic(c[a>>2]|0);return}function nf(a,b,d){a=a|0;b=b|0;d=d|0;he(c[a>>2]|0,b,d);return}function of(a,b){a=a|0;b=T(b);Zd(c[a>>2]|0,b);return}function pf(a,b){a=a|0;b=b|0;return Ye(c[a>>2]|0,b)|0}function qf(){var a=0;a=qC(8)|0;rf(a,0);return a|0}function rf(a,b){a=a|0;b=b|0;!b?b=Wb()|0:b=Ub(c[b>>2]|0)|0;c[a>>2]=b;c[a+4>>2]=0;vc(b,a);return}function sf(a){a=a|0;var b=0;b=qC(8)|0;rf(b,a);return b|0}function tf(a){a=a|0;a|0&&(uf(a),sC(a));return}function uf(a){a=a|0;var b=0;Zb(c[a>>2]|0);b=a+4|0;a=c[b>>2]|0;c[b>>2]=0;a|0&&(vf(a),sC(a));return}function vf(a){a=a|0;wf(a);return}function wf(a){a=a|0;a=c[a>>2]|0;a|0&&ab(a|0);return}function xf(a){a=a|0;return wc(a)|0}function yf(a){a=a|0;var b=0,d=0;d=a+4|0;b=c[d>>2]|0;c[d>>2]=0;b|0&&(vf(b),sC(b));dc(c[a>>2]|0);return}function zf(a,b){a=a|0;b=b|0;sc(c[a>>2]|0,c[b>>2]|0);return}function Af(a,b){a=a|0;b=b|0;Hc(c[a>>2]|0,b);return}function Bf(a,b,d){a=a|0;b=b|0;d=+d;Vc(c[a>>2]|0,b,T(d));return}function Cf(a,b,d){a=a|0;b=b|0;d=+d;Wc(c[a>>2]|0,b,T(d));return}function Df(a,b){a=a|0;b=b|0;Bc(c[a>>2]|0,b);return}function Ef(a,b){a=a|0;b=b|0;Dc(c[a>>2]|0,b);return}function Ff(a,b){a=a|0;b=b|0;Fc(c[a>>2]|0,b);return}function Gf(a,b){a=a|0;b=b|0;xc(c[a>>2]|0,b);return}function Hf(a,b){a=a|0;b=b|0;Jc(c[a>>2]|0,b);return}function If(a,b){a=a|0;b=b|0;zc(c[a>>2]|0,b);return}function Jf(a,b,d){a=a|0;b=b|0;d=+d;Yc(c[a>>2]|0,b,T(d));return}function Kf(a,b,d){a=a|0;b=b|0;d=+d;Zc(c[a>>2]|0,b,T(d));return}function Lf(a,b){a=a|0;b=b|0;$c(c[a>>2]|0,b);return}function Mf(a,b){a=a|0;b=b|0;Lc(c[a>>2]|0,b);return}function Nf(a,b){a=a|0;b=b|0;Nc(c[a>>2]|0,b);return}function Of(a,b){a=a|0;b=+b;Pc(c[a>>2]|0,T(b));return}function Pf(a,b){a=a|0;b=+b;Sc(c[a>>2]|0,T(b));return}function Qf(a,b){a=a|0;b=+b;Tc(c[a>>2]|0,T(b));return}function Rf(a,b){a=a|0;b=+b;Qc(c[a>>2]|0,T(b));return}function Sf(a,b){a=a|0;b=+b;Rc(c[a>>2]|0,T(b));return}function Tf(a,b){a=a|0;b=+b;fd(c[a>>2]|0,T(b));return}function Uf(a,b){a=a|0;b=+b;gd(c[a>>2]|0,T(b));return}function Vf(a){a=a|0;hd(c[a>>2]|0);return}function Wf(a,b){a=a|0;b=+b;jd(c[a>>2]|0,T(b));return}function Xf(a,b){a=a|0;b=+b;kd(c[a>>2]|0,T(b));return}function Yf(a){a=a|0;ld(c[a>>2]|0);return}function Zf(a,b){a=a|0;b=+b;nd(c[a>>2]|0,T(b));return}function _f(a,b){a=a|0;b=+b;od(c[a>>2]|0,T(b));return}function $f(a,b){a=a|0;b=+b;qd(c[a>>2]|0,T(b));return}function ag(a,b){a=a|0;b=+b;rd(c[a>>2]|0,T(b));return}function bg(a,b){a=a|0;b=+b;td(c[a>>2]|0,T(b));return}function cg(a,b){a=a|0;b=+b;ud(c[a>>2]|0,T(b));return}function dg(a,b){a=a|0;b=+b;wd(c[a>>2]|0,T(b));return}function eg(a,b){a=a|0;b=+b;xd(c[a>>2]|0,T(b));return}function fg(a,b){a=a|0;b=+b;zd(c[a>>2]|0,T(b));return}function gg(a,b,d){a=a|0;b=b|0;d=+d;dd(c[a>>2]|0,b,T(d));return}function hg(a,b,d){a=a|0;b=b|0;d=+d;ad(c[a>>2]|0,b,T(d));return}function ig(a,b,d){a=a|0;b=b|0;d=+d;bd(c[a>>2]|0,b,T(d));return}function jg(a){a=a|0;return Ic(c[a>>2]|0)|0}function kg(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;e=l;l=l+16|0;f=e;Xc(f,c[b>>2]|0,d);lg(a,f);l=e;return}function lg(a,b){a=a|0;b=b|0;mg(a,c[b+4>>2]|0,+T(g[b>>2]));return}function mg(a,b,d){a=a|0;b=b|0;d=+d;c[a>>2]=b;h[a+8>>3]=d;return}function ng(a){a=a|0;return Cc(c[a>>2]|0)|0}function og(a){a=a|0;return Ec(c[a>>2]|0)|0}function pg(a){a=a|0;return Gc(c[a>>2]|0)|0}function qg(a){a=a|0;return yc(c[a>>2]|0)|0}function rg(a){a=a|0;return Kc(c[a>>2]|0)|0}function sg(a){a=a|0;return Ac(c[a>>2]|0)|0}function tg(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;e=l;l=l+16|0;f=e;_c(f,c[b>>2]|0,d);lg(a,f);l=e;return}function ug(a){a=a|0;return Mc(c[a>>2]|0)|0}function vg(a){a=a|0;return Oc(c[a>>2]|0)|0}function wg(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;Uc(e,c[b>>2]|0);lg(a,e);l=d;return}function xg(a){a=a|0;return+T(tc(c[a>>2]|0))}function yg(a){a=a|0;return+T(uc(c[a>>2]|0))}function zg(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;id(e,c[b>>2]|0);lg(a,e);l=d;return}function Ag(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;md(e,c[b>>2]|0);lg(a,e);l=d;return}function Bg(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;pd(e,c[b>>2]|0);lg(a,e);l=d;return}function Cg(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;sd(e,c[b>>2]|0);lg(a,e);l=d;return}function Dg(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;vd(e,c[b>>2]|0);lg(a,e);l=d;return}function Eg(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;yd(e,c[b>>2]|0);lg(a,e);l=d;return}function Fg(a){a=a|0;return+T(Ad(c[a>>2]|0))}function Gg(a,b){a=a|0;b=b|0;return+T(ed(c[a>>2]|0,b))}function Hg(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;e=l;l=l+16|0;f=e;cd(f,c[b>>2]|0,d);lg(a,f);l=e;return}function Ig(a,b,d){a=a|0;b=b|0;d=d|0;kc(c[a>>2]|0,c[b>>2]|0,d);return}function Jg(a,b){a=a|0;b=b|0;cc(c[a>>2]|0,c[b>>2]|0);return}function Kg(a){a=a|0;return $b(c[a>>2]|0)|0}function Lg(a){a=a|0;a=pc(c[a>>2]|0)|0;!a?a=0:a=xf(a)|0;return a|0}function Mg(a,b){a=a|0;b=b|0;a=ac(c[a>>2]|0,b)|0;!a?a=0:a=xf(a)|0;return a|0}function Ng(a,b){a=a|0;b=b|0;var d=0,e=0;e=qC(4)|0;Og(e,b);d=a+4|0;b=c[d>>2]|0;c[d>>2]=e;b|0&&(vf(b),sC(b));jc(c[a>>2]|0,1);return}function Og(a,b){a=a|0;b=b|0;gh(a,b);return}function Pg(a,b,c,d,e,f){a=a|0;b=b|0;c=T(c);d=d|0;e=T(e);f=f|0;var i=0,j=0;i=l;l=l+16|0;j=i;Qg(j,wc(b)|0,+c,d,+e,f);g[a>>2]=T(+h[j>>3]);g[a+4>>2]=T(+h[j+8>>3]);l=i;return}function Qg(a,b,d,e,f,g){a=a|0;b=b|0;d=+d;e=e|0;f=+f;g=g|0;var i=0,j=0,k=0,m=0,n=0;i=l;l=l+32|0;n=i+8|0;m=i+20|0;k=i;j=i+16|0;h[n>>3]=d;c[m>>2]=e;h[k>>3]=f;c[j>>2]=g;Rg(a,c[b+4>>2]|0,n,m,k,j);l=i;return}function Rg(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var i=0,j=0;i=l;l=l+16|0;j=i;UA(j);b=Sg(b)|0;Tg(a,b,+h[d>>3],c[e>>2]|0,+h[f>>3],c[g>>2]|0);WA(j);l=i;return}function Sg(a){a=a|0;return c[a>>2]|0}function Tg(a,b,c,d,e,f){a=a|0;b=b|0;c=+c;d=d|0;e=+e;f=f|0;var g=0;g=Vg(Ug()|0)|0;c=+Wg(c);d=Xg(d)|0;e=+Wg(e);Yg(a,cb(0,g|0,b|0,+c,d|0,+e,Xg(f)|0)|0);return}function Ug(){var b=0;a[7608]|0||(dh(9120),b=7608,c[b>>2]=1,c[b+4>>2]=0);return 9120}function Vg(a){a=a|0;return c[a+8>>2]|0}function Wg(a){a=+a;return+ch(a)}function Xg(a){a=a|0;return bh(a)|0}function Yg(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=l;l=l+32|0;d=f;e=b;!(e&1)?(c[a>>2]=c[b>>2],c[a+4>>2]=c[b+4>>2],c[a+8>>2]=c[b+8>>2],c[a+12>>2]=c[b+12>>2]):(Zg(d,0),Ja(e|0,d|0)|0,_g(a,d),$g(d));l=f;return}function Zg(b,d){b=b|0;d=d|0;ah(b,d);c[b+8>>2]=0;a[b+24>>0]=0;return}function _g(a,b){a=a|0;b=b|0;b=b+8|0;c[a>>2]=c[b>>2];c[a+4>>2]=c[b+4>>2];c[a+8>>2]=c[b+8>>2];c[a+12>>2]=c[b+12>>2];return}function $g(b){b=b|0;a[b+24>>0]=0;return}function ah(a,b){a=a|0;b=b|0;c[a>>2]=b;return}function bh(a){a=a|0;return a|0}function ch(a){a=+a;return+a}function dh(a){a=a|0;fh(a,eh()|0,4);return}function eh(){return 1064}function fh(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;c[a+8>>2]=_a(b|0,d+1|0)|0;return}function gh(a,b){a=a|0;b=b|0;b=c[b>>2]|0;c[a>>2]=b;Aa(b|0);return}function hh(a){a=a|0;var b=0,d=0;d=a+4|0;b=c[d>>2]|0;c[d>>2]=0;b|0&&(vf(b),sC(b));jc(c[a>>2]|0,0);return}function ih(a){a=a|0;qc(c[a>>2]|0);return}function jh(a){a=a|0;return rc(c[a>>2]|0)|0}function kh(a,b,d,e){a=a|0;b=+b;d=+d;e=e|0;_d(c[a>>2]|0,T(b),T(d),e);return}function lh(a){a=a|0;return+T(Bd(c[a>>2]|0))}function mh(a){a=a|0;return+T(Dd(c[a>>2]|0))}function nh(a){a=a|0;return+T(Cd(c[a>>2]|0))}function oh(a){a=a|0;return+T(Ed(c[a>>2]|0))}function ph(a){a=a|0;return+T(Fd(c[a>>2]|0))}function qh(a){a=a|0;return+T(Gd(c[a>>2]|0))}function rh(a,b){a=a|0;b=b|0;h[a>>3]=+T(Bd(c[b>>2]|0));h[a+8>>3]=+T(Dd(c[b>>2]|0));h[a+16>>3]=+T(Cd(c[b>>2]|0));h[a+24>>3]=+T(Ed(c[b>>2]|0));h[a+32>>3]=+T(Fd(c[b>>2]|0));h[a+40>>3]=+T(Gd(c[b>>2]|0));return}function sh(a,b){a=a|0;b=b|0;return+T(Hd(c[a>>2]|0,b))}function th(a,b){a=a|0;b=b|0;return+T(Id(c[a>>2]|0,b))}function uh(a,b){a=a|0;b=b|0;return+T(Jd(c[a>>2]|0,b))}function vh(){return fc()|0}function wh(){xh();yh();zh();Ah();Bh();Ch();return}function xh(){kv(11713,4938,1);return}function yh(){yu(10448);return}function zh(){eu(10408);return}function Ah(){vt(10324);return}function Bh(){or(10096);return}function Ch(){Dh(9132);return}function Dh(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0,O=0,P=0,Q=0,R=0,S=0,T=0,U=0,V=0,W=0,X=0,Y=0,Z=0,_=0,$=0,aa=0,ba=0,ca=0,da=0,ea=0,fa=0,ga=0,ha=0,ia=0,ja=0,ka=0,la=0,ma=0,na=0,oa=0,pa=0,qa=0,ra=0,sa=0,ta=0,ua=0,va=0,wa=0,xa=0,ya=0,za=0,Aa=0,Ba=0,Ca=0,Da=0,Ea=0,Fa=0,Ga=0;b=l;l=l+672|0;d=b+656|0;Ga=b+648|0;Fa=b+640|0;Ea=b+632|0;Da=b+624|0;Ca=b+616|0;Ba=b+608|0;Aa=b+600|0;za=b+592|0;ya=b+584|0;xa=b+576|0;wa=b+568|0;va=b+560|0;ua=b+552|0;ta=b+544|0;sa=b+536|0;ra=b+528|0;qa=b+520|0;pa=b+512|0;oa=b+504|0;na=b+496|0;ma=b+488|0;la=b+480|0;ka=b+472|0;ja=b+464|0;ia=b+456|0;ha=b+448|0;ga=b+440|0;fa=b+432|0;ea=b+424|0;da=b+416|0;ca=b+408|0;ba=b+400|0;aa=b+392|0;$=b+384|0;_=b+376|0;Z=b+368|0;Y=b+360|0;X=b+352|0;W=b+344|0;V=b+336|0;U=b+328|0;T=b+320|0;S=b+312|0;R=b+304|0;Q=b+296|0;P=b+288|0;O=b+280|0;N=b+272|0;M=b+264|0;L=b+256|0;K=b+248|0;J=b+240|0;I=b+232|0;H=b+224|0;G=b+216|0;F=b+208|0;E=b+200|0;D=b+192|0;C=b+184|0;B=b+176|0;A=b+168|0;z=b+160|0;y=b+152|0;x=b+144|0;w=b+136|0;v=b+128|0;u=b+120|0;t=b+112|0;s=b+104|0;r=b+96|0;q=b+88|0;p=b+80|0;o=b+72|0;n=b+64|0;m=b+56|0;k=b+48|0;j=b+40|0;i=b+32|0;h=b+24|0;g=b+16|0;f=b+8|0;e=b;Eh(a,3646);Fh(a,3651,2)|0;Gh(a,3665,2)|0;Hh(a,3682,18)|0;c[Ga>>2]=19;c[Ga+4>>2]=0;c[d>>2]=c[Ga>>2];c[d+4>>2]=c[Ga+4>>2];Ih(a,3690,d)|0;c[Fa>>2]=1;c[Fa+4>>2]=0;c[d>>2]=c[Fa>>2];c[d+4>>2]=c[Fa+4>>2];Jh(a,3696,d)|0;c[Ea>>2]=2;c[Ea+4>>2]=0;c[d>>2]=c[Ea>>2];c[d+4>>2]=c[Ea+4>>2];Kh(a,3706,d)|0;c[Da>>2]=1;c[Da+4>>2]=0;c[d>>2]=c[Da>>2];c[d+4>>2]=c[Da+4>>2];Lh(a,3722,d)|0;c[Ca>>2]=2;c[Ca+4>>2]=0;c[d>>2]=c[Ca>>2];c[d+4>>2]=c[Ca+4>>2];Lh(a,3734,d)|0;c[Ba>>2]=3;c[Ba+4>>2]=0;c[d>>2]=c[Ba>>2];c[d+4>>2]=c[Ba+4>>2];Kh(a,3753,d)|0;c[Aa>>2]=4;c[Aa+4>>2]=0;c[d>>2]=c[Aa>>2];c[d+4>>2]=c[Aa+4>>2];Kh(a,3769,d)|0;c[za>>2]=5;c[za+4>>2]=0;c[d>>2]=c[za>>2];c[d+4>>2]=c[za+4>>2];Kh(a,3783,d)|0;c[ya>>2]=6;c[ya+4>>2]=0;c[d>>2]=c[ya>>2];c[d+4>>2]=c[ya+4>>2];Kh(a,3796,d)|0;c[xa>>2]=7;c[xa+4>>2]=0;c[d>>2]=c[xa>>2];c[d+4>>2]=c[xa+4>>2];Kh(a,3813,d)|0;c[wa>>2]=8;c[wa+4>>2]=0;c[d>>2]=c[wa>>2];c[d+4>>2]=c[wa+4>>2];Kh(a,3825,d)|0;c[va>>2]=3;c[va+4>>2]=0;c[d>>2]=c[va>>2];c[d+4>>2]=c[va+4>>2];Lh(a,3843,d)|0;c[ua>>2]=4;c[ua+4>>2]=0;c[d>>2]=c[ua>>2];c[d+4>>2]=c[ua+4>>2];Lh(a,3853,d)|0;c[ta>>2]=9;c[ta+4>>2]=0;c[d>>2]=c[ta>>2];c[d+4>>2]=c[ta+4>>2];Kh(a,3870,d)|0;c[sa>>2]=10;c[sa+4>>2]=0;c[d>>2]=c[sa>>2];c[d+4>>2]=c[sa+4>>2];Kh(a,3884,d)|0;c[ra>>2]=11;c[ra+4>>2]=0;c[d>>2]=c[ra>>2];c[d+4>>2]=c[ra+4>>2];Kh(a,3896,d)|0;c[qa>>2]=1;c[qa+4>>2]=0;c[d>>2]=c[qa>>2];c[d+4>>2]=c[qa+4>>2];Mh(a,3907,d)|0;c[pa>>2]=2;c[pa+4>>2]=0;c[d>>2]=c[pa>>2];c[d+4>>2]=c[pa+4>>2];Mh(a,3915,d)|0;c[oa>>2]=3;c[oa+4>>2]=0;c[d>>2]=c[oa>>2];c[d+4>>2]=c[oa+4>>2];Mh(a,3928,d)|0;c[na>>2]=4;c[na+4>>2]=0;c[d>>2]=c[na>>2];c[d+4>>2]=c[na+4>>2];Mh(a,3948,d)|0;c[ma>>2]=5;c[ma+4>>2]=0;c[d>>2]=c[ma>>2];c[d+4>>2]=c[ma+4>>2];Mh(a,3960,d)|0;c[la>>2]=6;c[la+4>>2]=0;c[d>>2]=c[la>>2];c[d+4>>2]=c[la+4>>2];Mh(a,3974,d)|0;c[ka>>2]=7;c[ka+4>>2]=0;c[d>>2]=c[ka>>2];c[d+4>>2]=c[ka+4>>2];Mh(a,3983,d)|0;c[ja>>2]=20;c[ja+4>>2]=0;c[d>>2]=c[ja>>2];c[d+4>>2]=c[ja+4>>2];Ih(a,3999,d)|0;c[ia>>2]=8;c[ia+4>>2]=0;c[d>>2]=c[ia>>2];c[d+4>>2]=c[ia+4>>2];Mh(a,4012,d)|0;c[ha>>2]=9;c[ha+4>>2]=0;c[d>>2]=c[ha>>2];c[d+4>>2]=c[ha+4>>2];Mh(a,4022,d)|0;c[ga>>2]=21;c[ga+4>>2]=0;c[d>>2]=c[ga>>2];c[d+4>>2]=c[ga+4>>2];Ih(a,4039,d)|0;c[fa>>2]=10;c[fa+4>>2]=0;c[d>>2]=c[fa>>2];c[d+4>>2]=c[fa+4>>2];Mh(a,4053,d)|0;c[ea>>2]=11;c[ea+4>>2]=0;c[d>>2]=c[ea>>2];c[d+4>>2]=c[ea+4>>2];Mh(a,4065,d)|0;c[da>>2]=12;c[da+4>>2]=0;c[d>>2]=c[da>>2];c[d+4>>2]=c[da+4>>2];Mh(a,4084,d)|0;c[ca>>2]=13;c[ca+4>>2]=0;c[d>>2]=c[ca>>2];c[d+4>>2]=c[ca+4>>2];Mh(a,4097,d)|0;c[ba>>2]=14;c[ba+4>>2]=0;c[d>>2]=c[ba>>2];c[d+4>>2]=c[ba+4>>2];Mh(a,4117,d)|0;c[aa>>2]=15;c[aa+4>>2]=0;c[d>>2]=c[aa>>2];c[d+4>>2]=c[aa+4>>2];Mh(a,4129,d)|0;c[$>>2]=16;c[$+4>>2]=0;c[d>>2]=c[$>>2];c[d+4>>2]=c[$+4>>2];Mh(a,4148,d)|0;c[_>>2]=17;c[_+4>>2]=0;c[d>>2]=c[_>>2];c[d+4>>2]=c[_+4>>2];Mh(a,4161,d)|0;c[Z>>2]=18;c[Z+4>>2]=0;c[d>>2]=c[Z>>2];c[d+4>>2]=c[Z+4>>2];Mh(a,4181,d)|0;c[Y>>2]=5;c[Y+4>>2]=0;c[d>>2]=c[Y>>2];c[d+4>>2]=c[Y+4>>2];Lh(a,4196,d)|0;c[X>>2]=6;c[X+4>>2]=0;c[d>>2]=c[X>>2];c[d+4>>2]=c[X+4>>2];Lh(a,4206,d)|0;c[W>>2]=7;c[W+4>>2]=0;c[d>>2]=c[W>>2];c[d+4>>2]=c[W+4>>2];Lh(a,4217,d)|0;c[V>>2]=3;c[V+4>>2]=0;c[d>>2]=c[V>>2];c[d+4>>2]=c[V+4>>2];Nh(a,4235,d)|0;c[U>>2]=1;c[U+4>>2]=0;c[d>>2]=c[U>>2];c[d+4>>2]=c[U+4>>2];Oh(a,4251,d)|0;c[T>>2]=4;c[T+4>>2]=0;c[d>>2]=c[T>>2];c[d+4>>2]=c[T+4>>2];Nh(a,4263,d)|0;c[S>>2]=5;c[S+4>>2]=0;c[d>>2]=c[S>>2];c[d+4>>2]=c[S+4>>2];Nh(a,4279,d)|0;c[R>>2]=6;c[R+4>>2]=0;c[d>>2]=c[R>>2];c[d+4>>2]=c[R+4>>2];Nh(a,4293,d)|0;c[Q>>2]=7;c[Q+4>>2]=0;c[d>>2]=c[Q>>2];c[d+4>>2]=c[Q+4>>2];Nh(a,4306,d)|0;c[P>>2]=8;c[P+4>>2]=0;c[d>>2]=c[P>>2];c[d+4>>2]=c[P+4>>2];Nh(a,4323,d)|0;c[O>>2]=9;c[O+4>>2]=0;c[d>>2]=c[O>>2];c[d+4>>2]=c[O+4>>2];Nh(a,4335,d)|0;c[N>>2]=2;c[N+4>>2]=0;c[d>>2]=c[N>>2];c[d+4>>2]=c[N+4>>2];Oh(a,4353,d)|0;c[M>>2]=12;c[M+4>>2]=0;c[d>>2]=c[M>>2];c[d+4>>2]=c[M+4>>2];Ph(a,4363,d)|0;c[L>>2]=1;c[L+4>>2]=0;c[d>>2]=c[L>>2];c[d+4>>2]=c[L+4>>2];Qh(a,4376,d)|0;c[K>>2]=2;c[K+4>>2]=0;c[d>>2]=c[K>>2];c[d+4>>2]=c[K+4>>2];Qh(a,4388,d)|0;c[J>>2]=13;c[J+4>>2]=0;c[d>>2]=c[J>>2];c[d+4>>2]=c[J+4>>2];Ph(a,4402,d)|0;c[I>>2]=14;c[I+4>>2]=0;c[d>>2]=c[I>>2];c[d+4>>2]=c[I+4>>2];Ph(a,4411,d)|0;c[H>>2]=15;c[H+4>>2]=0;c[d>>2]=c[H>>2];c[d+4>>2]=c[H+4>>2];Ph(a,4421,d)|0;c[G>>2]=16;c[G+4>>2]=0;c[d>>2]=c[G>>2];c[d+4>>2]=c[G+4>>2];Ph(a,4433,d)|0;c[F>>2]=17;c[F+4>>2]=0;c[d>>2]=c[F>>2];c[d+4>>2]=c[F+4>>2];Ph(a,4446,d)|0;c[E>>2]=18;c[E+4>>2]=0;c[d>>2]=c[E>>2];c[d+4>>2]=c[E+4>>2];Ph(a,4458,d)|0;c[D>>2]=3;c[D+4>>2]=0;c[d>>2]=c[D>>2];c[d+4>>2]=c[D+4>>2];Qh(a,4471,d)|0;c[C>>2]=1;c[C+4>>2]=0;c[d>>2]=c[C>>2];c[d+4>>2]=c[C+4>>2];Rh(a,4486,d)|0;c[B>>2]=10;c[B+4>>2]=0;c[d>>2]=c[B>>2];c[d+4>>2]=c[B+4>>2];Nh(a,4496,d)|0;c[A>>2]=11;c[A+4>>2]=0;c[d>>2]=c[A>>2];c[d+4>>2]=c[A+4>>2];Nh(a,4508,d)|0;c[z>>2]=3;c[z+4>>2]=0;c[d>>2]=c[z>>2];c[d+4>>2]=c[z+4>>2];Oh(a,4519,d)|0;c[y>>2]=4;c[y+4>>2]=0;c[d>>2]=c[y>>2];c[d+4>>2]=c[y+4>>2];Sh(a,4530,d)|0;c[x>>2]=19;c[x+4>>2]=0;c[d>>2]=c[x>>2];c[d+4>>2]=c[x+4>>2];Th(a,4542,d)|0;c[w>>2]=12;c[w+4>>2]=0;c[d>>2]=c[w>>2];c[d+4>>2]=c[w+4>>2];Uh(a,4554,d)|0;c[v>>2]=13;c[v+4>>2]=0;c[d>>2]=c[v>>2];c[d+4>>2]=c[v+4>>2];Vh(a,4568,d)|0;c[u>>2]=2;c[u+4>>2]=0;c[d>>2]=c[u>>2];c[d+4>>2]=c[u+4>>2];Wh(a,4578,d)|0;c[t>>2]=20;c[t+4>>2]=0;c[d>>2]=c[t>>2];c[d+4>>2]=c[t+4>>2];Xh(a,4587,d)|0;c[s>>2]=22;c[s+4>>2]=0;c[d>>2]=c[s>>2];c[d+4>>2]=c[s+4>>2];Ih(a,4602,d)|0;c[r>>2]=23;c[r+4>>2]=0;c[d>>2]=c[r>>2];c[d+4>>2]=c[r+4>>2];Ih(a,4619,d)|0;c[q>>2]=14;c[q+4>>2]=0;c[d>>2]=c[q>>2];c[d+4>>2]=c[q+4>>2];Yh(a,4629,d)|0;c[p>>2]=1;c[p+4>>2]=0;c[d>>2]=c[p>>2];c[d+4>>2]=c[p+4>>2];Zh(a,4637,d)|0;c[o>>2]=4;c[o+4>>2]=0;c[d>>2]=c[o>>2];c[d+4>>2]=c[o+4>>2];Qh(a,4653,d)|0;c[n>>2]=5;c[n+4>>2]=0;c[d>>2]=c[n>>2];c[d+4>>2]=c[n+4>>2];Qh(a,4669,d)|0;c[m>>2]=6;c[m+4>>2]=0;c[d>>2]=c[m>>2];c[d+4>>2]=c[m+4>>2];Qh(a,4686,d)|0;c[k>>2]=7;c[k+4>>2]=0;c[d>>2]=c[k>>2];c[d+4>>2]=c[k+4>>2];Qh(a,4701,d)|0;c[j>>2]=8;c[j+4>>2]=0;c[d>>2]=c[j>>2];c[d+4>>2]=c[j+4>>2];Qh(a,4719,d)|0;c[i>>2]=9;c[i+4>>2]=0;c[d>>2]=c[i>>2];c[d+4>>2]=c[i+4>>2];Qh(a,4736,d)|0;c[h>>2]=21;c[h+4>>2]=0;c[d>>2]=c[h>>2];c[d+4>>2]=c[h+4>>2];_h(a,4754,d)|0;c[g>>2]=2;c[g+4>>2]=0;c[d>>2]=c[g>>2];c[d+4>>2]=c[g+4>>2];Rh(a,4772,d)|0;c[f>>2]=3;c[f+4>>2]=0;c[d>>2]=c[f>>2];c[d+4>>2]=c[f+4>>2];Rh(a,4790,d)|0;c[e>>2]=4;c[e+4>>2]=0;c[d>>2]=c[e>>2];c[d+4>>2]=c[e+4>>2];Rh(a,4808,d)|0;l=b;return}function Eh(a,b){a=a|0;b=b|0;var d=0;d=dr()|0;c[a>>2]=d;er(d,b);Hv(c[a>>2]|0);return}function Fh(a,b,c){a=a|0;b=b|0;c=c|0;Oq(a,ai(b)|0,c,0);return a|0}function Gh(a,b,c){a=a|0;b=b|0;c=c|0;tq(a,ai(b)|0,c,0);return a|0}function Hh(a,b,c){a=a|0;b=b|0;c=c|0;cq(a,ai(b)|0,c,0);return a|0}function Ih(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Lp(a,b,f);l=e;return a|0}function Jh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];pp(a,b,f);l=e;return a|0}function Kh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Yo(a,b,f);l=e;return a|0}function Lh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Fo(a,b,f);l=e;return a|0}function Mh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];mo(a,b,f);l=e;return a|0}function Nh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Un(a,b,f);l=e;return a|0}function Oh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Bn(a,b,f);l=e;return a|0}function Ph(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Um(a,b,f);l=e;return a|0}function Qh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Bm(a,b,f);l=e;return a|0}function Rh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];im(a,b,f);l=e;return a|0}function Sh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Rl(a,b,f);l=e;return a|0}function Th(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];vl(a,b,f);l=e;return a|0}function Uh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];bl(a,b,f);l=e;return a|0}function Vh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Kk(a,b,f);l=e;return a|0}function Wh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];nk(a,b,f);l=e;return a|0}function Xh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Rj(a,b,f);l=e;return a|0}function Yh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];xj(a,b,f);l=e;return a|0}function Zh(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];_i(a,b,f);l=e;return a|0}function _h(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];$h(a,b,f);l=e;return a|0}function $h(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];bi(a,d,f,1);l=e;return}function ai(a){a=a|0;return a|0}function bi(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=ci()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=di(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,ei(g,e)|0,e);l=f;return}function ci(){var b=0,d=0;a[7616]|0||(qi(9136),Ha(24,9136,o|0)|0,d=7616,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9136)|0)){b=9136;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));qi(9136)}return 9136}function di(a){a=a|0;return 0}function ei(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=ci()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],ki(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(li(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function fi(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0;h=l;l=l+32|0;o=h+24|0;n=h+20|0;j=h+16|0;m=h+12|0;k=h+8|0;i=h+4|0;p=h;c[n>>2]=b;c[j>>2]=d;c[m>>2]=e;c[k>>2]=f;c[i>>2]=g;g=a+28|0;c[p>>2]=c[g>>2];c[o>>2]=c[p>>2];gi(a+24|0,o,n,m,k,j,i)|0;c[g>>2]=c[c[g>>2]>>2];l=h;return}function gi(a,b,d,e,f,g,h){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;h=h|0;a=hi(b)|0;b=qC(24)|0;ii(b+4|0,c[d>>2]|0,c[e>>2]|0,c[f>>2]|0,c[g>>2]|0,c[h>>2]|0);c[b>>2]=c[a>>2];c[a>>2]=b;return b|0}function hi(a){a=a|0;return c[a>>2]|0}function ii(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;c[a>>2]=b;c[a+4>>2]=d;c[a+8>>2]=e;c[a+12>>2]=f;c[a+16>>2]=g;return}function ji(a,b){a=a|0;b=b|0;return b|a|0}function ki(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function li(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=mi(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;ni(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];ki(g,e,d);c[j>>2]=(c[j>>2]|0)+12;oi(a,i);pi(i);l=k;return}}function mi(a){a=a|0;return 357913941}function ni(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function oi(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function pi(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function qi(a){a=a|0;ui(a);return}function ri(a){a=a|0;ti(a+24|0);return}function si(a){a=a|0;return c[a>>2]|0}function ti(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function ui(a){a=a|0;var b=0;b=vi()|0;yi(a,2,3,b,wi()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function vi(){return 9228}function wi(){return 1140}function xi(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0;d=l;l=l+16|0;e=d+8|0;f=d;g=zi(a)|0;a=c[g+4>>2]|0;c[f>>2]=c[g>>2];c[f+4>>2]=a;c[e>>2]=c[f>>2];c[e+4>>2]=c[f+4>>2];b=Ai(b,e)|0;l=d;return b|0}function yi(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;c[a>>2]=b;c[a+4>>2]=d;c[a+8>>2]=e;c[a+12>>2]=f;c[a+16>>2]=g;return}function zi(a){a=a|0;return(c[(ci()|0)+24>>2]|0)+(a*12|0)|0}function Ai(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=l;l=l+48|0;e=f;d=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(d=c[(c[a>>2]|0)+d>>2]|0);ob[d&31](e,a);e=Bi(e)|0;l=f;return e|0}function Bi(a){a=a|0;var b=0,c=0,d=0,e=0;e=l;l=l+32|0;b=e+12|0;c=e;d=Di(Ci()|0)|0;!d?a=Ii(a)|0:(Ei(b,d),Fi(c,b),Gi(a,c),a=Hi(b)|0);l=e;return a|0}function Ci(){var b=0;a[7632]|0||(Ti(9184),Ha(25,9184,o|0)|0,b=7632,c[b>>2]=1,c[b+4>>2]=0);return 9184}function Di(a){a=a|0;return c[a+36>>2]|0}function Ei(a,b){a=a|0;b=b|0;c[a>>2]=b;c[a+4>>2]=a;c[a+8>>2]=0;return}function Fi(a,b){a=a|0;b=b|0;c[a>>2]=c[b>>2];c[a+4>>2]=c[b+4>>2];c[a+8>>2]=0;return}function Gi(a,b){a=a|0;b=b|0;Ni(b,a,a+8|0,a+16|0,a+24|0,a+32|0,a+40|0)|0;return}function Hi(a){a=a|0;return c[(c[a+4>>2]|0)+8>>2]|0}function Ii(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0;j=l;l=l+16|0;d=j+4|0;e=j;f=jy(8)|0;g=f;h=qC(48)|0;i=h;b=i+48|0;do c[i>>2]=c[a>>2],i=i+4|0,a=a+4|0;while((i|0)<(b|0));b=g+4|0;c[b>>2]=h;i=qC(8)|0;h=c[b>>2]|0;c[e>>2]=0;c[d>>2]=c[e>>2];Ji(i,h,d);c[f>>2]=i;l=j;return g|0}function Ji(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;d=qC(16)|0;c[d+4>>2]=0;c[d+8>>2]=0;c[d>>2]=1092;c[d+12>>2]=b;c[a+4>>2]=d;return}function Ki(a){a=a|0;kC(a);sC(a);return}function Li(a){a=a|0;a=c[a+12>>2]|0;a|0&&sC(a);return}function Mi(a){a=a|0;sC(a);return}function Ni(a,b,d,e,f,g,h){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;h=h|0;g=Oi(c[a>>2]|0,b,d,e,f,g,h)|0;h=a+4|0;c[(c[h>>2]|0)+8>>2]=g;return c[(c[h>>2]|0)+8>>2]|0}function Oi(a,b,c,d,e,f,g){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;g=g|0;var i=0,j=0;i=l;l=l+16|0;j=i;UA(j);a=Sg(a)|0;g=Pi(a,+h[b>>3],+h[c>>3],+h[d>>3],+h[e>>3],+h[f>>3],+h[g>>3])|0;WA(j);l=i;return g|0}function Pi(a,b,c,d,e,f,g){a=a|0;b=+b;c=+c;d=+d;e=+e;f=+f;g=+g;var h=0;h=Vg(Qi()|0)|0;b=+Wg(b);c=+Wg(c);d=+Wg(d);e=+Wg(e);f=+Wg(f);return ya(0,h|0,a|0,+b,+c,+d,+e,+f,+Wg(g))|0}function Qi(){var b=0;a[7624]|0||(Ri(9172),b=7624,c[b>>2]=1,c[b+4>>2]=0);return 9172}function Ri(a){a=a|0;fh(a,Si()|0,6);return}function Si(){return 1112}function Ti(a){a=a|0;Zi(a);return}function Ui(a){a=a|0;Vi(a+24|0);Wi(a+16|0);return}function Vi(a){a=a|0;Yi(a);return}function Wi(a){a=a|0;Xi(a);return}function Xi(a){a=a|0;var b=0,d=0;b=c[a>>2]|0;if(b|0)do d=b,b=c[b>>2]|0,sC(d);while((b|0)!=0);c[a>>2]=0;return}function Yi(a){a=a|0;var b=0,d=0;b=c[a>>2]|0;if(b|0)do d=b,b=c[b>>2]|0,sC(d);while((b|0)!=0);c[a>>2]=0;return}function Zi(b){b=b|0;var d=0;c[b+16>>2]=0;c[b+20>>2]=0;d=b+24|0;c[d>>2]=0;c[b+28>>2]=d;c[b+36>>2]=0;a[b+40>>0]=0;a[b+41>>0]=0;return}function _i(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];$i(a,d,f,0);l=e;return}function $i(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=aj()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=bj(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,cj(g,e)|0,e);l=f;return}function aj(){var b=0,d=0;a[7640]|0||(jj(9232),Ha(26,9232,o|0)|0,d=7640,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9232)|0)){b=9232;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));jj(9232)}return 9232}function bj(a){a=a|0;return 0}function cj(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=aj()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],dj(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(ej(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function dj(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function ej(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=fj(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;gj(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];dj(g,e,d);c[j>>2]=(c[j>>2]|0)+12;hj(a,i);ij(i);l=k;return}}function fj(a){a=a|0;return 357913941}function gj(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function hj(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function ij(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function jj(a){a=a|0;mj(a);return}function kj(a){a=a|0;lj(a+24|0);return}function lj(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function mj(a){a=a|0;var b=0;b=vi()|0;yi(a,2,1,b,nj()|0,3);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function nj(){return 1144}function oj(a,b,d,e,f){a=a|0;b=b|0;d=+d;e=+e;f=f|0;var g=0,h=0,i=0,j=0;g=l;l=l+16|0;h=g+8|0;i=g;j=pj(a)|0;a=c[j+4>>2]|0;c[i>>2]=c[j>>2];c[i+4>>2]=a;c[h>>2]=c[i>>2];c[h+4>>2]=c[i+4>>2];qj(b,h,d,e,f);l=g;return}function pj(a){a=a|0;return(c[(aj()|0)+24>>2]|0)+(a*12|0)|0}function qj(a,b,d,e,f){a=a|0;b=b|0;d=+d;e=+e;f=f|0;var g=0,h=0,i=0,j=0,k=0;k=l;l=l+16|0;h=k+2|0;i=k+1|0;j=k;g=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(g=c[(c[a>>2]|0)+g>>2]|0);rj(h,d);d=+sj(h,d);rj(i,e);e=+sj(i,e);tj(j,f);j=uj(j,f)|0;qb[g&1](a,d,e,j);l=k;return}function rj(a,b){a=a|0;b=+b;return}function sj(a,b){a=a|0;b=+b;return+wj(b)}function tj(a,b){a=a|0;b=b|0;return}function uj(a,b){a=a|0;b=b|0;return vj(b)|0}function vj(a){a=a|0;return a|0}function wj(a){a=+a;return+a}function xj(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];yj(a,d,f,1);l=e;return}function yj(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=zj()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Aj(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Bj(g,e)|0,e);l=f;return}function zj(){var b=0,d=0;a[7648]|0||(Ij(9268),Ha(27,9268,o|0)|0,d=7648,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9268)|0)){b=9268;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Ij(9268)}return 9268}function Aj(a){a=a|0;return 0}function Bj(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=zj()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Cj(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Dj(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Cj(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Dj(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Ej(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Fj(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Cj(g,e,d);c[j>>2]=(c[j>>2]|0)+12;Gj(a,i);Hj(i);l=k;return}}function Ej(a){a=a|0;return 357913941}function Fj(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function Gj(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Hj(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Ij(a){a=a|0;Lj(a);return}function Jj(a){a=a|0;Kj(a+24|0);return}function Kj(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Lj(a){a=a|0;var b=0;b=vi()|0;yi(a,2,4,b,Mj()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Mj(){return 1160}function Nj(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0;d=l;l=l+16|0;e=d+8|0;f=d;g=Oj(a)|0;a=c[g+4>>2]|0;c[f>>2]=c[g>>2];c[f+4>>2]=a;c[e>>2]=c[f>>2];c[e+4>>2]=c[f+4>>2];b=Pj(b,e)|0;l=d;return b|0}function Oj(a){a=a|0;return(c[(zj()|0)+24>>2]|0)+(a*12|0)|0}function Pj(a,b){a=a|0;b=b|0;var d=0;d=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(d=c[(c[a>>2]|0)+d>>2]|0);return Qj(pb[d&31](a)|0)|0}function Qj(a){a=a|0;return a&1|0}function Rj(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Sj(a,d,f,0);l=e;return}function Sj(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Tj()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Uj(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Vj(g,e)|0,e);l=f;return}function Tj(){var b=0,d=0;a[7656]|0||(ak(9304),Ha(28,9304,o|0)|0,d=7656,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9304)|0)){b=9304;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));ak(9304)}return 9304}function Uj(a){a=a|0;return 0}function Vj(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Tj()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Wj(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Xj(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Wj(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Xj(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Yj(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Zj(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Wj(g,e,d);c[j>>2]=(c[j>>2]|0)+12;_j(a,i);$j(i);l=k;return}}function Yj(a){a=a|0;return 357913941}function Zj(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function _j(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function $j(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function ak(a){a=a|0;dk(a);return}function bk(a){a=a|0;ck(a+24|0);return}function ck(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function dk(a){a=a|0;var b=0;b=vi()|0;yi(a,2,5,b,ek()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function ek(){return 1164}function fk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=gk(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];hk(b,f,d);l=e;return}function gk(a){a=a|0;return(c[(Tj()|0)+24>>2]|0)+(a*12|0)|0}function hk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);ik(f,d);d=jk(f,d)|0;ob[e&31](a,d);kk(f);l=g;return}function ik(a,b){a=a|0;b=b|0;lk(a,b);return}function jk(a,b){a=a|0;b=b|0;return a|0}function kk(a){a=a|0;vf(a);return}function lk(a,b){a=a|0;b=b|0;mk(a,b);return}function mk(a,b){a=a|0;b=b|0;c[a>>2]=b;return}function nk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];ok(a,d,f,0);l=e;return}function ok(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=pk()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=qk(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,rk(g,e)|0,e);l=f;return}function pk(){var b=0,d=0;a[7664]|0||(yk(9340),Ha(29,9340,o|0)|0,d=7664,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9340)|0)){b=9340;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));yk(9340)}return 9340}function qk(a){a=a|0;return 0}function rk(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=pk()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],sk(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(tk(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function sk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function tk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=uk(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;vk(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];sk(g,e,d);c[j>>2]=(c[j>>2]|0)+12;wk(a,i);xk(i);l=k;return}}function uk(a){a=a|0;return 357913941}function vk(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function wk(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function xk(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function yk(a){a=a|0;Bk(a);return}function zk(a){a=a|0;Ak(a+24|0);return}function Ak(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Bk(a){a=a|0;var b=0;b=vi()|0;yi(a,2,4,b,Ck()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Ck(){return 1180}function Dk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=Ek(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];d=Fk(b,f,d)|0;l=e;return d|0}function Ek(a){a=a|0;return(c[(pk()|0)+24>>2]|0)+(a*12|0)|0}function Fk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);Gk(f,d);f=Hk(f,d)|0;f=Ik(wb[e&15](a,f)|0)|0;l=g;return f|0}function Gk(a,b){a=a|0;b=b|0;return}function Hk(a,b){a=a|0;b=b|0;return Jk(b)|0}function Ik(a){a=a|0;return a|0}function Jk(a){a=a|0;return a|0}function Kk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Lk(a,d,f,0);l=e;return}function Lk(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Mk()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Nk(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Ok(g,e)|0,e);l=f;return}function Mk(){var b=0,d=0;a[7672]|0||(Vk(9376),Ha(30,9376,o|0)|0,d=7672,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9376)|0)){b=9376;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Vk(9376)}return 9376}function Nk(a){a=a|0;return 0}function Ok(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Mk()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Pk(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Qk(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Pk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Qk(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Rk(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Sk(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Pk(g,e,d);c[j>>2]=(c[j>>2]|0)+12;Tk(a,i);Uk(i);l=k;return}}function Rk(a){a=a|0;return 357913941}function Sk(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function Tk(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Uk(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Vk(a){a=a|0;Yk(a);return}function Wk(a){a=a|0;Xk(a+24|0);return}function Xk(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Yk(a){a=a|0;var b=0;b=vi()|0;yi(a,2,5,b,Zk()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Zk(){return 1196}function _k(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0;d=l;l=l+16|0;e=d+8|0;f=d;g=$k(a)|0;a=c[g+4>>2]|0;c[f>>2]=c[g>>2];c[f+4>>2]=a;c[e>>2]=c[f>>2];c[e+4>>2]=c[f+4>>2];b=al(b,e)|0;l=d;return b|0}function $k(a){a=a|0;return(c[(Mk()|0)+24>>2]|0)+(a*12|0)|0}function al(a,b){a=a|0;b=b|0;var d=0;d=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(d=c[(c[a>>2]|0)+d>>2]|0);return Ik(pb[d&31](a)|0)|0}function bl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];cl(a,d,f,1);l=e;return}function cl(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=dl()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=el(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,fl(g,e)|0,e);l=f;return}function dl(){var b=0,d=0;a[7680]|0||(ml(9412),Ha(31,9412,o|0)|0,d=7680,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9412)|0)){b=9412;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));ml(9412)}return 9412}function el(a){a=a|0;return 0}function fl(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=dl()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],gl(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(hl(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function gl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function hl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=il(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;jl(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];gl(g,e,d);c[j>>2]=(c[j>>2]|0)+12;kl(a,i);ll(i);l=k;return}}function il(a){a=a|0;return 357913941}function jl(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function kl(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function ll(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function ml(a){a=a|0;pl(a);return}function nl(a){a=a|0;ol(a+24|0);return}function ol(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function pl(a){a=a|0;var b=0;b=vi()|0;yi(a,2,6,b,ql()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function ql(){return 1200}function rl(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0;d=l;l=l+16|0;e=d+8|0;f=d;g=sl(a)|0;a=c[g+4>>2]|0;c[f>>2]=c[g>>2];c[f+4>>2]=a;c[e>>2]=c[f>>2];c[e+4>>2]=c[f+4>>2];b=tl(b,e)|0;l=d;return b|0}function sl(a){a=a|0;return(c[(dl()|0)+24>>2]|0)+(a*12|0)|0}function tl(a,b){a=a|0;b=b|0;var d=0;d=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(d=c[(c[a>>2]|0)+d>>2]|0);return ul(pb[d&31](a)|0)|0}function ul(a){a=a|0;return a|0}function vl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];wl(a,d,f,0);l=e;return}function wl(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=xl()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=yl(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,zl(g,e)|0,e);l=f;return}function xl(){var b=0,d=0;a[7688]|0||(Gl(9448),Ha(32,9448,o|0)|0,d=7688,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9448)|0)){b=9448;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Gl(9448)}return 9448}function yl(a){a=a|0;return 0}function zl(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=xl()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Al(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Bl(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Al(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Bl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Cl(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Dl(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Al(g,e,d);c[j>>2]=(c[j>>2]|0)+12;El(a,i);Fl(i);l=k;return}}function Cl(a){a=a|0;return 357913941}function Dl(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function El(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Fl(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Gl(a){a=a|0;Jl(a);return}function Hl(a){a=a|0;Il(a+24|0);return}function Il(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Jl(a){a=a|0;var b=0;b=vi()|0;yi(a,2,6,b,Kl()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Kl(){return 1204}function Ll(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=Ml(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Nl(b,f,d);l=e;return}function Ml(a){a=a|0;return(c[(xl()|0)+24>>2]|0)+(a*12|0)|0}function Nl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);Ol(f,d);f=Pl(f,d)|0;ob[e&31](a,f);l=g;return}function Ol(a,b){a=a|0;b=b|0;return}function Pl(a,b){a=a|0;b=b|0;return Ql(b)|0}function Ql(a){a=a|0;return a|0}function Rl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Sl(a,d,f,0);l=e;return}function Sl(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Tl()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Ul(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Vl(g,e)|0,e);l=f;return}function Tl(){var b=0,d=0;a[7696]|0||(am(9484),Ha(33,9484,o|0)|0,d=7696,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9484)|0)){b=9484;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));am(9484)}return 9484}function Ul(a){a=a|0;return 0}function Vl(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Tl()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Wl(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Xl(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Wl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Xl(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Yl(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Zl(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Wl(g,e,d);c[j>>2]=(c[j>>2]|0)+12;_l(a,i);$l(i);l=k;return}}function Yl(a){a=a|0;return 357913941}function Zl(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function _l(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function $l(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function am(a){a=a|0;dm(a);return}function bm(a){a=a|0;cm(a+24|0);return}function cm(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function dm(a){a=a|0;var b=0;b=vi()|0;yi(a,2,1,b,em()|0,2);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function em(){return 1212}function fm(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;f=l;l=l+16|0;g=f+8|0;h=f;i=gm(a)|0;a=c[i+4>>2]|0;c[h>>2]=c[i>>2];c[h+4>>2]=a;c[g>>2]=c[h>>2];c[g+4>>2]=c[h+4>>2];hm(b,g,d,e);l=f;return}function gm(a){a=a|0;return(c[(Tl()|0)+24>>2]|0)+(a*12|0)|0}function hm(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;i=l;l=l+16|0;g=i+1|0;h=i;f=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(f=c[(c[a>>2]|0)+f>>2]|0);Ol(g,d);g=Pl(g,d)|0;Gk(h,e);h=Hk(h,e)|0;Eb[f&15](a,g,h);l=i;return}function im(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];jm(a,d,f,1);l=e;return}function jm(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=km()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=lm(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,mm(g,e)|0,e);l=f;return}function km(){var b=0,d=0;a[7704]|0||(tm(9520),Ha(34,9520,o|0)|0,d=7704,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9520)|0)){b=9520;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));tm(9520)}return 9520}function lm(a){a=a|0;return 0}function mm(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=km()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],nm(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(om(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function nm(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function om(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=pm(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;qm(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];nm(g,e,d);c[j>>2]=(c[j>>2]|0)+12;rm(a,i);sm(i);l=k;return}}function pm(a){a=a|0;return 357913941}function qm(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function rm(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function sm(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function tm(a){a=a|0;wm(a);return}function um(a){a=a|0;vm(a+24|0);return}function vm(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function wm(a){a=a|0;var b=0;b=vi()|0;yi(a,2,1,b,xm()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function xm(){return 1224}function ym(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;f=l;l=l+16|0;g=f+8|0;h=f;i=zm(a)|0;a=c[i+4>>2]|0;c[h>>2]=c[i>>2];c[h+4>>2]=a;c[g>>2]=c[h>>2];c[g+4>>2]=c[h+4>>2];e=+Am(b,g,d);l=f;return+e}function zm(a){a=a|0;return(c[(km()|0)+24>>2]|0)+(a*12|0)|0}function Am(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);tj(f,d);f=uj(f,d)|0;h=+ch(+zb[e&7](a,f));l=g;return+h}function Bm(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Cm(a,d,f,1);l=e;return}function Cm(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Dm()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Em(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Fm(g,e)|0,e);l=f;return}function Dm(){var b=0,d=0;a[7712]|0||(Mm(9556),Ha(35,9556,o|0)|0,d=7712,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9556)|0)){b=9556;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Mm(9556)}return 9556}function Em(a){a=a|0;return 0}function Fm(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Dm()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Gm(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Hm(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Gm(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Hm(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Im(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Jm(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Gm(g,e,d);c[j>>2]=(c[j>>2]|0)+12;Km(a,i);Lm(i);l=k;return}}function Im(a){a=a|0;return 357913941}function Jm(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function Km(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Lm(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Mm(a){a=a|0;Pm(a);return}function Nm(a){a=a|0;Om(a+24|0);return}function Om(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Pm(a){a=a|0;var b=0;b=vi()|0;yi(a,2,5,b,Qm()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Qm(){return 1232}function Rm(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=Sm(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];d=+Tm(b,f);l=e;return+d}function Sm(a){a=a|0;return(c[(Dm()|0)+24>>2]|0)+(a*12|0)|0}function Tm(a,b){a=a|0;b=b|0;var d=0;d=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(d=c[(c[a>>2]|0)+d>>2]|0);return+ch(+ub[d&15](a))}function Um(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Vm(a,d,f,1);l=e;return}function Vm(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Wm()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Xm(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Ym(g,e)|0,e);l=f;return}function Wm(){var b=0,d=0;a[7720]|0||(dn(9592),Ha(36,9592,o|0)|0,d=7720,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9592)|0)){b=9592;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));dn(9592)}return 9592}function Xm(a){a=a|0;return 0}function Ym(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Wm()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Zm(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(_m(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Zm(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function _m(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=$m(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;an(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Zm(g,e,d);c[j>>2]=(c[j>>2]|0)+12;bn(a,i);cn(i);l=k;return}}function $m(a){a=a|0;return 357913941}function an(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function bn(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function cn(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function dn(a){a=a|0;gn(a);return}function en(a){a=a|0;fn(a+24|0);return}function fn(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function gn(a){a=a|0;var b=0;b=vi()|0;yi(a,2,7,b,hn()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function hn(){return 1276}function jn(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0;d=l;l=l+16|0;e=d+8|0;f=d;g=kn(a)|0;a=c[g+4>>2]|0;c[f>>2]=c[g>>2];c[f+4>>2]=a;c[e>>2]=c[f>>2];c[e+4>>2]=c[f+4>>2];b=ln(b,e)|0;l=d;return b|0}function kn(a){a=a|0;return(c[(Wm()|0)+24>>2]|0)+(a*12|0)|0}function ln(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=l;l=l+16|0;e=f;d=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(d=c[(c[a>>2]|0)+d>>2]|0);ob[d&31](e,a);e=mn(e)|0;l=f;return e|0}function mn(a){a=a|0;var b=0,c=0,d=0,e=0;e=l;l=l+32|0;b=e+12|0;c=e;d=Di(nn()|0)|0;!d?a=pn(a)|0:(Ei(b,d),Fi(c,b),on(a,c),a=Hi(b)|0);l=e;return a|0}function nn(){var b=0;a[7736]|0||(An(9640),Ha(25,9640,o|0)|0,b=7736,c[b>>2]=1,c[b+4>>2]=0);return 9640}function on(a,b){a=a|0;b=b|0;un(b,a,a+8|0)|0;return}function pn(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0;d=l;l=l+16|0;f=d+4|0;h=d;e=jy(8)|0;b=e;i=qC(16)|0;c[i>>2]=c[a>>2];c[i+4>>2]=c[a+4>>2];c[i+8>>2]=c[a+8>>2];c[i+12>>2]=c[a+12>>2];g=b+4|0;c[g>>2]=i;a=qC(8)|0;g=c[g>>2]|0;c[h>>2]=0;c[f>>2]=c[h>>2];qn(a,g,f);c[e>>2]=a;l=d;return b|0}function qn(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;d=qC(16)|0;c[d+4>>2]=0;c[d+8>>2]=0;c[d>>2]=1244;c[d+12>>2]=b;c[a+4>>2]=d;return}function rn(a){a=a|0;kC(a);sC(a);return}function sn(a){a=a|0;a=c[a+12>>2]|0;a|0&&sC(a);return}function tn(a){a=a|0;sC(a);return}function un(a,b,d){a=a|0;b=b|0;d=d|0;b=vn(c[a>>2]|0,b,d)|0;d=a+4|0;c[(c[d>>2]|0)+8>>2]=b;return c[(c[d>>2]|0)+8>>2]|0}function vn(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;e=l;l=l+16|0;f=e;UA(f);a=Sg(a)|0;d=wn(a,c[b>>2]|0,+h[d>>3])|0;WA(f);l=e;return d|0}function wn(a,b,c){a=a|0;b=b|0;c=+c;var d=0;d=Vg(xn()|0)|0;b=Xg(b)|0;return za(0,d|0,a|0,b|0,+Wg(c))|0}function xn(){var b=0;a[7728]|0||(yn(9628),b=7728,c[b>>2]=1,c[b+4>>2]=0);return 9628}function yn(a){a=a|0;fh(a,zn()|0,2);return}function zn(){return 1264}function An(a){a=a|0;Zi(a);return}function Bn(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Cn(a,d,f,1);l=e;return}function Cn(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Dn()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=En(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Fn(g,e)|0,e);l=f;return}function Dn(){var b=0,d=0;a[7744]|0||(Mn(9684),Ha(37,9684,o|0)|0,d=7744,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9684)|0)){b=9684;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Mn(9684)}return 9684}function En(a){a=a|0;return 0}function Fn(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Dn()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Gn(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Hn(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Gn(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Hn(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=In(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Jn(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Gn(g,e,d);c[j>>2]=(c[j>>2]|0)+12;Kn(a,i);Ln(i);l=k;return}}function In(a){a=a|0;return 357913941}function Jn(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function Kn(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Ln(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Mn(a){a=a|0;Pn(a);return}function Nn(a){a=a|0;On(a+24|0);return}function On(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Pn(a){a=a|0;var b=0;b=vi()|0;yi(a,2,5,b,Qn()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Qn(){return 1280}function Rn(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=Sn(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];d=Tn(b,f,d)|0;l=e;return d|0}function Sn(a){a=a|0;return(c[(Dn()|0)+24>>2]|0)+(a*12|0)|0}function Tn(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;h=l;l=l+32|0;f=h;g=h+16|0;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);tj(g,d);g=uj(g,d)|0;Eb[e&15](f,a,g);g=mn(f)|0;l=h;return g|0}function Un(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Vn(a,d,f,1);l=e;return}function Vn(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Wn()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Xn(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Yn(g,e)|0,e);l=f;return}function Wn(){var b=0,d=0;a[7752]|0||(eo(9720),Ha(38,9720,o|0)|0,d=7752,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9720)|0)){b=9720;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));eo(9720)}return 9720}function Xn(a){a=a|0;return 0}function Yn(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Wn()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Zn(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(_n(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Zn(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function _n(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=$n(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;ao(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Zn(g,e,d);c[j>>2]=(c[j>>2]|0)+12;bo(a,i);co(i);l=k;return}}function $n(a){a=a|0;return 357913941}function ao(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function bo(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function co(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function eo(a){a=a|0;ho(a);return}function fo(a){a=a|0;go(a+24|0);return}function go(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function ho(a){a=a|0;var b=0;b=vi()|0;yi(a,2,8,b,io()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function io(){return 1288}function jo(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0;d=l;l=l+16|0;e=d+8|0;f=d;g=ko(a)|0;a=c[g+4>>2]|0;c[f>>2]=c[g>>2];c[f+4>>2]=a;c[e>>2]=c[f>>2];c[e+4>>2]=c[f+4>>2];b=lo(b,e)|0;l=d;return b|0}function ko(a){a=a|0;return(c[(Wn()|0)+24>>2]|0)+(a*12|0)|0}function lo(a,b){a=a|0;b=b|0;var d=0;d=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(d=c[(c[a>>2]|0)+d>>2]|0);return bh(pb[d&31](a)|0)|0}function mo(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];no(a,d,f,0);l=e;return}function no(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=oo()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=po(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,qo(g,e)|0,e);l=f;return}function oo(){var b=0,d=0;a[7760]|0||(xo(9756),Ha(39,9756,o|0)|0,d=7760,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9756)|0)){b=9756;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));xo(9756)}return 9756}function po(a){a=a|0;return 0}function qo(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=oo()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],ro(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(so(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function ro(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function so(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=to(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;uo(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];ro(g,e,d);c[j>>2]=(c[j>>2]|0)+12;vo(a,i);wo(i);l=k;return}}function to(a){a=a|0;return 357913941}function uo(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function vo(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function wo(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function xo(a){a=a|0;Ao(a);return}function yo(a){a=a|0;zo(a+24|0);return}function zo(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Ao(a){a=a|0;var b=0;b=vi()|0;yi(a,2,8,b,Bo()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Bo(){return 1292}function Co(a,b,d){a=a|0;b=b|0;d=+d;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=Do(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Eo(b,f,d);l=e;return}function Do(a){a=a|0;return(c[(oo()|0)+24>>2]|0)+(a*12|0)|0}function Eo(a,b,d){a=a|0;b=b|0;d=+d;var e=0,f=0,g=0;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);rj(f,d);d=+sj(f,d);lb[e&31](a,d);l=g;return}function Fo(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Go(a,d,f,0);l=e;return}function Go(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Ho()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Io(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Jo(g,e)|0,e);l=f;return}function Ho(){var b=0,d=0;a[7768]|0||(Qo(9792),Ha(40,9792,o|0)|0,d=7768,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9792)|0)){b=9792;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Qo(9792)}return 9792}function Io(a){a=a|0;return 0}function Jo(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Ho()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Ko(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Lo(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Ko(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Lo(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Mo(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;No(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Ko(g,e,d);c[j>>2]=(c[j>>2]|0)+12;Oo(a,i);Po(i);l=k;return}}function Mo(a){a=a|0;return 357913941}function No(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function Oo(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Po(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Qo(a){a=a|0;To(a);return}function Ro(a){a=a|0;So(a+24|0);return}function So(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function To(a){a=a|0;var b=0;b=vi()|0;yi(a,2,1,b,Uo()|0,2);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Uo(){return 1300}function Vo(a,b,d,e){a=a|0;b=b|0;d=d|0;e=+e;var f=0,g=0,h=0,i=0;f=l;l=l+16|0;g=f+8|0;h=f;i=Wo(a)|0;a=c[i+4>>2]|0;c[h>>2]=c[i>>2];c[h+4>>2]=a;c[g>>2]=c[h>>2];c[g+4>>2]=c[h+4>>2];Xo(b,g,d,e);l=f;return}function Wo(a){a=a|0;return(c[(Ho()|0)+24>>2]|0)+(a*12|0)|0}function Xo(a,b,d,e){a=a|0;b=b|0;d=d|0;e=+e;var f=0,g=0,h=0,i=0;i=l;l=l+16|0;g=i+1|0;h=i;f=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(f=c[(c[a>>2]|0)+f>>2]|0);tj(g,d);g=uj(g,d)|0;rj(h,e);e=+sj(h,e);Gb[f&15](a,g,e);l=i;return}function Yo(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Zo(a,d,f,0);l=e;return}function Zo(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=_o()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=$o(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,ap(g,e)|0,e);l=f;return}function _o(){var b=0,d=0;a[7776]|0||(hp(9828),Ha(41,9828,o|0)|0,d=7776,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9828)|0)){b=9828;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));hp(9828)}return 9828}function $o(a){a=a|0;return 0}function ap(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=_o()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],bp(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(cp(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function bp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function cp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=dp(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;ep(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];bp(g,e,d);c[j>>2]=(c[j>>2]|0)+12;fp(a,i);gp(i);l=k;return}}function dp(a){a=a|0;return 357913941}function ep(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function fp(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function gp(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function hp(a){a=a|0;kp(a);return}function ip(a){a=a|0;jp(a+24|0);return}function jp(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function kp(a){a=a|0;var b=0;b=vi()|0;yi(a,2,7,b,lp()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function lp(){return 1312}function mp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=np(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];op(b,f,d);l=e;return}function np(a){a=a|0;return(c[(_o()|0)+24>>2]|0)+(a*12|0)|0}function op(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);tj(f,d);f=uj(f,d)|0;ob[e&31](a,f);l=g;return}function pp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];qp(a,d,f,0);l=e;return}function qp(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=rp()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=sp(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,tp(g,e)|0,e);l=f;return}function rp(){var b=0,d=0;a[7784]|0||(Ap(9864),Ha(42,9864,o|0)|0,d=7784,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9864)|0)){b=9864;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Ap(9864)}return 9864}function sp(a){a=a|0;return 0}function tp(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=rp()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],up(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(vp(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function up(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function vp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=wp(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;xp(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];up(g,e,d);c[j>>2]=(c[j>>2]|0)+12;yp(a,i);zp(i);l=k;return}}function wp(a){a=a|0;return 357913941}function xp(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function yp(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function zp(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Ap(a){a=a|0;Dp(a);return}function Bp(a){a=a|0;Cp(a+24|0);return}function Cp(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Dp(a){a=a|0;var b=0;b=vi()|0;yi(a,2,8,b,Ep()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Ep(){return 1320}function Fp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=Gp(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Hp(b,f,d);l=e;return}function Gp(a){a=a|0;return(c[(rp()|0)+24>>2]|0)+(a*12|0)|0}function Hp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);Ip(f,d);f=Jp(f,d)|0;ob[e&31](a,f);l=g;return}function Ip(a,b){a=a|0;b=b|0;return}function Jp(a,b){a=a|0;b=b|0;return Kp(b)|0}function Kp(a){a=a|0;return a|0}function Lp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Mp(a,d,f,0);l=e;return}function Mp(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Np()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Op(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Pp(g,e)|0,e);l=f;return}function Np(){var b=0,d=0;a[7792]|0||(Wp(9900),Ha(43,9900,o|0)|0,d=7792,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9900)|0)){b=9900;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Wp(9900)}return 9900}function Op(a){a=a|0;return 0}function Pp(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Np()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Qp(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Rp(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Qp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Rp(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Sp(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Tp(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Qp(g,e,d);c[j>>2]=(c[j>>2]|0)+12;Up(a,i);Vp(i);l=k;return}}function Sp(a){a=a|0;return 357913941}function Tp(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function Up(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Vp(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Wp(a){a=a|0;Zp(a);return}function Xp(a){a=a|0;Yp(a+24|0);return}function Yp(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Zp(a){a=a|0;var b=0;b=vi()|0;yi(a,2,22,b,_p()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function _p(){return 1344}function $p(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0;d=l;l=l+16|0;e=d+8|0;f=d;g=aq(a)|0;a=c[g+4>>2]|0;c[f>>2]=c[g>>2];c[f+4>>2]=a;c[e>>2]=c[f>>2];c[e+4>>2]=c[f+4>>2];bq(b,e);l=d;return}function aq(a){a=a|0;return(c[(Np()|0)+24>>2]|0)+(a*12|0)|0}function bq(a,b){a=a|0;b=b|0;var d=0;d=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(d=c[(c[a>>2]|0)+d>>2]|0);nb[d&127](a);return}function cq(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=dq()|0;a=eq(d)|0;fi(g,b,f,a,fq(d,e)|0,e);return}function dq(){var b=0,d=0;a[7800]|0||(mq(9936),Ha(44,9936,o|0)|0,d=7800,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9936)|0)){b=9936;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));mq(9936)}return 9936}function eq(a){a=a|0;return a|0}function fq(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=dq()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(gq(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(hq(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function gq(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function hq(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=iq(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;jq(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;gq(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;kq(a,f);lq(f);l=i;return}}function iq(a){a=a|0;return 536870911}function jq(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function kq(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function lq(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function mq(a){a=a|0;pq(a);return}function nq(a){a=a|0;oq(a+24|0);return}function oq(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function pq(a){a=a|0;var b=0;b=vi()|0;yi(a,1,23,b,Kl()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function qq(a,b){a=a|0;b=b|0;sq(c[(rq(a)|0)>>2]|0,b);return}function rq(a){a=a|0;return(c[(dq()|0)+24>>2]|0)+(a<<3)|0}function sq(a,b){a=a|0;b=b|0;var c=0,d=0;c=l;l=l+16|0;d=c;Ol(d,b);b=Pl(d,b)|0;nb[a&127](b);l=c;return}function tq(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=uq()|0;a=vq(d)|0;fi(g,b,f,a,wq(d,e)|0,e);return}function uq(){var b=0,d=0;a[7808]|0||(Dq(9972),Ha(45,9972,o|0)|0,d=7808,c[d>>2]=1,c[d+4>>2]=0);if(!(si(9972)|0)){b=9972;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Dq(9972)}return 9972}function vq(a){a=a|0;return a|0}function wq(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=uq()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(xq(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(yq(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function xq(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function yq(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=zq(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;Aq(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;xq(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;Bq(a,f);Cq(f);l=i;return}}function zq(a){a=a|0;return 536870911}function Aq(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function Bq(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Cq(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function Dq(a){a=a|0;Gq(a);return}function Eq(a){a=a|0;Fq(a+24|0);return}function Fq(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function Gq(a){a=a|0;var b=0;b=vi()|0;yi(a,1,9,b,Hq()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Hq(){return 1348}function Iq(a,b){a=a|0;b=b|0;return Kq(c[(Jq(a)|0)>>2]|0,b)|0}function Jq(a){a=a|0;return(c[(uq()|0)+24>>2]|0)+(a<<3)|0}function Kq(a,b){a=a|0;b=b|0;var c=0,d=0;c=l;l=l+16|0;d=c;Lq(d,b);b=Mq(d,b)|0;b=Ik(pb[a&31](b)|0)|0;l=c;return b|0}function Lq(a,b){a=a|0;b=b|0;return}function Mq(a,b){a=a|0;b=b|0;return Nq(b)|0}function Nq(a){a=a|0;return a|0}function Oq(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=Pq()|0;a=Qq(d)|0;fi(g,b,f,a,Rq(d,e)|0,e);return}function Pq(){var b=0,d=0;a[7816]|0||(Yq(10008),Ha(46,10008,o|0)|0,d=7816,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10008)|0)){b=10008;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Yq(10008)}return 10008}function Qq(a){a=a|0;return a|0}function Rq(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=Pq()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(Sq(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(Tq(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function Sq(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function Tq(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=Uq(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;Vq(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;Sq(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;Wq(a,f);Xq(f);l=i;return}}function Uq(a){a=a|0;return 536870911}function Vq(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function Wq(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Xq(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function Yq(a){a=a|0;$q(a);return}function Zq(a){a=a|0;_q(a+24|0);return}function _q(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function $q(a){a=a|0;var b=0;b=vi()|0;yi(a,1,15,b,Zk()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function ar(a){a=a|0;return cr(c[(br(a)|0)>>2]|0)|0}function br(a){a=a|0;return(c[(Pq()|0)+24>>2]|0)+(a<<3)|0}function cr(a){a=a|0;return Ik(Ab[a&7]()|0)|0}function dr(){var b=0;a[7832]|0||(nr(10052),Ha(25,10052,o|0)|0,b=7832,c[b>>2]=1,c[b+4>>2]=0);return 10052}function er(a,b){a=a|0;b=b|0;c[a>>2]=fr()|0;c[a+4>>2]=gr()|0;c[a+12>>2]=b;c[a+8>>2]=hr()|0;c[a+32>>2]=2;return}function fr(){return 11709}function gr(){return 1188}function hr(){return lr()|0}function ir(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;(jr(d,896)|0)==512?c|0&&(kr(c),sC(c)):b|0&&(uf(b),sC(b));return}function jr(a,b){a=a|0;b=b|0;return b&a|0}function kr(a){a=a|0;a=c[a+4>>2]|0;a|0&&oC(a);return}function lr(){var b=0;a[7824]|0||(c[2511]=mr()|0,c[2512]=0,b=7824,c[b>>2]=1,c[b+4>>2]=0);return 10044}function mr(){return 0}function nr(a){a=a|0;Zi(a);return}function or(a){a=a|0;var b=0,d=0,e=0,f=0,g=0;b=l;l=l+32|0;d=b+24|0;g=b+16|0;f=b+8|0;e=b;pr(a,4827);qr(a,4834,3)|0;rr(a,3682,47)|0;c[g>>2]=9;c[g+4>>2]=0;c[d>>2]=c[g>>2];c[d+4>>2]=c[g+4>>2];sr(a,4841,d)|0;c[f>>2]=1;c[f+4>>2]=0;c[d>>2]=c[f>>2];c[d+4>>2]=c[f+4>>2];tr(a,4871,d)|0;c[e>>2]=10;c[e+4>>2]=0;c[d>>2]=c[e>>2];c[d+4>>2]=c[e+4>>2];ur(a,4891,d)|0;l=b;return}function pr(a,b){a=a|0;b=b|0;var d=0;d=nt()|0;c[a>>2]=d;ot(d,b);Hv(c[a>>2]|0);return}function qr(a,b,c){a=a|0;b=b|0;c=c|0;Ws(a,ai(b)|0,c,0);return a|0}function rr(a,b,c){a=a|0;b=b|0;c=c|0;Es(a,ai(b)|0,c,0);return a|0}function sr(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];is(a,b,f);l=e;return a|0}function tr(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Or(a,b,f);l=e;return a|0}function ur(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=c[d+4>>2]|0;c[g>>2]=c[d>>2];c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];vr(a,b,f);l=e;return a|0}function vr(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];wr(a,d,f,1);l=e;return}function wr(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=xr()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=yr(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,zr(g,e)|0,e);l=f;return}function xr(){var b=0,d=0;a[7840]|0||(Gr(10100),Ha(48,10100,o|0)|0,d=7840,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10100)|0)){b=10100;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Gr(10100)}return 10100}function yr(a){a=a|0;return 0}function zr(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=xr()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Ar(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Br(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Ar(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Br(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Cr(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Dr(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Ar(g,e,d);c[j>>2]=(c[j>>2]|0)+12;Er(a,i);Fr(i);l=k;return}}function Cr(a){a=a|0;return 357913941}function Dr(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function Er(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Fr(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Gr(a){a=a|0;Jr(a);return}function Hr(a){a=a|0;Ir(a+24|0);return}function Ir(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function Jr(a){a=a|0;var b=0;b=vi()|0;yi(a,2,6,b,Kr()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Kr(){return 1364}function Lr(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=Mr(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];d=Nr(b,f,d)|0;l=e;return d|0}function Mr(a){a=a|0;return(c[(xr()|0)+24>>2]|0)+(a*12|0)|0}function Nr(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);tj(f,d);f=uj(f,d)|0;f=Qj(wb[e&15](a,f)|0)|0;l=g;return f|0}function Or(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];Pr(a,d,f,0);l=e;return}function Pr(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=Qr()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=Rr(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,Sr(g,e)|0,e);l=f;return}function Qr(){var b=0,d=0;a[7848]|0||(Zr(10136),Ha(49,10136,o|0)|0,d=7848,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10136)|0)){b=10136;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Zr(10136)}return 10136}function Rr(a){a=a|0;return 0}function Sr(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=Qr()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],Tr(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(Ur(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function Tr(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function Ur(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=Vr(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;Wr(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];Tr(g,e,d);c[j>>2]=(c[j>>2]|0)+12;Xr(a,i);Yr(i);l=k;return}}function Vr(a){a=a|0;return 357913941}function Wr(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function Xr(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Yr(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function Zr(a){a=a|0;as(a);return}function _r(a){a=a|0;$r(a+24|0);return}function $r(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function as(a){a=a|0;var b=0;b=vi()|0;yi(a,2,9,b,bs()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function bs(){return 1372}function cs(a,b,d){a=a|0;b=b|0;d=+d;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;f=e+8|0;g=e;h=ds(a)|0;a=c[h+4>>2]|0;c[g>>2]=c[h>>2];c[g+4>>2]=a;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];es(b,f,d);l=e;return}function ds(a){a=a|0;return(c[(Qr()|0)+24>>2]|0)+(a*12|0)|0}function es(a,b,d){a=a|0;b=b|0;d=+d;var e=0,f=0,g=0,h=ib;g=l;l=l+16|0;f=g;e=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(e=c[(c[a>>2]|0)+e>>2]|0);fs(f,d);h=T(gs(f,d));kb[e&1](a,h);l=g;return}function fs(a,b){a=a|0;b=+b;return}function gs(a,b){a=a|0;b=+b;return T(hs(b))}function hs(a){a=+a;return T(a)}function is(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+16|0;f=e+8|0;g=e;i=c[d>>2]|0;h=c[d+4>>2]|0;d=ai(b)|0;c[g>>2]=i;c[g+4>>2]=h;c[f>>2]=c[g>>2];c[f+4>>2]=c[g+4>>2];js(a,d,f,0);l=e;return}function js(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0;f=l;l=l+32|0;g=f+16|0;m=f+8|0;i=f;k=c[d>>2]|0;j=c[d+4>>2]|0;h=c[a>>2]|0;a=ks()|0;c[m>>2]=k;c[m+4>>2]=j;c[g>>2]=c[m>>2];c[g+4>>2]=c[m+4>>2];d=ls(g)|0;c[i>>2]=k;c[i+4>>2]=j;c[g>>2]=c[i>>2];c[g+4>>2]=c[i+4>>2];fi(h,b,a,d,ms(g,e)|0,e);l=f;return}function ks(){var b=0,d=0;a[7856]|0||(ts(10172),Ha(50,10172,o|0)|0,d=7856,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10172)|0)){b=10172;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));ts(10172)}return 10172}function ls(a){a=a|0;return 0}function ms(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0;m=l;l=l+32|0;f=m+24|0;h=m+16|0;i=m;j=m+8|0;g=c[a>>2]|0;e=c[a+4>>2]|0;c[i>>2]=g;c[i+4>>2]=e;n=ks()|0;k=n+24|0;a=ji(b,4)|0;c[j>>2]=a;b=n+28|0;d=c[b>>2]|0;d>>>0<(c[n+32>>2]|0)>>>0?(c[h>>2]=g,c[h+4>>2]=e,c[f>>2]=c[h>>2],c[f+4>>2]=c[h+4>>2],ns(d,f,a),a=(c[b>>2]|0)+12|0,c[b>>2]=a):(os(k,i,j),a=c[b>>2]|0);l=m;return((a-(c[k>>2]|0)|0)/12|0)+-1|0}function ns(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;e=c[b+4>>2]|0;c[a>>2]=c[b>>2];c[a+4>>2]=e;c[a+8>>2]=d;return}function os(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0;k=l;l=l+48|0;e=k+32|0;h=k+24|0;i=k;j=a+4|0;f=(((c[j>>2]|0)-(c[a>>2]|0)|0)/12|0)+1|0;g=ps(a)|0;if(g>>>0<f>>>0)jC(a);else{m=c[a>>2]|0;o=((c[a+8>>2]|0)-m|0)/12|0;n=o<<1;qs(i,o>>>0<g>>>1>>>0?n>>>0<f>>>0?f:n:g,((c[j>>2]|0)-m|0)/12|0,a+8|0);j=i+8|0;g=c[j>>2]|0;f=c[b+4>>2]|0;d=c[d>>2]|0;c[h>>2]=c[b>>2];c[h+4>>2]=f;c[e>>2]=c[h>>2];c[e+4>>2]=c[h+4>>2];ns(g,e,d);c[j>>2]=(c[j>>2]|0)+12;rs(a,i);ss(i);l=k;return}}function ps(a){a=a|0;return 357913941}function qs(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>357913941)Ta();else{f=qC(b*12|0)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d*12|0)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b*12|0);return}function rs(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(((f|0)/-12|0)*12|0)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function ss(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~(((e+-12-b|0)>>>0)/12|0)*12|0));a=c[a>>2]|0;a|0&&sC(a);return}function ts(a){a=a|0;ws(a);return}function us(a){a=a|0;vs(a+24|0);return}function vs(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~(((b+-12-e|0)>>>0)/12|0)*12|0)),sC(d));return}function ws(a){a=a|0;var b=0;b=vi()|0;yi(a,2,3,b,xs()|0,2);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function xs(){return 1380}function ys(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;f=l;l=l+16|0;g=f+8|0;h=f;i=zs(a)|0;a=c[i+4>>2]|0;c[h>>2]=c[i>>2];c[h+4>>2]=a;c[g>>2]=c[h>>2];c[g+4>>2]=c[h+4>>2];As(b,g,d,e);l=f;return}function zs(a){a=a|0;return(c[(ks()|0)+24>>2]|0)+(a*12|0)|0}function As(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;i=l;l=l+16|0;g=i+1|0;h=i;f=c[b>>2]|0;b=c[b+4>>2]|0;a=a+(b>>1)|0;b&1&&(f=c[(c[a>>2]|0)+f>>2]|0);tj(g,d);g=uj(g,d)|0;Bs(h,e);h=Cs(h,e)|0;Eb[f&15](a,g,h);l=i;return}function Bs(a,b){a=a|0;b=b|0;return}function Cs(a,b){a=a|0;b=b|0;return Ds(b)|0}function Ds(a){a=a|0;return(a|0)!=0|0}function Es(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=Fs()|0;a=Gs(d)|0;fi(g,b,f,a,Hs(d,e)|0,e);return}function Fs(){var b=0,d=0;a[7864]|0||(Os(10208),Ha(51,10208,o|0)|0,d=7864,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10208)|0)){b=10208;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Os(10208)}return 10208}function Gs(a){a=a|0;return a|0}function Hs(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=Fs()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(Is(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(Js(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function Is(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function Js(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=Ks(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;Ls(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;Is(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;Ms(a,f);Ns(f);l=i;return}}function Ks(a){a=a|0;return 536870911}function Ls(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function Ms(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Ns(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function Os(a){a=a|0;Rs(a);return}function Ps(a){a=a|0;Qs(a+24|0);return}function Qs(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function Rs(a){a=a|0;var b=0;b=vi()|0;yi(a,1,24,b,Ss()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Ss(){return 1392}function Ts(a,b){a=a|0;b=b|0;Vs(c[(Us(a)|0)>>2]|0,b);return}function Us(a){a=a|0;return(c[(Fs()|0)+24>>2]|0)+(a<<3)|0}function Vs(a,b){a=a|0;b=b|0;var c=0,d=0;c=l;l=l+16|0;d=c;Lq(d,b);b=Mq(d,b)|0;nb[a&127](b);l=c;return}function Ws(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=Xs()|0;a=Ys(d)|0;fi(g,b,f,a,Zs(d,e)|0,e);return}function Xs(){var b=0,d=0;a[7872]|0||(et(10244),Ha(52,10244,o|0)|0,d=7872,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10244)|0)){b=10244;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));et(10244)}return 10244}function Ys(a){a=a|0;return a|0}function Zs(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=Xs()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(_s(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):($s(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function _s(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function $s(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=at(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;bt(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;_s(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;ct(a,f);dt(f);l=i;return}}function at(a){a=a|0;return 536870911}function bt(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function ct(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function dt(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function et(a){a=a|0;ht(a);return}function ft(a){a=a|0;gt(a+24|0);return}function gt(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function ht(a){a=a|0;var b=0;b=vi()|0;yi(a,1,16,b,it()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function it(){return 1400}function jt(a){a=a|0;return lt(c[(kt(a)|0)>>2]|0)|0}function kt(a){a=a|0;return(c[(Xs()|0)+24>>2]|0)+(a<<3)|0}function lt(a){a=a|0;return mt(Ab[a&7]()|0)|0}function mt(a){a=a|0;return a|0}function nt(){var b=0;a[7880]|0||(ut(10280),Ha(25,10280,o|0)|0,b=7880,c[b>>2]=1,c[b+4>>2]=0);return 10280}function ot(a,b){a=a|0;b=b|0;c[a>>2]=pt()|0;c[a+4>>2]=qt()|0;c[a+12>>2]=b;c[a+8>>2]=rt()|0;c[a+32>>2]=4;return}function pt(){return 11711}function qt(){return 1356}function rt(){return lr()|0}function st(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;(jr(d,896)|0)==512?c|0&&(tt(c),sC(c)):b|0&&(mf(b),sC(b));return}function tt(a){a=a|0;a=c[a+4>>2]|0;a|0&&oC(a);return}function ut(a){a=a|0;Zi(a);return}function vt(a){a=a|0;wt(a,4920);xt(a)|0;yt(a)|0;return}function wt(a,b){a=a|0;b=b|0;var d=0;d=nn()|0;c[a>>2]=d;Yt(d,b);Hv(c[a>>2]|0);return}function xt(a){a=a|0;var b=0;b=c[a>>2]|0;At(b,Mt()|0);return a|0}function yt(a){a=a|0;var b=0;b=c[a>>2]|0;At(b,zt()|0);return a|0}function zt(){var b=0;a[7888]|0||(Bt(10328),Ha(53,10328,o|0)|0,b=7888,c[b>>2]=1,c[b+4>>2]=0);si(10328)|0||Bt(10328);return 10328}function At(a,b){a=a|0;b=b|0;fi(a,0,b,0,0,0);return}function Bt(a){a=a|0;Et(a);Gt(a,10);return}function Ct(a){a=a|0;Dt(a+24|0);return}function Dt(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function Et(a){a=a|0;var b=0;b=vi()|0;yi(a,5,1,b,Jt()|0,2);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Ft(a,b,c){a=a|0;b=b|0;c=+c;Ht(a,b,c);return}function Gt(a,b){a=a|0;b=b|0;c[a+20>>2]=b;return}function Ht(a,b,d){a=a|0;b=b|0;d=+d;var e=0,f=0,g=0,i=0,j=0;e=l;l=l+16|0;g=e+8|0;j=e+13|0;f=e;i=e+12|0;tj(j,b);c[g>>2]=uj(j,b)|0;rj(i,d);h[f>>3]=+sj(i,d);It(a,g,f);l=e;return}function It(b,d,e){b=b|0;d=d|0;e=e|0;mg(b+8|0,c[d>>2]|0,+h[e>>3]);a[b+24>>0]=1;return}function Jt(){return 1404}function Kt(a,b){a=a|0;b=+b;return Lt(a,b)|0}function Lt(a,b){a=a|0;b=+b;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;e=l;l=l+16|0;g=e+4|0;h=e+8|0;i=e;f=jy(8)|0;d=f;j=qC(16)|0;tj(g,a);a=uj(g,a)|0;rj(h,b);mg(j,a,+sj(h,b));h=d+4|0;c[h>>2]=j;a=qC(8)|0;h=c[h>>2]|0;c[i>>2]=0;c[g>>2]=c[i>>2];qn(a,h,g);c[f>>2]=a;l=e;return d|0}function Mt(){var b=0;a[7896]|0||(Nt(10364),Ha(54,10364,o|0)|0,b=7896,c[b>>2]=1,c[b+4>>2]=0);si(10364)|0||Nt(10364);return 10364}function Nt(a){a=a|0;Qt(a);Gt(a,55);return}function Ot(a){a=a|0;Pt(a+24|0);return}function Pt(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function Qt(a){a=a|0;var b=0;b=vi()|0;yi(a,5,4,b,Vt()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Rt(a){a=a|0;St(a);return}function St(a){a=a|0;Tt(a);return}function Tt(b){b=b|0;Ut(b+8|0);a[b+24>>0]=1;return}function Ut(a){a=a|0;c[a>>2]=0;h[a+8>>3]=0;return}function Vt(){return 1424}function Wt(){return Xt()|0}function Xt(){var a=0,b=0,d=0,e=0,f=0,g=0,h=0;b=l;l=l+16|0;f=b+4|0;h=b;d=jy(8)|0;a=d;e=qC(16)|0;Ut(e);g=a+4|0;c[g>>2]=e;e=qC(8)|0;g=c[g>>2]|0;c[h>>2]=0;c[f>>2]=c[h>>2];qn(e,g,f);c[d>>2]=e;l=b;return a|0}function Yt(a,b){a=a|0;b=b|0;c[a>>2]=Zt()|0;c[a+4>>2]=_t()|0;c[a+12>>2]=b;c[a+8>>2]=$t()|0;c[a+32>>2]=5;return}function Zt(){return 11710}function _t(){return 1416}function $t(){return cu()|0}function au(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;(jr(d,896)|0)==512?c|0&&(bu(c),sC(c)):b|0&&sC(b);return}function bu(a){a=a|0;a=c[a+4>>2]|0;a|0&&oC(a);return}function cu(){var b=0;a[7904]|0||(c[2600]=du()|0,c[2601]=0,b=7904,c[b>>2]=1,c[b+4>>2]=0);return 10400}function du(){return c[357]|0}function eu(a){a=a|0;fu(a,4926);gu(a)|0;return}function fu(a,b){a=a|0;b=b|0;var d=0;d=Ci()|0;c[a>>2]=d;su(d,b);Hv(c[a>>2]|0);return}function gu(a){a=a|0;var b=0;b=c[a>>2]|0;At(b,hu()|0);return a|0}function hu(){var b=0;a[7912]|0||(iu(10412),Ha(56,10412,o|0)|0,b=7912,c[b>>2]=1,c[b+4>>2]=0);si(10412)|0||iu(10412);return 10412}function iu(a){a=a|0;lu(a);Gt(a,57);return}function ju(a){a=a|0;ku(a+24|0);return}function ku(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function lu(a){a=a|0;var b=0;b=vi()|0;yi(a,5,5,b,pu()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function mu(a){a=a|0;nu(a);return}function nu(a){a=a|0;ou(a);return}function ou(b){b=b|0;var d=0,e=0;d=b+8|0;e=d+48|0;do c[d>>2]=0,d=d+4|0;while((d|0)<(e|0));a[b+56>>0]=1;return}function pu(){return 1432}function qu(){return ru()|0}function ru(){var a=0,b=0,d=0,e=0,f=0,g=0,h=0,i=0;h=l;l=l+16|0;a=h+4|0;b=h;d=jy(8)|0;e=d;f=qC(48)|0;g=f;i=g+48|0;do c[g>>2]=0,g=g+4|0;while((g|0)<(i|0));g=e+4|0;c[g>>2]=f;i=qC(8)|0;g=c[g>>2]|0;c[b>>2]=0;c[a>>2]=c[b>>2];Ji(i,g,a);c[d>>2]=i;l=h;return e|0}function su(a,b){a=a|0;b=b|0;c[a>>2]=tu()|0;c[a+4>>2]=uu()|0;c[a+12>>2]=b;c[a+8>>2]=vu()|0;c[a+32>>2]=6;return}function tu(){return 11704}function uu(){return 1436}function vu(){return cu()|0}function wu(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;(jr(d,896)|0)==512?c|0&&(xu(c),sC(c)):b|0&&sC(b);return}function xu(a){a=a|0;a=c[a+4>>2]|0;a|0&&oC(a);return}function yu(a){a=a|0;zu(a,4933);Au(a)|0;Bu(a)|0;return}function zu(a,b){a=a|0;b=b|0;var d=0;d=cv()|0;c[a>>2]=d;dv(d,b);Hv(c[a>>2]|0);return}function Au(a){a=a|0;var b=0;b=c[a>>2]|0;At(b,Su()|0);return a|0}function Bu(a){a=a|0;var b=0;b=c[a>>2]|0;At(b,Cu()|0);return a|0}function Cu(){var b=0;a[7920]|0||(Du(10452),Ha(58,10452,o|0)|0,b=7920,c[b>>2]=1,c[b+4>>2]=0);si(10452)|0||Du(10452);return 10452}function Du(a){a=a|0;Gu(a);Gt(a,1);return}function Eu(a){a=a|0;Fu(a+24|0);return}function Fu(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function Gu(a){a=a|0;var b=0;b=vi()|0;yi(a,5,1,b,Lu()|0,2);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Hu(a,b,c){a=a|0;b=+b;c=+c;Iu(a,b,c);return}function Iu(a,b,c){a=a|0;b=+b;c=+c;var d=0,e=0,f=0,g=0,i=0;d=l;l=l+32|0;f=d+8|0;i=d+17|0;e=d;g=d+16|0;rj(i,b);h[f>>3]=+sj(i,b);rj(g,c);h[e>>3]=+sj(g,c);Ju(a,f,e);l=d;return}function Ju(b,c,d){b=b|0;c=c|0;d=d|0;Ku(b+8|0,+h[c>>3],+h[d>>3]);a[b+24>>0]=1;return}function Ku(a,b,c){a=a|0;b=+b;c=+c;h[a>>3]=b;h[a+8>>3]=c;return}function Lu(){return 1472}function Mu(a,b){a=+a;b=+b;return Nu(a,b)|0}function Nu(a,b){a=+a;b=+b;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;e=l;l=l+16|0;h=e+4|0;i=e+8|0;j=e;f=jy(8)|0;d=f;g=qC(16)|0;rj(h,a);a=+sj(h,a);rj(i,b);Ku(g,a,+sj(i,b));i=d+4|0;c[i>>2]=g;g=qC(8)|0;i=c[i>>2]|0;c[j>>2]=0;c[h>>2]=c[j>>2];Ou(g,i,h);c[f>>2]=g;l=e;return d|0}function Ou(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;d=qC(16)|0;c[d+4>>2]=0;c[d+8>>2]=0;c[d>>2]=1452;c[d+12>>2]=b;c[a+4>>2]=d;return}function Pu(a){a=a|0;kC(a);sC(a);return}function Qu(a){a=a|0;a=c[a+12>>2]|0;a|0&&sC(a);return}function Ru(a){a=a|0;sC(a);return}function Su(){var b=0;a[7928]|0||(Tu(10488),Ha(59,10488,o|0)|0,b=7928,c[b>>2]=1,c[b+4>>2]=0);si(10488)|0||Tu(10488);return 10488}function Tu(a){a=a|0;Wu(a);Gt(a,60);return}function Uu(a){a=a|0;Vu(a+24|0);return}function Vu(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function Wu(a){a=a|0;var b=0;b=vi()|0;yi(a,5,6,b,$u()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Xu(a){a=a|0;Yu(a);return}function Yu(a){a=a|0;Zu(a);return}function Zu(b){b=b|0;_u(b+8|0);a[b+24>>0]=1;return}function _u(a){a=a|0;c[a>>2]=0;c[a+4>>2]=0;c[a+8>>2]=0;c[a+12>>2]=0;return}function $u(){return 1492}function av(){return bv()|0}function bv(){var a=0,b=0,d=0,e=0,f=0,g=0,h=0;b=l;l=l+16|0;f=b+4|0;h=b;d=jy(8)|0;a=d;e=qC(16)|0;_u(e);g=a+4|0;c[g>>2]=e;e=qC(8)|0;g=c[g>>2]|0;c[h>>2]=0;c[f>>2]=c[h>>2];Ou(e,g,f);c[d>>2]=e;l=b;return a|0}function cv(){var b=0;a[7936]|0||(jv(10524),Ha(25,10524,o|0)|0,b=7936,c[b>>2]=1,c[b+4>>2]=0);return 10524}function dv(a,b){a=a|0;b=b|0;c[a>>2]=ev()|0;c[a+4>>2]=fv()|0;c[a+12>>2]=b;c[a+8>>2]=gv()|0;c[a+32>>2]=7;return}function ev(){return 11700}function fv(){return 1484}function gv(){return cu()|0}function hv(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;(jr(d,896)|0)==512?c|0&&(iv(c),sC(c)):b|0&&sC(b);return}function iv(a){a=a|0;a=c[a+4>>2]|0;a|0&&oC(a);return}function jv(a){a=a|0;Zi(a);return}function kv(a,b,c){a=a|0;b=b|0;c=c|0;a=ai(b)|0;b=lv(c)|0;c=mv(c,0)|0;Zv(a,b,c,nv()|0,0);return}function lv(a){a=a|0;return a|0}function mv(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=nv()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(vv(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(wv(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function nv(){var b=0,d=0;a[7944]|0||(ov(10568),Ha(61,10568,o|0)|0,d=7944,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10568)|0)){b=10568;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));ov(10568)}return 10568}function ov(a){a=a|0;rv(a);return}function pv(a){a=a|0;qv(a+24|0);return}function qv(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function rv(a){a=a|0;var b=0;b=vi()|0;yi(a,1,17,b,ql()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function sv(a){a=a|0;return uv(c[(tv(a)|0)>>2]|0)|0}function tv(a){a=a|0;return(c[(nv()|0)+24>>2]|0)+(a<<3)|0}function uv(a){a=a|0;return ul(Ab[a&7]()|0)|0}function vv(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function wv(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=xv(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;yv(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;vv(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;zv(a,f);Av(f);l=i;return}}function xv(a){a=a|0;return 536870911}function yv(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function zv(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Av(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function Bv(){Cv();return}function Cv(){Dv(10604);return}function Dv(a){a=a|0;Ev(a,4955);return}function Ev(a,b){a=a|0;b=b|0;var d=0;d=Fv()|0;c[a>>2]=d;Gv(d,b);Hv(c[a>>2]|0);return}function Fv(){var b=0;a[7952]|0||(Rv(10612),Ha(25,10612,o|0)|0,b=7952,c[b>>2]=1,c[b+4>>2]=0);return 10612}function Gv(a,b){a=a|0;b=b|0;c[a>>2]=Mv()|0;c[a+4>>2]=Nv()|0;c[a+12>>2]=b;c[a+8>>2]=Ov()|0;c[a+32>>2]=8;return}function Hv(a){a=a|0;var b=0,d=0;b=l;l=l+16|0;d=b;Iv()|0;c[d>>2]=a;Jv(10608,d);l=b;return}function Iv(){a[11714]|0||(c[2652]=0,Ha(62,10608,o|0)|0,a[11714]=1);return 10608}function Jv(a,b){a=a|0;b=b|0;var d=0;d=qC(8)|0;c[d+4>>2]=c[b>>2];c[d>>2]=c[a>>2];c[a>>2]=d;return}function Kv(a){a=a|0;Lv(a);return}function Lv(a){a=a|0;var b=0,d=0;b=c[a>>2]|0;if(b|0)do d=b,b=c[b>>2]|0,sC(d);while((b|0)!=0);c[a>>2]=0;return}function Mv(){return 11715}function Nv(){return 1496}function Ov(){return lr()|0}function Pv(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;(jr(d,896)|0)==512?c|0&&(Qv(c),sC(c)):b|0&&sC(b);return}function Qv(a){a=a|0;a=c[a+4>>2]|0;a|0&&oC(a);return}function Rv(a){a=a|0;Zi(a);return}function Sv(a,b){a=a|0;b=b|0;var d=0,e=0;Iv()|0;d=c[2652]|0;a:do if(d|0){while(1){e=c[d+4>>2]|0;if(e|0?(AB(Tv(e)|0,a)|0)==0:0)break;d=c[d>>2]|0;if(!d)break a}Uv(e,b)}while(0);return}function Tv(a){a=a|0;return c[a+12>>2]|0}function Uv(a,b){a=a|0;b=b|0;var d=0;a=a+36|0;d=c[a>>2]|0;d|0&&(vf(d),sC(d));d=qC(4)|0;Og(d,b);c[a>>2]=d;return}function Vv(){a[11716]|0||(c[2664]=0,Ha(63,10656,o|0)|0,a[11716]=1);return 10656}function Wv(){var b=0;!(a[11717]|0)?(Xv(),c[2665]=1504,a[11717]=1,b=1504):b=c[2665]|0;return b|0}function Xv(){a[11740]|0||(a[11718]=ji(ji(8,0)|0,0)|0,a[11719]=ji(ji(0,0)|0,0)|0,a[11720]=ji(ji(0,16)|0,0)|0,a[11721]=ji(ji(8,0)|0,0)|0,a[11722]=ji(ji(0,0)|0,0)|0,a[11723]=ji(ji(8,0)|0,0)|0,a[11724]=ji(ji(0,0)|0,0)|0,a[11725]=ji(ji(8,0)|0,0)|0,a[11726]=ji(ji(0,0)|0,0)|0,a[11727]=ji(ji(8,0)|0,0)|0,a[11728]=ji(ji(0,0)|0,0)|0,a[11729]=ji(ji(0,0)|0,32)|0,a[11730]=ji(ji(0,0)|0,32)|0,a[11740]=1);return}function Yv(){return 1572}function Zv(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,m=0;g=l;l=l+32|0;m=g+16|0;k=g+12|0;j=g+8|0;i=g+4|0;h=g;c[m>>2]=a;c[k>>2]=b;c[j>>2]=d;c[i>>2]=e;c[h>>2]=f;Vv()|0;_v(10656,m,k,j,i,h);l=g;return}function _v(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0;h=qC(24)|0;ii(h+4|0,c[b>>2]|0,c[d>>2]|0,c[e>>2]|0,c[f>>2]|0,c[g>>2]|0);c[h>>2]=c[a>>2];c[a>>2]=h;return}function $v(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0;u=l;l=l+32|0;q=u+20|0;r=u+8|0;s=u+4|0;t=u;b=c[b>>2]|0;if(b|0){p=q+4|0;j=q+8|0;k=r+4|0;m=r+8|0;n=r+8|0;o=q+8|0;do{h=b+4|0;i=aw(h)|0;if(i|0){f=bw(i)|0;c[q>>2]=0;c[p>>2]=0;c[j>>2]=0;e=(cw(i)|0)+1|0;dw(q,e);if(e|0)while(1){e=e+-1|0;OA(r,c[f>>2]|0);g=c[p>>2]|0;g>>>0<(c[o>>2]|0)>>>0?(c[g>>2]=c[r>>2],c[p>>2]=(c[p>>2]|0)+4):ew(q,r);if(!e)break;else f=f+4|0}e=fw(i)|0;c[r>>2]=0;c[k>>2]=0;c[m>>2]=0;a:do if(c[e>>2]|0){f=0;g=0;while(1){(f|0)==(g|0)?gw(r,e):(c[f>>2]=c[e>>2],c[k>>2]=(c[k>>2]|0)+4);e=e+4|0;if(!(c[e>>2]|0))break a;f=c[k>>2]|0;g=c[n>>2]|0}}while(0);c[s>>2]=hw(h)|0;c[t>>2]=si(i)|0;iw(d,a,s,t,q,r);jw(r);kw(q)}b=c[b>>2]|0}while((b|0)!=0)}l=u;return}function aw(a){a=a|0;return c[a+12>>2]|0}function bw(a){a=a|0;return c[a+12>>2]|0}function cw(a){a=a|0;return c[a+16>>2]|0}function dw(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=l;l=l+32|0;d=f;e=c[a>>2]|0;(c[a+8>>2]|0)-e>>2>>>0<b>>>0&&(Rw(d,b,(c[a+4>>2]|0)-e>>2,a+8|0),Sw(a,d),Tw(d));l=f;return}function ew(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0;h=l;l=l+32|0;d=h;e=a+4|0;f=((c[e>>2]|0)-(c[a>>2]|0)>>2)+1|0;g=Nw(a)|0;if(g>>>0<f>>>0)jC(a);else{i=c[a>>2]|0;k=(c[a+8>>2]|0)-i|0;j=k>>1;Rw(d,k>>2>>>0<g>>>1>>>0?j>>>0<f>>>0?f:j:g,(c[e>>2]|0)-i>>2,a+8|0);g=d+8|0;c[c[g>>2]>>2]=c[b>>2];c[g>>2]=(c[g>>2]|0)+4;Sw(a,d);Tw(d);l=h;return}}function fw(a){a=a|0;return c[a+8>>2]|0}function gw(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0;h=l;l=l+32|0;d=h;e=a+4|0;f=((c[e>>2]|0)-(c[a>>2]|0)>>2)+1|0;g=Kw(a)|0;if(g>>>0<f>>>0)jC(a);else{i=c[a>>2]|0;k=(c[a+8>>2]|0)-i|0;j=k>>1;Ow(d,k>>2>>>0<g>>>1>>>0?j>>>0<f>>>0?f:j:g,(c[e>>2]|0)-i>>2,a+8|0);g=d+8|0;c[c[g>>2]>>2]=c[b>>2];c[g>>2]=(c[g>>2]|0)+4;Pw(a,d);Qw(d);l=h;return}}function hw(a){a=a|0;return c[a>>2]|0}function iw(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;lw(a,b,c,d,e,f);return}function jw(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-4-e|0)>>>2)<<2)),sC(d));return}function kw(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-4-e|0)>>>2)<<2)),sC(d));return}function lw(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,m=0,n=0;h=l;l=l+48|0;m=h+40|0;i=h+32|0;n=h+24|0;j=h+12|0;k=h;UA(i);a=Sg(a)|0;c[n>>2]=c[b>>2];d=c[d>>2]|0;e=c[e>>2]|0;mw(j,f);nw(k,g);c[m>>2]=c[n>>2];ow(a,m,d,e,j,k);jw(k);kw(j);WA(i);l=h;return}function mw(a,b){a=a|0;b=b|0;var d=0,e=0;c[a>>2]=0;c[a+4>>2]=0;c[a+8>>2]=0;d=b+4|0;e=(c[d>>2]|0)-(c[b>>2]|0)>>2;e|0&&(Lw(a,e),Mw(a,c[b>>2]|0,c[d>>2]|0,e));return}function nw(a,b){a=a|0;b=b|0;var d=0,e=0;c[a>>2]=0;c[a+4>>2]=0;c[a+8>>2]=0;d=b+4|0;e=(c[d>>2]|0)-(c[b>>2]|0)>>2;e|0&&(Iw(a,e),Jw(a,c[b>>2]|0,c[d>>2]|0,e));return}function ow(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,m=0,n=0;h=l;l=l+32|0;m=h+28|0;n=h+24|0;i=h+12|0;j=h;k=Vg(pw()|0)|0;c[n>>2]=c[b>>2];c[m>>2]=c[n>>2];b=qw(m)|0;d=rw(d)|0;e=sw(e)|0;c[i>>2]=c[f>>2];m=f+4|0;c[i+4>>2]=c[m>>2];n=f+8|0;c[i+8>>2]=c[n>>2];c[n>>2]=0;c[m>>2]=0;c[f>>2]=0;f=tw(i)|0;c[j>>2]=c[g>>2];m=g+4|0;c[j+4>>2]=c[m>>2];n=g+8|0;c[j+8>>2]=c[n>>2];c[n>>2]=0;c[m>>2]=0;c[g>>2]=0;Ba(0,k|0,a|0,b|0,d|0,e|0,f|0,uw(j)|0)|0;jw(j);kw(i);l=h;return}function pw(){var b=0;a[7968]|0||(Gw(10708),b=7968,c[b>>2]=1,c[b+4>>2]=0);return 10708}function qw(a){a=a|0;return yw(a)|0}function rw(a){a=a|0;return ww(a)|0}function sw(a){a=a|0;return ul(a)|0}function tw(a){a=a|0;return xw(a)|0}function uw(a){a=a|0;return vw(a)|0}function vw(a){a=a|0;var b=0,d=0,e=0;e=(c[a+4>>2]|0)-(c[a>>2]|0)|0;d=e>>2;e=jy(e+4|0)|0;c[e>>2]=d;if(d|0){b=0;do c[e+4+(b<<2)>>2]=ww(c[(c[a>>2]|0)+(b<<2)>>2]|0)|0,b=b+1|0;while((b|0)!=(d|0))}return e|0}function ww(a){a=a|0;return a|0}function xw(a){a=a|0;var b=0,d=0,e=0;e=(c[a+4>>2]|0)-(c[a>>2]|0)|0;d=e>>2;e=jy(e+4|0)|0;c[e>>2]=d;if(d|0){b=0;do c[e+4+(b<<2)>>2]=yw((c[a>>2]|0)+(b<<2)|0)|0,b=b+1|0;while((b|0)!=(d|0))}return e|0}function yw(a){a=a|0;var b=0,c=0,d=0,e=0;e=l;l=l+32|0;b=e+12|0;c=e;d=Di(zw()|0)|0;!d?a=Aw(a)|0:(Ei(b,d),Fi(c,b),RA(a,c),a=Hi(b)|0);l=e;return a|0}function zw(){var b=0;a[7960]|0||(Fw(10664),Ha(25,10664,o|0)|0,b=7960,c[b>>2]=1,c[b+4>>2]=0);return 10664}function Aw(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0;d=l;l=l+16|0;f=d+4|0;h=d;e=jy(8)|0;b=e;i=qC(4)|0;c[i>>2]=c[a>>2];g=b+4|0;c[g>>2]=i;a=qC(8)|0;g=c[g>>2]|0;c[h>>2]=0;c[f>>2]=c[h>>2];Bw(a,g,f);c[e>>2]=a;l=d;return b|0}function Bw(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;d=qC(16)|0;c[d+4>>2]=0;c[d+8>>2]=0;c[d>>2]=1656;c[d+12>>2]=b;c[a+4>>2]=d;return}function Cw(a){a=a|0;kC(a);sC(a);return}function Dw(a){a=a|0;a=c[a+12>>2]|0;a|0&&sC(a);return}function Ew(a){a=a|0;sC(a);return}function Fw(a){a=a|0;Zi(a);return}function Gw(a){a=a|0;fh(a,Hw()|0,5);return}function Hw(){return 1676}function Iw(a,b){a=a|0;b=b|0;var d=0;(Kw(a)|0)>>>0<b>>>0&&jC(a);if(b>>>0>1073741823)Ta();else{d=qC(b<<2)|0;c[a+4>>2]=d;c[a>>2]=d;c[a+8>>2]=d+(b<<2);return}}function Jw(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;e=a+4|0;a=d-b|0;(a|0)>0&&(BC(c[e>>2]|0,b|0,a|0)|0,c[e>>2]=(c[e>>2]|0)+(a>>>2<<2));return}function Kw(a){a=a|0;return 1073741823}function Lw(a,b){a=a|0;b=b|0;var d=0;(Nw(a)|0)>>>0<b>>>0&&jC(a);if(b>>>0>1073741823)Ta();else{d=qC(b<<2)|0;c[a+4>>2]=d;c[a>>2]=d;c[a+8>>2]=d+(b<<2);return}}function Mw(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;e=a+4|0;a=d-b|0;(a|0)>0&&(BC(c[e>>2]|0,b|0,a|0)|0,c[e>>2]=(c[e>>2]|0)+(a>>>2<<2));return}function Nw(a){a=a|0;return 1073741823}function Ow(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>1073741823)Ta();else{f=qC(b<<2)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<2)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<2);return}function Pw(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>2)<<2)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Qw(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-4-b|0)>>>2)<<2));a=c[a>>2]|0;a|0&&sC(a);return}function Rw(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>1073741823)Ta();else{f=qC(b<<2)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<2)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<2);return}function Sw(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>2)<<2)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Tw(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-4-b|0)>>>2)<<2));a=c[a>>2]|0;a|0&&sC(a);return}function Uw(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0;r=l;l=l+32|0;m=r+20|0;n=r+12|0;k=r+16|0;o=r+4|0;p=r;q=r+8|0;i=Wv()|0;g=c[i>>2]|0;h=c[g>>2]|0;if(h|0){j=c[i+8>>2]|0;i=c[i+4>>2]|0;while(1){OA(m,h);Vw(a,m,i,j);g=g+4|0;h=c[g>>2]|0;if(!h)break;else j=j+1|0,i=i+1|0}}g=Yv()|0;h=c[g>>2]|0;if(h|0)do OA(m,h),c[n>>2]=c[g+4>>2],Ww(b,m,n),g=g+8|0,h=c[g>>2]|0;while((h|0)!=0);g=c[(Iv()|0)>>2]|0;if(g|0)do b=c[g+4>>2]|0,OA(m,c[(Xw(b)|0)>>2]|0),c[n>>2]=Tv(b)|0,Yw(d,m,n),g=c[g>>2]|0;while((g|0)!=0);OA(k,0);g=Vv()|0;c[m>>2]=c[k>>2];$v(m,g,f);g=c[(Iv()|0)>>2]|0;if(g|0){a=m+4|0;b=m+8|0;d=m+8|0;do{j=c[g+4>>2]|0;OA(n,c[(Xw(j)|0)>>2]|0);_w(o,Zw(j)|0);h=c[o>>2]|0;if(h|0){c[m>>2]=0;c[a>>2]=0;c[b>>2]=0;do OA(p,c[(Xw(c[h+4>>2]|0)|0)>>2]|0),i=c[a>>2]|0,i>>>0<(c[d>>2]|0)>>>0?(c[i>>2]=c[p>>2],c[a>>2]=(c[a>>2]|0)+4):ew(m,p),h=c[h>>2]|0;while((h|0)!=0);$w(e,n,m);kw(m)}c[q>>2]=c[n>>2];k=ax(j)|0;c[m>>2]=c[q>>2];$v(m,k,f);Wi(o);g=c[g>>2]|0}while((g|0)!=0)}l=r;return}function Vw(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;ox(a,b,c,d);return}function Ww(a,b,c){a=a|0;b=b|0;c=c|0;nx(a,b,c);return}function Xw(a){a=a|0;return a|0}function Yw(a,b,c){a=a|0;b=b|0;c=c|0;i_x(a,b,c);return}function Zw(a){a=a|0;return a+16|0}function _w(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;g=l;l=l+16|0;f=g+8|0;d=g;c[a>>2]=0;e=c[b>>2]|0;c[f>>2]=e;c[d>>2]=a;d=gx(d)|0;if(e|0){e=qC(12)|0;h=(hx(f)|0)+4|0;a=c[h+4>>2]|0;b=e+4|0;c[b>>2]=c[h>>2];c[b+4>>2]=a;b=c[c[f>>2]>>2]|0;c[f>>2]=b;if(!b)a=e;else{b=e;while(1){a=qC(12)|0;j=(hx(f)|0)+4|0;i=c[j+4>>2]|0;h=a+4|0;c[h>>2]=c[j>>2];c[h+4>>2]=i;c[b>>2]=a;h=c[c[f>>2]>>2]|0;c[f>>2]=h;if(!h)break;else b=a}}c[a>>2]=c[d>>2];c[d>>2]=e}l=g;return}function $w(a,b,c){a=a|0;b=b|0;c=c|0;b_x(a,b,c);return}function ax(a){a=a|0;return a+24|0}function b_x(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+32|0;h=e+24|0;f=e+16|0;i=e+12|0;g=e;UA(f);a=Sg(a)|0;c[i>>2]=c[b>>2];mw(g,d);c[h>>2]=c[i>>2];c_x(a,h,g);kw(g);WA(f);l=e;return}function c_x(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;e=l;l=l+32|0;h=e+16|0;i=e+12|0;f=e;g=Vg(dx()|0)|0;c[i>>2]=c[b>>2];c[h>>2]=c[i>>2];b=qw(h)|0;c[f>>2]=c[d>>2];h=d+4|0;c[f+4>>2]=c[h>>2];i=d+8|0;c[f+8>>2]=c[i>>2];c[i>>2]=0;c[h>>2]=0;c[d>>2]=0;xa(0,g|0,a|0,b|0,tw(f)|0)|0;kw(f);l=e;return}function dx(){var b=0;a[7976]|0||(ex(10720),b=7976,c[b>>2]=1,c[b+4>>2]=0);return 10720}function ex(a){a=a|0;fh(a,fx()|0,2);return}function fx(){return 1732}function gx(a){a=a|0;return c[a>>2]|0}function hx(a){a=a|0;return c[a>>2]|0}function i_x(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+32|0;g=e+16|0;f=e+8|0;h=e;UA(f);a=Sg(a)|0;c[h>>2]=c[b>>2];d=c[d>>2]|0;c[g>>2]=c[h>>2];jx(a,g,d);WA(f);l=e;return}function jx(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+16|0;g=e+4|0;h=e;f=Vg(kx()|0)|0;c[h>>2]=c[b>>2];c[g>>2]=c[h>>2];b=qw(g)|0;xa(0,f|0,a|0,b|0,rw(d)|0)|0;l=e;return}function kx(){var b=0;a[7984]|0||(lx(10732),b=7984,c[b>>2]=1,c[b+4>>2]=0);return 10732}function lx(a){a=a|0;fh(a,mx()|0,2);return}function mx(){return 1744}function nx(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;e=l;l=l+32|0;g=e+16|0;f=e+8|0;h=e;UA(f);a=Sg(a)|0;c[h>>2]=c[b>>2];d=c[d>>2]|0;c[g>>2]=c[h>>2];jx(a,g,d);WA(f);l=e;return}function ox(b,d,e,f){b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0;g=l;l=l+32|0;i=g+16|0;h=g+8|0;j=g;UA(h);b=Sg(b)|0;c[j>>2]=c[d>>2];e=a[e>>0]|0;f=a[f>>0]|0;c[i>>2]=c[j>>2];px(b,i,e,f);WA(h);l=g;return}function px(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;f=l;l=l+16|0;h=f+4|0;i=f;g=Vg(qx()|0)|0;c[i>>2]=c[b>>2];c[h>>2]=c[i>>2];b=qw(h)|0;d=rx(d)|0;$a(0,g|0,a|0,b|0,d|0,rx(e)|0)|0;l=f;return}function qx(){var b=0;a[7992]|0||(tx(10744),b=7992,c[b>>2]=1,c[b+4>>2]=0);return 10744}function rx(a){a=a|0;return sx(a)|0}function sx(a){a=a|0;return a&255|0}function tx(a){a=a|0;fh(a,ux()|0,3);return}function ux(){return 1756}function vx(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0;p=l;l=l+32|0;j=p+8|0;k=p+4|0;m=p+20|0;n=p;mk(b,0);f=QA(d)|0;c[j>>2]=0;o=j+4|0;c[o>>2]=0;c[j+8>>2]=0;switch(f<<24>>24){case 0:a[m>>0]=0;wx(k,e,m);xx(b,k)|0;wf(k);break;case 8:o=PA(d)|0;a[m>>0]=8;OA(n,c[o+4>>2]|0);yx(k,e,m,n,o+8|0);xx(b,k)|0;wf(k);break;case 9:h=PA(d)|0;d=c[h+4>>2]|0;if(d|0){i=j+8|0;g=h+12|0;while(1){d=d+-1|0;OA(k,c[g>>2]|0);f=c[o>>2]|0;f>>>0<(c[i>>2]|0)>>>0?(c[f>>2]=c[k>>2],c[o>>2]=(c[o>>2]|0)+4):ew(j,k);if(!d)break;else g=g+4|0}}a[m>>0]=9;OA(n,c[h+8>>2]|0);zx(k,e,m,n,j);xx(b,k)|0;wf(k);break;default:o=PA(d)|0,a[m>>0]=f,OA(n,c[o+4>>2]|0),Ax(k,e,m,n),xx(b,k)|0,wf(k)}kw(j);l=p;return}function wx(b,c,d){b=b|0;c=c|0;d=d|0;var e=0,f=0;e=l;l=l+16|0;f=e;UA(f);c=Sg(c)|0;Ox(b,c,a[d>>0]|0);WA(f);l=e;return}function xx(a,b){a=a|0;b=b|0;var d=0;d=c[a>>2]|0;d|0&&ab(d|0);c[a>>2]=c[b>>2];c[b>>2]=0;return a|0}function yx(b,d,e,f,g){b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0;h=l;l=l+32|0;j=h+16|0;i=h+8|0;k=h;UA(i);d=Sg(d)|0;e=a[e>>0]|0;c[k>>2]=c[f>>2];g=c[g>>2]|0;c[j>>2]=c[k>>2];Kx(b,d,e,j,g);WA(i);l=h;return}function zx(b,d,e,f,g){b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,m=0;h=l;l=l+32|0;k=h+24|0;i=h+16|0;m=h+12|0;j=h;UA(i);d=Sg(d)|0;e=a[e>>0]|0;c[m>>2]=c[f>>2];mw(j,g);c[k>>2]=c[m>>2];Gx(b,d,e,k,j);kw(j);WA(i);l=h;return}function Ax(b,d,e,f){b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0;g=l;l=l+32|0;i=g+16|0;h=g+8|0;j=g;UA(h);d=Sg(d)|0;e=a[e>>0]|0;c[j>>2]=c[f>>2];c[i>>2]=c[j>>2];Bx(b,d,e,i);WA(h);l=g;return}function Bx(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;f=l;l=l+16|0;g=f+4|0;i=f;h=Vg(Cx()|0)|0;d=rx(d)|0;c[i>>2]=c[e>>2];c[g>>2]=c[i>>2];Dx(a,xa(0,h|0,b|0,d|0,qw(g)|0)|0);l=f;return}function Cx(){var b=0;a[8e3]|0||(Ex(10756),b=8e3,c[b>>2]=1,c[b+4>>2]=0);return 10756}function Dx(a,b){a=a|0;b=b|0;mk(a,b);return}function Ex(a){a=a|0;fh(a,Fx()|0,2);return}function Fx(){return 1772}function Gx(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0;g=l;l=l+32|0;j=g+16|0;k=g+12|0;h=g;i=Vg(Hx()|0)|0;d=rx(d)|0;c[k>>2]=c[e>>2];c[j>>2]=c[k>>2];e=qw(j)|0;c[h>>2]=c[f>>2];j=f+4|0;c[h+4>>2]=c[j>>2];k=f+8|0;c[h+8>>2]=c[k>>2];c[k>>2]=0;c[j>>2]=0;c[f>>2]=0;Dx(a,$a(0,i|0,b|0,d|0,e|0,tw(h)|0)|0);kw(h);l=g;return}function Hx(){var b=0;a[8008]|0||(Ix(10768),b=8008,c[b>>2]=1,c[b+4>>2]=0);return 10768}function Ix(a){a=a|0;fh(a,Jx()|0,3);return}function Jx(){return 1784}function Kx(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0;g=l;l=l+16|0;i=g+4|0;j=g;h=Vg(Lx()|0)|0;d=rx(d)|0;c[j>>2]=c[e>>2];c[i>>2]=c[j>>2];e=qw(i)|0;Dx(a,$a(0,h|0,b|0,d|0,e|0,sw(f)|0)|0);l=g;return}function Lx(){var b=0;a[8016]|0||(Mx(10780),b=8016,c[b>>2]=1,c[b+4>>2]=0);return 10780}function Mx(a){a=a|0;fh(a,Nx()|0,3);return}function Nx(){return 1800}function Ox(a,b,c){a=a|0;b=b|0;c=c|0;var d=0;d=Vg(Px()|0)|0;Dx(a,bb(0,d|0,b|0,rx(c)|0)|0);return}function Px(){var b=0;a[8024]|0||(Qx(10792),b=8024,c[b>>2]=1,c[b+4>>2]=0);return 10792}function Qx(a){a=a|0;fh(a,Rx()|0,1);return}function Rx(){return 1816}function Sx(){Tx();Ux();Vx();return}function Tx(){c[2702]=rC(65536)|0;return}function Ux(){qy(10856);return}function Vx(){Wx(10816);return}function Wx(a){a=a|0;Xx(a,5044);Yx(a)|0;return}function Xx(a,b){a=a|0;b=b|0;var d=0;d=zw()|0;c[a>>2]=d;ky(d,b);Hv(c[a>>2]|0);return}function Yx(a){a=a|0;var b=0;b=c[a>>2]|0;At(b,Zx()|0);return a|0}function Zx(){var b=0;a[8032]|0||(_x(10820),Ha(64,10820,o|0)|0,b=8032,c[b>>2]=1,c[b+4>>2]=0);si(10820)|0||_x(10820);return 10820}function _x(a){a=a|0;by(a);Gt(a,25);return}function $x(a){a=a|0;ay(a+24|0);return}function ay(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function by(a){a=a|0;var b=0;b=vi()|0;yi(a,5,18,b,gy()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function cy(a,b){a=a|0;b=b|0;dy(a,b);return}function dy(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;d=l;l=l+16|0;e=d;f=d+4|0;Gk(f,b);c[e>>2]=Hk(f,b)|0;ey(a,e);l=d;return}function ey(b,d){b=b|0;d=d|0;fy(b+4|0,c[d>>2]|0);a[b+8>>0]=1;return}function fy(a,b){a=a|0;b=b|0;c[a>>2]=b;return}function gy(){return 1824}function hy(a){a=a|0;return iy(a)|0}function iy(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0;d=l;l=l+16|0;f=d+4|0;h=d;e=jy(8)|0;b=e;i=qC(4)|0;Gk(f,a);fy(i,Hk(f,a)|0);g=b+4|0;c[g>>2]=i;a=qC(8)|0;g=c[g>>2]|0;c[h>>2]=0;c[f>>2]=c[h>>2];Bw(a,g,f);c[e>>2]=a;l=d;return b|0}function jy(a){a=a|0;var b=0,d=0;a=a+7&-8;(a>>>0<=32768?(b=c[2701]|0,a>>>0<=(65536-b|0)>>>0):0)?(d=(c[2702]|0)+b|0,c[2701]=b+a,a=d):(a=rC(a+8|0)|0,c[a>>2]=c[2703],c[2703]=a,a=a+8|0);return a|0}function ky(a,b){a=a|0;b=b|0;c[a>>2]=ly()|0;c[a+4>>2]=my()|0;c[a+12>>2]=b;c[a+8>>2]=ny()|0;c[a+32>>2]=9;return}function ly(){return 11744}function my(){return 1832}function ny(){return cu()|0}function oy(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;(jr(d,896)|0)==512?c|0&&(py(c),sC(c)):b|0&&sC(b);return}function py(a){a=a|0;a=c[a+4>>2]|0;a|0&&oC(a);return}function qy(a){a=a|0;ry(a,5052);sy(a)|0;ty(a,5058,26)|0;uy(a,5069,1)|0;vy(a,5077,10)|0;wy(a,5087,19)|0;yy(a,5094,27)|0;return}function ry(a,b){a=a|0;b=b|0;var d=0;d=GA()|0;c[a>>2]=d;HA(d,b);Hv(c[a>>2]|0);return}function sy(a){a=a|0;var b=0;b=c[a>>2]|0;At(b,rA()|0);return a|0}function ty(a,b,c){a=a|0;b=b|0;c=c|0;Yz(a,ai(b)|0,c,0);return a|0}function uy(a,b,c){a=a|0;b=b|0;c=c|0;Gz(a,ai(b)|0,c,0);return a|0}function vy(a,b,c){a=a|0;b=b|0;c=c|0;hz(a,ai(b)|0,c,0);return a|0}function wy(a,b,c){a=a|0;b=b|0;c=c|0;Ry(a,ai(b)|0,c,0);return a|0}function xy(a,b){a=a|0;b=b|0;var d=0,e=0;a:while(1){d=c[2703]|0;while(1){if((d|0)==(b|0))break a;e=c[d>>2]|0;c[2703]=e;if(!d)d=e;else break}sC(d)}c[2701]=a;return}function yy(a,b,c){a=a|0;b=b|0;c=c|0;zy(a,ai(b)|0,c,0);return a|0}function zy(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=Ay()|0;a=By(d)|0;fi(g,b,f,a,Cy(d,e)|0,e);return}function Ay(){var b=0,d=0;a[8040]|0||(Jy(10860),Ha(65,10860,o|0)|0,d=8040,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10860)|0)){b=10860;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Jy(10860)}return 10860}function By(a){a=a|0;return a|0}function Cy(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=Ay()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(Dy(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(Ey(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function Dy(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function Ey(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=Fy(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;Gy(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;Dy(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;Hy(a,f);Iy(f);l=i;return}}function Fy(a){a=a|0;return 536870911}function Gy(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function Hy(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Iy(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function Jy(a){a=a|0;My(a);return}function Ky(a){a=a|0;Ly(a+24|0);return}function Ly(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function My(a){a=a|0;var b=0;b=vi()|0;yi(a,1,11,b,Ny()|0,2);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Ny(){return 1840}function Oy(a,b,d){a=a|0;b=b|0;d=d|0;Qy(c[(Py(a)|0)>>2]|0,b,d);return}function Py(a){a=a|0;return(c[(Ay()|0)+24>>2]|0)+(a<<3)|0}function Qy(a,b,c){a=a|0;b=b|0;c=c|0;var d=0,e=0,f=0;d=l;l=l+16|0;f=d+1|0;e=d;Gk(f,b);b=Hk(f,b)|0;Gk(e,c);c=Hk(e,c)|0;ob[a&31](b,c);l=d;return}function Ry(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=Sy()|0;a=Ty(d)|0;fi(g,b,f,a,Uy(d,e)|0,e);return}function Sy(){var b=0,d=0;a[8048]|0||($y(10896),Ha(66,10896,o|0)|0,d=8048,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10896)|0)){b=10896;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));$y(10896)}return 10896}function Ty(a){a=a|0;return a|0}function Uy(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=Sy()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(Vy(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(Wy(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function Vy(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function Wy(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=Xy(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;Yy(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;Vy(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;Zy(a,f);_y(f);l=i;return}}function Xy(a){a=a|0;return 536870911}function Yy(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function Zy(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function _y(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function $y(a){a=a|0;cz(a);return}function az(a){a=a|0;bz(a+24|0);return}function bz(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function cz(a){a=a|0;var b=0;b=vi()|0;yi(a,1,11,b,dz()|0,1);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function dz(){return 1852}function ez(a,b){a=a|0;b=b|0;return gz(c[(fz(a)|0)>>2]|0,b)|0}function fz(a){a=a|0;return(c[(Sy()|0)+24>>2]|0)+(a<<3)|0}function gz(a,b){a=a|0;b=b|0;var c=0,d=0;c=l;l=l+16|0;d=c;Gk(d,b);b=Hk(d,b)|0;b=ul(pb[a&31](b)|0)|0;l=c;return b|0}function hz(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=iz()|0;a=jz(d)|0;fi(g,b,f,a,kz(d,e)|0,e);return}function iz(){var b=0,d=0;a[8056]|0||(rz(10932),Ha(67,10932,o|0)|0,d=8056,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10932)|0)){b=10932;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));rz(10932)}return 10932}function jz(a){a=a|0;return a|0}function kz(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=iz()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(lz(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(mz(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function lz(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function mz(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=nz(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;oz(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;lz(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;pz(a,f);qz(f);l=i;return}}function nz(a){a=a|0;return 536870911}function oz(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function pz(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function qz(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function rz(a){a=a|0;uz(a);return}function sz(a){a=a|0;tz(a+24|0);return}function tz(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function uz(a){a=a|0;var b=0;b=vi()|0;yi(a,1,7,b,vz()|0,2);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function vz(){return 1860}function wz(a,b,d){a=a|0;b=b|0;d=d|0;return yz(c[(xz(a)|0)>>2]|0,b,d)|0}function xz(a){a=a|0;return(c[(iz()|0)+24>>2]|0)+(a<<3)|0}function yz(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0;e=l;l=l+32|0;h=e+12|0;g=e+8|0;i=e;j=e+16|0;f=e+4|0;zz(j,b);Az(i,j,b);ik(f,d);d=jk(f,d)|0;c[h>>2]=c[i>>2];Eb[a&15](g,h,d);d=Bz(g)|0;wf(g);kk(f);l=e;return d|0}function zz(a,b){a=a|0;b=b|0;return}function Az(a,b,c){a=a|0;b=b|0;c=c|0;Cz(a,c);return}function Bz(a){a=a|0;return Sg(a)|0}function Cz(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=l;l=l+16|0;d=f;e=b;!(e&1)?c[a>>2]=c[b>>2]:(Dz(d,0),Ja(e|0,d|0)|0,Ez(a,d),Fz(d));l=f;return}function Dz(b,d){b=b|0;d=d|0;ah(b,d);c[b+4>>2]=0;a[b+8>>0]=0;return}function Ez(a,b){a=a|0;b=b|0;c[a>>2]=c[b+4>>2];return}function Fz(b){b=b|0;a[b+8>>0]=0;return}function Gz(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=Hz()|0;a=Iz(d)|0;fi(g,b,f,a,Jz(d,e)|0,e);return}function Hz(){var b=0,d=0;a[8064]|0||(Qz(10968),Ha(68,10968,o|0)|0,d=8064,c[d>>2]=1,c[d+4>>2]=0);if(!(si(10968)|0)){b=10968;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));Qz(10968)}return 10968}function Iz(a){a=a|0;return a|0}function Jz(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=Hz()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(Kz(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(Lz(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function Kz(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function Lz(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=Mz(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;Nz(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;Kz(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;Oz(a,f);Pz(f);l=i;return}}function Mz(a){a=a|0;return 536870911}function Nz(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function Oz(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function Pz(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function Qz(a){a=a|0;Tz(a);return}function Rz(a){a=a|0;Sz(a+24|0);return}function Sz(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function Tz(a){a=a|0;var b=0;b=vi()|0;yi(a,1,1,b,Uz()|0,5);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function Uz(){return 1872}function Vz(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;Xz(c[(Wz(a)|0)>>2]|0,b,d,e,f,g);return}function Wz(a){a=a|0;return(c[(Hz()|0)+24>>2]|0)+(a<<3)|0}function Xz(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,m=0;g=l;l=l+32|0;h=g+16|0;i=g+12|0;j=g+8|0;k=g+4|0;m=g;ik(h,b);b=jk(h,b)|0;ik(i,c);c=jk(i,c)|0;ik(j,d);d=jk(j,d)|0;ik(k,e);e=jk(k,e)|0;ik(m,f);f=jk(m,f)|0;jb[a&1](b,c,d,e,f);kk(m);kk(k);kk(j);kk(i);kk(h);l=g;return}function Yz(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;f=Zz()|0;a=_z(d)|0;fi(g,b,f,a,$z(d,e)|0,e);return}function Zz(){var b=0,d=0;a[8072]|0||(gA(11004),Ha(69,11004,o|0)|0,d=8072,c[d>>2]=1,c[d+4>>2]=0);if(!(si(11004)|0)){b=11004;d=b+36|0;do c[b>>2]=0,b=b+4|0;while((b|0)<(d|0));gA(11004)}return 11004}function _z(a){a=a|0;return a|0}function $z(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;i=l;l=l+16|0;f=i;g=i+4|0;c[f>>2]=a;j=Zz()|0;h=j+24|0;b=ji(b,4)|0;c[g>>2]=b;d=j+28|0;e=c[d>>2]|0;e>>>0<(c[j+32>>2]|0)>>>0?(aA(e,a,b),b=(c[d>>2]|0)+8|0,c[d>>2]=b):(bA(h,f,g),b=c[d>>2]|0);l=i;return(b-(c[h>>2]|0)>>3)+-1|0}function aA(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;c[a+4>>2]=d;return}function bA(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0;i=l;l=l+32|0;f=i;g=a+4|0;h=((c[g>>2]|0)-(c[a>>2]|0)>>3)+1|0;e=cA(a)|0;if(e>>>0<h>>>0)jC(a);else{j=c[a>>2]|0;m=(c[a+8>>2]|0)-j|0;k=m>>2;dA(f,m>>3>>>0<e>>>1>>>0?k>>>0<h>>>0?h:k:e,(c[g>>2]|0)-j>>3,a+8|0);h=f+8|0;aA(c[h>>2]|0,c[b>>2]|0,c[d>>2]|0);c[h>>2]=(c[h>>2]|0)+8;eA(a,f);fA(f);l=i;return}}function cA(a){a=a|0;return 536870911}function dA(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;c[a+12>>2]=0;c[a+16>>2]=e;do if(b)if(b>>>0>536870911)Ta();else{f=qC(b<<3)|0;break}else f=0;while(0);c[a>>2]=f;e=f+(d<<3)|0;c[a+8>>2]=e;c[a+4>>2]=e;c[a+12>>2]=f+(b<<3);return}function eA(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0;e=c[a>>2]|0;h=a+4|0;g=b+4|0;f=(c[h>>2]|0)-e|0;d=(c[g>>2]|0)+(0-(f>>3)<<3)|0;c[g>>2]=d;(f|0)>0?(BC(d|0,e|0,f|0)|0,e=g,d=c[g>>2]|0):e=g;g=c[a>>2]|0;c[a>>2]=d;c[e>>2]=g;g=b+8|0;f=c[h>>2]|0;c[h>>2]=c[g>>2];c[g>>2]=f;g=a+8|0;h=b+12|0;a=c[g>>2]|0;c[g>>2]=c[h>>2];c[h>>2]=a;c[b>>2]=c[e>>2];return}function fA(a){a=a|0;var b=0,d=0,e=0;b=c[a+4>>2]|0;d=a+8|0;e=c[d>>2]|0;(e|0)!=(b|0)&&(c[d>>2]=e+(~((e+-8-b|0)>>>3)<<3));a=c[a>>2]|0;a|0&&sC(a);return}function gA(a){a=a|0;jA(a);return}function hA(a){a=a|0;iA(a+24|0);return}function iA(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function jA(a){a=a|0;var b=0;b=vi()|0;yi(a,1,12,b,kA()|0,2);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function kA(){return 1896}function lA(a,b,d){a=a|0;b=b|0;d=d|0;nA(c[(mA(a)|0)>>2]|0,b,d);return}function mA(a){a=a|0;return(c[(Zz()|0)+24>>2]|0)+(a<<3)|0}function nA(a,b,c){a=a|0;b=b|0;c=c|0;var d=0,e=0,f=0;d=l;l=l+16|0;f=d+4|0;e=d;oA(f,b);b=pA(f,b)|0;ik(e,c);c=jk(e,c)|0;ob[a&31](b,c);kk(e);l=d;return}function oA(a,b){a=a|0;b=b|0;return}function pA(a,b){a=a|0;b=b|0;return qA(b)|0}function qA(a){a=a|0;return a|0}function rA(){var b=0;a[8080]|0||(sA(11040),Ha(70,11040,o|0)|0,b=8080,c[b>>2]=1,c[b+4>>2]=0);si(11040)|0||sA(11040);return 11040}function sA(a){a=a|0;vA(a);Gt(a,71);return}function tA(a){a=a|0;uA(a+24|0);return}function uA(a){a=a|0;var b=0,d=0,e=0;d=c[a>>2]|0;e=d;d|0&&(a=a+4|0,b=c[a>>2]|0,(b|0)!=(d|0)&&(c[a>>2]=b+(~((b+-8-e|0)>>>3)<<3)),sC(d));return}function vA(a){a=a|0;var b=0;b=vi()|0;yi(a,5,7,b,zA()|0,0);c[a+24>>2]=0;c[a+28>>2]=0;c[a+32>>2]=0;return}function wA(a){a=a|0;xA(a);return}function xA(a){a=a|0;yA(a);return}function yA(b){b=b|0;a[b+8>>0]=1;return}function zA(){return 1936}function AA(){return BA()|0}function BA(){var a=0,b=0,d=0,e=0,f=0,g=0,h=0;b=l;l=l+16|0;f=b+4|0;h=b;d=jy(8)|0;a=d;g=a+4|0;c[g>>2]=qC(1)|0;e=qC(8)|0;g=c[g>>2]|0;c[h>>2]=0;c[f>>2]=c[h>>2];CA(e,g,f);c[d>>2]=e;l=b;return a|0}function CA(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]=b;d=qC(16)|0;c[d+4>>2]=0;c[d+8>>2]=0;c[d>>2]=1916;c[d+12>>2]=b;c[a+4>>2]=d;return}function DA(a){a=a|0;kC(a);sC(a);return}function EA(a){a=a|0;a=c[a+12>>2]|0;a|0&&sC(a);return}function FA(a){a=a|0;sC(a);return}function GA(){var b=0;a[8088]|0||(NA(11076),Ha(25,11076,o|0)|0,b=8088,c[b>>2]=1,c[b+4>>2]=0);return 11076}function HA(a,b){a=a|0;b=b|0;c[a>>2]=IA()|0;c[a+4>>2]=JA()|0;c[a+12>>2]=b;c[a+8>>2]=KA()|0;c[a+32>>2]=10;return}function IA(){return 11745}function JA(){return 1940}function KA(){return lr()|0}function LA(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;(jr(d,896)|0)==512?c|0&&(MA(c),sC(c)):b|0&&sC(b);return}function MA(a){a=a|0;a=c[a+4>>2]|0;a|0&&oC(a);return}function NA(a){a=a|0;Zi(a);return}function OA(a,b){a=a|0;b=b|0;c[a>>2]=b;return}function PA(a){a=a|0;return c[a>>2]|0}function QA(b){b=b|0;return a[c[b>>2]>>0]|0}function RA(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;c[e>>2]=c[a>>2];SA(b,e)|0;l=d;return}function SA(a,b){a=a|0;b=b|0;var d=0;d=TA(c[a>>2]|0,b)|0;b=a+4|0;c[(c[b>>2]|0)+8>>2]=d;return c[(c[b>>2]|0)+8>>2]|0}function TA(a,b){a=a|0;b=b|0;var d=0,e=0;d=l;l=l+16|0;e=d;UA(e);a=Sg(a)|0;b=VA(a,c[b>>2]|0)|0;WA(e);l=d;return b|0}function UA(a){a=a|0;c[a>>2]=c[2701];c[a+4>>2]=c[2703];return}function VA(a,b){a=a|0;b=b|0;var c=0;c=Vg(XA()|0)|0;return bb(0,c|0,a|0,sw(b)|0)|0}function WA(a){a=a|0;xy(c[a>>2]|0,c[a+4>>2]|0);return}function XA(){var b=0;a[8096]|0||(YA(11120),b=8096,c[b>>2]=1,c[b+4>>2]=0);return 11120}function YA(a){a=a|0;fh(a,ZA()|0,1);return}function ZA(){return 1948}function _A(){$A();return}function $A(){var b=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;s=l;l=l+16|0;o=s+4|0;p=s;Ea(65536,10804,c[2702]|0,10812);f=Wv()|0;e=c[f>>2]|0;b=c[e>>2]|0;if(b|0){g=c[f+8>>2]|0;f=c[f+4>>2]|0;while(1){Ma(b|0,d[f>>0]|0|0,a[g>>0]|0);e=e+4|0;b=c[e>>2]|0;if(!b)break;else g=g+1|0,f=f+1|0}}b=Yv()|0;e=c[b>>2]|0;if(e|0)do Na(e|0,c[b+4>>2]|0),b=b+8|0,e=c[b>>2]|0;while((e|0)!=0);Na(aB()|0,5167);n=Iv()|0;b=c[n>>2]|0;a:do if(b|0){do bB(c[b+4>>2]|0),b=c[b>>2]|0;while((b|0)!=0);b=c[n>>2]|0;if(b|0){m=n;do{while(1){h=b;b=c[b>>2]|0;h=c[h+4>>2]|0;if(!(cB(h)|0))break;c[p>>2]=m;c[o>>2]=c[p>>2];dB(n,o)|0;if(!b)break a}eB(h);m=c[m>>2]|0;e=fB(h)|0;i=Va()|0;j=l;l=l+((1*(e<<2)|0)+15&-16)|0;k=l;l=l+((1*(e<<2)|0)+15&-16)|0;e=c[(Zw(h)|0)>>2]|0;if(e|0){f=j;g=k;while(1){c[f>>2]=c[(Xw(c[e+4>>2]|0)|0)>>2];c[g>>2]=c[e+8>>2];e=c[e>>2]|0;if(!e)break;else f=f+4|0,g=g+4|0}}t=Xw(h)|0;e=gB(h)|0;f=fB(h)|0;g=hB(h)|0;Ra(t|0,e|0,j|0,k|0,f|0,g|0,Tv(h)|0);Ga(i|0)}while((b|0)!=0)}}while(0);b=c[(Vv()|0)>>2]|0;if(b|0)do t=b+4|0,n=aw(t)|0,h=fw(n)|0,i=bw(n)|0,j=(cw(n)|0)+1|0,k=iB(n)|0,m=jB(t)|0,n=si(n)|0,o=hw(t)|0,p=kB(t)|0,Pa(0,h|0,i|0,j|0,k|0,m|0,n|0,o|0,p|0,lB(t)|0),b=c[b>>2]|0;while((b|0)!=0);b=c[(Iv()|0)>>2]|0;b:do if(b|0){c:while(1){e=c[b+4>>2]|0;if(e|0?(q=c[(Xw(e)|0)>>2]|0,r=c[(ax(e)|0)>>2]|0,r|0):0){f=r;do{e=f+4|0;g=aw(e)|0;d:do if(g|0)switch(si(g)|0){case 0:break c;case 4:case 3:case 2:k=fw(g)|0;m=bw(g)|0;n=(cw(g)|0)+1|0;o=iB(g)|0;p=si(g)|0;t=hw(e)|0;Pa(q|0,k|0,m|0,n|0,o|0,0,p|0,t|0,kB(e)|0,lB(e)|0);break d;case 1:j=fw(g)|0;k=bw(g)|0;m=(cw(g)|0)+1|0;n=iB(g)|0;o=jB(e)|0;p=si(g)|0;t=hw(e)|0;Pa(q|0,j|0,k|0,m|0,n|0,o|0,p|0,t|0,kB(e)|0,lB(e)|0);break d;case 5:n=fw(g)|0;o=bw(g)|0;p=(cw(g)|0)+1|0;t=iB(g)|0;Pa(q|0,n|0,o|0,p|0,t|0,mB(g)|0,si(g)|0,0,0,0);break d;default:break d}while(0);f=c[f>>2]|0}while((f|0)!=0)}b=c[b>>2]|0;if(!b)break b}Ta()}while(0);Sa();l=s;return}function aB(){return 11703}function bB(b){b=b|0;a[b+40>>0]=0;return}function cB(b){b=b|0;return(a[b+40>>0]|0)!=0|0}function dB(a,b){a=a|0;b=b|0;b=nB(b)|0;a=c[b>>2]|0;c[b>>2]=c[a>>2];sC(a);return c[b>>2]|0}function eB(b){b=b|0;a[b+40>>0]=1;return}function fB(a){a=a|0;return c[a+20>>2]|0}function gB(a){a=a|0;return c[a+8>>2]|0}function hB(a){a=a|0;return c[a+32>>2]|0}function iB(a){a=a|0;return c[a+4>>2]|0}function jB(a){a=a|0;return c[a+4>>2]|0}function kB(a){a=a|0;return c[a+8>>2]|0}function lB(a){a=a|0;return c[a+16>>2]|0}function mB(a){a=a|0;return c[a+20>>2]|0}function nB(a){a=a|0;return c[a>>2]|0}function oB(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0;x=l;l=l+16|0;o=x;do if(a>>>0<245){k=a>>>0<11?16:a+11&-8;a=k>>>3;n=c[2783]|0;d=n>>>a;if(d&3|0){b=(d&1^1)+a|0;a=11172+(b<<1<<2)|0;d=a+8|0;e=c[d>>2]|0;f=e+8|0;g=c[f>>2]|0;(a|0)==(g|0)?c[2783]=n&~(1<<b):(c[g+12>>2]=a,c[d>>2]=g);w=b<<3;c[e+4>>2]=w|3;w=e+w+4|0;c[w>>2]=c[w>>2]|1;w=f;l=x;return w|0}m=c[2785]|0;if(k>>>0>m>>>0){if(d|0){b=2<<a;b=d<<a&(b|0-b);b=(b&0-b)+-1|0;h=b>>>12&16;b=b>>>h;d=b>>>5&8;b=b>>>d;f=b>>>2&4;b=b>>>f;a=b>>>1&2;b=b>>>a;e=b>>>1&1;e=(d|h|f|a|e)+(b>>>e)|0;b=11172+(e<<1<<2)|0;a=b+8|0;f=c[a>>2]|0;h=f+8|0;d=c[h>>2]|0;(b|0)==(d|0)?(a=n&~(1<<e),c[2783]=a):(c[d+12>>2]=b,c[a>>2]=d,a=n);g=(e<<3)-k|0;c[f+4>>2]=k|3;e=f+k|0;c[e+4>>2]=g|1;c[e+g>>2]=g;m|0&&(f=c[2788]|0,b=m>>>3,d=11172+(b<<1<<2)|0,b=1<<b,!(a&b)?(c[2783]=a|b,b=d,a=d+8|0):(a=d+8|0,b=c[a>>2]|0),c[a>>2]=f,c[b+12>>2]=f,c[f+8>>2]=b,c[f+12>>2]=d);c[2785]=g;c[2788]=e;w=h;l=x;return w|0}i=c[2784]|0;if(i){d=(i&0-i)+-1|0;h=d>>>12&16;d=d>>>h;g=d>>>5&8;d=d>>>g;j=d>>>2&4;d=d>>>j;e=d>>>1&2;d=d>>>e;a=d>>>1&1;a=c[11436+((g|h|j|e|a)+(d>>>a)<<2)>>2]|0;d=(c[a+4>>2]&-8)-k|0;e=c[a+16+(((c[a+16>>2]|0)==0&1)<<2)>>2]|0;if(!e)j=a,g=d;else{do h=(c[e+4>>2]&-8)-k|0,j=h>>>0<d>>>0,d=j?h:d,a=j?e:a,e=c[e+16+(((c[e+16>>2]|0)==0&1)<<2)>>2]|0;while((e|0)!=0);j=a;g=d}h=j+k|0;if(j>>>0<h>>>0){f=c[j+24>>2]|0;b=c[j+12>>2]|0;do if((b|0)==(j|0)){a=j+20|0;b=c[a>>2]|0;if(!b){a=j+16|0;b=c[a>>2]|0;if(!b){d=0;break}}while(1){d=b+20|0;e=c[d>>2]|0;if(e|0){b=e;a=d;continue}d=b+16|0;e=c[d>>2]|0;if(!e)break;else b=e,a=d}c[a>>2]=0;d=b}else d=c[j+8>>2]|0,c[d+12>>2]=b,c[b+8>>2]=d,d=b;while(0);do if(f|0){b=c[j+28>>2]|0;a=11436+(b<<2)|0;if((j|0)==(c[a>>2]|0)){c[a>>2]=d;if(!d){c[2784]=i&~(1<<b);break}}else{c[f+16+(((c[f+16>>2]|0)!=(j|0)&1)<<2)>>2]=d;if(!d)break}c[d+24>>2]=f;b=c[j+16>>2]|0;b|0&&(c[d+16>>2]=b,c[b+24>>2]=d);b=c[j+20>>2]|0;b|0&&(c[d+20>>2]=b,c[b+24>>2]=d)}while(0);g>>>0<16?(w=g+k|0,c[j+4>>2]=w|3,w=j+w+4|0,c[w>>2]=c[w>>2]|1):(c[j+4>>2]=k|3,c[h+4>>2]=g|1,c[h+g>>2]=g,m|0&&(e=c[2788]|0,b=m>>>3,d=11172+(b<<1<<2)|0,b=1<<b,!(n&b)?(c[2783]=n|b,b=d,a=d+8|0):(a=d+8|0,b=c[a>>2]|0),c[a>>2]=e,c[b+12>>2]=e,c[e+8>>2]=b,c[e+12>>2]=d),c[2785]=g,c[2788]=h);w=j+8|0;l=x;return w|0}else n=k}else n=k}else n=k}else if(a>>>0<=4294967231){a=a+11|0;k=a&-8;j=c[2784]|0;if(j){e=0-k|0;a=a>>>8;a?k>>>0>16777215?i=31:(n=(a+1048320|0)>>>16&8,v=a<<n,m=(v+520192|0)>>>16&4,v=v<<m,i=(v+245760|0)>>>16&2,i=14-(m|n|i)+(v<<i>>>15)|0,i=k>>>(i+7|0)&1|i<<1):i=0;d=c[11436+(i<<2)>>2]|0;a:do if(!d)d=0,a=0,v=57;else{a=0;h=k<<((i|0)==31?0:25-(i>>>1)|0);g=0;while(1){f=(c[d+4>>2]&-8)-k|0;if(f>>>0<e>>>0)if(!f){a=d;e=0;f=d;v=61;break a}else a=d,e=f;f=c[d+20>>2]|0;d=c[d+16+(h>>>31<<2)>>2]|0;g=(f|0)==0|(f|0)==(d|0)?g:f;f=(d|0)==0;if(f){d=g;v=57;break}else h=h<<((f^1)&1)}}while(0);if((v|0)==57){if((d|0)==0&(a|0)==0){a=2<<i;a=j&(a|0-a);if(!a){n=k;break}n=(a&0-a)+-1|0;h=n>>>12&16;n=n>>>h;g=n>>>5&8;n=n>>>g;i=n>>>2&4;n=n>>>i;m=n>>>1&2;n=n>>>m;d=n>>>1&1;a=0;d=c[11436+((g|h|i|m|d)+(n>>>d)<<2)>>2]|0}!d?(i=a,h=e):(f=d,v=61)}if((v|0)==61)while(1){v=0;d=(c[f+4>>2]&-8)-k|0;n=d>>>0<e>>>0;d=n?d:e;a=n?f:a;f=c[f+16+(((c[f+16>>2]|0)==0&1)<<2)>>2]|0;if(!f){i=a;h=d;break}else e=d,v=61}if((i|0)!=0?h>>>0<((c[2785]|0)-k|0)>>>0:0){g=i+k|0;if(i>>>0>=g>>>0){w=0;l=x;return w|0}f=c[i+24>>2]|0;b=c[i+12>>2]|0;do if((b|0)==(i|0)){a=i+20|0;b=c[a>>2]|0;if(!b){a=i+16|0;b=c[a>>2]|0;if(!b){b=0;break}}while(1){d=b+20|0;e=c[d>>2]|0;if(e|0){b=e;a=d;continue}d=b+16|0;e=c[d>>2]|0;if(!e)break;else b=e,a=d}c[a>>2]=0}else w=c[i+8>>2]|0,c[w+12>>2]=b,c[b+8>>2]=w;while(0);do if(f){a=c[i+28>>2]|0;d=11436+(a<<2)|0;if((i|0)==(c[d>>2]|0)){c[d>>2]=b;if(!b){e=j&~(1<<a);c[2784]=e;break}}else{c[f+16+(((c[f+16>>2]|0)!=(i|0)&1)<<2)>>2]=b;if(!b){e=j;break}}c[b+24>>2]=f;a=c[i+16>>2]|0;a|0&&(c[b+16>>2]=a,c[a+24>>2]=b);a=c[i+20>>2]|0;a?(c[b+20>>2]=a,c[a+24>>2]=b,e=j):e=j}else e=j;while(0);do if(h>>>0>=16){c[i+4>>2]=k|3;c[g+4>>2]=h|1;c[g+h>>2]=h;b=h>>>3;if(h>>>0<256){d=11172+(b<<1<<2)|0;a=c[2783]|0;b=1<<b;!(a&b)?(c[2783]=a|b,b=d,a=d+8|0):(a=d+8|0,b=c[a>>2]|0);c[a>>2]=g;c[b+12>>2]=g;c[g+8>>2]=b;c[g+12>>2]=d;break}b=h>>>8;b?h>>>0>16777215?b=31:(v=(b+1048320|0)>>>16&8,w=b<<v,u=(w+520192|0)>>>16&4,w=w<<u,b=(w+245760|0)>>>16&2,b=14-(u|v|b)+(w<<b>>>15)|0,b=h>>>(b+7|0)&1|b<<1):b=0;d=11436+(b<<2)|0;c[g+28>>2]=b;a=g+16|0;c[a+4>>2]=0;c[a>>2]=0;a=1<<b;if(!(e&a)){c[2784]=e|a;c[d>>2]=g;c[g+24>>2]=d;c[g+12>>2]=g;c[g+8>>2]=g;break}a=h<<((b|0)==31?0:25-(b>>>1)|0);d=c[d>>2]|0;while(1){if((c[d+4>>2]&-8|0)==(h|0)){v=97;break}e=d+16+(a>>>31<<2)|0;b=c[e>>2]|0;if(!b){v=96;break}else a=a<<1,d=b}if((v|0)==96){c[e>>2]=g;c[g+24>>2]=d;c[g+12>>2]=g;c[g+8>>2]=g;break}else if((v|0)==97){v=d+8|0;w=c[v>>2]|0;c[w+12>>2]=g;c[v>>2]=g;c[g+8>>2]=w;c[g+12>>2]=d;c[g+24>>2]=0;break}}else w=h+k|0,c[i+4>>2]=w|3,w=i+w+4|0,c[w>>2]=c[w>>2]|1;while(0);w=i+8|0;l=x;return w|0}else n=k}else n=k}else n=-1;while(0);d=c[2785]|0;if(d>>>0>=n>>>0){b=d-n|0;a=c[2788]|0;b>>>0>15?(w=a+n|0,c[2788]=w,c[2785]=b,c[w+4>>2]=b|1,c[w+b>>2]=b,c[a+4>>2]=n|3):(c[2785]=0,c[2788]=0,c[a+4>>2]=d|3,w=a+d+4|0,c[w>>2]=c[w>>2]|1);w=a+8|0;l=x;return w|0}h=c[2786]|0;if(h>>>0>n>>>0){u=h-n|0;c[2786]=u;w=c[2789]|0;v=w+n|0;c[2789]=v;c[v+4>>2]=u|1;c[w+4>>2]=n|3;w=w+8|0;l=x;return w|0}!(c[2901]|0)?(c[2903]=4096,c[2902]=4096,c[2904]=-1,c[2905]=-1,c[2906]=0,c[2894]=0,a=o&-16^1431655768,c[o>>2]=a,c[2901]=a,a=4096):a=c[2903]|0;i=n+48|0;j=n+47|0;g=a+j|0;f=0-a|0;k=g&f;if(k>>>0<=n>>>0){w=0;l=x;return w|0}a=c[2893]|0;if(a|0?(m=c[2891]|0,o=m+k|0,o>>>0<=m>>>0|o>>>0>a>>>0):0){w=0;l=x;return w|0}b:do if(!(c[2894]&4)){d=c[2789]|0;c:do if(d){e=11580;while(1){a=c[e>>2]|0;if(a>>>0<=d>>>0?(r=e+4|0,(a+(c[r>>2]|0)|0)>>>0>d>>>0):0)break;a=c[e+8>>2]|0;if(!a){v=118;break c}else e=a}b=g-h&f;if(b>>>0<2147483647){a=FC(b|0)|0;if((a|0)==((c[e>>2]|0)+(c[r>>2]|0)|0)){if((a|0)!=(-1|0)){h=b;g=a;v=135;break b}}else e=a,v=126}else b=0}else v=118;while(0);do if((v|0)==118){d=FC(0)|0;if((d|0)!=(-1|0)?(b=d,p=c[2902]|0,q=p+-1|0,b=((q&b|0)==0?0:(q+b&0-p)-b|0)+k|0,p=c[2891]|0,q=b+p|0,b>>>0>n>>>0&b>>>0<2147483647):0){r=c[2893]|0;if(r|0?q>>>0<=p>>>0|q>>>0>r>>>0:0){b=0;break}a=FC(b|0)|0;if((a|0)==(d|0)){h=b;g=d;v=135;break b}else e=a,v=126}else b=0}while(0);do if((v|0)==126){d=0-b|0;if(!(i>>>0>b>>>0&(b>>>0<2147483647&(e|0)!=(-1|0))))if((e|0)==(-1|0)){b=0;break}else{h=b;g=e;v=135;break b}a=c[2903]|0;a=j-b+a&0-a;if(a>>>0>=2147483647){h=b;g=e;v=135;break b}if((FC(a|0)|0)==(-1|0)){FC(d|0)|0;b=0;break}else{h=a+b|0;g=e;v=135;break b}}while(0);c[2894]=c[2894]|4;v=133}else b=0,v=133;while(0);(((v|0)==133?k>>>0<2147483647:0)?(u=FC(k|0)|0,r=FC(0)|0,s=r-u|0,t=s>>>0>(n+40|0)>>>0,!((u|0)==(-1|0)|t^1|u>>>0<r>>>0&((u|0)!=(-1|0)&(r|0)!=(-1|0))^1)):0)&&(h=t?s:b,g=u,v=135);if((v|0)==135){b=(c[2891]|0)+h|0;c[2891]=b;b>>>0>(c[2892]|0)>>>0&&(c[2892]=b);j=c[2789]|0;do if(j){b=11580;while(1){a=c[b>>2]|0;d=b+4|0;e=c[d>>2]|0;if((g|0)==(a+e|0)){v=145;break}f=c[b+8>>2]|0;if(!f)break;else b=f}if(((v|0)==145?(c[b+12>>2]&8|0)==0:0)?j>>>0<g>>>0&j>>>0>=a>>>0:0){c[d>>2]=e+h;w=j+8|0;w=(w&7|0)==0?0:0-w&7;v=j+w|0;w=(c[2786]|0)+(h-w)|0;c[2789]=v;c[2786]=w;c[v+4>>2]=w|1;c[v+w+4>>2]=40;c[2790]=c[2905];break}g>>>0<(c[2787]|0)>>>0&&(c[2787]=g);d=g+h|0;b=11580;while(1){if((c[b>>2]|0)==(d|0)){v=153;break}a=c[b+8>>2]|0;if(!a)break;else b=a}if((v|0)==153?(c[b+12>>2]&8|0)==0:0){c[b>>2]=g;m=b+4|0;c[m>>2]=(c[m>>2]|0)+h;m=g+8|0;m=g+((m&7|0)==0?0:0-m&7)|0;b=d+8|0;b=d+((b&7|0)==0?0:0-b&7)|0;k=m+n|0;i=b-m-n|0;c[m+4>>2]=n|3;do if((b|0)!=(j|0)){if((b|0)==(c[2788]|0)){w=(c[2785]|0)+i|0;c[2785]=w;c[2788]=k;c[k+4>>2]=w|1;c[k+w>>2]=w;break}a=c[b+4>>2]|0;if((a&3|0)==1){h=a&-8;e=a>>>3;d:do if(a>>>0<256){a=c[b+8>>2]|0;d=c[b+12>>2]|0;if((d|0)==(a|0)){c[2783]=c[2783]&~(1<<e);break}else{c[a+12>>2]=d;c[d+8>>2]=a;break}}else{g=c[b+24>>2]|0;a=c[b+12>>2]|0;do if((a|0)==(b|0)){e=b+16|0;d=e+4|0;a=c[d>>2]|0;if(!a){a=c[e>>2]|0;if(!a){a=0;break}else d=e}while(1){e=a+20|0;f=c[e>>2]|0;if(f|0){a=f;d=e;continue}e=a+16|0;f=c[e>>2]|0;if(!f)break;else a=f,d=e}c[d>>2]=0}else w=c[b+8>>2]|0,c[w+12>>2]=a,c[a+8>>2]=w;while(0);if(!g)break;d=c[b+28>>2]|0;e=11436+(d<<2)|0;do if((b|0)!=(c[e>>2]|0)){c[g+16+(((c[g+16>>2]|0)!=(b|0)&1)<<2)>>2]=a;if(!a)break d}else{c[e>>2]=a;if(a|0)break;c[2784]=c[2784]&~(1<<d);break d}while(0);c[a+24>>2]=g;d=b+16|0;e=c[d>>2]|0;e|0&&(c[a+16>>2]=e,c[e+24>>2]=a);d=c[d+4>>2]|0;if(!d)break;c[a+20>>2]=d;c[d+24>>2]=a}while(0);b=b+h|0;f=h+i|0}else f=i;b=b+4|0;c[b>>2]=c[b>>2]&-2;c[k+4>>2]=f|1;c[k+f>>2]=f;b=f>>>3;if(f>>>0<256){d=11172+(b<<1<<2)|0;a=c[2783]|0;b=1<<b;!(a&b)?(c[2783]=a|b,b=d,a=d+8|0):(a=d+8|0,b=c[a>>2]|0);c[a>>2]=k;c[b+12>>2]=k;c[k+8>>2]=b;c[k+12>>2]=d;break}b=f>>>8;do if(!b)b=0;else{if(f>>>0>16777215){b=31;break}v=(b+1048320|0)>>>16&8;w=b<<v;u=(w+520192|0)>>>16&4;w=w<<u;b=(w+245760|0)>>>16&2;b=14-(u|v|b)+(w<<b>>>15)|0;b=f>>>(b+7|0)&1|b<<1}while(0);e=11436+(b<<2)|0;c[k+28>>2]=b;a=k+16|0;c[a+4>>2]=0;c[a>>2]=0;a=c[2784]|0;d=1<<b;if(!(a&d)){c[2784]=a|d;c[e>>2]=k;c[k+24>>2]=e;c[k+12>>2]=k;c[k+8>>2]=k;break}a=f<<((b|0)==31?0:25-(b>>>1)|0);d=c[e>>2]|0;while(1){if((c[d+4>>2]&-8|0)==(f|0)){v=194;break}e=d+16+(a>>>31<<2)|0;b=c[e>>2]|0;if(!b){v=193;break}else a=a<<1,d=b}if((v|0)==193){c[e>>2]=k;c[k+24>>2]=d;c[k+12>>2]=k;c[k+8>>2]=k;break}else if((v|0)==194){v=d+8|0;w=c[v>>2]|0;c[w+12>>2]=k;c[v>>2]=k;c[k+8>>2]=w;c[k+12>>2]=d;c[k+24>>2]=0;break}}else w=(c[2786]|0)+i|0,c[2786]=w,c[2789]=k,c[k+4>>2]=w|1;while(0);w=m+8|0;l=x;return w|0}b=11580;while(1){a=c[b>>2]|0;if(a>>>0<=j>>>0?(w=a+(c[b+4>>2]|0)|0,w>>>0>j>>>0):0)break;b=c[b+8>>2]|0}f=w+-47|0;a=f+8|0;a=f+((a&7|0)==0?0:0-a&7)|0;f=j+16|0;a=a>>>0<f>>>0?j:a;b=a+8|0;d=g+8|0;d=(d&7|0)==0?0:0-d&7;v=g+d|0;d=h+-40-d|0;c[2789]=v;c[2786]=d;c[v+4>>2]=d|1;c[v+d+4>>2]=40;c[2790]=c[2905];d=a+4|0;c[d>>2]=27;c[b>>2]=c[2895];c[b+4>>2]=c[2896];c[b+8>>2]=c[2897];c[b+12>>2]=c[2898];c[2895]=g;c[2896]=h;c[2898]=0;c[2897]=b;b=a+24|0;do v=b,b=b+4|0,c[b>>2]=7;while((v+8|0)>>>0<w>>>0);if((a|0)!=(j|0)){g=a-j|0;c[d>>2]=c[d>>2]&-2;c[j+4>>2]=g|1;c[a>>2]=g;b=g>>>3;if(g>>>0<256){d=11172+(b<<1<<2)|0;a=c[2783]|0;b=1<<b;!(a&b)?(c[2783]=a|b,b=d,a=d+8|0):(a=d+8|0,b=c[a>>2]|0);c[a>>2]=j;c[b+12>>2]=j;c[j+8>>2]=b;c[j+12>>2]=d;break}b=g>>>8;b?g>>>0>16777215?d=31:(v=(b+1048320|0)>>>16&8,w=b<<v,u=(w+520192|0)>>>16&4,w=w<<u,d=(w+245760|0)>>>16&2,d=14-(u|v|d)+(w<<d>>>15)|0,d=g>>>(d+7|0)&1|d<<1):d=0;e=11436+(d<<2)|0;c[j+28>>2]=d;c[j+20>>2]=0;c[f>>2]=0;b=c[2784]|0;a=1<<d;if(!(b&a)){c[2784]=b|a;c[e>>2]=j;c[j+24>>2]=e;c[j+12>>2]=j;c[j+8>>2]=j;break}a=g<<((d|0)==31?0:25-(d>>>1)|0);d=c[e>>2]|0;while(1){if((c[d+4>>2]&-8|0)==(g|0)){v=216;break}e=d+16+(a>>>31<<2)|0;b=c[e>>2]|0;if(!b){v=215;break}else a=a<<1,d=b}if((v|0)==215){c[e>>2]=j;c[j+24>>2]=d;c[j+12>>2]=j;c[j+8>>2]=j;break}else if((v|0)==216){v=d+8|0;w=c[v>>2]|0;c[w+12>>2]=j;c[v>>2]=j;c[j+8>>2]=w;c[j+12>>2]=d;c[j+24>>2]=0;break}}}else{w=c[2787]|0;(w|0)==0|g>>>0<w>>>0&&(c[2787]=g);c[2895]=g;c[2896]=h;c[2898]=0;c[2792]=c[2901];c[2791]=-1;b=0;do w=11172+(b<<1<<2)|0,c[w+12>>2]=w,c[w+8>>2]=w,b=b+1|0;while((b|0)!=32);w=g+8|0;w=(w&7|0)==0?0:0-w&7;v=g+w|0;w=h+-40-w|0;c[2789]=v;c[2786]=w;c[v+4>>2]=w|1;c[v+w+4>>2]=40;c[2790]=c[2905]}while(0);b=c[2786]|0;if(b>>>0>n>>>0){u=b-n|0;c[2786]=u;w=c[2789]|0;v=w+n|0;c[2789]=v;c[v+4>>2]=u|1;c[w+4>>2]=n|3;w=w+8|0;l=x;return w|0}}c[(vB()|0)>>2]=12;w=0;l=x;return w|0}function pB(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0;if(!a)return;d=a+-8|0;f=c[2787]|0;a=c[a+-4>>2]|0;b=a&-8;j=d+b|0;do if(!(a&1)){e=c[d>>2]|0;if(!(a&3))return;h=d+(0-e)|0;g=e+b|0;if(h>>>0<f>>>0)return;if((h|0)==(c[2788]|0)){a=j+4|0;b=c[a>>2]|0;if((b&3|0)!=3){i=h;b=g;break}c[2785]=g;c[a>>2]=b&-2;c[h+4>>2]=g|1;c[h+g>>2]=g;return}d=e>>>3;if(e>>>0<256){a=c[h+8>>2]|0;b=c[h+12>>2]|0;if((b|0)==(a|0)){c[2783]=c[2783]&~(1<<d);i=h;b=g;break}else{c[a+12>>2]=b;c[b+8>>2]=a;i=h;b=g;break}}f=c[h+24>>2]|0;a=c[h+12>>2]|0;do if((a|0)==(h|0)){d=h+16|0;b=d+4|0;a=c[b>>2]|0;if(!a){a=c[d>>2]|0;if(!a){a=0;break}else b=d}while(1){d=a+20|0;e=c[d>>2]|0;if(e|0){a=e;b=d;continue}d=a+16|0;e=c[d>>2]|0;if(!e)break;else a=e,b=d}c[b>>2]=0}else i=c[h+8>>2]|0,c[i+12>>2]=a,c[a+8>>2]=i;while(0);if(f){b=c[h+28>>2]|0;d=11436+(b<<2)|0;if((h|0)==(c[d>>2]|0)){c[d>>2]=a;if(!a){c[2784]=c[2784]&~(1<<b);i=h;b=g;break}}else{c[f+16+(((c[f+16>>2]|0)!=(h|0)&1)<<2)>>2]=a;if(!a){i=h;b=g;break}}c[a+24>>2]=f;b=h+16|0;d=c[b>>2]|0;d|0&&(c[a+16>>2]=d,c[d+24>>2]=a);b=c[b+4>>2]|0;b?(c[a+20>>2]=b,c[b+24>>2]=a,i=h,b=g):(i=h,b=g)}else i=h,b=g}else i=d,h=d;while(0);if(h>>>0>=j>>>0)return;a=j+4|0;e=c[a>>2]|0;if(!(e&1))return;if(!(e&2)){a=c[2788]|0;if((j|0)==(c[2789]|0)){j=(c[2786]|0)+b|0;c[2786]=j;c[2789]=i;c[i+4>>2]=j|1;if((i|0)!=(a|0))return;c[2788]=0;c[2785]=0;return}if((j|0)==(a|0)){j=(c[2785]|0)+b|0;c[2785]=j;c[2788]=h;c[i+4>>2]=j|1;c[h+j>>2]=j;return}f=(e&-8)+b|0;d=e>>>3;do if(e>>>0<256){b=c[j+8>>2]|0;a=c[j+12>>2]|0;if((a|0)==(b|0)){c[2783]=c[2783]&~(1<<d);break}else{c[b+12>>2]=a;c[a+8>>2]=b;break}}else{g=c[j+24>>2]|0;a=c[j+12>>2]|0;do if((a|0)==(j|0)){d=j+16|0;b=d+4|0;a=c[b>>2]|0;if(!a){a=c[d>>2]|0;if(!a){d=0;break}else b=d}while(1){d=a+20|0;e=c[d>>2]|0;if(e|0){a=e;b=d;continue}d=a+16|0;e=c[d>>2]|0;if(!e)break;else a=e,b=d}c[b>>2]=0;d=a}else d=c[j+8>>2]|0,c[d+12>>2]=a,c[a+8>>2]=d,d=a;while(0);if(g|0){a=c[j+28>>2]|0;b=11436+(a<<2)|0;if((j|0)==(c[b>>2]|0)){c[b>>2]=d;if(!d){c[2784]=c[2784]&~(1<<a);break}}else{c[g+16+(((c[g+16>>2]|0)!=(j|0)&1)<<2)>>2]=d;if(!d)break}c[d+24>>2]=g;a=j+16|0;b=c[a>>2]|0;b|0&&(c[d+16>>2]=b,c[b+24>>2]=d);a=c[a+4>>2]|0;a|0&&(c[d+20>>2]=a,c[a+24>>2]=d)}}while(0);c[i+4>>2]=f|1;c[h+f>>2]=f;if((i|0)==(c[2788]|0)){c[2785]=f;return}}else c[a>>2]=e&-2,c[i+4>>2]=b|1,c[h+b>>2]=b,f=b;a=f>>>3;if(f>>>0<256){d=11172+(a<<1<<2)|0;b=c[2783]|0;a=1<<a;!(b&a)?(c[2783]=b|a,a=d,b=d+8|0):(b=d+8|0,a=c[b>>2]|0);c[b>>2]=i;c[a+12>>2]=i;c[i+8>>2]=a;c[i+12>>2]=d;return}a=f>>>8;a?f>>>0>16777215?a=31:(h=(a+1048320|0)>>>16&8,j=a<<h,g=(j+520192|0)>>>16&4,j=j<<g,a=(j+245760|0)>>>16&2,a=14-(g|h|a)+(j<<a>>>15)|0,a=f>>>(a+7|0)&1|a<<1):a=0;e=11436+(a<<2)|0;c[i+28>>2]=a;c[i+20>>2]=0;c[i+16>>2]=0;b=c[2784]|0;d=1<<a;do if(b&d){b=f<<((a|0)==31?0:25-(a>>>1)|0);d=c[e>>2]|0;while(1){if((c[d+4>>2]&-8|0)==(f|0)){a=73;break}e=d+16+(b>>>31<<2)|0;a=c[e>>2]|0;if(!a){a=72;break}else b=b<<1,d=a}if((a|0)==72){c[e>>2]=i;c[i+24>>2]=d;c[i+12>>2]=i;c[i+8>>2]=i;break}else if((a|0)==73){h=d+8|0;j=c[h>>2]|0;c[j+12>>2]=i;c[h>>2]=i;c[i+8>>2]=j;c[i+12>>2]=d;c[i+24>>2]=0;break}}else c[2784]=b|d,c[e>>2]=i,c[i+24>>2]=e,c[i+12>>2]=i,c[i+8>>2]=i;while(0);j=(c[2791]|0)+-1|0;c[2791]=j;if(!j)a=11588;else return;while(1){a=c[a>>2]|0;if(!a)break;else a=a+8|0}c[2791]=-1;return}function qB(){return 11628}function rB(a){a=a|0;var b=0,d=0;b=l;l=l+16|0;d=b;c[d>>2]=yB(c[a+60>>2]|0)|0;a=uB(db(6,d|0)|0)|0;l=b;return a|0}function sB(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0;n=l;l=l+48|0;k=n+16|0;g=n;f=n+32|0;i=a+28|0;e=c[i>>2]|0;c[f>>2]=e;j=a+20|0;e=(c[j>>2]|0)-e|0;c[f+4>>2]=e;c[f+8>>2]=b;c[f+12>>2]=d;e=e+d|0;h=a+60|0;c[g>>2]=c[h>>2];c[g+4>>2]=f;c[g+8>>2]=2;g=uB(gb(146,g|0)|0)|0;a:do if((e|0)!=(g|0)){b=2;while(1){if((g|0)<0)break;e=e-g|0;p=c[f+4>>2]|0;o=g>>>0>p>>>0;f=o?f+8|0:f;b=(o<<31>>31)+b|0;p=g-(o?p:0)|0;c[f>>2]=(c[f>>2]|0)+p;o=f+4|0;c[o>>2]=(c[o>>2]|0)-p;c[k>>2]=c[h>>2];c[k+4>>2]=f;c[k+8>>2]=b;g=uB(gb(146,k|0)|0)|0;if((e|0)==(g|0)){m=3;break a}}c[a+16>>2]=0;c[i>>2]=0;c[j>>2]=0;c[a>>2]=c[a>>2]|32;(b|0)==2?d=0:d=d-(c[f+4>>2]|0)|0}else m=3;while(0);(m|0)==3&&(p=c[a+44>>2]|0,c[a+16>>2]=p+(c[a+48>>2]|0),c[i>>2]=p,c[j>>2]=p);l=n;return d|0}function tB(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;f=l;l=l+32|0;g=f;e=f+20|0;c[g>>2]=c[a+60>>2];c[g+4>>2]=0;c[g+8>>2]=b;c[g+12>>2]=e;c[g+16>>2]=d;(uB(fb(140,g|0)|0)|0)<0?(c[e>>2]=-1,a=-1):a=c[e>>2]|0;l=f;return a|0}function uB(a){a=a|0;a>>>0>4294963200&&(c[(vB()|0)>>2]=0-a,a=-1);return a|0}function vB(){return(wB()|0)+64|0}function wB(){return xB()|0}function xB(){return 2084}function yB(a){a=a|0;return a|0}function zB(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0;g=l;l=l+32|0;f=g;c[b+36>>2]=1;((c[b>>2]&64|0)==0?(c[f>>2]=c[b+60>>2],c[f+4>>2]=21523,c[f+8>>2]=g+16,Wa(54,f|0)|0):0)&&(a[b+75>>0]=-1);f=sB(b,d,e)|0;l=g;return f|0}function AB(b,c){b=b|0;c=c|0;var d=0,e=0;d=a[b>>0]|0;e=a[c>>0]|0;if(d<<24>>24==0?1:d<<24>>24!=e<<24>>24)b=e;else{do b=b+1|0,c=c+1|0,d=a[b>>0]|0,e=a[c>>0]|0;while(!(d<<24>>24==0?1:d<<24>>24!=e<<24>>24));b=e}return(d&255)-(b&255)|0}function BB(b,c,d){b=b|0;c=c|0;d=d|0;var e=0,f=0;a:do if(!d)b=0;else{while(1){e=a[b>>0]|0;f=a[c>>0]|0;if(e<<24>>24!=f<<24>>24)break;d=d+-1|0;if(!d){b=0;break a}else b=b+1|0,c=c+1|0}b=(e&255)-(f&255)|0}while(0);return b|0}function CB(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0;s=l;l=l+224|0;n=s+120|0;o=s+80|0;q=s;r=s+136|0;f=o;g=f+40|0;do c[f>>2]=0,f=f+4|0;while((f|0)<(g|0));c[n>>2]=c[e>>2];(DB(0,d,n,q,o)|0)<0?e=-1:((c[b+76>>2]|0)>-1?p=EB(b)|0:p=0,e=c[b>>2]|0,m=e&32,(a[b+74>>0]|0)<1&&(c[b>>2]=e&-33),f=b+48|0,!(c[f>>2]|0)?(g=b+44|0,h=c[g>>2]|0,c[g>>2]=r,i=b+28|0,c[i>>2]=r,j=b+20|0,c[j>>2]=r,c[f>>2]=80,k=b+16|0,c[k>>2]=r+80,e=DB(b,d,n,q,o)|0,h&&(sb[c[b+36>>2]&7](b,0,0)|0,e=(c[j>>2]|0)==0?-1:e,c[g>>2]=h,c[f>>2]=0,c[k>>2]=0,c[i>>2]=0,c[j>>2]=0)):e=DB(b,d,n,q,o)|0,f=c[b>>2]|0,c[b>>2]=f|m,p|0&&FB(b),e=(f&32|0)==0?e:-1);l=s;return e|0}function DB(d,e,f,g,i){d=d|0;e=e|0;f=f|0;g=g|0;i=i|0;var j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0;H=l;l=l+64|0;D=H+16|0;E=H;B=H+24|0;F=H+8|0;G=H+20|0;c[D>>2]=e;x=(d|0)!=0;y=B+40|0;z=y;B=B+39|0;C=F+4|0;k=0;j=0;p=0;a:while(1){do if((j|0)>-1)if((k|0)>(2147483647-j|0)){c[(vB()|0)>>2]=75;j=-1;break}else{j=k+j|0;break}while(0);k=a[e>>0]|0;if(!(k<<24>>24)){w=87;break}else m=e;b:while(1){switch(k<<24>>24){case 37:k=m;w=9;break b;case 0:k=m;break b;default:}v=m+1|0;c[D>>2]=v;k=a[v>>0]|0;m=v}c:do if((w|0)==9)while(1){w=0;if((a[m+1>>0]|0)!=37)break c;k=k+1|0;m=m+2|0;c[D>>2]=m;if((a[m>>0]|0)==37)w=9;else break}while(0);k=k-e|0;x&&GB(d,e,k);if(k|0){e=m;continue}n=m+1|0;k=(a[n>>0]|0)+-48|0;k>>>0<10?(v=(a[m+2>>0]|0)==36,u=v?k:-1,p=v?1:p,n=v?m+3|0:n):u=-1;c[D>>2]=n;k=a[n>>0]|0;m=(k<<24>>24)+-32|0;d:do if(m>>>0<32){o=0;q=k;while(1){k=1<<m;if(!(k&75913)){k=q;break d}o=k|o;n=n+1|0;c[D>>2]=n;k=a[n>>0]|0;m=(k<<24>>24)+-32|0;if(m>>>0>=32)break;else q=k}}else o=0;while(0);if(k<<24>>24==42){m=n+1|0;k=(a[m>>0]|0)+-48|0;if(k>>>0<10?(a[n+2>>0]|0)==36:0)c[i+(k<<2)>>2]=10,k=c[g+((a[m>>0]|0)+-48<<3)>>2]|0,p=1,n=n+3|0;else{if(p|0){j=-1;break}x?(p=(c[f>>2]|0)+(4-1)&~(4-1),k=c[p>>2]|0,c[f>>2]=p+4,p=0,n=m):(k=0,p=0,n=m)}c[D>>2]=n;v=(k|0)<0;k=v?0-k|0:k;o=v?o|8192:o}else{k=HB(D)|0;if((k|0)<0){j=-1;break}n=c[D>>2]|0}do if((a[n>>0]|0)==46){if((a[n+1>>0]|0)!=42){c[D>>2]=n+1;m=HB(D)|0;n=c[D>>2]|0;break}q=n+2|0;m=(a[q>>0]|0)+-48|0;if(m>>>0<10?(a[n+3>>0]|0)==36:0){c[i+(m<<2)>>2]=10;m=c[g+((a[q>>0]|0)+-48<<3)>>2]|0;n=n+4|0;c[D>>2]=n;break}if(p|0){j=-1;break a}x?(v=(c[f>>2]|0)+(4-1)&~(4-1),m=c[v>>2]|0,c[f>>2]=v+4):m=0;c[D>>2]=q;n=q}else m=-1;while(0);t=0;while(1){if(((a[n>>0]|0)+-65|0)>>>0>57){j=-1;break a}v=n+1|0;c[D>>2]=v;q=a[(a[n>>0]|0)+-65+(5178+(t*58|0))>>0]|0;r=q&255;if((r+-1|0)>>>0<8)t=r,n=v;else break}if(!(q<<24>>24)){j=-1;break}s=(u|0)>-1;do if(q<<24>>24==19)if(s){j=-1;break a}else w=49;else{if(s){c[i+(u<<2)>>2]=r;s=g+(u<<3)|0;u=c[s+4>>2]|0;w=E;c[w>>2]=c[s>>2];c[w+4>>2]=u;w=49;break}if(!x){j=0;break a}IB(E,r,f)}while(0);if((w|0)==49?(w=0,!x):0){k=0;e=v;continue}n=a[n>>0]|0;n=(t|0)!=0&(n&15|0)==3?n&-33:n;s=o&-65537;u=(o&8192|0)==0?o:s;e:do switch(n|0){case 110:switch((t&255)<<24>>24){case 0:c[c[E>>2]>>2]=j;k=0;e=v;continue a;case 1:c[c[E>>2]>>2]=j;k=0;e=v;continue a;case 2:k=c[E>>2]|0;c[k>>2]=j;c[k+4>>2]=((j|0)<0)<<31>>31;k=0;e=v;continue a;case 3:b[c[E>>2]>>1]=j;k=0;e=v;continue a;case 4:a[c[E>>2]>>0]=j;k=0;e=v;continue a;case 6:c[c[E>>2]>>2]=j;k=0;e=v;continue a;case 7:k=c[E>>2]|0;c[k>>2]=j;c[k+4>>2]=((j|0)<0)<<31>>31;k=0;e=v;continue a;default:k=0;e=v;continue a}case 112:n=120;m=m>>>0>8?m:8;e=u|8;w=61;break;case 88:case 120:e=u;w=61;break;case 111:n=E;e=c[n>>2]|0;n=c[n+4>>2]|0;r=KB(e,n,y)|0;s=z-r|0;o=0;q=5642;m=(u&8|0)==0|(m|0)>(s|0)?m:s+1|0;s=u;w=67;break;case 105:case 100:n=E;e=c[n>>2]|0;n=c[n+4>>2]|0;if((n|0)<0){e=wC(0,0,e|0,n|0)|0;n=A;o=E;c[o>>2]=e;c[o+4>>2]=n;o=1;q=5642;w=66;break e}else{o=(u&2049|0)!=0&1;q=(u&2048|0)==0?(u&1|0)==0?5642:5644:5643;w=66;break e}case 117:n=E;o=0;q=5642;e=c[n>>2]|0;n=c[n+4>>2]|0;w=66;break;case 99:a[B>>0]=c[E>>2];e=B;o=0;q=5642;r=y;n=1;m=s;break;case 109:n=MB(c[(vB()|0)>>2]|0)|0;w=71;break;case 115:n=c[E>>2]|0;n=n|0?n:5652;w=71;break;case 67:c[F>>2]=c[E>>2];c[C>>2]=0;c[E>>2]=F;r=-1;n=F;w=75;break;case 83:e=c[E>>2]|0;!m?(OB(d,32,k,0,u),e=0,w=84):(r=m,n=e,w=75);break;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:k=QB(d,+h[E>>3],k,m,u,n)|0;e=v;continue a;default:o=0,q=5642,r=y,n=m,m=u}while(0);f:do if((w|0)==61)u=E,t=c[u>>2]|0,u=c[u+4>>2]|0,r=JB(t,u,y,n&32)|0,q=(e&8|0)==0|(t|0)==0&(u|0)==0,o=q?0:2,q=q?5642:5642+(n>>4)|0,s=e,e=t,n=u,w=67;else if((w|0)==66)r=LB(e,n,y)|0,s=u,w=67;else if((w|0)==71)w=0,u=NB(n,0,m)|0,t=(u|0)==0,e=n,o=0,q=5642,r=t?n+m|0:u,n=t?m:u-n|0,m=s;else if((w|0)==75){w=0;q=n;e=0;m=0;while(1){o=c[q>>2]|0;if(!o)break;m=PB(G,o)|0;if((m|0)<0|m>>>0>(r-e|0)>>>0)break;e=m+e|0;if(r>>>0>e>>>0)q=q+4|0;else break}if((m|0)<0){j=-1;break a}OB(d,32,k,e,u);if(!e)e=0,w=84;else{o=0;while(1){m=c[n>>2]|0;if(!m){w=84;break f}m=PB(G,m)|0;o=m+o|0;if((o|0)>(e|0)){w=84;break f}GB(d,G,m);if(o>>>0>=e>>>0){w=84;break}else n=n+4|0}}}while(0);if((w|0)==67)w=0,n=(e|0)!=0|(n|0)!=0,u=(m|0)!=0|n,n=((n^1)&1)+(z-r)|0,e=u?r:y,r=y,n=u?(m|0)>(n|0)?m:n:m,m=(m|0)>-1?s&-65537:s;else if((w|0)==84){w=0;OB(d,32,k,e,u^8192);k=(k|0)>(e|0)?k:e;e=v;continue}t=r-e|0;s=(n|0)<(t|0)?t:n;u=s+o|0;k=(k|0)<(u|0)?u:k;OB(d,32,k,u,m);GB(d,q,o);OB(d,48,k,u,m^65536);OB(d,48,s,t,0);GB(d,e,t);OB(d,32,k,u,m^8192);e=v}g:do if((w|0)==87&&!d)if(!p)j=0;else{j=1;while(1){e=c[i+(j<<2)>>2]|0;if(!e)break;IB(g+(j<<3)|0,e,f);j=j+1|0;if((j|0)>=10){j=1;break g}}while(1){if(c[i+(j<<2)>>2]|0){j=-1;break g}j=j+1|0;if((j|0)>=10){j=1;break}}}while(0);l=H;return j|0}function EB(a){a=a|0;return 0}function FB(a){a=a|0;return}function GB(a,b,d){a=a|0;b=b|0;d=d|0;c[a>>2]&32||aC(b,d,a)|0;return}function HB(b){b=b|0;var d=0,e=0,f=0;e=c[b>>2]|0;f=(a[e>>0]|0)+-48|0;if(f>>>0<10){d=0;do d=f+(d*10|0)|0,e=e+1|0,c[b>>2]=e,f=(a[e>>0]|0)+-48|0;while(f>>>0<10)}else d=0;return d|0}function IB(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;a:do if(b>>>0<=20)do switch(b|0){case 9:e=(c[d>>2]|0)+(4-1)&~(4-1);b=c[e>>2]|0;c[d>>2]=e+4;c[a>>2]=b;break a;case 10:e=(c[d>>2]|0)+(4-1)&~(4-1);b=c[e>>2]|0;c[d>>2]=e+4;e=a;c[e>>2]=b;c[e+4>>2]=((b|0)<0)<<31>>31;break a;case 11:e=(c[d>>2]|0)+(4-1)&~(4-1);b=c[e>>2]|0;c[d>>2]=e+4;e=a;c[e>>2]=b;c[e+4>>2]=0;break a;case 12:e=(c[d>>2]|0)+(8-1)&~(8-1);b=e;f=c[b>>2]|0;b=c[b+4>>2]|0;c[d>>2]=e+8;e=a;c[e>>2]=f;c[e+4>>2]=b;break a;case 13:f=(c[d>>2]|0)+(4-1)&~(4-1);e=c[f>>2]|0;c[d>>2]=f+4;e=(e&65535)<<16>>16;f=a;c[f>>2]=e;c[f+4>>2]=((e|0)<0)<<31>>31;break a;case 14:f=(c[d>>2]|0)+(4-1)&~(4-1);e=c[f>>2]|0;c[d>>2]=f+4;f=a;c[f>>2]=e&65535;c[f+4>>2]=0;break a;case 15:f=(c[d>>2]|0)+(4-1)&~(4-1);e=c[f>>2]|0;c[d>>2]=f+4;e=(e&255)<<24>>24;f=a;c[f>>2]=e;c[f+4>>2]=((e|0)<0)<<31>>31;break a;case 16:f=(c[d>>2]|0)+(4-1)&~(4-1);e=c[f>>2]|0;c[d>>2]=f+4;f=a;c[f>>2]=e&255;c[f+4>>2]=0;break a;case 17:f=(c[d>>2]|0)+(8-1)&~(8-1);g=+h[f>>3];c[d>>2]=f+8;h[a>>3]=g;break a;case 18:f=(c[d>>2]|0)+(8-1)&~(8-1);g=+h[f>>3];c[d>>2]=f+8;h[a>>3]=g;break a;default:break a}while(0);while(0);return}function JB(b,c,e,f){b=b|0;c=c|0;e=e|0;f=f|0;if(!((b|0)==0&(c|0)==0))do e=e+-1|0,a[e>>0]=d[5694+(b&15)>>0]|0|f,b=AC(b|0,c|0,4)|0,c=A;while(!((b|0)==0&(c|0)==0));return e|0}function KB(b,c,d){b=b|0;c=c|0;d=d|0;if(!((b|0)==0&(c|0)==0))do d=d+-1|0,a[d>>0]=b&7|48,b=AC(b|0,c|0,3)|0,c=A;while(!((b|0)==0&(c|0)==0));return d|0}function LB(b,c,d){b=b|0;c=c|0;d=d|0;var e=0;if(c>>>0>0|(c|0)==0&b>>>0>4294967295){while(1){e=HC(b|0,c|0,10,0)|0;d=d+-1|0;a[d>>0]=e&255|48;e=b;b=EC(b|0,c|0,10,0)|0;if(!(c>>>0>9|(c|0)==9&e>>>0>4294967295))break;else c=A}c=b}else c=b;if(c)while(1){d=d+-1|0;a[d>>0]=(c>>>0)%10|0|48;if(c>>>0<10)break;else c=(c>>>0)/10|0}return d|0}function MB(a){a=a|0;return XB(a,c[(WB()|0)+188>>2]|0)|0}function NB(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;h=d&255;f=(e|0)!=0;a:do if(f&(b&3|0)!=0){g=d&255;while(1){if((a[b>>0]|0)==g<<24>>24){i=6;break a}b=b+1|0;e=e+-1|0;f=(e|0)!=0;if(!(f&(b&3|0)!=0)){i=5;break}}}else i=5;while(0);(i|0)==5&&(f?i=6:e=0);b:do if((i|0)==6){g=d&255;if((a[b>>0]|0)!=g<<24>>24){f=P(h,16843009)|0;c:do if(e>>>0>3)while(1){h=c[b>>2]^f;if((h&-2139062144^-2139062144)&h+-16843009|0)break;b=b+4|0;e=e+-4|0;if(e>>>0<=3){i=11;break c}}else i=11;while(0);if((i|0)==11&&!e){e=0;break}while(1){if((a[b>>0]|0)==g<<24>>24)break b;b=b+1|0;e=e+-1|0;if(!e){e=0;break}}}}while(0);return(e|0?b:0)|0}function OB(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;var f=0,g=0;g=l;l=l+256|0;f=g;if((c|0)>(d|0)&(e&73728|0)==0){e=c-d|0;yC(f|0,b|0,(e>>>0<256?e:256)|0)|0;if(e>>>0>255){b=c-d|0;do GB(a,f,256),e=e+-256|0;while(e>>>0>255);e=b&255}GB(a,f,e)}l=g;return}function PB(a,b){a=a|0;b=b|0;!a?a=0:a=UB(a,b,0)|0;return a|0}function QB(b,e,f,g,h,i){b=b|0;e=+e;f=f|0;g=g|0;h=h|0;i=i|0;var j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0;H=l;l=l+560|0;m=H+8|0;u=H;G=H+524|0;F=G;n=H+512|0;c[u>>2]=0;E=n+12|0;RB(e)|0;(A|0)<0?(e=-e,C=1,B=5659):(C=(h&2049|0)!=0&1,B=(h&2048|0)==0?(h&1|0)==0?5660:5665:5662);RB(e)|0;D=A&2146435072;do if(D>>>0<2146435072|(D|0)==2146435072&0<0){r=+SB(e,u)*2;j=r!=0;j&&(c[u>>2]=(c[u>>2]|0)+-1);w=i|32;if((w|0)==97){s=i&32;q=(s|0)==0?B:B+9|0;p=C|2;j=12-g|0;do if(!(g>>>0>11|(j|0)==0)){e=8;do j=j+-1|0,e=e*16;while((j|0)!=0);if((a[q>>0]|0)==45){e=-(e+(-r-e));break}else{e=r+e-e;break}}else e=r;while(0);k=c[u>>2]|0;j=(k|0)<0?0-k|0:k;j=LB(j,((j|0)<0)<<31>>31,E)|0;(j|0)==(E|0)&&(j=n+11|0,a[j>>0]=48);a[j+-1>>0]=(k>>31&2)+43;o=j+-2|0;a[o>>0]=i+15;n=(g|0)<1;m=(h&8|0)==0;j=G;do D=~~e,k=j+1|0,a[j>>0]=d[5694+D>>0]|s,e=(e-+(D|0))*16,((k-F|0)==1?!(m&(n&e==0)):0)?(a[k>>0]=46,j=j+2|0):j=k;while(e!=0);D=j-F|0;F=E-o|0;E=(g|0)!=0&(D+-2|0)<(g|0)?g+2|0:D;j=F+p+E|0;OB(b,32,f,j,h);GB(b,q,p);OB(b,48,f,j,h^65536);GB(b,G,D);OB(b,48,E-D|0,0,0);GB(b,o,F);OB(b,32,f,j,h^8192);break}k=(g|0)<0?6:g;j?(j=(c[u>>2]|0)+-28|0,c[u>>2]=j,e=r*268435456):(e=r,j=c[u>>2]|0);D=(j|0)<0?m:m+288|0;m=D;do y=~~e>>>0,c[m>>2]=y,m=m+4|0,e=(e-+(y>>>0))*1e9;while(e!=0);if((j|0)>0){n=D;p=m;while(1){o=(j|0)<29?j:29;j=p+-4|0;if(j>>>0>=n>>>0){m=0;do x=zC(c[j>>2]|0,0,o|0)|0,x=xC(x|0,A|0,m|0,0)|0,y=A,v=HC(x|0,y|0,1e9,0)|0,c[j>>2]=v,m=EC(x|0,y|0,1e9,0)|0,j=j+-4|0;while(j>>>0>=n>>>0);m&&(n=n+-4|0,c[n>>2]=m)}m=p;while(1){if(m>>>0<=n>>>0)break;j=m+-4|0;if(!(c[j>>2]|0))m=j;else break}j=(c[u>>2]|0)-o|0;c[u>>2]=j;if((j|0)>0)p=m;else break}}else n=D;if((j|0)<0){g=((k+25|0)/9|0)+1|0;t=(w|0)==102;do{s=0-j|0;s=(s|0)<9?s:9;if(n>>>0<m>>>0){o=(1<<s)+-1|0;p=1e9>>>s;q=0;j=n;do y=c[j>>2]|0,c[j>>2]=(y>>>s)+q,q=P(y&o,p)|0,j=j+4|0;while(j>>>0<m>>>0);j=(c[n>>2]|0)==0?n+4|0:n;!q?(n=j,j=m):(c[m>>2]=q,n=j,j=m+4|0)}else n=(c[n>>2]|0)==0?n+4|0:n,j=m;m=t?D:n;m=(j-m>>2|0)>(g|0)?m+(g<<2)|0:j;j=(c[u>>2]|0)+s|0;c[u>>2]=j}while((j|0)<0);j=n;g=m}else j=n,g=m;y=D;if(j>>>0<g>>>0){m=(y-j>>2)*9|0;o=c[j>>2]|0;if(o>>>0>=10){n=10;do n=n*10|0,m=m+1|0;while(o>>>0>=n>>>0)}}else m=0;t=(w|0)==103;v=(k|0)!=0;n=k-((w|0)!=102?m:0)+((v&t)<<31>>31)|0;if((n|0)<(((g-y>>2)*9|0)+-9|0)){n=n+9216|0;s=D+4+(((n|0)/9|0)+-1024<<2)|0;n=((n|0)%9|0)+1|0;if((n|0)<9){o=10;do o=o*10|0,n=n+1|0;while((n|0)!=9)}else o=10;p=c[s>>2]|0;q=(p>>>0)%(o>>>0)|0;n=(s+4|0)==(g|0);if(!(n&(q|0)==0)){r=(((p>>>0)/(o>>>0)|0)&1|0)==0?9007199254740992:9007199254740994;x=(o|0)/2|0;e=q>>>0<x>>>0?.5:n&(q|0)==(x|0)?1:1.5;C&&(x=(a[B>>0]|0)==45,e=x?-e:e,r=x?-r:r);n=p-q|0;c[s>>2]=n;if(r+e!=r){x=n+o|0;c[s>>2]=x;if(x>>>0>999999999){m=s;while(1){n=m+-4|0;c[m>>2]=0;n>>>0<j>>>0&&(j=j+-4|0,c[j>>2]=0);x=(c[n>>2]|0)+1|0;c[n>>2]=x;if(x>>>0>999999999)m=n;else break}}else n=s;m=(y-j>>2)*9|0;p=c[j>>2]|0;if(p>>>0>=10){o=10;do o=o*10|0,m=m+1|0;while(p>>>0>=o>>>0)}}else n=s}else n=s;n=n+4|0;n=g>>>0>n>>>0?n:g;x=j}else n=g,x=j;w=n;while(1){if(w>>>0<=x>>>0){u=0;break}j=w+-4|0;if(!(c[j>>2]|0))w=j;else{u=1;break}}g=0-m|0;do if(t){j=((v^1)&1)+k|0;(j|0)>(m|0)&(m|0)>-5?(o=i+-1|0,k=j+-1-m|0):(o=i+-2|0,k=j+-1|0);j=h&8;if(!j){if(u?(z=c[w+-4>>2]|0,(z|0)!=0):0)if(!((z>>>0)%10|0)){n=0;j=10;do j=j*10|0,n=n+1|0;while(!((z>>>0)%(j>>>0)|0|0))}else n=0;else n=9;j=((w-y>>2)*9|0)+-9|0;if((o|32|0)==102){s=j-n|0;s=(s|0)>0?s:0;k=(k|0)<(s|0)?k:s;s=0;break}else{s=j+m-n|0;s=(s|0)>0?s:0;k=(k|0)<(s|0)?k:s;s=0;break}}else s=j}else o=i,s=h&8;while(0);t=k|s;p=(t|0)!=0&1;q=(o|32|0)==102;if(q)v=0,j=(m|0)>0?m:0;else{j=(m|0)<0?g:m;j=LB(j,((j|0)<0)<<31>>31,E)|0;n=E;if((n-j|0)<2)do j=j+-1|0,a[j>>0]=48;while((n-j|0)<2);a[j+-1>>0]=(m>>31&2)+43;j=j+-2|0;a[j>>0]=o;v=j;j=n-j|0}j=C+1+k+p+j|0;OB(b,32,f,j,h);GB(b,B,C);OB(b,48,f,j,h^65536);if(q){o=x>>>0>D>>>0?D:x;s=G+9|0;p=s;q=G+8|0;n=o;do{m=LB(c[n>>2]|0,0,s)|0;if((n|0)==(o|0))(m|0)==(s|0)&&(a[q>>0]=48,m=q);else if(m>>>0>G>>>0){yC(G|0,48,m-F|0)|0;do m=m+-1|0;while(m>>>0>G>>>0)}GB(b,m,p-m|0);n=n+4|0}while(n>>>0<=D>>>0);t|0&&GB(b,5710,1);if(n>>>0<w>>>0&(k|0)>0)while(1){m=LB(c[n>>2]|0,0,s)|0;if(m>>>0>G>>>0){yC(G|0,48,m-F|0)|0;do m=m+-1|0;while(m>>>0>G>>>0)}GB(b,m,(k|0)<9?k:9);n=n+4|0;m=k+-9|0;if(!(n>>>0<w>>>0&(k|0)>9)){k=m;break}else k=m}OB(b,48,k+9|0,9,0)}else{t=u?w:x+4|0;if((k|0)>-1){u=G+9|0;s=(s|0)==0;g=u;p=0-F|0;q=G+8|0;o=x;do{m=LB(c[o>>2]|0,0,u)|0;(m|0)==(u|0)&&(a[q>>0]=48,m=q);do if((o|0)==(x|0)){n=m+1|0;GB(b,m,1);if(s&(k|0)<1){m=n;break}GB(b,5710,1);m=n}else{if(m>>>0<=G>>>0)break;yC(G|0,48,m+p|0)|0;do m=m+-1|0;while(m>>>0>G>>>0)}while(0);F=g-m|0;GB(b,m,(k|0)>(F|0)?F:k);k=k-F|0;o=o+4|0}while(o>>>0<t>>>0&(k|0)>-1)}OB(b,48,k+18|0,18,0);GB(b,v,E-v|0)}OB(b,32,f,j,h^8192)}else G=(i&32|0)!=0,j=C+3|0,OB(b,32,f,j,h&-65537),GB(b,B,C),GB(b,e!=e|!1?G?5686:5690:G?5678:5682,3),OB(b,32,f,j,h^8192);while(0);l=H;return((j|0)<(f|0)?f:j)|0}function RB(a){a=+a;var b=0;h[j>>3]=a;b=c[j>>2]|0;A=c[j+4>>2]|0;return b|0}function SB(a,b){a=+a;b=b|0;return+TB(a,b)}function TB(a,b){a=+a;b=b|0;var d=0,e=0,f=0;h[j>>3]=a;d=c[j>>2]|0;e=c[j+4>>2]|0;f=AC(d|0,e|0,52)|0;switch(f&2047){case 0:a!=0?(a=+TB(a*18446744073709552e3,b),d=(c[b>>2]|0)+-64|0):d=0;c[b>>2]=d;break;case 2047:break;default:c[b>>2]=(f&2047)+-1022,c[j>>2]=d,c[j+4>>2]=e&-2146435073|1071644672,a=+h[j>>3]}return+a}function UB(b,d,e){b=b|0;d=d|0;e=e|0;do if(b){if(d>>>0<128){a[b>>0]=d;b=1;break}if(!(c[c[(VB()|0)+188>>2]>>2]|0))if((d&-128|0)==57216){a[b>>0]=d;b=1;break}else{c[(vB()|0)>>2]=84;b=-1;break}if(d>>>0<2048){a[b>>0]=d>>>6|192;a[b+1>>0]=d&63|128;b=2;break}if(d>>>0<55296|(d&-8192|0)==57344){a[b>>0]=d>>>12|224;a[b+1>>0]=d>>>6&63|128;a[b+2>>0]=d&63|128;b=3;break}if((d+-65536|0)>>>0<1048576){a[b>>0]=d>>>18|240;a[b+1>>0]=d>>>12&63|128;a[b+2>>0]=d>>>6&63|128;a[b+3>>0]=d&63|128;b=4;break}else{c[(vB()|0)>>2]=84;b=-1;break}}else b=1;while(0);return b|0}function VB(){return xB()|0}function WB(){return xB()|0}function XB(b,e){b=b|0;e=e|0;var f=0,g=0;g=0;while(1){if((d[5712+g>>0]|0)==(b|0)){b=2;break}f=g+1|0;if((f|0)==87){f=5800;g=87;b=5;break}else g=f}(b|0)==2&&(!g?f=5800:(f=5800,b=5));if((b|0)==5)while(1){do b=f,f=f+1|0;while((a[b>>0]|0)!=0);g=g+-1|0;if(!g)break;else b=5}return YB(f,c[e+20>>2]|0)|0}function YB(a,b){a=a|0;b=b|0;return ZB(a,b)|0}function ZB(a,b){a=a|0;b=b|0;!b?b=0:b=_B(c[b>>2]|0,c[b+4>>2]|0,a)|0;return(b|0?b:a)|0}function _B(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0;o=(c[b>>2]|0)+1794895138|0;h=$B(c[b+8>>2]|0,o)|0;f=$B(c[b+12>>2]|0,o)|0;g=$B(c[b+16>>2]|0,o)|0;a:do if((h>>>0<d>>>2>>>0?(n=d-(h<<2)|0,f>>>0<n>>>0&g>>>0<n>>>0):0)?((g|f)&3|0)==0:0){n=f>>>2;m=g>>>2;l=0;while(1){j=h>>>1;k=l+j|0;i=k<<1;g=i+n|0;f=$B(c[b+(g<<2)>>2]|0,o)|0;g=$B(c[b+(g+1<<2)>>2]|0,o)|0;if(!(g>>>0<d>>>0&f>>>0<(d-g|0)>>>0)){f=0;break a}if(a[b+(g+f)>>0]|0){f=0;break a}f=AB(e,b+g|0)|0;if(!f)break;f=(f|0)<0;if((h|0)==1){f=0;break a}else l=f?l:k,h=f?j:h-j|0}f=i+m|0;g=$B(c[b+(f<<2)>>2]|0,o)|0;f=$B(c[b+(f+1<<2)>>2]|0,o)|0;f>>>0<d>>>0&g>>>0<(d-f|0)>>>0?f=(a[b+(f+g)>>0]|0)==0?b+f|0:0:f=0}else f=0;while(0);return f|0}function $B(a,b){a=a|0;b=b|0;var c=0;c=IC(a|0)|0;return((b|0)==0?a:c)|0}function aC(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0;f=e+16|0;g=c[f>>2]|0;!g?!(bC(e)|0)?(g=c[f>>2]|0,h=5):f=0:h=5;a:do if((h|0)==5){j=e+20|0;i=c[j>>2]|0;f=i;if((g-i|0)>>>0<d>>>0){f=sb[c[e+36>>2]&7](e,b,d)|0;break}b:do if((a[e+75>>0]|0)>-1){i=d;while(1){if(!i){h=0;g=b;break b}g=i+-1|0;if((a[b+g>>0]|0)==10)break;else i=g}f=sb[c[e+36>>2]&7](e,b,i)|0;if(f>>>0<i>>>0)break a;h=i;g=b+i|0;d=d-i|0;f=c[j>>2]|0}else h=0,g=b;while(0);BC(f|0,g|0,d|0)|0;c[j>>2]=(c[j>>2]|0)+d;f=h+d|0}while(0);return f|0}function bC(b){b=b|0;var d=0,e=0;d=b+74|0;e=a[d>>0]|0;a[d>>0]=e+255|e;d=c[b>>2]|0;!(d&8)?(c[b+8>>2]=0,c[b+4>>2]=0,e=c[b+44>>2]|0,c[b+28>>2]=e,c[b+20>>2]=e,c[b+16>>2]=e+(c[b+48>>2]|0),b=0):(c[b>>2]=d|32,b=-1);return b|0}function cC(a,b){a=T(a);b=T(b);var c=0,d=0;c=dC(a)|0;do if((c&2147483647)>>>0<=2139095040){d=dC(b)|0;if((d&2147483647)>>>0<=2139095040)if((d^c|0)<0){a=(c|0)<0?b:a;break}else{a=a<b?b:a;break}}else a=b;while(0);return T(a)}function dC(a){a=T(a);return(g[j>>2]=a,c[j>>2]|0)|0}function eC(a,b){a=T(a);b=T(b);var c=0,d=0;c=fC(a)|0;do if((c&2147483647)>>>0<=2139095040){d=fC(b)|0;if((d&2147483647)>>>0<=2139095040)if((d^c|0)<0){a=(c|0)<0?a:b;break}else{a=a<b?a:b;break}}else a=b;while(0);return T(a)}function fC(a){a=T(a);return(g[j>>2]=a,c[j>>2]|0)|0}function gC(a,b){a=T(a);b=T(b);var d=0,e=0,f=0,h=0,i=0,k=0,l=0,m=0;h=(g[j>>2]=a,c[j>>2]|0);k=(g[j>>2]=b,c[j>>2]|0);d=h>>>23&255;i=k>>>23&255;l=h&-2147483648;f=k<<1;a:do if((f|0)!=0?!((d|0)==255|((hC(b)|0)&2147483647)>>>0>2139095040):0){e=h<<1;if(e>>>0<=f>>>0){b=T(a*T(0));return T((e|0)==(f|0)?b:a)}if(!d){d=h<<9;if((d|0)>-1){e=d;d=0;do d=d+-1|0,e=e<<1;while((e|0)>-1)}else d=0;e=h<<1-d}else e=h&8388607|8388608;if(!i){h=k<<9;if((h|0)>-1){f=0;do f=f+-1|0,h=h<<1;while((h|0)>-1)}else f=0;i=f;k=k<<1-f}else k=k&8388607|8388608;f=e-k|0;h=(f|0)>-1;b:do if((d|0)>(i|0)){while(1){if(h)if(!f)break;else e=f;e=e<<1;d=d+-1|0;f=e-k|0;h=(f|0)>-1;if((d|0)<=(i|0))break b}b=T(a*T(0));break a}while(0);if(h)if(!f){b=T(a*T(0));break}else e=f;if(e>>>0<8388608)do e=e<<1,d=d+-1|0;while(e>>>0<8388608);(d|0)>0?d=e+-8388608|d<<23:d=e>>>(1-d|0);b=(c[j>>2]=d|l,T(g[j>>2]))}else m=3;while(0);(m|0)==3&&(b=T(a*b),b=T(b/b));return T(b)}function hC(a){a=T(a);return(g[j>>2]=a,c[j>>2]|0)|0}function iC(a,b){a=a|0;b=b|0;return CB(c[582]|0,a,b)|0}function jC(a){a=a|0,Ta()}function kC(a){a=a|0;return}function lC(a,b){a=a|0;b=b|0;return 0}function mC(a){a=a|0;(nC(a+4|0)|0)==-1?(nb[c[(c[a>>2]|0)+8>>2]&127](a),a=1):a=0;return a|0}function nC(a){a=a|0;var b=0;b=c[a>>2]|0;c[a>>2]=b+-1;return b+-1|0}function oC(a){a=a|0;mC(a)|0&&pC(a);return}function pC(a){a=a|0;var b=0;b=a+8|0;((c[b>>2]|0)!=0?(nC(b)|0)!=-1:0)||nb[c[(c[a>>2]|0)+16>>2]&127](a);return}function qC(a){a=a|0;var b=0;b=(a|0)==0?1:a;while(1){a=oB(b)|0;if(a|0)break;a=uC()|0;if(!a){a=0;break}Fb[a&0]()}return a|0}function rC(a){a=a|0;return qC(a)|0}function sC(a){a=a|0;pB(a);return}function tC(b){b=b|0;(a[b+11>>0]|0)<0&&sC(c[b>>2]|0);return}function uC(){var a=0;a=c[2923]|0;c[2923]=a+0;return a|0}function vC(){}function wC(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;d=b-d-(c>>>0>a>>>0|0)>>>0;return(A=d,a-c>>>0|0)|0}function xC(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;c=a+c>>>0;return(A=b+d+(c>>>0<a>>>0|0)>>>0,c|0)|0}function yC(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;h=b+e|0;d=d&255;if((e|0)>=67){while(b&3)a[b>>0]=d,b=b+1|0;f=h&-4|0;g=f-64|0;i=d|d<<8|d<<16|d<<24;while((b|0)<=(g|0))c[b>>2]=i,c[b+4>>2]=i,c[b+8>>2]=i,c[b+12>>2]=i,c[b+16>>2]=i,c[b+20>>2]=i,c[b+24>>2]=i,c[b+28>>2]=i,c[b+32>>2]=i,c[b+36>>2]=i,c[b+40>>2]=i,c[b+44>>2]=i,c[b+48>>2]=i,c[b+52>>2]=i,c[b+56>>2]=i,c[b+60>>2]=i,b=b+64|0;while((b|0)<(f|0))c[b>>2]=i,b=b+4|0}while((b|0)<(h|0))a[b>>0]=d,b=b+1|0;return h-e|0}function zC(a,b,c){a=a|0;b=b|0;c=c|0;if((c|0)<32){A=b<<c|(a&(1<<c)-1<<32-c)>>>32-c;return a<<c}A=a<<c-32;return 0}function AC(a,b,c){a=a|0;b=b|0;c=c|0;if((c|0)<32){A=b>>>c;return a>>>c|(b&(1<<c)-1)<<32-c}A=0;return b>>>c-32|0}function BC(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0;if((e|0)>=8192)return Oa(b|0,d|0,e|0)|0;h=b|0;g=b+e|0;if((b&3)==(d&3)){while(b&3){if(!e)return h|0;a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0;e=e-1|0}e=g&-4|0;f=e-64|0;while((b|0)<=(f|0))c[b>>2]=c[d>>2],c[b+4>>2]=c[d+4>>2],c[b+8>>2]=c[d+8>>2],c[b+12>>2]=c[d+12>>2],c[b+16>>2]=c[d+16>>2],c[b+20>>2]=c[d+20>>2],c[b+24>>2]=c[d+24>>2],c[b+28>>2]=c[d+28>>2],c[b+32>>2]=c[d+32>>2],c[b+36>>2]=c[d+36>>2],c[b+40>>2]=c[d+40>>2],c[b+44>>2]=c[d+44>>2],c[b+48>>2]=c[d+48>>2],c[b+52>>2]=c[d+52>>2],c[b+56>>2]=c[d+56>>2],c[b+60>>2]=c[d+60>>2],b=b+64|0,d=d+64|0;while((b|0)<(e|0))c[b>>2]=c[d>>2],b=b+4|0,d=d+4|0}else{e=g-4|0;while((b|0)<(e|0))a[b>>0]=a[d>>0]|0,a[b+1>>0]=a[d+1>>0]|0,a[b+2>>0]=a[d+2>>0]|0,a[b+3>>0]=a[d+3>>0]|0,b=b+4|0,d=d+4|0}while((b|0)<(g|0))a[b>>0]=a[d>>0]|0,b=b+1|0,d=d+1|0;return h|0}function CC(b){b=b|0;var c=0;c=a[n+(b&255)>>0]|0;if((c|0)<8)return c|0;c=a[n+(b>>8&255)>>0]|0;if((c|0)<8)return c+8|0;c=a[n+(b>>16&255)>>0]|0;return(c|0)<8?c+16|0:(a[n+(b>>>24)>>0]|0)+24|0}function DC(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;l=a;j=b;k=j;h=d;n=e;i=n;if(!k){g=(f|0)!=0;if(!i){g&&(c[f>>2]=(l>>>0)%(h>>>0),c[f+4>>2]=0);n=0;f=(l>>>0)/(h>>>0)>>>0;return(A=n,f)|0}else{if(!g){n=0;f=0;return(A=n,f)|0}c[f>>2]=a|0;c[f+4>>2]=b&0;n=0;f=0;return(A=n,f)|0}}g=(i|0)==0;do if(h){if(!g){g=(S(i|0)|0)-(S(k|0)|0)|0;if(g>>>0<=31){m=g+1|0;i=31-g|0;b=g-31>>31;h=m;a=l>>>(m>>>0)&b|k<<i;b=k>>>(m>>>0)&b;g=0;i=l<<i;break}if(!f){n=0;f=0;return(A=n,f)|0}c[f>>2]=a|0;c[f+4>>2]=j|b&0;n=0;f=0;return(A=n,f)|0}g=h-1|0;if(g&h|0){i=(S(h|0)|0)+33-(S(k|0)|0)|0;p=64-i|0;m=32-i|0;j=m>>31;o=i-32|0;b=o>>31;h=i;a=m-1>>31&k>>>(o>>>0)|(k<<m|l>>>(i>>>0))&b;b=b&k>>>(i>>>0);g=l<<p&j;i=(k<<p|l>>>(o>>>0))&j|l<<m&i-33>>31;break}f|0&&(c[f>>2]=g&l,c[f+4>>2]=0);if((h|0)==1){o=j|b&0;p=a|0|0;return(A=o,p)|0}else{p=CC(h|0)|0;o=k>>>(p>>>0)|0;p=k<<32-p|l>>>(p>>>0)|0;return(A=o,p)|0}}else{if(g){f|0&&(c[f>>2]=(k>>>0)%(h>>>0),c[f+4>>2]=0);o=0;p=(k>>>0)/(h>>>0)>>>0;return(A=o,p)|0}if(!l){f|0&&(c[f>>2]=0,c[f+4>>2]=(k>>>0)%(i>>>0));o=0;p=(k>>>0)/(i>>>0)>>>0;return(A=o,p)|0}g=i-1|0;if(!(g&i)){f|0&&(c[f>>2]=a|0,c[f+4>>2]=g&k|b&0);o=0;p=k>>>((CC(i|0)|0)>>>0);return(A=o,p)|0}g=(S(i|0)|0)-(S(k|0)|0)|0;if(g>>>0<=30){b=g+1|0;i=31-g|0;h=b;a=k<<i|l>>>(b>>>0);b=k>>>(b>>>0);g=0;i=l<<i;break}if(!f){o=0;p=0;return(A=o,p)|0}c[f>>2]=a|0;c[f+4>>2]=j|b&0;o=0;p=0;return(A=o,p)|0}while(0);if(!h)k=i,j=0,i=0;else{m=d|0|0;l=n|e&0;k=xC(m|0,l|0,-1,-1)|0;d=A;j=i;i=0;do e=j,j=g>>>31|j<<1,g=i|g<<1,e=a<<1|e>>>31|0,n=a>>>31|b<<1|0,wC(k|0,d|0,e|0,n|0)|0,p=A,o=p>>31|((p|0)<0?-1:0)<<1,i=o&1,a=wC(e|0,n|0,o&m|0,(((p|0)<0?-1:0)>>31|((p|0)<0?-1:0)<<1)&l|0)|0,b=A,h=h-1|0;while((h|0)!=0);k=j;j=0}h=0;f|0&&(c[f>>2]=a,c[f+4>>2]=b);o=(g|0)>>>31|(k|h)<<1|(h<<1|g>>>31)&0|j;p=(g<<1|0>>>31)&-2|i;return(A=o,p)|0}function EC(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return DC(a,b,c,d,0)|0}function FC(a){a=a|0;var b=0,d=0;d=a+15&-16|0;b=c[i>>2]|0;a=b+d|0;if((d|0)>0&(a|0)<(b|0)|(a|0)<0){Y()|0;Qa(12);return-1}c[i>>2]=a;if((a|0)>(X()|0)?(W()|0)==0:0){c[i>>2]=b;Qa(12);return-1}return b|0}function GC(b,c,d){b=b|0;c=c|0;d=d|0;var e=0;if((c|0)<(b|0)&(b|0)<(c+d|0)){e=b;c=c+d|0;b=b+d|0;while((d|0)>0)b=b-1|0,c=c-1|0,d=d-1|0,a[b>>0]=a[c>>0]|0;b=e}else BC(b,c,d)|0;return b|0}function HC(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=l;l=l+16|0;f=g|0;DC(a,b,d,e,f)|0;l=g;return(A=c[f+4>>2]|0,c[f>>2]|0)|0}function IC(a){a=a|0;return(a&255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>>24|0}function JC(a,b,c,d,e,f){a=a|0,b=b|0,c=c|0,d=d|0,e=e|0,f=f|0,jb[a&1](b|0,c|0,d|0,e|0,f|0)}function KC(a,b,c){a=a|0,b=b|0,c=T(c),kb[a&1](b|0,T(c))}function LC(a,b,c){a=a|0,b=b|0,c=+c,lb[a&31](b|0,+c)}function MC(a,b,c,d){a=a|0;b=b|0;c=T(c);d=T(d);return T(mb[a&0](b|0,T(c),T(d)))}function NC(a,b){a=a|0,b=b|0,nb[a&127](b|0)}function OC(a,b,c){a=a|0,b=b|0,c=c|0,ob[a&31](b|0,c|0)}function PC(a,b){a=a|0;b=b|0;return pb[a&31](b|0)|0}function QC(a,b,c,d,e){a=a|0,b=b|0,c=+c,d=+d,e=e|0,qb[a&1](b|0,+c,+d,e|0)}function RC(a,b,c,d){a=a|0,b=b|0,c=+c,d=+d,rb[a&1](b|0,+c,+d)}function SC(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return sb[a&7](b|0,c|0,d|0)|0}function TC(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return+tb[a&1](b|0,c|0,d|0)}function UC(a,b){a=a|0;b=b|0;return+ub[a&15](b|0)}function VC(a,b,c){a=a|0;b=b|0;c=+c;return vb[a&1](b|0,+c)|0}function WC(a,b,c){a=a|0;b=b|0;c=c|0;return wb[a&15](b|0,c|0)|0}function XC(a,b,c,d,e,f){a=a|0,b=b|0,c=c|0,d=+d,e=+e,f=f|0,xb[a&1](b|0,c|0,+d,+e,f|0)}function YC(a,b,c,d,e,f,g){a=a|0,b=b|0,c=c|0,d=d|0,e=e|0,f=f|0,g=g|0,yb[a&1](b|0,c|0,d|0,e|0,f|0,g|0)}function ZC(a,b,c){a=a|0;b=b|0;c=c|0;return+zb[a&7](b|0,c|0)}function _C(a){a=a|0;return Ab[a&7]()|0}function $C(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;return Bb[a&1](b|0,c|0,d|0,e|0,f|0)|0}function aD(a,b,c,d,e){a=a|0,b=b|0,c=c|0,d=d|0,e=+e,Cb[a&1](b|0,c|0,d|0,+e)}function bD(a,b,c,d,e,f,g){a=a|0,b=b|0,c=c|0,d=T(d),e=e|0,f=T(f),g=g|0,Db[a&1](b|0,c|0,T(d),e|0,T(f),g|0)}function cD(a,b,c,d){a=a|0,b=b|0,c=c|0,d=d|0,Eb[a&15](b|0,c|0,d|0)}function dD(a){a=a|0,Fb[a&0]()}function eD(a,b,c,d){a=a|0,b=b|0,c=c|0,d=+d,Gb[a&15](b|0,c|0,+d)}function fD(a,b,c){a=a|0;b=+b;c=+c;return Hb[a&1](+b,+c)|0}function gD(a,b,c,d,e){a=a|0,b=b|0,c=c|0,d=d|0,e=e|0,Ib[a&15](b|0,c|0,d|0,e|0)}function hD(a,b,c,d,e){a=a|0,b=b|0,c=c|0,d=d|0,e=e|0,U(0)}function iD(a,b){a=a|0,b=T(b),U(1)}function jD(a,b){a=a|0,b=+b,U(2)}function kD(a,b,c){a=a|0;b=T(b);c=T(c);U(3);return ib}function lD(a){a=a|0,U(4)}function mD(a,b){a=a|0,b=b|0,U(5)}function nD(a){a=a|0;U(6);return 0}function oD(a,b,c,d){a=a|0,b=+b,c=+c,d=d|0,U(7)}function pD(a,b,c){a=a|0,b=+b,c=+c,U(8)}function qD(a,b,c){a=a|0;b=b|0;c=c|0;U(9);return 0}function rD(a,b,c){a=a|0;b=b|0;c=c|0;U(10);return 0}function sD(a){a=a|0;U(11);return 0}function tD(a,b){a=a|0;b=+b;U(12);return 0}function uD(a,b){a=a|0;b=b|0;U(13);return 0}function vD(a,b,c,d,e){a=a|0,b=b|0,c=+c,d=+d,e=e|0,U(14)}function wD(a,b,c,d,e,f){a=a|0,b=b|0,c=c|0,d=d|0,e=e|0,f=f|0,U(15)}function xD(a,b){a=a|0;b=b|0;U(16);return 0}function yD(){U(17);return 0}function zD(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;U(18);return 0}function AD(a,b,c,d){a=a|0,b=b|0,c=c|0,d=+d,U(19)}function BD(a,b,c,d,e,f){a=a|0,b=b|0,c=T(c),d=d|0,e=T(e),f=f|0,U(20)}function CD(a,b,c){a=a|0,b=b|0,c=c|0,U(21)}function DD(){U(22)}function ED(a,b,c){a=a|0,b=b|0,c=+c,U(23)}function FD(a,b){a=+a;b=+b;U(24);return 0}function GD(a,b,c,d){a=a|0,b=b|0,c=c|0,d=d|0,U(25)}var jb=[hD,Uw],kb=[iD,of],lb=[jD,Of,Pf,Qf,Rf,Sf,Tf,Uf,Wf,Xf,Zf,_f,$f,ag,bg,cg,dg,eg,fg,jD,jD,jD,jD,jD,jD,jD,jD,jD,jD,jD,jD,jD],mb=[kD],nb=[lD,kC,Ki,Li,Mi,rn,sn,tn,Pu,Qu,Ru,Cw,Dw,Ew,DA,EA,FA,Rb,tf,yf,Vf,Yf,hh,ih,ri,Ui,kj,Jj,bk,zk,Wk,nl,Hl,bm,um,Nm,en,Nn,fo,yo,Ro,ip,Bp,Xp,nq,Eq,Zq,lf,Hr,_r,us,Ps,ft,Ct,Ot,Rt,ju,mu,Eu,Uu,Xu,pv,Kv,Vi,$x,Ky,az,sz,Rz,hA,tA,wA,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD,lD],ob=[mD,zf,Af,Df,Ef,Ff,Gf,Hf,If,Lf,Mf,Nf,wg,zg,Ag,Bg,Cg,Dg,Eg,Jg,Ng,rh,$p,qq,Ts,cy,Sv,xy,mD,mD,mD,mD],pb=[nD,rB,sf,jg,ng,og,pg,qg,rg,sg,ug,vg,Kg,Lg,jh,ar,jt,sv,hy,jy,nD,nD,nD,nD,nD,nD,nD,nD,nD,nD,nD,nD],qb=[oD,kh],rb=[pD,Hu],sb=[qD,sB,tB,zB,Dk,Rn,Lr,wz],tb=[rD,ym],ub=[sD,xg,yg,Fg,lh,mh,nh,oh,ph,qh,sD,sD,sD,sD,sD,sD],vb=[tD,Kt],wb=[uD,lC,Mg,xi,Nj,_k,rl,jn,jo,Iq,pf,ez,uD,uD,uD,uD],xb=[vD,oj],yb=[wD,Vz],zb=[xD,Gg,sh,th,uh,Rm,xD,xD],Ab=[yD,vh,qf,jf,Wt,qu,av,AA],Bb=[zD,ee],Cb=[AD,Vo],Db=[BD,Pg],Eb=[CD,kg,tg,Hg,Ig,fk,Ll,mp,Fp,nf,vx,Oy,lA,CD,CD,CD],Fb=[DD],Gb=[ED,Bf,Cf,Jf,Kf,gg,hg,ig,Co,cs,Ft,ED,ED,ED,ED,ED],Hb=[FD,Mu],Ib=[GD,fm,ir,ys,st,au,wu,hv,Pv,oy,LA,GD,GD,GD,GD,GD];return{_llvm_bswap_i32:IC,dynCall_idd:fD,dynCall_i:_C,_i64Subtract:wC,___udivdi3:EC,dynCall_vif:KC,setThrew:Nb,dynCall_viii:cD,_bitshift64Lshr:AC,_bitshift64Shl:zC,dynCall_vi:NC,dynCall_viiddi:XC,dynCall_diii:TC,dynCall_iii:WC,_memset:yC,_sbrk:FC,_memcpy:BC,__GLOBAL__sub_I_Yoga_cpp:hf,dynCall_vii:OC,___uremdi3:HC,dynCall_vid:LC,stackAlloc:Jb,_nbind_init:_A,getTempRet0:Pb,dynCall_di:UC,dynCall_iid:VC,setTempRet0:Ob,_i64Add:xC,dynCall_fiff:MC,dynCall_iiii:SC,_emscripten_get_global_libc:qB,dynCall_viid:eD,dynCall_viiid:aD,dynCall_viififi:bD,dynCall_ii:PC,__GLOBAL__sub_I_Binding_cc:Sx,dynCall_viiii:gD,dynCall_iiiiii:$C,stackSave:Kb,dynCall_viiiii:JC,__GLOBAL__sub_I_nbind_cc:wh,dynCall_vidd:RC,_free:pB,runPostSets:vC,dynCall_viiiiii:YC,establishStackSpace:Mb,_memmove:GC,stackRestore:Lb,_malloc:oB,__GLOBAL__sub_I_common_cc:Bv,dynCall_viddi:QC,dynCall_dii:ZC,dynCall_v:dD}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_llvm_bswap_i32=Module._llvm_bswap_i32=asm._llvm_bswap_i32,getTempRet0=Module.getTempRet0=asm.getTempRet0,___udivdi3=Module.___udivdi3=asm.___udivdi3,setThrew=Module.setThrew=asm.setThrew,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_memset=Module._memset=asm._memset,_sbrk=Module._sbrk=asm._sbrk,_memcpy=Module._memcpy=asm._memcpy,stackAlloc=Module.stackAlloc=asm.stackAlloc,___uremdi3=Module.___uremdi3=asm.___uremdi3,_nbind_init=Module._nbind_init=asm._nbind_init,_i64Subtract=Module._i64Subtract=asm._i64Subtract,setTempRet0=Module.setTempRet0=asm.setTempRet0,_i64Add=Module._i64Add=asm._i64Add,_emscripten_get_global_libc=Module._emscripten_get_global_libc=asm._emscripten_get_global_libc,__GLOBAL__sub_I_Yoga_cpp=Module.__GLOBAL__sub_I_Yoga_cpp=asm.__GLOBAL__sub_I_Yoga_cpp,__GLOBAL__sub_I_Binding_cc=Module.__GLOBAL__sub_I_Binding_cc=asm.__GLOBAL__sub_I_Binding_cc,stackSave=Module.stackSave=asm.stackSave,__GLOBAL__sub_I_nbind_cc=Module.__GLOBAL__sub_I_nbind_cc=asm.__GLOBAL__sub_I_nbind_cc,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,establishStackSpace=Module.establishStackSpace=asm.establishStackSpace,_memmove=Module._memmove=asm._memmove,stackRestore=Module.stackRestore=asm.stackRestore,_malloc=Module._malloc=asm._malloc,__GLOBAL__sub_I_common_cc=Module.__GLOBAL__sub_I_common_cc=asm.__GLOBAL__sub_I_common_cc,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_vif=Module.dynCall_vif=asm.dynCall_vif,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_fiff=Module.dynCall_fiff=asm.dynCall_fiff,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viddi=Module.dynCall_viddi=asm.dynCall_viddi,dynCall_vidd=Module.dynCall_vidd=asm.dynCall_vidd,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_diii=Module.dynCall_diii=asm.dynCall_diii,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_iid=Module.dynCall_iid=asm.dynCall_iid,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiddi=Module.dynCall_viiddi=asm.dynCall_viiddi,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiid=Module.dynCall_viiid=asm.dynCall_viiid,dynCall_viififi=Module.dynCall_viififi=asm.dynCall_viififi,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_idd=Module.dynCall_idd=asm.dynCall_idd,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=Module.stackAlloc;Runtime.stackSave=Module.stackSave;Runtime.stackRestore=Module.stackRestore;Runtime.establishStackSpace=Module.establishStackSpace;Runtime.setTempRet0=Module.setTempRet0;Runtime.getTempRet0=Module.getTempRet0;Module.asm=asm;function ExitStatus(status){this.name="ExitStatus",this.message="Program terminated with exit("+status+")",this.status=status}ExitStatus.prototype=new Error();ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function runCaller(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=runCaller)};Module.callMain=Module.callMain=function callMain(args){args=args||[];ensureInitRuntime();var argc=args.length+1;function pad(){for(var i=0;i<4-1;i++)argv.push(0)}var argv=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];pad();for(var i=0;i<argc-1;i=i+1)argv.push(allocate(intArrayFromString(args[i]),"i8",ALLOC_NORMAL)),pad();argv.push(0);argv=allocate(argv,"i32",ALLOC_NORMAL);try{var ret=Module._main(argc,argv,0);exit(ret,!0)}catch(e){if(e instanceof ExitStatus)return;else if(e=="SimulateInfiniteLoop"){Module.noExitRuntime=!0;return}else{var toLog=e;e&&typeof e==="object"&&e.stack&&(toLog=[e,e.stack]);Module.printErr("exception thrown: "+toLog);Module.quit(1,e)}}finally{calledMain=!0}};function run(args){args=args||Module.arguments;preloadStartTime===null&&(preloadStartTime=Date.now());if(runDependencies>0)return;preRun();if(runDependencies>0)return;if(Module.calledRun)return;function doRun(){if(Module.calledRun)return;Module.calledRun=!0;if(ABORT)return;ensureInitRuntime();preMain();Module.onRuntimeInitialized&&Module.onRuntimeInitialized();Module._main&&shouldRunNow&&Module.callMain(args);postRun()}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),doRun()},1)):doRun()}Module.run=Module.run=run;function exit(status,implicit){if(implicit&&Module.noExitRuntime)return;Module.noExitRuntime||(ABORT=!0,EXITSTATUS=status,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(status));ENVIRONMENT_IS_NODE&&process.exit(status);Module.quit(status,new ExitStatus(status))}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(what){Module.onAbort&&Module.onAbort(what);what!==void 0?(Module.print(what),Module.printErr(what),what=JSON.stringify(what)):what="";ABORT=!0;EXITSTATUS=1;var extra="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.",output="abort("+what+") at "+stackTrace()+extra;abortDecorators&&abortDecorators.forEach(function(decorator){output=decorator(output,what)});throw output}Module.abort=Module.abort=abort;if(Module.preInit){typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);while(Module.preInit.length>0)Module.preInit.pop()()}var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1);run()}},null);
__d("ShowreelThirdPartyYogaEnums",[],function(a,b,c,d,e,f){"use strict";a={ALIGN_COUNT:8,ALIGN_AUTO:0,ALIGN_FLEX_START:1,ALIGN_CENTER:2,ALIGN_FLEX_END:3,ALIGN_STRETCH:4,ALIGN_BASELINE:5,ALIGN_SPACE_BETWEEN:6,ALIGN_SPACE_AROUND:7,DIMENSION_COUNT:2,DIMENSION_WIDTH:0,DIMENSION_HEIGHT:1,DIRECTION_COUNT:3,DIRECTION_INHERIT:0,DIRECTION_LTR:1,DIRECTION_RTL:2,DISPLAY_COUNT:2,DISPLAY_FLEX:0,DISPLAY_NONE:1,EDGE_COUNT:9,EDGE_LEFT:0,EDGE_TOP:1,EDGE_RIGHT:2,EDGE_BOTTOM:3,EDGE_START:4,EDGE_END:5,EDGE_HORIZONTAL:6,EDGE_VERTICAL:7,EDGE_ALL:8,EXPERIMENTAL_FEATURE_COUNT:1,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:0,FLEX_DIRECTION_COUNT:4,FLEX_DIRECTION_COLUMN:0,FLEX_DIRECTION_COLUMN_REVERSE:1,FLEX_DIRECTION_ROW:2,FLEX_DIRECTION_ROW_REVERSE:3,JUSTIFY_COUNT:6,JUSTIFY_FLEX_START:0,JUSTIFY_CENTER:1,JUSTIFY_FLEX_END:2,JUSTIFY_SPACE_BETWEEN:3,JUSTIFY_SPACE_AROUND:4,JUSTIFY_SPACE_EVENLY:5,LOG_LEVEL_COUNT:6,LOG_LEVEL_ERROR:0,LOG_LEVEL_WARN:1,LOG_LEVEL_INFO:2,LOG_LEVEL_DEBUG:3,LOG_LEVEL_VERBOSE:4,LOG_LEVEL_FATAL:5,MEASURE_MODE_COUNT:3,MEASURE_MODE_UNDEFINED:0,MEASURE_MODE_EXACTLY:1,MEASURE_MODE_AT_MOST:2,NODE_TYPE_COUNT:2,NODE_TYPE_DEFAULT:0,NODE_TYPE_TEXT:1,OVERFLOW_COUNT:3,OVERFLOW_VISIBLE:0,OVERFLOW_HIDDEN:1,OVERFLOW_SCROLL:2,POSITION_TYPE_COUNT:2,POSITION_TYPE_RELATIVE:0,POSITION_TYPE_ABSOLUTE:1,PRINT_OPTIONS_COUNT:3,PRINT_OPTIONS_LAYOUT:1,PRINT_OPTIONS_STYLE:2,PRINT_OPTIONS_CHILDREN:4,UNIT_COUNT:4,UNIT_UNDEFINED:0,UNIT_POINT:1,UNIT_PERCENT:2,UNIT_AUTO:3,WRAP_COUNT:3,WRAP_NO_WRAP:0,WRAP_WRAP:1,WRAP_WRAP_REVERSE:2};e.exports=a},null);
__d("ShowreelThirdPartyYogaCommon",["ShowreelThirdPartyYogaEnums"],function(a,b,c,d,e,f){"use strict";var g=b("ShowreelThirdPartyYogaEnums"),h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function j(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var l=function(){function a(b,c,d,e,f,g){k(this,a),this.left=b,this.right=c,this.top=d,this.bottom=e,this.width=f,this.height=g}i(a,[{key:"fromJS",value:function(a){a(this.left,this.right,this.top,this.bottom,this.width,this.height)}},{key:"toString",value:function(){return"<Layout#"+this.left+":"+this.right+";"+this.top+":"+this.bottom+";"+this.width+":"+this.height+">"}}]);return a}(),m=function(){i(a,null,[{key:"fromJS",value:function(b){var c=b.width;b=b.height;return new a(c,b)}}]);function a(b,c){k(this,a),this.width=b,this.height=c}i(a,[{key:"fromJS",value:function(a){a(this.width,this.height)}},{key:"toString",value:function(){return"<Size#"+this.width+"x"+this.height+">"}}]);return a}(),n=function(){function a(b,c){k(this,a),this.unit=b,this.value=c}i(a,[{key:"fromJS",value:function(a){a(this.unit,this.value)}},{key:"toString",value:function(){switch(this.unit){case g.UNIT_POINT:return String(this.value);case g.UNIT_PERCENT:return this.value+"%";case g.UNIT_AUTO:return"auto";default:return this.value+"?"}}},{key:"valueOf",value:function(){return this.value}}]);return a}();a=function(a,b){function c(a,b,c){var d=a[b];a[b]=function(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];return c.call.apply(c,[this,d].concat(b))}}var d=["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"],e=function(){var a,e=d[f],h=(a={},j(a,g.UNIT_POINT,b.Node.prototype[e]),j(a,g.UNIT_PERCENT,b.Node.prototype[e+"Percent"]),j(a,g.UNIT_AUTO,b.Node.prototype[e+"Auto"]),a);c(b.Node.prototype,e,function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var f=c.pop(),i=void 0,j=void 0;if(f==="auto")i=g.UNIT_AUTO,j=void 0;else if(f instanceof n)i=f.unit,j=f.valueOf();else{i=typeof f==="string"&&f.endsWith("%")?g.UNIT_PERCENT:g.UNIT_POINT;j=parseFloat(f);if(!Number.isNaN(f)&&Number.isNaN(j))throw new Error("Invalid value "+f+" for "+e)}if(!h[i])throw new Error('Failed to execute "'+e+"\": Unsupported unit '"+f+"'");if(j!==void 0){var k;return(k=h[i]).call.apply(k,[this].concat(c,[j]))}else{var l;return(l=h[i]).call.apply(l,[this].concat(c))}})};for(var f=0;f<d.length;f++)e();c(b.Config.prototype,"free",function(){b.Config.destroy(this)});c(b.Node,"create",function(a,c){return c?b.Node.createWithConfig(c):b.Node.createDefault()});c(b.Node.prototype,"free",function(){b.Node.destroy(this)});c(b.Node.prototype,"freeRecursive",function(){for(var a=0,b=this.getChildCount();a<b;++a)this.getChild(0).freeRecursive();this.free()});c(b.Node.prototype,"setMeasureFunc",function(a,b){if(b)return a.call(this,function(){return m.fromJS(b.apply(void 0,arguments))});else return this.unsetMeasureFunc()});c(b.Node.prototype,"calculateLayout",function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g.DIRECTION_LTR;return a.call(this,b,c,d)});return h({Config:b.Config,Node:b.Node,Layout:a("Layout",l),Size:a("Size",m),Value:a("Value",n),getInstanceCount:function(){return b.getInstanceCount.apply(b,arguments)}},g)};e.exports=a},null);
__d("ShowreelThirdPartyYoga",["ShowreelThirdPartyYogaBind","ShowreelThirdPartyYogaCommon"],function(a,b,c,d,e,f){"use strict";a=b("ShowreelThirdPartyYogaBind");c=b("ShowreelThirdPartyYogaCommon");var g=!1;d=null;a({},function(a,b){if(g)return;g=!0;if(a)throw a;d=b});if(!g)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");e.exports=c(d.bind,d.lib)},null);
__d("ShowreelYogaUtils",["ShowreelThirdPartyYoga"],function(a,b,c,d,e,f,g){"use strict";var h={"flex-start":c("ShowreelThirdPartyYoga").JUSTIFY_FLEX_START,center:c("ShowreelThirdPartyYoga").JUSTIFY_CENTER,"flex-end":c("ShowreelThirdPartyYoga").JUSTIFY_FLEX_END,"space-between":c("ShowreelThirdPartyYoga").JUSTIFY_SPACE_BETWEEN,"space-around":c("ShowreelThirdPartyYoga").JUSTIFY_SPACE_AROUND,"space-evenly":c("ShowreelThirdPartyYoga").JUSTIFY_SPACE_EVENLY},i={column:c("ShowreelThirdPartyYoga").FLEX_DIRECTION_COLUMN,"column-reverse":c("ShowreelThirdPartyYoga").FLEX_DIRECTION_COLUMN_REVERSE,row:c("ShowreelThirdPartyYoga").FLEX_DIRECTION_ROW,"row-reverse":c("ShowreelThirdPartyYoga").FLEX_DIRECTION_ROW_REVERSE},j={auto:c("ShowreelThirdPartyYoga").ALIGN_AUTO,"flex-start":c("ShowreelThirdPartyYoga").ALIGN_FLEX_START,center:c("ShowreelThirdPartyYoga").ALIGN_CENTER,"flex-end":c("ShowreelThirdPartyYoga").ALIGN_FLEX_END,stretch:c("ShowreelThirdPartyYoga").ALIGN_STRETCH,baseline:c("ShowreelThirdPartyYoga").ALIGN_BASELINE,"space-between":c("ShowreelThirdPartyYoga").ALIGN_SPACE_BETWEEN,"space-around":c("ShowreelThirdPartyYoga").ALIGN_SPACE_AROUND},k={relative:c("ShowreelThirdPartyYoga").POSITION_TYPE_RELATIVE,absolute:c("ShowreelThirdPartyYoga").POSITION_TYPE_ABSOLUTE};function a(a,b){var c=b.width,d=b.height,e=b.margin,f=b.position,g=b.padding,o=b.alignItems,p=b.flexDirection,q=b.justifyContent;b=b.positionType;n(a.setWidth,c,a);n(a.setHeight,d,a);l(a.setMargin,e,a);l(a.setPosition,f,a);l(a.setPadding,g,a);m(a.setAlignItems,o,j,a);m(a.setFlexDirection,p,i,a);m(a.setJustifyContent,q,h,a);m(a.setPositionType,b,k,a)}function l(a,b,d){[c("ShowreelThirdPartyYoga").EDGE_TOP,c("ShowreelThirdPartyYoga").EDGE_RIGHT,c("ShowreelThirdPartyYoga").EDGE_BOTTOM,c("ShowreelThirdPartyYoga").EDGE_LEFT].forEach(function(c,e){e=b!=null?(e=b[e])!=null?e:0:0;a.call(d,c,e)})}function m(a,b,c,d){b!=null&&a.call(d,c[b])}function n(a,b,c){b!=null&&a.call(c,b)}function b(){return c("ShowreelThirdPartyYoga").Node.create()}d={JUSTIFY:h,FLEX_DIRECTION:i,ALIGN:j,POSITION_TYPE:k};g.applyFlexLayout=a;g.createFlexNode=b;g.YOGA_CONSTANTS=d},98);
__d("ShowreelFrameRenderer",["invariant","ShowreelFrameUtils","ShowreelLayerIndex","ShowreelLayerRenderers","ShowreelLayerUtils","ShowreelPIXIJSTyped","ShowreelTimeSeriesValue","ShowreelYogaUtils","isFalsey","nullthrows"],function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b,d,e){this.$2={},this.$3=new WeakMap(),this.$4=!1,this.renderers=new(c("ShowreelLayerRenderers"))(),this.root=new(c("ShowreelPIXIJSTyped").Container)(),c("isFalsey")(d)?this.root.scale.set(1):this.root.scale.set(d),this.$4=!!e,this.update(a,b)}var b=a.prototype;b.update=function(a,b){this.caches={};this.assets=b;this.animation=a;this.index=new(c("ShowreelLayerIndex"))(a);this.renderers.update(a,b,this.index);this.root.removeChildren();(a=this.root).addChild.apply(a,this.renderers.getRoots());this.$5();this.$6();this.$7()};b.$5=function(){var a,b=this,c=this.animation,e=this.$3;a=(a=c.layout)==null?void 0:a.flex;if(a){var f,g=(f=e.get(this.root))!=null?f:d("ShowreelYogaUtils").createFlexNode(),h=a.children||[],i=d("ShowreelFrameUtils").getLastRenderableFrame(this.animation);f=parseInt(c.width,10);c=parseInt(c.height,10);e.set(this.root,g);while(g.getChildCount())g.removeChild(g.getChild(0));this.index.getLayersOrderedByDepth().filter(function(a){return h.includes(a.name)}).sort(function(a,b){return h.indexOf(b.name)-h.indexOf(a.name)}).map(function(a){return b.renderers.getRenderer(a.name)}).filter(Boolean).filter(function(a){return a.inFrame(i)}).map(function(a){return b.renderers.getRoot(a.layer.name)}).forEach(function(a){var b=d("ShowreelYogaUtils").createFlexNode();g.insertChild(b);e.set(a,b)});d("ShowreelYogaUtils").applyFlexLayout(g,babelHelpers["extends"]({width:f,height:c},a));this.$8()}};b.render=function(a){this.renderers.render(a),this.$9(),this.$10(),this.$11(),this.$4&&this.$12()};b.$12=function(){var a=this.root.scale.x;if(a===1)return;this.renderers.getRoots().map(b).filter(Boolean).filter(function(a){return a.style.originalFontSizings==null}).forEach(function(b){var c=b.style,d=c.fontSize,e=c.wordWrapWidth;c=c.lineHeight;b.style=Object.assign(b.style,{fontSize:d*a<1?1:d*a,wordWrapWidth:e?e*a:e,lineHeight:c*a});b.style.originalFontSizings={fontSize:d,wordWrapWidth:e,lineHeight:c};b.scale.set(b.scale.x/a,b.scale.y/a)});function b(a){if(a instanceof c("ShowreelPIXIJSTyped").Text)return a;return Array.isArray(a.children)?a.children.map(b).find(Boolean):null}};b.$8=function(){var a=this.animation.outPoint-1;this.$1=null;this.render(a);this.$1=this.$13()};b.$13=function(){var a=this.renderers,b=this.$3,c=b.get(this.root),e={};c!=null||h(0,12608);this.$14(function(c,e,f){f=a.getRoot(c.name);c=f?b.get(f):null;e=(e=e==null?void 0:e.flex)!=null?e:{};if(f!=null&&c!=null){f=f.mask?f.mask.getBounds():f.getBounds();var g=f.width;f=f.height;d("ShowreelYogaUtils").applyFlexLayout(c,babelHelpers["extends"]({width:g,height:f},e))}});c.calculateLayout();this.$14(function(c,d,f){d=a.getRoot(c.name);f=d?b.get(d):null;if(d!=null&&f!=null){d=d.getBounds();f=f.getComputedLayout();e[c.name]={x:f.left-d.left,y:f.top-d.top}}});return e};b.$10=function(){var a=this.$1;if(a==null)return;var b=this.renderers;this.$14(function(c,d,e){d=a[c.name];e=b.getRoot(c.name);d!=null&&e!=null&&(e.x+=d.x,e.y+=d.y)})};b.$11=function(){var a=this.$2,b=this.renderers;this.$14(function(c,d,e){d=a[c.name];e=b.getRoot(c.name);d!=null&&e!=null&&(e.x+=d.x,e.y+=d.y,e.rotation+=d.rotation,e.scale.x+=d.scale,e.scale.y+=d.scale)})};b.$9=function(){var a=this.renderers,b=this.animation;this.$15(function(d,e){d=a.getRoot(d.name);if(e.align||e.vAlign){if(e.parent!=null){var f=e.parent;f=c("nullthrows")(a.getRoot(f),"Could not find parent display object");f=f.getBounds()}else f=new(c("ShowreelPIXIJSTyped").Rectangle)(0,0,b.width,b.height);i(d,f,e)}})};b.$7=function(){var a=this.renderers,b=this.animation;this.$15(function(c,d,e){if("width"in d||"height"in d){var f=a.getRenderer(d.child||"");if(f){var g=f.layer,h=Math.max(c.inPoint,b.inPoint);c=Math.min(c.outPoint,b.outPoint);h=g.inPoint<=h&&g.outPoint>=c;if(!h)return}g=j(d,e,f);g&&e.wrapAround(g)}})};b.$14=function(a){var b=this.renderers,c=this.root,d=this.index;d=d.getLayersOrderedByDepth();var e=c.scale,f=e.x;e=e.y;c.scale.set(1);d.forEach(function(c){var d=b.getRenderer(c.name),e=c.outPoint<=c.inPoint,f=c==null?void 0:c.layout;d&&!e&&a(c,f,d)});c.scale.set(f,e)};b.$15=function(a){this.$14(function(b,c,d){c!=null&&a(b,c,d)})};b.$6=function(){var a=this.index,b=this.renderers,e=this.animation;e=e.layers;e.forEach(function(e){var f=e.name,g=e.trackMatte;f=b.getRenderer(f);e=d("ShowreelLayerUtils").getTrackMatteForLayer(e,a);if(f&&g&&e){g=c("nullthrows")(b.getRenderer(e.name),"Could not find renderer for mask");e=k(g.target);e||h(0,2912);f.target.mask=e}})};return a}();function i(a,b,c){var d=a.getBounds();switch(c.align){case"left":a.x+=b.left-d.left;break;case"center":a.x+=(b.width-d.width)/2+b.left-d.left;break;case"right":a.x+=b.right-d.right;break}switch(c.vAlign){case"top":a.y+=b.top-d.top;break;case"middle":a.y+=(b.height-d.height)/2+b.top-d.top;break;case"bottom":a.y+=b.bottom-d.bottom;break}}function j(a,b,d){if(a.width!==null&&a.height!==null)return new(c("ShowreelTimeSeriesValue"))(new(c("ShowreelPIXIJSTyped").Rectangle)(0,0,a.width,a.height));if(!d)throw new Error("Must have pass child when layout width / height is null");b=d.layer;var e=b.layout;return d.getBounds().map(function(b){var d;b=new(c("ShowreelPIXIJSTyped").Rectangle)(0,0,a.width===null?b.width:a.width,a.height===null?b.height:a.height);d=(d=e==null?void 0:e.padding)!=null?d:0;d!==0&&b.pad(d);return b})}function k(a){a=a;var b=function(a){return a instanceof c("ShowreelPIXIJSTyped").Graphics||a instanceof c("ShowreelPIXIJSTyped").Sprite};while(a&&!b(a))a=a.children?a.children[0]:null;return a}g["default"]=a},98);
__d("ShowreelSnapshotView",["ShowreelRendererUtils"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.width,c=a.height,e=a.frameNumber,f=a.view,g=a.target;a=a.scale;this.frameNumber=e;this.$1=b;this.$2=c;this.$4=a;this.$3=d("ShowreelRendererUtils").createPixiRenderer(b,c,g,f)}var b=a.prototype;b.update=function(a){var b=a.width,c=a.height,d=a.scale;a=a.frameNumber;var e=this.$3;(b!==this.$1||c!==this.$2)&&e.resize(b,c);this.$4=d;this.frameNumber=a};b.render=function(a){var b=this.$4,c=this.$3,d=a.scale.x,e=a.scale.y;a.scale.set(b.x*d,b.y*e);c.render(a);a.scale.set(d,e)};b.destroy=function(){this.$3.destroy()};return a}();g["default"]=a},98);
__d("ShowreelTicker",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=this;this.$1=30;this.$3=!1;this.$7=function(a){b.$4=requestAnimationFrame(b.$7);var c=a-b.$5;c>b.$2&&(b.$5=a-c%b.$2,b.$6())};this.$6=a}var b=a.prototype;b.isPlaying=function(){return this.$3};b.getFrameInterval=function(){return this.$2};b.getFrameRate=function(){return this.$1};b.setFrameRate=function(a){this.$1=a,this.$2=1e3/a};b.start=function(){this.$3=!0,this.$5=performance.now(),this.$7(0)};b.stop=function(){this.$3=!1,cancelAnimationFrame(this.$4)};b.destroy=function(){this.stop()};return a}();f["default"]=a},66);
__d("ShowreelVideoManager",["BodymovinTypes.flow","FBLogger","Promise","ShowreelLogger"],function(a,b,c,d,e,f,g){"use strict";var h=4,i=function(){};a=function(){function a(a,b){this.$2=b,this.$3=a,this.$1=j(a)}var e=a.prototype;e.playPause=function(a,b){var e=this;this.$2.forEachVideo(function(g){var h=g.id;g=g.video;var i=e.$1[h];if(!i){d("ShowreelLogger").warn("Cannot play/pause video "+h+" because it is being used by a layer");return}h=b&&a>=i.inPoint&&a<=i.outPoint;if(g.playing!==h)if(h){i=g.play();i["catch"](function(a){c("FBLogger")("ads","video_player_issues").warn("Tried to play a video in %s, but failed because of error %s. This needs the right paused fallback UI, see https://goo.gl/LdLk22.",f.id,a.message)})}else g.pause()})};e.reset=function(a,e,g){var j=this,k=function(a){if(e){var b=a.play();b["catch"](function(a){c("FBLogger")("ads","video_player_issues").warn("Tried to play a video in %s, but failed because of error %s. This needs the right paused fallback UI, see https://goo.gl/LdLk22.",f.id,a.message)})}else a.pause()},l=this.$2.mapVideos(function(c){var e=c.id,f=c.video,i=c.texture;return new(b("Promise"))(function(b,c){var l=j.$1[e];if(!l){d("ShowreelLogger").warn("Video "+e+" is not being used by a layer");b();return}var m=1/j.$3.frameRate;l=Math.max(m*(a-l.inPoint),0);var n=Math.abs(f.currentTime-l);if(g?n<m*2:n===0){k(f);b();return}m=function a(){f.removeEventListener("canplaythrough",a),p()};var o=function(){i.baseTexture.update(),k(f),b()},p=function a(){f.readyState===h?o():window.setTimeout(a,10)};n=function a(b){f.removeEventListener("error",a),c(b)};f.addEventListener("error",n);f.currentTime=l;f.readyState===h?o():f.addEventListener("canplaythrough",m)})});return b("Promise").all(l).then(i)};return a}();function j(a){return a.assets.reduce(function(b,c){var e=a.layers.find(function(a){return d("BodymovinTypes.flow").switchLayer(a,{ImageLayer:function(a){return a.referenceId===c.id}})});e&&(b[c.id]=e);return b},{})}g["default"]=a},98);
__d("ShowreelRenderer",["FBLogger","ShowreelAssetLoader","ShowreelAudioManager","ShowreelCanvasRenderer","ShowreelCanvasRendererPool","ShowreelFrameRenderer","ShowreelFrameUtils","ShowreelLogger","ShowreelPIXIJSTyped","ShowreelRendererUtils","ShowreelSnapshotView","ShowreelTicker","ShowreelVideoManager","nullthrows","performance","recoverableViolation","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h=new(c("ShowreelCanvasRendererPool"))();a=function(){function a(a,b,e){var g=this;b===void 0&&(b=null);e===void 0&&(e=null);this.$8=!1;this.$12=!1;this.$19=function(){if(!g.$4.isInViewPort())return;g.$7+=1;var a=d("ShowreelFrameUtils").getLastRenderableFrame(g.$2),b=g.$7>=a;g.render(b?a:g.$7);g.$8&&(g.$8=!1,g.$1.forEachVideo(function(a){a=a.video.play();a["catch"](function(a){c("FBLogger")("ads","video_player_issues").warn("Tried to play a video in %s, but failed because of error %s. This needs the right paused fallback UI, see https://goo.gl/LdLk22.",f.id,a.message)})}),g.$10.play());if(b){a=!1;typeof g.$3.repeatCount!=="number"||g.$3.repeatCount===-1?a=!0:g.$3.repeatCount>0&&(a=!0,g.$3.repeatCount--,g.$3.onRepeatCountChanged&&g.$3.onRepeatCountChanged(g.$3.repeatCount));a?(g.$7=0,g.$20(),g.$10.play(),g.$10.updateCurrentTime(0)):g.setIsPlaying(!1)}};var i=a.animation,j=a.initialFrameNumber,k=a.container,l=a.scale,m=a.isPlaying,n=a.inViewPort;n=n===void 0?!0:n;var o=a.continuousRender,p=a.target,q=a.width,r=a.height,s=a.useCanvasScaling;s=s===void 0?!1:s;var t=a.useFontScaling;t=t===void 0?!1:t;var u=a.useEmulatedAntialiasing;u=u===void 0?!1:u;var v=i.width,w=i.height;q=(q=q)!=null?q:v;r=(r=r)!=null?r:w;v=s?v:q;w=s?w:r;s=s?1:l;l=(l=a.assets)!=null?l:c("nullthrows")(e);e={rendererSize:{width:v,height:w},viewSize:{width:q,height:r},target:p};this.$1=c("nullthrows")(l);this.$13=b;this.$11=!1;this.$7=j||0;this.$5=new(c("ShowreelTicker"))(this.$19);this.$6=new(c("ShowreelFrameRenderer"))(i,l,s,t);this.$3=a;this.$2=i;this.$9=new(c("ShowreelVideoManager"))(i,l);this.$10=new(c("ShowreelAudioManager"))(i,l);this.$4=new(c("ShowreelCanvasRenderer"))(h,k,e,n);this.$14=!!o;this.$16=new Map();this.$18=w;this.$17=v;i&&this.$5.setFrameRate(i.frameRate);if(u){c("ShowreelPIXIJSTyped").settings.PRECISION_FRAGMENT=c("ShowreelPIXIJSTyped").PRECISION.HIGH;q=new(c("ShowreelPIXIJSTyped").filters.FXAAFilter)();q.resolution=2;this.$6.root.filters=[q]}j!==void 0&&this.$20().then(function(){return g.render(j)})["catch"](function(a){return d("ShowreelLogger").error("Failed to do initial render",a)});if(this.$14){r=function a(){g.$4.render(g.$6.root),g.$15=window.requestAnimationFrame(a)};r()}m===!0&&this.setIsPlaying(!0)}var e=a.prototype;e.render=function(a){if(this.$12){c("recoverableViolation")("Trying to call render on a disposed renderer","Showreel");return}var b=this.$3,e=b.onStartFrameRender;b=b.onFinishFrameRender;try{e&&e(a);this.$9.playPause(a,this.isPlaying());e=c("performance").now();this.$6.render(a);this.$14||this.$4.render(this.$6.root);e=c("performance").now()-e;var f=this.$5.getFrameInterval();e>f&&d("ShowreelLogger").log("Frame "+a+" took "+e+"ms. "+("It should take less than "+f+"ms"));b&&b(a,e,f)}catch(b){d("ShowreelLogger").error("Failed to render frame "+a,b)}};e.screenshot=function(a){return this.toCanvas(a).toDataURL()};e.toCanvas=function(a){var b=this.$2,e=new(c("ShowreelFrameRenderer"))(b,this.$1),f=document.createElement("canvas"),g=d("ShowreelRendererUtils").createPixiRenderer(b.width,b.height,"webgl",f);f.style.width=b.width+"px";f.style.height=b.height+"px";e.render(a);g.render(e.root);return f};e.isPlaying=function(){return this.$5.isPlaying()};e.setInViewPort=function(a){this.$4.setInViewPort(a)};e.setContainer=function(a){this.$4.setContainer(a)};e.setAnimation=function(a,e){var f=this;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:e===void 0&&(e=null);g.prev=1;if(!(e!=null)){g.next=6;break}this.$1=e;g.next=9;break;case 6:g.next=8;return b("regeneratorRuntime").awrap(c("nullthrows")(this.$13).getAssets(a));case 8:this.$1=g.sent;case 9:this.$10.destroy();this.$2=a;this.$9=new(c("ShowreelVideoManager"))(a,this.$1);this.$10=new(c("ShowreelAudioManager"))(a,this.$1);this.$5.setFrameRate(a.frameRate);this.$6.update(a,this.$1);this.$21();g.next=18;return b("regeneratorRuntime").awrap(this.$20());case 18:this.$16.forEach(function(a){return f.$22(a)});this.render(this.$7);g.next=25;break;case 22:g.prev=22,g.t0=g["catch"](1),d("ShowreelLogger").error("Failed to set animation",a,g.t0);case 25:case"end":return g.stop()}},null,this,[[1,22]])};e.getCurrentFrameNumber=function(){return this.$7};e.setCurrentFrameNumber=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.$7=a;c.next=3;return b("regeneratorRuntime").awrap(this.$20());case 3:this.$11=!1,this.render(this.$7),this.$10.updateCurrentTime(this.$7/this.$2.frameRate);case 6:case"end":return c.stop()}},null,this)};e.setIsPlaying=function(a){var b=this.$3.onStateChanged;a===!0?(this.$8=!0,this.$11=!1,this.$5.start(),b&&b("playing")):(this.$11=!0,this.$1.forEachVideo(function(a){a.video.pause()}),this.$10.pause(),this.$5.stop(),b&&b("paused"))};e.setRepeatCount=function(a){this.$3.repeatCount=a<-1?0:a};e.getRepeatCount=function(){return this.$3.repeatCount};e.getRenderTarget=function(){return this.$3.target};e.getView=function(){return this.$4.getView()};e.dispose=function(){var a=this;this.$12?c("recoverableViolation")("Trying to dispose of already disposed renderer","Showreel"):(this.$12=!0,this.$4.dispose(),this.$14&&window.cancelAnimationFrame(this.$15),this.$5.destroy(),this.$10.destroy(),this.$16.forEach(function(b,c){return a.unregisterSnapshotView(c)}))};e.registerSnapshotView=function(a,b,d,e){var f=this.$3.target,g={x:a/this.$17,y:b/this.$18};a={width:a,height:b,view:e,scale:g,frameNumber:d,target:f};b=this.$16.get(e);b!=null?b.update(a):(b=new(c("ShowreelSnapshotView"))(a),this.$16.set(e,b));this.$22(b)};e.unregisterSnapshotView=function(a){var b=this.$16.get(a);b!=null&&(b.destroy(),this.$16["delete"](a))};e.$22=function(a){var b=this.$6.root,c=a.frameNumber,d=this.getCurrentFrameNumber();this.$6.render(c);a.render(b);this.$6.render(d)};e.$20=function(){return this.$9.reset(this.$7,this.isPlaying(),this.$11)};e.$21=function(){var a=this.$7/this.$2.frameRate;this.$10.reset(a,this.isPlaying())};a.create=function(d){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=d.animation;f=new(c("ShowreelAssetLoader"))();h.next=4;return b("regeneratorRuntime").awrap(f.getAssets(e));case 4:g=h.sent;return h.abrupt("return",new a(d,f,g));case 6:case"end":return h.stop()}},null,this)};return a}();g["default"]=a},98);
__d("ShowreelStaticRenderer",["DOM","Promise","ShowreelFrameRenderer","nullthrows","promiseDone","requestIdleCallback"],function(a,b,c,d,e,f){"use strict";var g=50,h=function(){var a=0;return function(c){a===0?b("promiseDone")(c(),function(){return a--}):b("requestIdleCallback")(function(){b("promiseDone")(c(),function(){return a--})},{timeout:(a+1)*g}),a++}}();e.exports=function(){function a(a){this.$1=a,this.$2=new(b("ShowreelFrameRenderer"))(a.animation,a.assets,1,!1),this.$3=document.createElement("img"),this.$4()}var c=a.prototype;c.update=function(a){this.$1=a,this.$4()};c.$4=function(){var a=this,c=this.$1,d=c.container,e=c.frameNumber,f=c.renderer,g=c.width,i=c.height,j=c.onReady;if(d==null)return;d.firstChild==null&&d.appendChild(this.$3);var k=((c=g)!=null?c:f.width)+"px",l=((g=i)!=null?g:f.height)+"px";this.$3.style.width=k;this.$3.style.height=l;h(function(){return new(b("Promise"))(function(c){var g;a.$2.render((g=e)!=null?g:0);f.render(a.$2.root);g=b("nullthrows")(f.extract).canvas();g.style.width=k;g.style.height=l;a.$5(d,g);j!=null&&j();g.toBlob(function(b){a.$3.onload=function(){a.$3.src&&(a.$5(d,a.$3),URL.revokeObjectURL(a.$3.src)),c()},a.$3.src=URL.createObjectURL(b)})})})};c.$5=function(a,c){a!=null&&c!=null&&(b("DOM").setContent(a,""),a.appendChild(c))};return a}()},null);
__d("ShowreelVideoPlayerEventVariables",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={ENVIRONMENT:null,EVERSTORE_HANDLE:null}}var b=a.prototype;b.setEnvironment=function(a){this.$1.ENVIRONMENT=a};b.getEnvironment=function(){return this.$1.ENVIRONMENT};b.setEverstoreHandle=function(a){this.$1.EVERSTORE_HANDLE=a};b.getEverstoreHandle=function(){return this.$1.EVERSTORE_HANDLE};return a}();b=new a();f["default"]=b},66);
__d("ShowreelVideoPlayerEventLogger",["ShowreelVideoPlayerEventVariables","UserAgentData","emptyFunction","performanceAbsoluteNow"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=[];this.$5=[];var b=a.eventHandler,d=a.templateID,e=a.clientID,f=a.sessionID,g=a.frameRate,h=a.playbackMode;a=a.playerType;this.$2=b||c("emptyFunction");this.$1={client_id:e,player_session_id:f,player_browser_os:c("UserAgentData").platformName,player_browser_name:c("UserAgentData").browserName,player_browser_version:c("UserAgentData").browserFullVersion,playback_mode:h,template_id:d,frame_rate:g,player_type:(b=a)!=null?b:"classic"}}var b=a.prototype;b.setFrameRate=function(a){a!=null?this.$1.frame_rate=a:delete this.$1.frame_rate};b.setTemplateID=function(a){a!=null?this.$1.template_id=a:delete this.$1.template_id};b.setClientID=function(a){a!=null?this.$1.client_id=a:delete this.$1.client_id};b.created=function(){this.$6({event:"player_created"})};b.createRendererStart=function(){this.$3=c("performanceAbsoluteNow")()};b.ready=function(){var a=this.$3;a=a!=null?c("performanceAbsoluteNow")()-a:null;this.$6({event:"player_ready",time_to_ready:a})};b.started=function(a){this.$6({event:"player_started",frame_number:a}),this.$7()};b.stopped=function(a){var b=this.$4,c=this.$5;b=b.concat(c);var d=function(a,b){return a+b};this.$6({event:"player_stopped",frame_number:a,number_of_played_frames:b.length,number_of_long_frames:c.length,time_on_played_frames:b.reduce(d,0),time_on_long_frames:c.reduce(d,0)});this.$7()};b.frameRendered=function(a,b){a>b?this.$5.push(a):this.$4.push(a)};b["catch"]=function(a){var b=a.name,c=a.message;a=a.stack;this.$6({event:"player_error",error_name:b,error_message:c,error_stack:a})};b.$7=function(){this.$4=[],this.$5=[]};b.$8=function(){var a=c("ShowreelVideoPlayerEventVariables").getEverstoreHandle(),b=c("ShowreelVideoPlayerEventVariables").getEnvironment();return{player_everstore_handle:a,environment:b||"www",browser_timestamp:c("performanceAbsoluteNow")(),pixel_ratio:window.devicePixelRatio}};b.$6=function(a){a=babelHelpers["extends"]({},a,this.$1,this.$8());this.$2(JSON.stringify(a))};return a}();g["default"]=a},98);
__d("ShowreelVideoPlayerController",["CancelablePromise","EventEmitter","FBLogger","Promise","ShowreelContentLoader","ShowreelRenderer","ShowreelSpecificationBuilder","ShowreelStaticRenderer","ShowreelVideoPlayerEventLogger","nullthrows","promiseDone","regeneratorRuntime","uuid"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=new(c("EventEmitter"))(),a&&this.setConfig(a)}var d=a.prototype;d.dispose=function(){this.$1.removeAllListeners()};d.onFrameNumberChanged=function(a){this.$1.addListener("frame_number_changed",a);return this};d.onPause=function(a){this.$1.addListener("pause",a);return this};d.onPlay=function(a){this.$1.addListener("play",a);return this};d.setFrameNumber=function(a){this.$1.emit("frame_number_changed",a);return this};d.pause=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.waitForRenderer());case 2:a=c.sent;a.setIsPlaying(!1);this.$1.emit("pause");return c.abrupt("return",this);case 6:case"end":return c.stop()}},null,this)};d.play=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.waitForRenderer());case 2:a=c.sent;a.setIsPlaying(!0);this.$1.emit("play");return c.abrupt("return",this);case 6:case"end":return c.stop()}},null,this)};d.onStateChanged=function(a){return this.$1.addListener("state_changed",a)};d.onStartFrameRender=function(a){return this.$1.addListener("start_frame_render",a)};d.onFinishFrameRender=function(a){return this.$1.addListener("finish_frame_render",a)};d.onRepeatCountChanged=function(a){return this.$1.addListener("repeat_count_changed",a)};d.onReady=function(a){return this.$1.addListener("ready",a)};d.onError=function(a){return this.$1.addListener("renderer_create_failed",a)};d.onRendererCreated=function(a){return this.$1.addListener("renderer_ready",a)};d.onStaticRendererCreated=function(a){return this.$1.addListener("static_renderer_ready",a)};d.waitForRenderer=function(){var a=this,d=this.getRenderer();return d!=null?b("Promise").resolve(d):new(b("Promise"))(function(b,d){var e=a.$1.addListener("renderer_ready",function(a){if(a==null){c("FBLogger")("showreel").mustfix("renderer_ready event emitted in Showreel Video Player Controller with nullish renderer");return}e.remove();b(a)})})};d.setInViewPort=function(a){c("promiseDone")(this.waitForRenderer(),function(b){if(b==null){c("FBLogger")("showreel").mustfix("Wait for renderer returned undefined renderer");return}b.setInViewPort(a)})};d.getRenderer=function(){return this.$2||null};d.waitForStaticRenderer=function(){var a=this,c=this.getStaticRenderer();return c!=null?b("Promise").resolve(c):new(b("Promise"))(function(b,c){var d=a.$1.addListener("static_renderer_ready",function(a){d.remove(),b(a)})})};d.getStaticRenderer=function(){return this.$8||null};d.$9=function(a){if(a==null){c("FBLogger")("showreel").mustfix("ShowreelVideoPlayerController._setRenderer called with nullish renderer");return}this.$2=a;this.$1.emit("renderer_ready",a)};d.$10=function(a){var b=this.$7;if(b==null){var d=a.onLogEvent,e=a.specification,f=a.clientID,g=a.playbackMode,h=e==null?void 0:e.id;e=e==null?void 0:(e=e.animation)==null?void 0:e.frameRate;b=new(c("ShowreelVideoPlayerEventLogger"))({sessionID:c("uuid")(),clientID:f,templateID:h,frameRate:e,eventHandler:d,playbackMode:(f=g)!=null?f:"animation"});this.$11(b);b.created();this.$7=b}else{b.setTemplateID((e=a==null?void 0:(h=a.specification)==null?void 0:h.id)!=null?e:null);b.setClientID((d=a==null?void 0:a.clientID)!=null?d:null)}return b};d.setConfig=function(a){var c,d,e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:c=this.getRenderer();d=this.$6||{};e=a.specification,f=a.repeatCount,g=a.isPlaying;h=this.$10(a);this.$6=a;i.prev=5;c&&(f!=null&&f!==c.getRepeatCount()&&c.setRepeatCount(f),g!=null&&g!==c.isPlaying()&&c.setIsPlaying(g));if(!(d.specification!==e)){i.next=12;break}i.next=10;return b("regeneratorRuntime").awrap(this.$12(a));case 10:i.next=14;break;case 12:i.next=14;return b("regeneratorRuntime").awrap(this.$13(d,a));case 14:i.next=19;break;case 16:i.prev=16,i.t0=i["catch"](5),h["catch"](i.t0);case 19:case"end":return i.stop()}},null,this,[[5,16]])};d.$12=function(a){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:this.$3!=null&&this.$3.cancel(),this.$7&&this.$7.createRendererStart(),this.$3=new(c("CancelablePromise"))(new(b("Promise"))(function(e,f){var g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:f=a.specification,h=a.content,i=a.resolveFonts;d.$2&&(d.$2.dispose(),d.$2=null);j=(g=a.contentLoader)!=null?g:new(c("ShowreelContentLoader"))(i,f);k=new(c("ShowreelSpecificationBuilder"))(f);l=k.build(h);o.next=7;return b("regeneratorRuntime").awrap(j.load(h,l));case 7:m=o.sent,n=m.assets,e({animation:l,assets:n,builder:k,config:a,contentLoader:j});case 10:case"end":return o.stop()}},null,this)})),this.$3.getPromise().then(function(b){var c=b.animation,e=b.assets,f=b.builder,a=b.config;b=b.contentLoader;var g=a.playbackMode;g==="static"?(d.$14(c,e,a),d.$5=b,d.$4=f):(d.$15(c,e,a),d.$5=b,d.$4=f,d.$1.emit("ready",!0))})["catch"](function(a){if(a.isCanceled!==!0){var b=d.$7;d.$1.emit("ready",!1);d.$1.emit("renderer_create_failed",a);b!=null&&b["catch"](a)}});case 4:case"end":return e.stop()}},null,this)};d.$14=function(a,b,d){var e=this;a={frameNumber:d.frameNumber,renderer:c("nullthrows")(d.sharedRenderer,"Shared renderer required with static playback"),animation:a,assets:b,width:d.width,height:d.height,container:d.container,onReady:function(){e.$1.emit("ready",!0)}};b=this.$8;b!=null?b.update(a):(b=new(c("ShowreelStaticRenderer"))(a),this.$8=b,this.$1.emit("static_renderer_ready",b))};d.$15=function(a,b,d){var e=this;a=new(c("ShowreelRenderer"))({animation:a,assets:b,inViewPort:d.inViewPort,isPlaying:d.isPlaying,frameNumber:d.frameNumber,repeatCount:d.repeatCount,height:d.height,width:d.width,target:d.target,scale:d.scale,container:d.container,initialFrameNumber:d.frameNumber,useCanvasScaling:d.useCanvasScaling,useFontScaling:d.useFontScaling,continuousRender:d.continuousRender,clientID:d.clientID,onStateChanged:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=e.$1).emit.apply(a,["state_changed"].concat(c))},onStartFrameRender:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=e.$1).emit.apply(a,["start_frame_render"].concat(c))},onFinishFrameRender:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=e.$1).emit.apply(a,["finish_frame_render"].concat(c))},onRepeatCountChanged:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=e.$1).emit.apply(a,["repeat_count_changed"].concat(c))}});this.$9(a)};d.$13=function(a,d){var e=this,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:if(!(d.playbackMode==="static")){k.next=4;break}k.next=3;return b("regeneratorRuntime").awrap(this.$16(a,d));case 3:return k.abrupt("return",k.sent);case 4:f=this.getRenderer();g=d.content,h=d.frameNumber,i=d.container;j=function(f){var j,k,l,m,n,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:p.prev=0;h!==f.getCurrentFrameNumber()&&f.setCurrentFrameNumber(h||0);f.setContainer(i);if(!e.$17(a,d)){p.next=11;break}k=c("nullthrows")(e.$4).build(g);l=(j=d.contentLoader)!=null?j:c("nullthrows")(e.$5);p.next=8;return b("regeneratorRuntime").awrap(l.load(g,k));case 8:m=p.sent,n=m.assets,f.setAnimation(k,n);case 11:p.next=17;break;case 13:p.prev=13,p.t0=p["catch"](0),o=e.$7,o!=null&&o["catch"](p.t0);case 17:case"end":return p.stop()}},null,this,[[0,13]])};if(!f){k.next=12;break}k.next=10;return b("regeneratorRuntime").awrap(j(f));case 10:k.next=14;break;case 12:k.next=14;return b("regeneratorRuntime").awrap(this.waitForRenderer().then(j));case 14:case"end":return k.stop()}},null,this)};d.$17=function(a,b){return a.content!==b.content||a.width!==b.width||a.height!==b.height};d.$16=function(a,d){var e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:if(this.$17(a,d)){j.next=2;break}return j.abrupt("return");case 2:j.next=4;return b("regeneratorRuntime").awrap(this.waitForStaticRenderer());case 4:f=c("nullthrows")(this.$4).build(d.content);g=(e=d.contentLoader)!=null?e:c("nullthrows")(this.$5);j.next=8;return b("regeneratorRuntime").awrap(g.load(d.content,f));case 8:h=j.sent,i=h.assets,this.$14(f,i,d);case 11:case"end":return j.stop()}},null,this)};d.$11=function(a){var b=this;this.onStateChanged(function(c){var d=b.getRenderer();if(d!=null)d=d.getCurrentFrameNumber();else{var e;d=((e=b.$6)==null?void 0:e.frameNumber)||0}switch(c){case"playing":a.started(d);break;case"paused":a.stopped(d);break}});this.onRendererCreated(function(){a.ready()});this.onStaticRendererCreated(function(){a.ready()});this.onFinishFrameRender(function(b,c,d){a.frameRendered(c,d)})};return a}();g["default"]=a},98);
__d("ShowreelVideoPlayer.react",["fbt","ShimButton.react","ShowreelIntersectionObserver","ShowreelSharedRenderer.react","ShowreelVideoPlayerController","intersectionObserverEntryIsIntersecting","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$3={};c.$5=!1;c.$6=!1;c.state={isBusy:!0};c.$9=function(a){c.$2=a,c.props.isListItem||c.$12()};c.$1=b.controller;c.$6=!b.isListItem;c.$8=i.createRef();return c}var d=b.prototype;d.render=function(){var a=this.props.visible;return i.jsxs("div",{ref:this.$8,style:{width:this.props.width,height:this.props.height},children:[this.state.isBusy&&this.props.busyIndicator,i.jsx(c("ShimButton.react"),{"aria-label":h._("V\u00eddeo"),style:{display:a===!0?"block":"none",outline:0,lineHeight:0},onClick:this.props.onClick,onRef:this.$9})]})};d.componentWillUnmount=function(){var a=this;this.$4=!0;this.$7!=null&&this.$7.dispose();Object.keys(this.$3).forEach(function(b){return a.$10(b)});var b=this.$1;b&&b!==this.props.controller&&(b.pause(),b.dispose())};d.componentDidMount=function(){var a=this;this.$4=!1;this.props.controller!=null&&this.$11("removeBusyWhenReady",this.props.controller.onReady(function(b){return a.setState({isBusy:!b})}));this.props.isListItem&&this.$8.current&&(this.$7=new(c("ShowreelIntersectionObserver"))(this.$8.current,function(b){b=b.some(c("intersectionObserverEntryIsIntersecting"));var d=a.$1;d!=null&&d.setInViewPort(b);b&&a.$5===!1&&(a.$5=!0,a.$12())}))};d.$12=function(){var a,b=this.props,d=this.$2,e=!!this.$4,f=this.$1;b.controller!=null&&b.controller!==f&&(f=b.controller);var g=b.specification,h=b.content,i=b.contentLoader,j=b.renderTarget,k=b.isPlaying,l=b.frameNumber,m=b.repeatCount,n=b.height,o=b.width,p=b.scale,q=b.isListItem,r=b.useCanvasScaling,s=b.useFontScaling,t=b.debug,u=b.clientID,v=b.resolveFonts,w=b.onLogEvent;if(!g||!h||!j||e)return;e=(e=this.props.playbackMode)!=null?e:(e=this.context)==null?void 0:e.playbackMode;a=(a=this.props.renderer)!=null?a:(a=this.context)==null?void 0:a.renderer;g={container:d,specification:g,content:h,contentLoader:(d=i)!=null?d:null,target:j,isPlaying:k,inViewPort:!q,frameNumber:l,repeatCount:m,height:n,width:o,scale:p,useCanvasScaling:r,useFontScaling:s,continuousRender:!!t,playbackMode:e,sharedRenderer:a,clientID:u,resolveFonts:v,onLogEvent:w};f!=null?f.setConfig(g):f=new(c("ShowreelVideoPlayerController"))(g);this.$13(f);this.$14(b,f);this.$1=f};d.$14=function(a,b){this.$15("onReady",a.onReady,function(a){return b.onReady(a)}),this.$15("onError",a.onError,function(a){return b.onError(a)}),this.$15("onStateChanged",a.onStateChanged,function(a){return b.onStateChanged(a)}),this.$15("onStartFrameRender",a.onStartFrameRender,function(a){return b.onStartFrameRender(a)}),this.$15("onFinishFrameRender",a.onFinishFrameRender,function(a){return b.onFinishFrameRender(a)}),this.$15("onRepeatCountChanged",a.onRepeatCountChanged,function(a){return b.onRepeatCountChanged(a)}),this.$15("onRendererCreated",a.onRendererCreated,function(a){return b.onRendererCreated(a)})};d.$13=function(a){var b=this;a!=this.$1&&this.$11("removeBusyWhenReady",a.onReady(function(a){return b.setState({isBusy:!a})}))};d.$15=function(a,b,c){var d=this.$3[a];d=b!==(d==null?void 0:d.listener);d&&this.$11(a,b==null?null:c(b))};d.$11=function(a,b){this.$10(a),b!=null&&(this.$3[a]=b)};d.$10=function(a){var b=this.$3[a];b!=null&&(b.remove(),delete this.$3[a])};d.componentDidUpdate=function(){(!this.props.isListItem||this.$5)&&this.$12()};return b}(i.Component);a.contextType=c("ShowreelSharedRenderer.react").Context;a.defaultProps={frameNumber:0,isPlaying:!1,scale:1,visible:!0,debug:!1,renderTarget:"webgl",isListItem:!1,onReady:function(){}};g["default"]=a},98);
__d("ShowreelAssetFontLoader_EXPERIMENTAL",["Promise","ShowreelAssetFontURLs","isValidHttpURL","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";function h(a,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(c("isValidHttpURL")(d)){f.next=2;break}throw new Error("Font URL must be a valid http URL, but got "+d);case 2:e=new window.FontFace(a,"url("+d+") format('truetype')");document.fonts.add(e);f.next=6;return b("regeneratorRuntime").awrap(e.load());case 6:case"end":return f.stop()}},null,this)}function a(){return b("Promise").all(c("ShowreelAssetFontURLs").fonts.map(function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=a.name,d=a.url;e.next=3;return b("regeneratorRuntime").awrap(h(c,d));case 3:return e.abrupt("return",c);case 4:case"end":return e.stop()}},null,this)}))}g.load=h;g.loadStandardFonts=a},98);
__d("ShowreelAssetVideoQuery",[],function(a,b,c,d,e,f){"use strict";var g="AdVideoID";a=function(a){return{type:g,id:a}};var h="EverstoreVideoHandle";b=function(a){return babelHelpers["extends"]({type:h},a)};f.AD_ID_TYPE=g;f.fromID=a;f.EVERSTORE_TYPE=h;f.fromHandle=b},66);
__d("adsShowreelAssetResolversSelector",["AdsImageIDClasses","AdsImageInfoStore","AdsVideoStore","Promise","ShowreelAssetVideoQuery","adsCreateSelector","adsUEditorAccountIDSelector","err"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAccountIDSelector"),c("AdsImageInfoStore").getFullSizeSelector,c("AdsVideoStore").getSelector],function(a,e,f){return{BuilderTemplate:function(a){return b("Promise").reject(c("err")("Builder templates are not currently supported within Ads Manager"))},Image:function(f){return new(b("Promise"))(function(b,g){if(f.type!=="AdImageHash"){g(c("err")("Unknown Image Query %s",f.type));return}var h=f.hash,i=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(a,f.hash);i=e(i).mapValue(function(a){return a.getTyped()});if(i.hasValue()){var j=i.getValueEnforcing(),k=j.url,l=j.width;j=j.height;k==null?g(c("err")("Failed to load image. Empty URL")):b({url:k,width:l,height:j,name:h})}else i.hasError()&&g(i.getErrorEnforcing())})},Video:function(a){return new(b("Promise"))(function(b,e){if(a.type!==d("ShowreelAssetVideoQuery").AD_ID_TYPE){e(c("err")("Unknown Video Query %s",a.type));return}var g=f(a.id);g.loadState==="ERROR"&&e(c("err")("Failed to load video"));if(g.loadState==="LOADED"){var h=g.id,i=g.width,j=g.height,k=g.length,l=g.download_hd_url;g=g.download_sd_url;l=(l=l)!=null?l:g;l==null?e(c("err")("Failed to load video. Video missing URL")):b({name:h,url:l,width:i,height:j,duration:k})}})}}},{name:f.id+".adsShowreelAssetResolversSelector"});e=a;g["default"]=e},98);
__d("adsShowreelAssetPreviewContainerSelector",["adsCreateStructuredSelector","adsShowreelAssetResolversSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateStructuredSelector")({resolvers:c("adsShowreelAssetResolversSelector")},f.id+".adsShowreelAssetPreviewContainerSelector");b=a;g["default"]=b},98);
__d("AdsShowreelAssetPreviewContainer.react",["AdsFluxHooks","CancelablePromise","GeoSpinner.react","JSResource","LoadObject","ShowreelAssetFontLoader_EXPERIMENTAL","adsShowreelAssetPreviewContainerSelector","intersectionObserverEntryIsIntersecting","lazyLoadComponent","promiseDone","react","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.Suspense,j=b.useCallback,k=b.useEffect,l=b.useState,m=c("JSResource")("ShowreelAssetContentIndex").__setRef("AdsShowreelAssetPreviewContainer.react"),n=c("lazyLoadComponent")(c("JSResource")("ShowreelPreview.react").__setRef("AdsShowreelAssetPreviewContainer.react"));function a(a){var b=a.asset,e=a.displayWidth,f=a.displayHeight,g=a.isPlaying,m=a.disableOnRendererReadySpinner;m=m===void 0?!1:m;var r=a.onRendererReady;a=babelHelpers.objectWithoutPropertiesLoose(a,["asset","displayWidth","displayHeight","isPlaying","disableOnRendererReadySpinner","onRendererReady"]);var s=l(null),t=s[0];s=s[1];var u=d("AdsFluxHooks").useAdsSelector(c("adsShowreelAssetPreviewContainerSelector"));u=u.resolvers;t=o(t);var v=t[0];t=t[1];var w=p(b,u,t),x=q(t);u=w.hasValueWithoutError()&&x.hasValueWithoutError();t=t&&u;u=l(!1);var y=u[0],z=u[1];u=j(function(a){r&&r(a);return z(!0)},[r]);k(function(){if(x.hasError()){var a=x.getError();c("recoverableViolation")("Could not load fonts in Ads Showreel Asset Preview","Showreel",a?{error:a}:void 0)}if(w.hasError()){a=w.getError();c("recoverableViolation")("Could not load value from content query in Ads Showreel Asset Preview","Showreel",a?{error:a}:void 0)}},[x,w]);return h.createElement("div",{ref:s,style:{height:(s=f)!=null?s:a.height,width:(f=e)!=null?f:a.width}},!y&&!m&&h.createElement(c("GeoSpinner.react"),{center:!0}),t?h.createElement(i,{fallback:h.createElement("div",null)},h.createElement(n,{className:a.className,fallbackComponent:function(){return h.createElement("div",null)},isPlaying:g&&v,onError:a.onHandleError,onProgressChange:a.onProgressChange,onProgressMarkers:a.onProgressMarkers,onRepeatEnd:a.onRepeatEnd,payload:{type:"Asset",assetID:b.assetID,content:w.getValueEnforcing().content,properties:{width:a.width,height:a.height,duration:a.duration},getCompiledAsset:a.getCompiledAsset,clientID:a.clientID,onRendererReady:u,onMouseDown:a.onMouseDown},progress:a.progress,repeatCount:a.repeatCount})):null)}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=l(!1),d=b[0],e=b[1];b=l(!1);var f=b[0],g=b[1];k(function(){if(!a)return;window.IntersectionObserver==null&&e(!0);var b=new IntersectionObserver(function(b){b.forEach(function(b){if(b.target===a){b=c("intersectionObserverEntryIsIntersecting")(b);e(b)}})});b.observe(a);return function(){b.disconnect()}},[a]);k(function(){g(function(a){return a||d})},[d]);return[d,f]}function p(a,b,d){var e=l(c("LoadObject").empty),f=e[0],g=e[1];k(function(){if(!d)return;g(c("LoadObject").loading());var e=new(c("CancelablePromise"))(m.load().then(function(c){c=c.mapQueryToValue;return c(a,b)}));c("promiseDone")(e.getPromise(),function(a){g(c("LoadObject").withValue(a))},function(a){a.isCanceled!==!0&&g(c("LoadObject").withError(a))});return function(){e.cancel()}},[a,b,d]);return f}function q(a){var b=l(c("LoadObject").empty),e=b[0],f=b[1];k(function(){if(!a)return;c("promiseDone")(d("ShowreelAssetFontLoader_EXPERIMENTAL").loadStandardFonts(),function(a){f(c("LoadObject").withValue(a))},function(a){f(c("LoadObject").withError(a))})},[a]);return e}e=d("AdsFluxHooks").adsFluxContainer(a);g["default"]=e},98);
__d("ShowreelAssetAnimatedEasing",[],function(a,b,c,d,e,f){"use strict";function a(a){return a<.5?4*a*a*a:1-Math.pow(-2*a+2,3)/2}function b(a){return a*a*a}function c(a){return 1-Math.pow(1-a,3)}function d(a){var b=2*Math.PI/3;return a===0?0:a===1?1:Math.pow(2,-10*a)*Math.sin((a*10-.75)*b)+1}e={"ease-in":b,"ease-in-out":a,"ease-out":c,"ease-out-elastic":d};f["default"]=e},66);
__d("ShowreelAssetAnimatedValue",["invariant","BinarySearch","nullthrows","shallowEqual"],function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){a===void 0&&(a=null);b===void 0&&(b=null);if(a!=null)Array.isArray(a)&&h(0,19721),b===null||h(0,19722),this.$1=[{frameNumber:0,value:a}];else{this.$1=Array.from((a=b)!=null?a:[])}this.$2()}var b=a.prototype;b.isAnimated=function(){return this.$1.length>1};b.isNull=function(){return this.$1.length===0};b.getValue=function(){this.isAnimated()&&h(0,19719);return this.isNull()?null:c("nullthrows")(this.$1[0]).value};b.getValues=function(){this.isAnimated()||h(0,19718);return this.$1};b.getFrameNumbers=function(){return this.isAnimated()?this.getValues().map(function(a){return a.frameNumber}):[0]};b.getValueAtFrameNumber=function(a){var b=this.$1;if(this.isAnimated()===!1)return this.getValue();if(b[0].frameNumber>a)return null;a=this.$3(a,this.$1);return b[a===-1?b.length-1:a].value};b.add=function(a,b){var d,e;d=(d=this.$1)!=null?d:[];var f={value:a,frameNumber:b};e=(e=d[d.length-1])!=null?e:{};e=e.value;if(d.length>0&&c("shallowEqual")(e,a))return;e=this.$3(b,d);e===-1?d.push(f):d[e].frameNumber===b?d[e]=f:d.splice(1,0,f);this.$1=d};b.$2=function(){this.$1.sort(function(a,b){a=a.frameNumber;b=b.frameNumber;return a-b})};b.$3=function(a,b){return d("BinarySearch").findBoundInArray(b,a,function(b,a){return b.frameNumber-a},d("BinarySearch").GREATEST_LOWER_BOUND)};b.map=function(b){return new a(null,this.$1.map(function(a){var c=a.value;a=a.frameNumber;return{frameNumber:a,value:b(c)}}))};b.forEach=function(a){this.$1.forEach(function(b){return a(b.value)})};a.create=function(b){if(b instanceof a)return b;return b==null?new a():new a(b)};b.concat=function(b){b=b.isAnimated()?b.getValues():null;var c=this.$1;this.isAnimated()&&b!=null||h(0,20271);var d=b[b.length-1].frameNumber,e=c[c.length-1].frameNumber;d>e||h(0,20272);return new a(null,c.concat(b))};a.from=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return new a(null,c.map(function(a){var b=a[0];a=a[1];return{frameNumber:b,value:a}}))};return a}();g["default"]=a},98);
__d("ShowreelAssetTimeNode",["invariant","range","recoverableViolation"],function(a,b,c,d,e,f,g,h){"use strict";var i=function(){return{left:0,width:0}};a=function(){function a(a){var b;this.$3=[];this.$4=i();this.$5={type:"auto"};this.$6={type:"point",value:0};this.$7="parallel";var c=a.duration,d=a.delay,e=a.timing;a=a.timeOverflow;this.$1=(b=c)!=null?b:null;c==null?this.setWidthAuto():typeof c==="string"?this.setWidthPercent(j(c)):this.setWidth(c);d!=null?typeof d==="string"?this.setMarginLeftPercent(j(d)):this.setMarginLeft(d):this.setMarginLeft(0);this.setTiming((b=e)!=null?b:"parallel");this.$2=(c=a)!=null?c:"hidden"}var b=a.prototype;b.$9=function(){if(this.$5.type!=="auto"){this.$3.forEach(function(a){return a.$9()});return}if(this.$3.length===0){this.setWidthPercent(100);return}this.$3.filter(function(a){return a.$5.type==="auto"}).forEach(function(a){return a.$9()});this.getTiming()==="sequential"?this.$10():this.$11()};b.$11=function(){var a=this.$3.reduce(function(a,b){if(b.$6.type==="point"&&b.$6.value!==0&&b.$5.type==="percent"){if(b.$5.value>=100)return a;var c=b.$6.value/(1-b.$5.value/100);return Math.max(a,c)}if(b.$6.type==="percent"&&b.$5.type==="point"&&b.$5.value!==0){if(b.$6.value>=100)return a;c=b.$5.value/(1-b.$6.value/100);return Math.max(a,c)}return b.$6.type==="point"&&b.$5.type==="point"?Math.max(a,b.$5.value+b.$6.value):a},0);if(a>0){this.setWidth(a);return}var b=this.$3.reduce(function(a,b){if(b.$5.type==="percent"){var c=b.$6.type==="percent"?b.$6.value:0;return Math.max(a,c+b.$5.value)}return a},0);if(b===0){this.setWidth(0);return}this.$3.map(function(a){a.$5.type==="percent"&&a.setWidthPercent(a.$5.value/b*100),a.$6.type==="percent"&&a.setMarginLeftPercent(a.$6.value/b*100)});this.setWidthPercent(b)};b.$10=function(){var a=this.$3.reduce(function(a,b){var c=0;b.$6.type==="percent"&&(c+=b.$6.value);b.$5.type==="percent"&&(c+=b.$5.value);return a+c},0),b=this.$3.reduce(function(a,b){var c=0;b.$6.type==="point"&&(c+=b.$6.value);b.$5.type==="point"&&(c+=b.$5.value);return a+c},0);if(b===0&&a===0){this.setWidth(0);return}if(b>0&&a>0){if(a>=100){this.setWidth(b);return}var c=b/(1-a/100);this.setWidth(c);return}if(a===0){this.setWidth(b);return}if(b===0){this.$3.map(function(b){b.$5.type==="percent"&&b.setWidthPercent(b.$5.value/a*100),b.$6.type==="percent"&&b.setMarginLeftPercent(b.$6.value/a*100)});this.setWidthPercent(a);return}};b.calculate=function(){this.$9(),this.$12()};b.$12=function(){var a=this.getParent(),b;if(a!=null&&a.getTiming()==="sequential"){a=a.$13(this);a!=null&&(b=a.getComputedWidth()+a.getComputedLeft())}this.$4={width:this.$14(),left:this.$15((a=b)!=null?a:this.$16())};this.$3.forEach(function(a){return a.$12()})};b.getMaxEnd=function(){var a=this.$3.reduce(function(a,b){return Math.max(a,b.getMaxEnd())},0);return Math.max(a,this.getEnd())};b.addChildren=function(){var a=this;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];c.forEach(function(b){return a.addChild(b)})};b.addChild=function(a){a.$8=this,this.$3.push(a)};b.getDuration=function(){return this.getComputedWidth()};b.getStart=function(){return this.getComputedLeft()};b.getEnd=function(){return this.getStart()+this.getComputedWidth()};b.toFrames=function(a){a=a/1e3;return c("range")(this.getStart()*a,this.getEnd()*a+1)};b.getVisibleStart=function(){return this.$2==="visible"?-Infinity:this.getStart()};b.getVisibleEnd=function(){return this.$2==="visible"?Infinity:this.getEnd()};b.setWidthPercent=function(a){this.$5={type:"percent",value:a}};b.setWidthAuto=function(){this.$5={type:"auto"}};b.setWidth=function(a){this.$5={type:"point",value:a}};b.setMarginLeft=function(a){this.$6={type:"point",value:a}};b.setMarginLeftPercent=function(a){this.$6={type:"percent",value:a}};b.setTiming=function(a){this.$7=a};b.getTiming=function(){return this.$7};b.$14=function(){return this.$17(this.$5,this.$18())};b.$15=function(a){return this.$17(this.$6,this.$18())+a};b.$13=function(a){a=this.$3.indexOf(a);if(a>0){a=this.$3[a-1];a==null&&c("recoverableViolation")("Could not find previous sibling","Showreel");return a}return null};b.$17=function(a,b){if(a.type==="point")return a.value;if(a.type==="percent")return a.value/100*b;if(a.type==="auto")return b;h(0,21783)};b.$18=function(){var a=this.getParent();return a!=null?a.getComputedWidth():0};b.$16=function(){var a=this.getParent();return a!=null?a.getComputedLeft():0};b.getParent=function(){return this.$8};b.getChild=function(a){return(a=this.$3[a])!=null?a:null};b.getChildCount=function(){return this.$3.length};b.getComputedWidth=function(){return this.$4.width};b.getComputedLeft=function(){return this.$4.left};return a}();function j(a){var b=/(\d+(\.\d+)?%)/.test(a);if(!b){c("recoverableViolation")("Receiving invalid percentage string","Showreel");return 0}return parseFloat(a)}g["default"]=a},98);
__d("ShowreelAssetTypeUtils",[],function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a,b){return Object.assign(b,{_type:a})}f.cast=a;f.obj=b},66);
__d("ShowreelAssetAnimatedStyle",["ShowreelAssetAnimatedEasing","ShowreelAssetAnimatedValue","ShowreelAssetTimeNode","ShowreelAssetTypeUtils","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$1=b;(d==null?void 0:d.easing)!=null&&(this.$3=d.easing);b=d==null?void 0:d.delay;b!=null&&typeof b!=="string"&&b<0&&(b=null,c("recoverableViolation")("Delay must be a positive number","Showreel"));this.$2=new(c("ShowreelAssetTimeNode"))({duration:a,delay:b})}var b=a.prototype;b.setTimingParent=function(a){a.addChild(this.$2)};b.toAnimatedValue=function(a){var b=this;a=this.$2.toFrames(a.frameRate).map(function(a,e,f){e=f.length>1?e/(f.length-1):0;return b.$3==null?{frameNumber:a,value:d("ShowreelAssetTypeUtils").cast(b.$1(e))}:{frameNumber:a,value:d("ShowreelAssetTypeUtils").cast(b.$1(c("ShowreelAssetAnimatedEasing")[b.$3](e)))}});return new(c("ShowreelAssetAnimatedValue"))(null,a)};return a}();g["default"]=a},98);
__d("ShowreelAssetAnimatedStyleSequence",["ShowreelAssetTimeNode"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$3=new(c("ShowreelAssetTimeNode"))({duration:"100%",timing:"sequential"});this.$1=a;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.$2=e;[a].concat(e).forEach(function(a){a.setTimingParent(b.$3)})}var b=a.prototype;b.setTimingParent=function(a){a.addChild(this.$3)};b.toAnimatedValue=function(a){return this.$2.reduce(function(b,c){return b.concat(c.toAnimatedValue(a))},this.$1.toAnimatedValue(a))};return a}();g["default"]=a},98);
__d("ShowreelAssetColorNames",[],function(a,b,c,d,e,f){"use strict";a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};f["default"]=a},66);
__d("ShowreelAssetStyleSheetUtils",["invariant","ShowreelAssetAnimatedStyle","ShowreelAssetAnimatedStyleSequence","ShowreelAssetAnimatedValue","ShowreelAssetColorNames","ShowreelAssetTypeUtils","nullthrows"],function(a,b,c,d,e,f,g,h){"use strict";var i=/^(\d+(\.\d+)?|\.\d+)%$/,j=/^(\d*\.?\d*)(rad|deg)$/,k=/^rgb\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})\)$/,l=/^rgba\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3}),\s?(1|1.0+|0|0?\.\d+)\)$/,m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;function o(a){return a*Math.PI/180}function p(a){return a*180/Math.PI}function q(a){a=c("nullthrows")(j.exec(a),"Unsupported angle value '"+a+"'");var b=a[1];a=a[2];var d,e;switch(a){case"rad":d=parseFloat(b);e=p(b);break;case"deg":e=parseFloat(b);d=o(e);break;default:h(0,18290,a)}return{degrees:e,radians:d}}var r=1,s=0,t={degrees:0,radians:0};function u(a){a=z(a,"rotate");a=a==null?void 0:a.rotate;return typeof a==="string"?q(a):(a=a)!=null?a:t}function a(a,b){return y(u(a),b)}function v(a){a=z(a,"scale");return(a=a==null?void 0:a.scale)!=null?a:r}function b(a,b){return y(v(a),b)}function w(a){a=z(a,"translateX");return(a=a==null?void 0:a.translateX)!=null?a:s}function e(a,b){return y(w(a),b)}function x(a){a=z(a,"translateY");return(a=a==null?void 0:a.translateY)!=null?a:s}function f(a,b){return y(x(a),b)}function y(a,b){return a instanceof c("ShowreelAssetAnimatedStyle")||a instanceof c("ShowreelAssetAnimatedStyleSequence")?a.toAnimatedValue(b):c("ShowreelAssetAnimatedValue").create(a)}function z(a,b){if(a!=null&&Object.prototype.hasOwnProperty.call(a,"transform")){a=a.transform;if(a!=null)for(var c=0;c<a.length;c++){var e=a[c];if(Object.prototype.hasOwnProperty.call(e,b))return d("ShowreelAssetTypeUtils").cast(e)}}return null}var A={r:0,g:0,b:0,a:0};function B(a){if(a==null)return A;if(a.startsWith("#"))return C(a);var b=c("ShowreelAssetColorNames")[a];if(b!=null)return C(b);b=k.exec(a);if(b!=null)return{r:parseInt(b[1],10),g:parseInt(b[2],10),b:parseInt(b[3],10),a:1};b=l.exec(a);return b!=null?{r:parseInt(b[1],10),g:parseInt(b[2],10),b:parseInt(b[3],10),a:parseFloat(b[4])}:A}function C(a){var b=m.exec(a);if(b==null){var c=n.exec(a);c!=null||h(0,18520,a);return{r:parseInt(""+c[1]+c[1],16),g:parseInt(""+c[2]+c[2],16),b:parseInt(""+c[3]+c[3],16),a:1}}return{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16),a:1}}function D(a){a=(a=d("ShowreelAssetTypeUtils").cast(a.props))!=null?a:{};a=a.style;return(a=a)!=null?a:{}}g.PERCENTAGE_REGEX=i;g.ANGLE_REGEX=j;g.RGB_REGEX=k;g.RGBA_REGEX=l;g.HEX_REGEX=m;g.HEX_SHORT_HAND_REGEX=n;g.degreesToRadians=o;g.radiansToDegrees=p;g.parseAngle=q;g.getRotation=u;g.getRotationInFrames=a;g.getScale=v;g.getScaleInFrames=b;g.getTranslateX=w;g.getTranslateXInFrames=e;g.getTranslateY=x;g.getTranslateYInFrames=f;g.getAnimatedValueForStyle=y;g.getColor=B;g.getStyleFromElement=D},98);
__d("ShowreelAssetImageQuery",["ShowreelContentStaticResources","nullthrows"],function(a,b,c,d,e,f,g){"use strict";var h="AdImageHash";function a(a){return{type:h,hash:a}}var i="EverstoreImageHandle";function b(a){return babelHelpers["extends"]({type:i},a)}function d(a){var b=c("nullthrows")(c("ShowreelContentStaticResources").images[a],"Could not coerce Image Query IXValue - likely sprited"),d=b.uri,e=b.width;b=b.height;return{url:d,width:e,height:b,name:a}}g.AD_HASH_TYPE=h;g.fromHash=a;g.EVERSTORE_TYPE=i;g.fromHandle=b;g.assetToImageValue=d},98);
__d("createShowreelVideoPlayerEventHandler",["ShowreelVideoPlayerTypedLogger"],function(a,b,c,d,e,f,g){"use strict";function a(){var a=new(c("ShowreelVideoPlayerTypedLogger"))();return function(b){return a.clear().setPayload(b).log()}}g["default"]=a},98);
__d("AdsVideoImageOverlayToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsCreativeVideoImageOverlayContainer.react","AdsDataAtom","AdsUEditorAdgroupSetPlatformVideoIDDataAction","AdsUEditorAdgroupSetVideoIDDataAction","AdsUEditorAdgroupUpdateCustomizationVideoDataAction","VCEEligibilityUtils","VCEUpdateUploadStatusDataAction","VCEUploadStatus","adsCreateSelector","adsCreativeContainerMediaFormatForPlacements","adsCreativeContainerStartBackgroundVideoEditing","adsUEditorVCEToolsAvailabilitySelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"video_image_overlay",category:"OTHER",isFullScreen:!0,advancedSettingsComponent:b("AdsCreativeVideoImageOverlayContainer.react"),isCreatingNewMedia:!0,name:h._("Superposici\u00f3n del logotipo"),getIcons:function(){return{active:i("528580"),normal:i("540026")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a){return c("adsCreateSelector")([c("adsUEditorVCEToolsAvailabilitySelector")],function(b){if(b)return!1;b=a.asset;if(b.format!=="video")return!1;b=b.video;return d("VCEEligibilityUtils").isEligibleForOverlay(b)&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("video")},{name:f.id})},mutatePACAdgroup:function(a,b,d,e,f){e=e.video_image_overlay;if(b==null)return;e=e==null?void 0:e.imageOverlayResultVideoID;if(e==null)return;a=a.adgroupIDs;b=b.assetKey;d=d&&d.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor?d.isBaseAsset:!0;c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({hostID:f,adgroupIDs:a,isBaseAsset:d,label:b,videoID:e},{line:"130",module:"AdsVideoImageOverlayToolPlugin.js"})},mutateRegularAdgroup:function(a,b,d,e,f){a=e.video_image_overlay;if(b==null||d==null)return;e=a==null?void 0:a.imageOverlayResultVideoID;if(e==null)return;d.isBaseAsset===!0?c("AdsUEditorAdgroupSetVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:e},{line:"159",module:"AdsVideoImageOverlayToolPlugin.js"}):c("AdsUEditorAdgroupSetPlatformVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:e,platform:"instagram"},{line:"165",module:"AdsVideoImageOverlayToolPlugin.js"})},onCancelDialog:function(a,b){c("AdsDataAtom").addPostDispatchCallback(function(){c("VCEUpdateUploadStatusDataAction").dispatch({status:c("VCEUploadStatus").ABORT},{line:"176",module:"AdsVideoImageOverlayToolPlugin.js"})})},onMoveToBackground:function(a,b,d){c("adsCreativeContainerStartBackgroundVideoEditing")(a,b,d.hostID)}};e=a;g["default"]=e},98);
__d("AdsVideoTextOverlayToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsCreativeVideoTextOverlayContainer.react","AdsDataAtom","AdsUEditorAdgroupSetPlatformVideoIDDataAction","AdsUEditorAdgroupSetVideoIDDataAction","AdsUEditorAdgroupUpdateCustomizationVideoDataAction","VCEEligibilityUtils","VCEUpdateUploadStatusDataAction","VCEUploadStatus","adsAccountGK","adsCreateSelector","adsCreativeContainerMediaFormatForPlacements","adsCreativeContainerStartBackgroundVideoEditing","adsUEditorVCEToolsAvailabilitySelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"video_text_overlay",category:"OTHER",isFullScreen:!0,advancedSettingsComponent:b("AdsCreativeVideoTextOverlayContainer.react"),isCreatingNewMedia:!0,name:h._("Superposici\u00f3n de texto"),getIcons:function(){return{active:i("820131"),normal:i("820136")}},isEnabled:function(a){return!c("adsAccountGK")._(a,"2Lafx7flj",!1)},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a){return c("adsCreateSelector")([c("adsUEditorVCEToolsAvailabilitySelector")],function(b){if(b)return!1;b=a.asset;if(b.format!=="video")return!1;b=b.video;return d("VCEEligibilityUtils").isEligibleForOverlay(b)&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("video")},{name:f.id})},mutatePACAdgroup:function(a,b,d,e,f){e=e.video_text_overlay;if(b==null)return;e=e==null?void 0:e.textOverlayResultVideoID;if(e==null)return;a=a.adgroupIDs;b=b.assetKey;d=d&&d.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor?d.isBaseAsset:!0;c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({hostID:f,adgroupIDs:a,isBaseAsset:d,label:b,videoID:e},{line:"130",module:"AdsVideoTextOverlayToolPlugin.js"})},mutateRegularAdgroup:function(a,b,d,e,f){a=e.video_text_overlay;if(b==null||d==null)return;e=a==null?void 0:a.textOverlayResultVideoID;if(e==null)return;d.isBaseAsset===!0?c("AdsUEditorAdgroupSetVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:e},{line:"157",module:"AdsVideoTextOverlayToolPlugin.js"}):c("AdsUEditorAdgroupSetPlatformVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:e,platform:"instagram"},{line:"163",module:"AdsVideoTextOverlayToolPlugin.js"})},onCancelDialog:function(a,b){c("AdsDataAtom").addPostDispatchCallback(function(){c("VCEUpdateUploadStatusDataAction").dispatch({status:c("VCEUploadStatus").ABORT},{line:"174",module:"AdsVideoTextOverlayToolPlugin.js"})})},onMoveToBackground:function(a,b,d){c("adsCreativeContainerStartBackgroundVideoEditing")(a,b,d.hostID)}};e=a;g["default"]=e},98);
__d("AdsVideoTextOverlayV2ToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsCreativeVideoTextOverlayContainerV2.react","AdsDataAtom","AdsUEditorAdgroupSetPlatformVideoIDDataAction","AdsUEditorAdgroupSetVideoIDDataAction","AdsUEditorAdgroupUpdateCustomizationVideoDataAction","VCEEligibilityUtils","VCEUpdateUploadStatusDataAction","VCEUploadStatus","adsAccountGK","adsCreateSelector","adsCreativeContainerMediaFormatForPlacements","adsCreativeContainerStartBackgroundVideoEditing","adsUEditorVCEToolsAvailabilitySelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"video_text_overlay_v2",category:"OTHER",isFullScreen:!0,advancedSettingsComponent:c("AdsCreativeVideoTextOverlayContainerV2.react"),isCreatingNewMedia:!0,name:h._("Superposici\u00f3n de texto"),getIcons:function(){return{active:i("820131"),normal:i("820136")}},isEnabled:function(a){return c("adsAccountGK")._(a,"2Lafx7flj",!1)},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a){return c("adsCreateSelector")([c("adsUEditorVCEToolsAvailabilitySelector")],function(b){if(b)return!1;b=a.asset;if(b.format!=="video")return!1;b=b.video;return d("VCEEligibilityUtils").isEligibleForOverlay(b)&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("video")},{name:f.id})},mutatePACAdgroup:function(a,b,d,e,f){e=e.video_text_overlay_v2;if(b==null)return;e=e==null?void 0:e.textOverlayResultVideoID;if(e==null)return;a=a.adgroupIDs;b=b.assetKey;d=d&&d.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor?d.isBaseAsset:!0;c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({hostID:f,adgroupIDs:a,isBaseAsset:d,label:b,videoID:e},{line:"133",module:"AdsVideoTextOverlayV2ToolPlugin.js"})},mutateRegularAdgroup:function(a,b,d,e,f){a=e.video_text_overlay_v2;if(b==null||d==null)return;e=a==null?void 0:a.textOverlayResultVideoID;if(e==null)return;d.isBaseAsset===!0?c("AdsUEditorAdgroupSetVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:e},{line:"162",module:"AdsVideoTextOverlayV2ToolPlugin.js"}):c("AdsUEditorAdgroupSetPlatformVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:e,platform:"instagram"},{line:"168",module:"AdsVideoTextOverlayV2ToolPlugin.js"})},onCancelDialog:function(a,b){c("AdsDataAtom").addPostDispatchCallback(function(){c("VCEUpdateUploadStatusDataAction").dispatch({status:c("VCEUploadStatus").ABORT},{line:"179",module:"AdsVideoTextOverlayV2ToolPlugin.js"})})},onMoveToBackground:function(a,b,d){c("adsCreativeContainerStartBackgroundVideoEditing")(a,b,d.hostID)}};b=a;g["default"]=b},98);
__d("AdsVideoTrimToolPlugin",["fbt","ix","AdsAdAssetSelectorTypes","AdsCreativeToolParentContainerType","AdsCreativeVideoTrimV2Container.react","AdsUEditorAdgroupSetPlatformVideoIDDataAction","AdsUEditorAdgroupSetVideoAtIndexDataAction","AdsUEditorAdgroupSetVideoIDDataAction","AdsUEditorAdgroupUpdateCustomizationVideoDataAction","AdsVCAExperimentSelectors","ApiDynamicCreativeOptimizationTypes","VCEEligibilityUtils","adsCreateSelector","adsCreateThunkSelector","adsCreativeContainerMediaFormatForPlacements","adsCreativeContainerStartBackgroundVideoEditing","adsUEditorAdgroupOptimizationTypeSelector","adsUEditorVCEToolsAvailabilitySelector","immutable"],function(a,b,c,d,e,f,g,h,i){"use strict";a={type:"creative/tools",key:"video_trim",category:"MEDIA",isFullScreen:!0,advancedSettingsComponent:b("AdsCreativeVideoTrimV2Container.react"),name:h._("Acortar"),getIcons:function(){return{active:i("915069"),normal:i("534421")}},isEnabled:function(){return!0},availableFormats:c("immutable").Set([d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video]),isAvailable:function(a,b){return c("adsCreateSelector")([c("adsUEditorAdgroupOptimizationTypeSelector"),c("adsUEditorVCEToolsAvailabilitySelector"),c("adsCreateThunkSelector")(d("AdsVCAExperimentSelectors").adsMergeCropAndTrimVCESurfaceExperimentSelector)],function(b,e,f){if(b===c("ApiDynamicCreativeOptimizationTypes").LANGUAGE||e)return!1;b=a.asset;if(b.format!=="video")return!1;e=b.video;b=d("VCEEligibilityUtils").isEligibleForTrimming(e)&&c("adsCreativeContainerMediaFormatForPlacements")(a.placements).includes("video");return b&&!f()},{name:f.id})},isCreatingNewMedia:!0,mutateDCOAdgroup:function(a,b,d,e,f){e=e.video_trim;if(b==null)return;b=e==null?void 0:e.manualTrimResultVideoID;if(b==null)return;if(d==null||d.parentContainer!==c("AdsCreativeToolParentContainerType").VideoDCOAdgroupAssetEditor&&d.parentContainer!==c("AdsCreativeToolParentContainerType").VideoPlacementEditor)return;e=a.adgroupIDs;a=d.assetIndex;a!=null&&a>=0&&c("AdsUEditorAdgroupSetVideoAtIndexDataAction").dispatch({hostID:f,adgroupIDs:e,assetIndex:a,videoID:b},{line:"154",module:"AdsVideoTrimToolPlugin.js"})},mutatePACAdgroup:function(a,b,d,e,f){e=e.video_trim;if(b==null)return;e=e==null?void 0:e.manualTrimResultVideoID;if(e==null)return;a=a.adgroupIDs;b=b.assetKey;d=d&&d.parentContainer===c("AdsCreativeToolParentContainerType").VideoPlacementEditor?d.isBaseAsset:!0;c("AdsUEditorAdgroupUpdateCustomizationVideoDataAction").dispatch({hostID:f,adgroupIDs:a,isBaseAsset:d,label:b,videoID:e},{line:"188",module:"AdsVideoTrimToolPlugin.js"})},mutateRegularAdgroup:function(a,b,d,e,f){a=e.video_trim;if(b==null||d==null)return;e=a==null?void 0:a.manualTrimResultVideoID;if(e==null)return;d.isBaseAsset===!0?c("AdsUEditorAdgroupSetVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:e},{line:"215",module:"AdsVideoTrimToolPlugin.js"}):c("AdsUEditorAdgroupSetPlatformVideoIDDataAction").dispatch({hostID:f,adgroupIDs:d.adgroupIDs,videoID:e,platform:"instagram"},{line:"221",module:"AdsVideoTrimToolPlugin.js"})},onMoveToBackground:function(a,b,d){c("adsCreativeContainerStartBackgroundVideoEditing")(a,b,d.hostID)}};e=a;g["default"]=e},98);
__d("AdsCreativeToolDialogTemplateRow.react",["cx","fbt","AdsAdAssetSelectorTypes","FDSText.react","FlexLayout.react","FlexLayoutItem.react","FluxContainer","Image.react","StorifyEligibilityUtils","VCKConstants","VCKPreviewPlayer.react","adsUEditorPlacementEditorStorifyPreviewWrapperSelector","joinClasses","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k="\xd7",l="\u2022",m=":",n=144,o=255,p=48,q=i._("Cambiar plantilla"),r=i._("Editar plantilla");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(){return c("adsUEditorPlacementEditorStorifyPreviewWrapperSelector").getStores()};b.calculateState=function(){return c("adsUEditorPlacementEditorStorifyPreviewWrapperSelector")()};var e=b.prototype;e.render=function(){var a=this.props,b=a.className,e=a.isActive,f=a.asset,g=a.assetGroup;a=a.passIGFeedOptOutGK;var h=this.state,i=h.lastPreviewReloadTime,s=h.idealFrameNumber,t=h.specification,u=h.content;h=h.storifyHasPickedTemplate;var v=d("StorifyEligibilityUtils").getPreviewFormatForAssetGroup(g);g=g==="INSTAGRAM_STREAM";return j.jsxs(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:c("joinClasses")("_7-ha",b),children:[g?j.jsx(c("FlexLayout.react"),{className_DO_NOT_USE:"_7-hb _3-91",direction:"vertical",justify:"center",children:j.jsx(c("Image.react"),{height:p,src:f.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image?f.url:null,width:p})}):j.jsx(c("FlexLayoutItem.react"),{className:"_7-hb _3-91",children:j.jsx(c("VCKPreviewPlayer.react"),{content:u,entryPoint:"storify_placement_editor",format:v,height:o,initialFrameNumber:s,lastPreviewReloadTime:i,repeat:-1,shouldAutoplay:!1,shouldUseFontScaling:!0,shouldUseMiniPreview:!0,showController:!1,specification:h===!0?t:babelHelpers["extends"]({},t,{id:d("VCKConstants").PORTAL_TEMPLATE_ID}),width:n})}),j.jsxs(c("FlexLayoutItem.react"),{children:[j.jsx(c("FDSText.react"),{color:e?"highlight":"primary",display:"truncate",weight:e?"bold":"normal",children:a&&e?r:q}),j.jsx(c("FDSText.react"),{color:e?"highlight":"secondary",size:"body3",children:g?"1080 "+k+" 1080 "+l+" 1"+m+"1":"1080 "+k+" 1920 "+l+" 9"+m+"16"})]})]})};return b}(j.PureComponent);b=c("FluxContainer").create(a);g["default"]=b},98);
__d("AdsCreativeToolTemplatePickerEntry.react",["AdsCreativeToolUnifiedTemplatePickerIGStoryEntry.react","first","react","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onToggleAdvancedSettings(!0)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.props,b=a.isActive;a=a.assetContext.assetGroups;a=a&&c("first")(a);if(a==null){c("recoverableViolation")("AssetGroup should not be empty","storify");return null}return h.jsx(c("AdsCreativeToolUnifiedTemplatePickerIGStoryEntry.react"),{asset:this.props.asset,assetGroup:a,isActive:b,passIGFeedOptOutGK:!1,onClickHandler:this.$1})};return b}(h.PureComponent);g["default"]=a},98);
__d("AdsCreativeToolDialogMediaRow.react",["cx","fbt","AdsImageUtils","AdsPlacementAssetThumbnailUtils","AdsTemplateUnificationStrings","AdsUnifiedImageUtils","BackgroundImage.react","GeoBaseText.react","GeoFlexbox.react","formatDurationSeconds","geoMargin","react","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={textSection:{overflowX:"lq84ybu9",overflowY:"hf30pyar"}},l="\xd7",m="\u2022",n=48,o=i._("sin t\u00edtulo"),p=i._("No se han elegido archivos multimedia"),q=i._("Cambia el archivo multimedia para continuar");function r(a){a.preventDefault()}function s(a){if(a==null)return o;if(a.has("square")&&a.has("vertical"))return d("AdsTemplateUnificationStrings").META_TEXT_SQUARE_AND_VERTICAL;else if(a.has("square"))return d("AdsTemplateUnificationStrings").META_TEXT_SQUARE;return d("AdsTemplateUnificationStrings").META_TEXT_VERTICAL}function t(a,b,e){if(a==null)return{cropTransform:null,name:p,meta:q,thumbnailSrc:null};switch(a.format){case"image":var f=a.height,g=a.width,h=null,i=a.crops;if(i!=null&&Object.keys(i).length>0){var j=Object.keys(i)[0];h=i[j];j=d("AdsUnifiedImageUtils").getCroppedImageDimensions(babelHelpers["extends"]({},a,{crops:i}));f=j.height;g=j.width}return{cropTransform:d("AdsImageUtils").getImageTransformForBounds(a.width,a.height,n,n,h),name:a.name,meta:g+" "+l+" "+f,thumbnailSrc:d("AdsPlacementAssetThumbnailUtils").getImageThumbnail(a)};case"video":return{cropTransform:null,name:a.video.title,meta:a.video.width+" "+l+" "+a.video.height+" "+m+" "+c("formatDurationSeconds")(Math.round(a.video.length)).toString(),thumbnailSrc:d("AdsPlacementAssetThumbnailUtils").getVideoThumbnail(a)};case"carousel":h=a.cards[(j=(i=b.carousel)==null?void 0:i.index)!=null?j:0];f=h==null?void 0:(g=h.media)==null?void 0:g.getValue();return t(f,b);case"template":i=a.selectedImages;j=a.selectedTemplate;g=(h=i[0])==null?void 0:h.getValue();f=j==null?void 0:j.name;return babelHelpers["extends"]({},t(g,b),{meta:s(e),name:f})}return{cropTransform:null,name:o,meta:null,thumbnailSrc:null}}function a(a){var b=a.asset,d=a.assetContext,e=a.xstyle;b=t(b,d,a.supportedAspectRatios);d=b.cropTransform;a=b.meta;var f=b.name;b=b.thumbnailSrc;return j.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"start",xstyle:e,children:[j.jsx("div",{className:c("stylex")(c("geoMargin").end8),children:j.jsx(c("BackgroundImage.react"),{backgroundSize:"containinside",className:"_7vny",cropTransform:d,height:n,src:b,width:n,onContextMenu:r})}),j.jsxs("div",{className:c("stylex")(k.textSection),children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"truncate",size:"value",children:(e=f)!=null?e:o}),j.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",children:a})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeToolUnifiedTemplatePickerEntryContainer.react",["cx","fbt","ix","ATUEntryPointLoggingUtils","AdsAdAssetSelectorTypes","AdsCreativeEditorTemplateLogger","AdsCreativeToolDialogMediaRow.react","AdsCreativeToolSimpleField.react","AdsCreativeToolUnifiedTemplatePickerIGStoryEntry.react","AdsFluxHooks","AdsUEditorHooks","AdvertiserGuidanceQEProjectStageUtils","FlexLayout.react","FlexLayoutItem.react","Image.react","ShimButton.react","adsAccountGK","adsCreateStructuredSelector","adsCreativeEditorTemplateAspectRatioSelector","adsCreativeEditorUnifiedTemplateIsIGStoryOrFeedPlacementSelector","adsUEditorAccountSelector","first","react","recoverableViolation"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=d("react").useCallback,m={mediaRow:{paddingTop:"d2hqwtrz",paddingEnd:"fzd7ma4j",paddingBottom:"o9wcebwi",paddingStart:"lcfup58g"}},n=i._("Cambiar"),o=i._("Cambiar plantilla"),p=c("adsCreateStructuredSelector")({supportedAspectRatios:c("adsCreativeEditorTemplateAspectRatioSelector"),IsIGStoryOrFeedPlacement:c("adsCreativeEditorUnifiedTemplateIsIGStoryOrFeedPlacementSelector"),adAccount:c("adsUEditorAccountSelector")},f.id+".selector");function a(a){var b=a.isActive,e=a.onToggleAdvancedSettings,f=a.assetContext.assetGroups,g=a.name,h=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(p);h=h.state;var i=h.supportedAspectRatios,q=h.IsIGStoryOrFeedPlacement;h=h.adAccount;var r=l(function(){e(!b),d("AdsCreativeEditorTemplateLogger").startFunnel({entryPoint:"creative_editor",product:d("AdsCreativeEditorTemplateLogger").Product.CREATIVE_EDITOR}),d("ATUEntryPointLoggingUtils").logNewVCKOpenDialog("creative_editor")},[b,e]);f=f&&c("first")(f);if(f==null){c("recoverableViolation")("AssetGroup should not be empty","storify");return null}var s=a.asset.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.image,t=c("adsAccountGK")._(h,"moSCEJ8Wb");if(s||a.asset.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template){if(q&&s)return k.jsx(c("AdsCreativeToolUnifiedTemplatePickerIGStoryEntry.react"),{asset:a.asset,assetGroup:f,isActive:b,passIGFeedOptOutGK:t,onClickHandler:r});s=d("AdvertiserGuidanceQEProjectStageUtils").getBoolMaybe(h,"mmt_vck_ui_update","ad_account");d("AdvertiserGuidanceQEProjectStageUtils").logToManualLogger("mmt_vck_ui_update","ad_account",{ad_account_id:h.account_id,recommendation_type:"mmt_vck_ui_update",qe_group:s.qeResult==null?"null":s.qeResult===!0?"test":"control"});return k.jsx(c("AdsCreativeToolSimpleField.react"),{isActive:b,leftIconAsset:{active:j("567273"),normal:j("567280")},rightIconAsset:{active:j("1265552"),normal:j("1216500")},text:a.asset.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.template?s.shouldRender?o:n:g,onClick:r})}return q?k.jsx(c("AdsCreativeToolUnifiedTemplatePickerIGStoryEntry.react"),{asset:a.asset,assetGroup:f,isActive:b,passIGFeedOptOutGK:t,onClickHandler:r}):k.jsx(c("ShimButton.react"),{className:"_7-b2"+(b?"":" _7-b3")+(b?" _7-b4":""),onClick:r,children:k.jsxs(c("FlexLayout.react"),{align:"center",children:[k.jsx(c("FlexLayoutItem.react"),{className:"ellipsis",grow:1,shrink:1,children:k.jsx(c("AdsCreativeToolDialogMediaRow.react"),{asset:a.asset,assetContext:a.assetContext,supportedAspectRatios:i,xstyle:m.mediaRow})}),k.jsx(c("FlexLayoutItem.react"),{className:"_7-b7",children:k.jsx(c("Image.react"),{src:b?j("1265552"):j("1216500")})})]})})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsCreativeToolUnifiedTemplatePickerIGStoryEntry.react",["ix","AdsCreativeToolDialogTemplateRow.react","GeoFlexbox.react","Image.react","ShimButton.react","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{":hover":{display:"cvwra99l"},backgroundColor:"jjseejtz",borderTopStartRadius:"p5mefues",borderTopEndRadius:"j32recxq",borderBottomEndRadius:"j94dm2s7",borderBottomStartRadius:"trbvugp6",cursor:"fsf7x5fv",marginStart:"rng1terr",marginEnd:"hnay576k",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze"},"default":{":hover":{backgroundColor:"ouokq3gx"}},active:{display:"b6ax4al1",backgroundColor:"rhdn87jn"},activeChevron:{alignItems:"i85zmo3j",display:"alzwoclg",justifyContent:"jcxyg2ei",lineHeight:"lisst02g"},ellipsis:{display:"aglvbi8b",overflowX:"lq84ybu9",overflowY:"hf30pyar",textOverflow:"oshhggmv",whiteSpace:"qm54mken"}};function a(a){var b=a.isActive,d=a.onClickHandler,e=a.assetGroup,f=a.passIGFeedOptOutGK;return i.jsx(c("ShimButton.react"),{className:c("stylex")(j.root,b&&j.active,!b&&j["default"]),onClick:d,children:i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[i.jsx(c("GeoFlexbox.react"),{grow:1,shrink:1,xstyle:j.ellipsis,children:i.jsx(c("AdsCreativeToolDialogTemplateRow.react"),{asset:a.asset,assetGroup:e,isActive:b,passIGFeedOptOutGK:f})}),i.jsx(c("GeoFlexbox.react"),{xstyle:j.activeChevron,children:i.jsx(c("Image.react"),{src:b?h("1265552"):h("1216500")})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsCreativeToolUnifiedTemplatePickerPanel.react",["AdsUEditorUnifiedTemplateSelectionPanelContainer.react","first","react","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{height:"pytsy3co"}};function a(a){var b=a.assetContext.assetGroups;b=b&&c("first")(b);if(b==null){c("recoverableViolation")("AssetGroup should not be empty","storify");return null}return h.jsx(c("AdsUEditorUnifiedTemplateSelectionPanelContainer.react"),{asset:a.asset,assetGroup:b,xstyle:i.container,onEdit:a.onEdit})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VCKPreviewPlayerPluginType",[],function(a,b,c,d,e,f){"use strict";a=["entryPoint","tab"];f.order=a},66);
__d("VCKDefaultPreviewPlayerPlugin",["VCCEditingStatusDataProvider"],function(a,b,c,d,e,f,g){"use strict";var h=c("VCCEditingStatusDataProvider").toFluxSelector();a={type:"video-creation-kit/preview-player",key:"default",pivots:{},shouldVCKShowInlineProgressBar:function(a){return a==="template_selection_tab"&&h().templateSelectionTabContentType==="drafts"}};b=a;g["default"]=b},98);
__d("VCKStorifyCustomizationPreviewPlayerPlugin",[],function(a,b,c,d,e,f){"use strict";a={type:"video-creation-kit/preview-player",key:"storifyCustomization",pivots:{entryPoint:"storify_alpha",tab:"template_customization_tab"},getFormat:function(){return"INSTAGRAM_STORY"},getControllerConfig:function(){return{isEnabled:!0}}};b=a;f["default"]=b},66);
__d("VCKStorifyPreviewPlayerPlugin",[],function(a,b,c,d,e,f){"use strict";a={type:"video-creation-kit/preview-player",key:"storify",pivots:{entryPoint:"storify_alpha"},getFormat:function(){return"INSTAGRAM_STORY"},getControllerConfig:function(){return{isEnabled:!1,autoPlay:!1}}};b=a;f["default"]=b},66);
__d("VCKPreviewPlayerPluginResolver",["VCKPreviewPlayerPluginType","VCKPreviewPlayerPlugins","adsPluginResolverFactory"],function(a,b,c,d,e,f,g){"use strict";a=c("adsPluginResolverFactory")(function(){return b("VCKPreviewPlayerPlugins").getArray()},d("VCKPreviewPlayerPluginType").order);e=a;g["default"]=e},98);
__d("resolveShowreelFonts",["AsyncRequest","Promise","XShowreelFontsController"],function(a,b,c,d,e,f,g){"use strict";a=function(a){return new(b("Promise"))(function(b,d){try{var e=c("XShowreelFontsController").getURIBuilder().setEnumSet("font_ids",a).getURI();new(c("AsyncRequest"))().setURI(e).setHandler(function(a){a=a.getPayload();b(a)}).setErrorHandler(d).send()}catch(a){d(a)}})};d=a;g["default"]=d},98);
__d("adsUEditorAdgroupCFPStickySettingSelector",["AdsAdgroupRecordAccessors","AdsUEditorSelectors","adsCreateAdAccountGKSelector","adsCreateSelector","adsGetUniformValueSelector","adsUEditorAdgroupIsImageEnhancementOptInSelector","immutable"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdgroupIsImageEnhancementOptInSelector"),c("adsCreateAdAccountGKSelector")._("3x8N6XSqr"),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.ad_handle_type.get),null)],function(a,b,d){var e=c("immutable").OrderedSet();if(b)return e;a&&(e=e.add("imageEnhancements"));d!=="ORIGINAL"&&(e=e.add("dhaOptimization"));return e},{name:f.id+".adsUEditorAdgroupCFPStickySettingSelector"});b=a;g["default"]=b},98);
__d("AdsCFPLayoutReducerPlugins",["AdsCreativeOptimizationToolChangeSetRecord","AdsCreativeOptimizationToolsPlugins","Laminar","adsUEditorAdgroupCFPStickySettingSelector","adsUEditorInjectEditingAdgroupContext","immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({toolsShouldDefaultStickyOn:c("adsUEditorInjectEditingAdgroupContext")(c("adsUEditorAdgroupCFPStickySettingSelector"))},function(a,b,d){d=d.toolsShouldDefaultStickyOn;var e=b.initialGlobalChangeSet,f=c("immutable").OrderedSet();d.size>0&&d.forEach(function(a){var b=c("AdsCreativeOptimizationToolsPlugins").getByMixed(a);(b==null?void 0:b.getCFPGenericChangeSet)!=null&&(b==null?void 0:b.updateCFPGloabalChangeSet)!=null&&(e=b.updateCFPGloabalChangeSet(e,b.getCFPGenericChangeSet(!0)),f=f.add(a))});return babelHelpers["extends"]({},a,{toolsEdit:f,globalChangeSet:e,entryPoint:b.entryPoint,isModalVisible:b.entryPoint==="L1"})})};b={reduce:function(a,b){return babelHelpers["extends"]({},a,{availableTools:b.availableTools})}};e={reduce:function(){return{availableTools:c("immutable").OrderedSet(),isModalVisible:!1,entryPoint:null,globalChangeSet:new(c("AdsCreativeOptimizationToolChangeSetRecord"))(),selectedPlacement:null,toolsEdit:c("immutable").OrderedSet()}}};g.onOpenCFPModal=a;g.initAvailableToolsReducer=b;g.onCloseCFPModal=e},98);
__d("AdsShouldSaveToAssetLibraryReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{shouldSaveToAssetLibrary:b.shouldSaveToAssetLibrary}}};b=a;f["default"]=b},66);
__d("AdsBulkVideosCancelUploadReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=b.uploaderKey;b=a.uploadingBulkVideos;return b!=null&&b.size!==0?babelHelpers["extends"]({},a,{uploadingBulkVideos:b.filterNot(function(a){return a.id===c})}):a}};b=a;f["default"]=b},66);
__d("AdsCFPSelectionChangeReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c;return babelHelpers["extends"]({},a,{selection:(c=b.pluginKey)!=null?c:a.selection,selectedPlacement:b.selectedPlacement})}};b=a;f["default"]=b},66);
__d("AdsCFPTurnOnAllReducerPlugin",["AdsCreativeOptimizationBundlePlugins","AdsCreativeOptimizationToolsPlugins"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d=b.adsCFPTransformationState.availableRootLevelStates,e=a.globalChangeSet,f=a.toolsEdit;d.forEach(function(a,d){a=c("AdsCreativeOptimizationToolsPlugins").getByMixed(d)||c("AdsCreativeOptimizationBundlePlugins").getByMixed(d);(a==null?void 0:a.updateCFPGloabalChangeSet)!=null&&(a==null?void 0:a.getCFPGenericChangeSet)!=null&&(e=a.updateCFPGloabalChangeSet(e,a.getCFPGenericChangeSet(b.value)),f=f.add(d))});return babelHelpers["extends"]({},a,{adsCFPTransformationState:b.adsCFPTransformationState,toolsEdit:f,globalChangeSet:e})}};b=a;g["default"]=b},98);
__d("AdsOMPResetMediaPickerReducerPlugin",["AdsUEditorOptimizationMediaPickerDataProvider"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if(!a.hasCachedData&&b.uploadedIGVideoID!==void 0)return a;else if(b.cachedData!==void 0)return babelHelpers["extends"]({},a,{hasCachedData:b.cachedData!==void 0});return babelHelpers["extends"]({},c("AdsUEditorOptimizationMediaPickerDataProvider").getInitialState(),{uploadingVideo:a.uploadedVideo?void 0:a.uploadingVideo})}};b=a;g["default"]=b},98);
__d("AdsOMPSelectAssetReducerPlugin",["immutable","shallowEqual"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d=a.selectedAssets,e=a.targetAspectRatio;b=b.assetID;if(e==null){var f;d=c("immutable").Map((f={},f.ORIGINAL=b,f))}else if(d.has("ORIGINAL")&&e!=="ORIGINAL"){f=d.get("ORIGINAL");c("shallowEqual")(b,f)?d=d.remove(e):d=d.set(e,b)}else d=d.set("ORIGINAL",b);return babelHelpers["extends"]({},a,{selectedAssets:d})}};b=a;g["default"]=b},98);
__d("AdsOMPTogglePickerForAspectRatioReducerPlugin",["AdsImageSelectorV2Types","AdsUEditorOptimizationMediaPickerToolTypes","AdsVideoSelectionHeaderTabTypes"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var e=a.uploadingVideo,f=a.uploadedVideo,g=a.selectedAssets;f&&(g=a.selectedAssets.map(function(a){var b;return a.id===((b=e)==null?void 0:b.id)&&f?{type:"video",id:f.id}:a}),e=null,f=null);return babelHelpers["extends"]({},a,{imagePickerSource:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,selectedAssets:g,selectedTool:c("AdsUEditorOptimizationMediaPickerToolTypes").MEDIA_PICKER,targetAspectRatio:b.aspectRatioType,uploadingVideo:e,uploadedVideo:f,videoPickerSource:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT})}};b=a;g["default"]=b},98);
__d("AdsOMPVideoPickerSetVideoSourceReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{videoPickerSource:b.source})}};b=a;f["default"]=b},66);
__d("AdsPostModalOptimizationResetSelectedItemsReducerPlugin",["AdsPostModalOptimizationDataProvider"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if(b.cachedData!==void 0)return babelHelpers["extends"]({},a,{hasCachedData:!0});else if(b.uploadedIGVideoID!==void 0&&!a.hasCachedData)return a;return c("AdsPostModalOptimizationDataProvider").getInitialState()}};b=a;g["default"]=b},98);
__d("AdsSFCroppingChangeSetReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c,d=a.selectedBaseAsset;if(d==null)return a;var e=b.aspectRatioType,f=a.croppingChangeSets;c=(c=f.get(e))!=null?c:d;b.mediaType==="image"&&c.type==="image"&&(f=f.set(e,babelHelpers["extends"]({},c,{crops:b.cropValue})));b.mediaType==="video"&&c.type==="video"&&(f=f.set(e,babelHelpers["extends"]({},c,{crops:b.cropValue})));return babelHelpers["extends"]({},a,{isManualCrops:a.isManualCrops||b.mediaType==="image"&&b.isManualCrops===!0,croppingChangeSets:f})}};b=a;f["default"]=b},66);
__d("AdsSFIGUploadApplyCropsReducerPlugin",["AdsDataAtom","AdsVCAExperimentSelectors","AdsVideoStore","Laminar","VCEMultiCropHandlers"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({getVideo:c("AdsVideoStore").getSelector,isMergeCropAndTrimMediaPickerExperiment:d("AdsVCAExperimentSelectors").adsMergeCropAndTrimMediaPickerSurfaceExperimentSelector},function(a,b,e){var f=e.getVideo,g=e.isMergeCropAndTrimMediaPickerExperiment;if(b.cachedData!=null)return{cachedData:b.cachedData};e=b.videoID;var h=a.cachedData;b=h==null?void 0:h.baseAsset;if(h!=null&&e!==void 0&&b!=null){var i=babelHelpers["extends"]({},b,{asset:f(e),id:e});if(h!=null){var j=h.accountID,k=h.adgroupIDs;a=h.croppingChangeSets;var l=h.placementsByAspectRatio,m=h.supportedPACAssetGroups,n=a.map(function(a,b){return a.id===(h==null?void 0:(b=h.baseAsset)==null?void 0:b.id)?babelHelpers["extends"]({},i,{crops:a.crops}):a});c("AdsDataAtom").addPostDispatchCallback(function(){return d("VCEMultiCropHandlers").AdsSFVideoCropHandler(j,k,l,m,i,n,g)})}}return{cachedData:null}})};b=a;g["default"]=b},98);
__d("AdsSFSetCurrentStepReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{currentStep:b.currentStep})}};b=a;f["default"]=b},66);
__d("AdsSFSetOptimizationStepSeenReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{optimizationStepSeen:b.optimizationStepSeen})}};b=a;f["default"]=b},66);
__d("AdsSFMediaPickerReopeningUtils",["AdsPlacementAssetUtils","AdsSFSetCurrentStepAction","AdsSFSetOptimizationStepSeenAction","AdsUEditorHostIDs","QPLUserFlow","adsConvertAssetCustomizationRuleToPlacementList","immutable","qpl"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=c("adsConvertAssetCustomizationRuleToPlacementList")(a);a=d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a);var e=null,f=0;for(var g=0;g<a.size;g+=1){var h=a.get(g);h=b.get(h);if(e!=null&&e!=h)return null;e=h;f+=1}return e==null?null:{aspectRatioCount:f,aspectRatio:e}}function i(a,b){a=(a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.asset_customization_rules)!=null?a:d("immutable").List([]);var c=new Map();b.forEach(function(a,b){a.forEach(function(a){c.set(a,b)})});var e=new Map();b=!1;a.forEach(function(a,d){var f=a.get("customization_spec");if(f==null||f.length==0)return!0;f=h(a,c);(f==null||e.get(f.aspectRatio)!=null)&&(b=!0);if(f!=null){a=((a=e.get(f.aspectRatio))==null?void 0:a.aspectRatioCount)||0;f.aspectRatioCount>a&&e.set(f.aspectRatio,babelHelpers["extends"]({},f,{idx:d}))}});return{aspectRatio2ClosestMatchingCustomizationRuleIdx:e,hasExtraCustomizationRules:b}}function a(a,b){a=i(a,b);b=a.hasExtraCustomizationRules;return b}function b(a,b){c("AdsSFSetCurrentStepAction").dispatch({hostID:c("AdsUEditorHostIDs").EDITING_CREATIVE_CONTAINER,adgroupIDs:(b=b)!=null?b:[],currentStep:a},{line:"153",module:"AdsSFMediaPickerReopeningUtils.js"});c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"CLICK_NEXT",{data:{string:{current_step:String(a)}}})}function e(a){c("AdsSFSetOptimizationStepSeenAction").dispatch({optimizationStepSeen:a},{line:"172",module:"AdsSFMediaPickerReopeningUtils.js"})}g.getAspectRatio2ClosestMatchingCustomizationRuleIdx=i;g.adgroupHasExtraCustomizationRules=a;g.setCurrentStep=b;g.setOptimizationStepSeen=e},98);
__d("AdsSFResetSelectedItemsReducerPlugin",["AdsSFMediaPickerDataProvider"],function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if(b.cachedData!==void 0)return babelHelpers["extends"]({},a,{hasCachedData:!0});else if(b.uploadedIGVideoID!==void 0&&!a.hasCachedData)return a;return c("AdsSFMediaPickerDataProvider").getInitialState()}};b=a;g["default"]=b},98);
__d("AdsSFSelectAssetReducerPlugin",["AdsCreativesSmartCropProvider","AdsImageInfoStore","AdsVideoStore","Laminar","adsSFSetSmartCropDefaultInSFMediaPickerState","adsUEditorAdgroupImageEligibleAspectRatiosSelector","adsUEditorInjectEditingAdgroupContext","immutable"],function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({getImage:c("AdsImageInfoStore").getFullSizeSelector,getVideo:c("AdsVideoStore").getSelector,eligibleAspectRatios:c("adsUEditorInjectEditingAdgroupContext")(c("adsUEditorAdgroupImageEligibleAspectRatiosSelector")),smartCropData:c("AdsCreativesSmartCropProvider").toFluxSelector()},function(a,b,d){var e=d.getImage,f=d.getVideo,g=d.eligibleAspectRatios;d=d.smartCropData;var h=a.targetAspectRatio;b.assetID.type==="image"&&d.get(b.assetID.id);if(h!=null){var i=a.croppingChangeSets;if(b.assetID.type==="image"){var j=e(b.assetID.id).map(function(a){return a.getTyped()});j.hasValueWithoutError()===!0&&b.assetID.type==="image"&&(i=i.set(h,babelHelpers["extends"]({},b.assetID,{asset:j,crops:null,trimmingParams:null})))}b.assetID.type==="video"&&(i=i.set(h,babelHelpers["extends"]({},b.assetID,{asset:f(b.assetID.id),crops:null})));return babelHelpers["extends"]({},a,{croppingChangeSets:i})}if(b.assetID.type==="image"){j=e(b.assetID.id).map(function(a){return a.getTyped()});if(j.hasValueWithoutError()===!0&&b.assetID.type==="image"){h=b.assetID;i=babelHelpers["extends"]({},a,{selectedBaseAssetID:h,selectedBaseAsset:babelHelpers["extends"]({},h,{asset:j,crops:null,trimmingParams:null}),croppingChangeSets:c("immutable").Map({})});e=d.get(h.id);return c("adsSFSetSmartCropDefaultInSFMediaPickerState")(i,g,e)}else{j=b.assetID;return babelHelpers["extends"]({},a,{selectedBaseAssetID:j,croppingChangeSets:c("immutable").Map({})})}}if(b.assetID.type==="video"){return babelHelpers["extends"]({},a,{selectedBaseAssetID:b.assetID,selectedBaseAsset:babelHelpers["extends"]({},b.assetID,{id:(d=b.igV2ToFBID)!=null?d:b.assetID.id,asset:b.igV2ToFBID!==void 0?f(b.igV2ToFBID):f(b.assetID.id),crops:null}),croppingChangeSets:c("immutable").Map(),videoPickerSource:(h=b.videoSource)!=null?h:a.videoPickerSource,page:b.videoSource!=="INSTAGRAM"?null:a.page})}return a})};b=a;g["default"]=b},98);
__d("AdsSFSelectIGVideoReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{page:b.page})}};b=a;f["default"]=b},66);
__d("AdsSFSetOptimizationChangeSetsReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){b=b.changeSets;return babelHelpers["extends"]({},a,{optimizationChangeSets:b})}};b=a;f["default"]=b},66);
__d("AdsSFSetSelectedItemsFromAdgroupSpecReducerPlugin",["AdsAssetFeedFieldUtils","AdsCreativeOptimizationToolsPlugins","AdsImageIDClasses","AdsImageInfoStore","AdsImageSelectorV2Types","AdsPlacementAssetTargetingRuleUtils","AdsSFMediaPickerDataProvider","AdsSFMediaPickerReopeningUtils","AdsVideoSelectionHeaderTabTypes","ApiDynamicCreativeOptimizationTypes","Laminar","immutable"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b;if(((b=a.creative)==null?void 0:(b=b.asset_feed_spec)==null?void 0:b.optimization_type)===c("ApiDynamicCreativeOptimizationTypes").PLACEMENT){var e;b=d("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRuleLabel(a,"image_label");return{imageHash:(e=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel((e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.images,b,"hash"))==null?void 0:e.fieldValue,imageURL:(e=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel((e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.images,b,"url"))==null?void 0:e.fieldValue}}else{return{imageHash:(b=a.creative)==null?void 0:(e=b.object_story_spec)==null?void 0:(b=e.link_data)==null?void 0:b.image_hash,imageURL:(e=a.creative)==null?void 0:(b=e.object_story_spec)==null?void 0:(a=b.link_data)==null?void 0:a.picture}}}function i(a,b){var c=a.imageHash;a=a.imageURL;if(c!=null)return d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b,c);else if(a!=null)return d("AdsImageIDClasses").AdsImageID.fromExternalURL(a);return null}function j(a,b,c){a=h(a);a=i(a,b);if(a==null)return null;b=c(a).map(function(a){return a.getTyped()});c={type:"image",id:a};a=babelHelpers["extends"]({},c,{asset:b,crops:null,trimmingParams:null});return{baseAssetID:c,baseAsset:a}}function k(a,b){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.images;if(a==null)return null;a=a.find(function(a){a=a.get("adlabels")||c("immutable").List();return a instanceof c("immutable").List?a.some(function(a){return a.get("name")===b}):!1});a=a==null?void 0:a.get("image_crops");return a instanceof c("immutable").Map?a.toJS():null}function l(a,b,c,e){var f,g;b=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable(b,"image_label");f=(f=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel((f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.images,b,"hash"))==null?void 0:f.fieldValue;g=(g=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel((g=a.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.images,b,"url"))==null?void 0:g.fieldValue;f=i({imageHash:f,imageURL:g},c);if(f==null)return null;g=k(a,b);c=e(f).map(function(a){return a.getTyped()});return{type:"image",id:f,asset:c,crops:g,trimmingParams:null}}function m(a,b,e,f){var g;e=d("AdsSFMediaPickerReopeningUtils").getAspectRatio2ClosestMatchingCustomizationRuleIdx(a,e);e=e.aspectRatio2ClosestMatchingCustomizationRuleIdx;var h=(g=(g=a.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.asset_customization_rules)!=null?g:c("immutable").List([]),i=new Map();e.forEach(function(c){var d=c.aspectRatio;c=c.idx;c=h.get(c);c=l(a,c,b,f);c!=null&&i.set(d,c)});return c("immutable").Map(i)}function n(a){var b=new Map();c("AdsCreativeOptimizationToolsPlugins").getList().forEach(function(c){var d=c.getAppliedChangeSetFromAdgroup(a);d!=null&&b.set(c.key,d)});return c("immutable").Map(b)}a={reduce:d("Laminar").withFluxSelectors({getImage:c("AdsImageInfoStore").getFullSizeSelector},function(a,b,e){a=e.getImage;e=j(b.adgroup,b.accountID,a);if(e==null)return c("AdsSFMediaPickerDataProvider").getInitialState();var f=e.baseAsset;e=e.baseAssetID;a=m(b.adgroup,b.accountID,b.groupsByAspectRatio,a);var g=n(b.adgroup);return{croppingChangeSets:a,isManualCrops:!1,optimizationChangeSets:g,selectedBaseAsset:f,selectedBaseAssetID:e,targetAspectRatio:null,imagePickerSource:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,videoPickerSource:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT,currentStep:b.currentStep,optimizationStepSeen:!0,isReopened:!0,page:null,hasCachedData:!1}})};b=a;g["default"]=b},98);
__d("AdsSFTogglePickerForAspectRatioReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{targetAspectRatio:b.aspectRatioType})}};b=a;f["default"]=b},66);
__d("AdsUEditorAdgroupIGVideoApplyOptimizationsReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){if(b.uploadedIGVideoID!==void 0&&a.cachedData!=null)return{cachedData:a.cachedData,uploadedIGVideoID:b.uploadedIGVideoID};else if(b.cachedData!=null)return{uploadedIGVideoID:a.uploadedIGVideoID,cachedData:b.cachedData};return{uploadedIGVideoID:void 0,cachedData:null}}};b=a;f["default"]=b},66);
__d("AdsCFPPreviewUtils",["AdsODAXUtils","AdsPreviewV2Utils","AdsUEditorCampaignAdObjectsUtils","immutable"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.campaignGroup,c=a.campaign;a=a.adgroup;var e=d("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:c,campaignGroup:b});e=d("AdsODAXUtils").maybeTranslateObjective(b.objective,e,c.optimization_goal);var f=d("AdsPreviewV2Utils").cleanAdgroupForPreview(b,c,a).toJS();return{campaign:c,campaignGroup:b,objective:e,adgroup:a,adgroupSpec:f}}function a(a,b,e){b=h(b);a=(d("AdsPreviewV2Utils").getPreviewPlugins(a,b.campaign,b.campaignGroup,b.objective,b.adgroup,!1)||c("immutable").OrderedMap()).filter(function(a){return e.has(a.apiFormat)});return a}function i(a,b,e){e=h(e);b=(d("AdsPreviewV2Utils").getPreviewPlugins(b,e.campaign,e.campaignGroup,e.objective,e.adgroup,!1)||c("immutable").OrderedMap()).filter(function(b){return b.apiFormat===a.apiFormat});e=b.first();return c("immutable").OrderedMap([e].map(function(a){return[a.apiFormat,a]}))}function b(a,b,c){var e=h(c);b=i(a,b,c);return{adgroupIndex:0,adgroupSpec:e.adgroupSpec,campaign:e.campaign,objective:e.objective,previewPlugins:b,dynamicPreviewItemType:d("AdsPreviewV2Utils").getDynamicPreviewItemTypeFromAdObjects(e.campaignGroup,e.campaign,e.adgroup),shouldRenderPreviewByID:!1,adCreativeOptimizationType:a.adCreativeOptimizationType,adCreativeOptimizationOptionValue:a.adCreativeOptimizationOptionValue}}g.generatePreviewSpecAdgroupInfo=h;g.generatePreviewPluginsForEnabledACOFormats=a;g.generatePreviewPluginsForSelectedACOFormat=i;g.generatePreviewSpecForSelectedACOFormat=b},98);
__d("adsShouldSaveToAssetLibrarySelector",["AdsShouldSaveToAssetLibraryProvider"],function(a,b,c,d,e,f,g){"use strict";a=c("AdsShouldSaveToAssetLibraryProvider").toFluxSelector();g["default"]=a},98);
__d("AdsPreviewSharingElementUtils",["ix","AdsIntelligentBlueTip.react","AdsPreviewV3Utils","GeoDropdownMenu.react","GeoMenuItem.react","adsPreviewGetPositionFromFormat","fbicon","geoMargin","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={fullWidth:{width:"mfclru0v",maxWidth:"sxnipcok"}};function a(a,b){return[].concat(b)[a]}function b(a,b,c,d){b=[].concat(b);b[a]=babelHelpers["extends"]({},d,{decorator:c});return b}function k(a){a=(a=c("adsPreviewGetPositionFromFormat")(a.apiFormat))==null?void 0:a.platform;a=a!=null?d("AdsPreviewV3Utils").getPlatformPlugin(a):null;return a==null?void 0:a.fbicon}function e(a,b,e,f,g){g===void 0&&(g=!1);if(!a)return null;var l=b.previewPlugins.get(a);b=k(l);return i.jsxs("div",{id:"new_video_format_option_tip_for_advenced_preview",children:[i.jsx(c("GeoDropdownMenu.react"),{icon:b,isDisabled:e==null||e.size<=1,label:l.name,xstyle:[c("geoMargin").bottom12,j.fullWidth],children:e&&e.map(function(a,b){if(l.name!==a.name){var e;return i.jsx(c("GeoMenuItem.react"),{icon:(e=k(a))!=null?e:d("fbicon")._(h("869054"),16),label:a.name,onClick:function(){return f(a.apiFormat)}},b)}}).toArray()}),g&&i.jsx(c("AdsIntelligentBlueTip.react"),{contextNodeID:"new_video_format_option_tip_for_advenced_preview",messageID:"new_immersive_watch_ad",position:"left"})]})}e.displayName=e.name+" [from "+f.id+"]";g.getCurrentPreviewSpec=a;g.updatePreviewSpec=b;g.getAdsPreviewsPluginIcon=k;g.getAdsSiblingPreviewsDropdown=e},98);
__d("AdsUEditorCreativeToolEntrypointNUX.react",["AdsIntelligentBlueTip.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="creative_editor_onboarding_nux_new";function a(a){a=a.contextNodeID;return h.jsx(c("AdsIntelligentBlueTip.react"),{contextNodeID:a,messageID:i,position:"above"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);