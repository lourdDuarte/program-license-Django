if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("AdsExperimentsPerformanceIndicatorProviderPlugin",["AdsGraphAPI","AdsInsightsField","AdsInsightsFilter","FBLogger","Promise","first","loadObjectMapProvider"],function(a,b,c,d,e,f,g){"use strict";e={initialState:c("loadObjectMapProvider").keyed(a,function(a){return JSON.stringify(a)})};function a(a){var e=a.adAccountID,g=a.adObjectIDs;a=a.adObjectType;g.length===0&&b("Promise").resolve(null);return d("AdsGraphAPI").get(f.id).adaccount(e).edge("insights").get({fields:[d("AdsInsightsField").RESULTS,d("AdsInsightsField").PERFORMANCE_INDICATOR],filtering:[{field:d("AdsInsightsFilter").fieldToUseFilterObjectType(a,"id"),operator:"IN",value:g}]}).then(function(a){a=c("first")(a.data);return a?a[d("AdsInsightsField").PERFORMANCE_INDICATOR]:null})["catch"](function(a){throw c("FBLogger")("ads_experiments","AdsExperimentsPerformanceIndicatorProviderPluginError").mustfixThrow(a)})}a=e;g["default"]=a},98);
__d("AdsExperimentsPerformanceIndicatorProvider",["AdsExperimentsPerformanceIndicatorProviderPlugin","Laminar"],function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsExperimentsPerformanceIndicatorProviderPlugin"),"AdsExperimentsPerformanceIndicatorProviderPlugin")},null);
__d("XAdsExperimentsBrandLiftPowerEstimateController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/experiments/power_estimate/brand_lift/",{act:{type:"Int",required:!0},cell_count:{type:"Int",required:!0},level:{type:"Enum",required:!0,enumType:1},question_types:{type:"EnumVector",required:!0,enumType:{member:1}},max_cell_spend_usd:{type:"Float",required:!0}})},null);
__d("XAdsExperimentsSplitTestPowerEstimateController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/experiments/power_estimate/split_test/",{act:{type:"Int",required:!0},cell_count:{type:"Int",required:!0},kpi_objective:{type:"String",required:!0},level:{type:"Enum",required:!0,enumType:1},spend_usd:{type:"Float",required:!0}})},null);
__d("AdsExperimentsPowerEstimateProviderPlugin",["AdsExperimentsFunnelLogger","AsyncTypedRequest","Promise","XAdsExperimentsBrandLiftPowerEstimateController","XAdsExperimentsSplitTestPowerEstimateController","loadObjectMapProvider"],function(a,b,c,d,e,f,g){"use strict";a={initialState:c("loadObjectMapProvider").keyed(function(a){return new(c("AsyncTypedRequest"))(a.studyType==="brand_lift"?c("XAdsExperimentsBrandLiftPowerEstimateController").getURIBuilder().setInt("act",a.accountID).setInt("cell_count",a.cellCount).setEnum("level",a.level).setFloat("max_cell_spend_usd",a.maxSpendForCellUSD).setEnumVector("question_types",a.questionTypes).getURI():c("XAdsExperimentsSplitTestPowerEstimateController").getURIBuilder().setInt("act",a.accountID).setInt("cell_count",a.cellCount).setString("kpi_objective",a.kpiObjective).setEnum("level",a.level).setFloat("spend_usd",a.spendUSD).getURI()).promisePayload().then(function(a){a=a.estimatedPower;return(a=a)!=null?a:b("Promise").reject(new Error())},function(b){c("AdsExperimentsFunnelLogger").withAccountID(a.accountID).setIsLegacy(!0).setAction("power_estimate_load_error").addActionPayload("error",b).log();throw b})},function(a){return JSON.stringify(a)})};d=a;g["default"]=d},98);
__d("AdsExperimentsPowerEstimateProvider",["AdsExperimentsPowerEstimateProviderPlugin","Laminar"],function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsExperimentsPowerEstimateProviderPlugin"),"AdsExperimentsPowerEstimateProviderPlugin")},null);
__d("XAdsLiftCheckIOS14AdEntityAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ajax/lift/check_ios14_ad_entity/",{ad_entity_id:{type:"FBID",required:!0}})},null);
__d("AdsLiftAdEntityIsIOS14DataLoader",["AsyncRequest","Promise","XAdsLiftCheckIOS14AdEntityAsyncController"],function(a,b,c,d,e,f,g){"use strict";function a(a){return new(b("Promise"))(function(b,d){new(c("AsyncRequest"))().setURI(c("XAdsLiftCheckIOS14AdEntityAsyncController").getURIBuilder().setFBID("ad_entity_id",a).getURI()).setHandler(function(a){return b(a.getPayload())}).setErrorHandler(function(a){b(!1)}).send()})}g.loadIsIOS14=a},98);
__d("AdsLiftAdEntityIsIOS14ProviderPlugin",["AdsLiftAdEntityIsIOS14DataLoader","loadObjectMapProvider"],function(a,b,c,d,e,f,g){"use strict";a={initialState:c("loadObjectMapProvider").withSingleKeyLoader_USE_SPARINGLY(d("AdsLiftAdEntityIsIOS14DataLoader").loadIsIOS14)};b=a;g["default"]=b},98);
__d("AdsLiftAdEntityIsIOS14Provider",["AdsLiftAdEntityIsIOS14ProviderPlugin","Laminar"],function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLiftAdEntityIsIOS14ProviderPlugin"),"AdsLiftAdEntityIsIOS14ProviderPlugin")},null);
__d("AdsExperimentsEndStudyCriteriaUtils",[],function(a,b,c,d,e,f){"use strict";function a(a){return a==null||(a==null?void 0:a.confidence_level)==null}f.isEndStudyCriteriaEmpty=a},66);
__d("AdsExperimentsPowerConstants",[],function(a,b,c,d,e,f){"use strict";a=.05;b=.95;f.MIN_POWER=a;f.MAX_POWER=b},66);
__d("adsExperimentsCustomConversionsLoaderSelector",["AdsAccountStore","AdsLoadObjectUtils","LoadObject","SignalsAdAccountCustomConversionIDListStore","SignalsCustomConversionStore","adsCreateSelector","adsCreateStoreThunkSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("AdsAccountStore").getSelectedAccountID,c("adsCreateStoreThunkSelector")(c("SignalsAdAccountCustomConversionIDListStore"),function(a){return a!=null?c("SignalsAdAccountCustomConversionIDListStore").get(a):c("LoadObject").empty()})],function(a,b){return b(a)},{name:f.id+".adsExperimentsCustomConversionIDsLoaderSelector"});b=c("adsCreateSelector")([a,c("adsCreateStoreThunkSelector")(c("SignalsCustomConversionStore"),function(a){return c("SignalsCustomConversionStore").getAll(a)})],function(a,b){return a.map(function(a){return d("AdsLoadObjectUtils").all(b(a).filter(function(a){return((a=a.getValue())==null?void 0:a.event_source_type)!="multiple_sources"}).toArray())})},{name:f.id+".adsExperimentsCustomConversionsLoaderSelector"});e=b;g["default"]=e},98);
__d("adsExperimentsDoesStudyContainIOS14AdEntitiesSelector",["AdsLiftAdEntityIsIOS14Provider","AdsLoadObjectUtils","LoadObject","adsCreateSelector","adsCreateStoreSelector","justknobx"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsCreateStoreSelector")([],function(a){a=a.adEntityIDs;return a},{name:f.id}),c("AdsLiftAdEntityIsIOS14Provider").toFluxSelector()],function(a,b){return c("justknobx")._("636")?c("LoadObject").withValue(!1):d("AdsLoadObjectUtils").allByKey(b.getAll(a)).map(function(a){return a.some(function(a){return a})})},{name:f.id+".adsExperimentsDoesStudyContainIOS14AdEntitiesSelector"});b=a;g["default"]=b},98);
__d("adsExperimentsDoesStudyContainSomeButNotAllIOS14AdEntitiesSelector",["AdsLiftAdEntityIsIOS14Provider","AdsLoadObjectUtils","LoadObject","adsCreateSelector","adsCreateStoreSelector","justknobx"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsCreateStoreSelector")([],function(a){a=a.adEntityIDs;return a},{name:f.id}),c("AdsLiftAdEntityIsIOS14Provider").toFluxSelector()],function(a,b){return c("justknobx")._("636")?c("LoadObject").withValue(!1):d("AdsLoadObjectUtils").allByKey(b.getAll(a)).map(function(a){return!a.every(function(a){return a})&&a.some(function(a){return a})})},{name:f.id+".adsExperimentsDoesStudyContainSomeButNotAllIOS14AdEntitiesSelector"});b=a;g["default"]=b},98);
__d("AdsExperimentsDoesStudyTargetsEUAndNonEURegionUtils",["adsTargetingLocationEpdAreLocationsEU"],function(a,b,c,d,e,f,g){"use strict";function a(a){return h(a.map(function(a){return a.targeting}))}function h(a){var b=a.every(function(a){return c("adsTargetingLocationEpdAreLocationsEU")(a==null?void 0:a.geo_locations)});a=a.every(function(a){return!c("adsTargetingLocationEpdAreLocationsEU")(a==null?void 0:a.geo_locations)});return!(b||a)}g.adsExperimentsDoesStudyTargetsEUAndNonEURegion=a;g.isTargetingEUAndNonEURegions=h},98);
__d("adsExperimentsDoesStudyTargetsEUAndNonEURegionSelector",["AdsExperimentsDoesStudyTargetsEUAndNonEURegionUtils","adsCreateSelector","adsCreateStoreSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsCreateStoreSelector")([],function(a){a=a.campaignsInTest;return a},{name:f.id})],function(a){return d("AdsExperimentsDoesStudyTargetsEUAndNonEURegionUtils").adsExperimentsDoesStudyTargetsEUAndNonEURegion(a)},{name:f.id+".adsExperimentsDoesStudyTargetsEUAndNonEURegionSelector"});b=a;g["default"]=b},98);
__d("AdsExperimentsPCMValidationUtils",["AdsAPIObjectives"],function(a,b,c,d,e,f,g){"use strict";function a(a){return a===c("AdsAPIObjectives").WEBSITE_CONVERSIONS||a===c("AdsAPIObjectives").CONVERSIONS||a===c("AdsAPIObjectives").PRODUCT_CATALOG_SALES}g.isWebConversionSourceObjective=a},98);
__d("adsExperimentsDoesStudyUseDelayedMetricsSelector",["AdsAPIObjectives","AdsExperimentsPCMValidationUtils","AdsInsightsField","AdsInsightsFields","AdsInsightsWebTrackModeledMetrics","AdsLoadObjectUtils","AdsSplitTestKeyMetricConfig","adsCreateSelector","adsCreateStoreSelector","adsExperimentsDoesStudyContainIOS14AdEntitiesSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsExperimentsDoesStudyContainIOS14AdEntitiesSelector"),c("adsCreateStoreSelector")([],function(a){a=a.keyMetrics;return a},{name:f.id}),c("adsCreateStoreSelector")([],function(a){a=a.campaignGroupObjectivesLoader;return a},{name:f.id})],function(a,b,e){return d("AdsLoadObjectUtils").all([a,e]).map(function(a){var e=a[0],f=a[1];return b.some(function(a){var b;if(e&&(a===c("AdsInsightsField").COST_PER_RESULT||((b=c("AdsSplitTestKeyMetricConfig")[a])==null?void 0:b.kpiObjective)===c("AdsAPIObjectives").APP_INSTALLS))return!0;return d("AdsInsightsFields").isCustomConversion(a)||a===c("AdsInsightsField").COST_PER_RESULT&&Array.from(f).some(d("AdsExperimentsPCMValidationUtils").isWebConversionSourceObjective)||c("AdsInsightsWebTrackModeledMetrics").modeled_metrics.includes(a)?!0:!1})})},{name:f.id+".adsExperimentsDoesStudyUseDelayedMetricsSelector"});b=a;g["default"]=b},98);
__d("adsExperimentsGetCampaignWithParentSelector",["LoadObject","adsCreateSelector","adsUEditorSelectedCampaignGroupsSelector","adsUEditorSelectedCampaignsSelector","firstx"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorSelectedCampaignGroupsSelector"),c("adsUEditorSelectedCampaignsSelector")],function(a,b){return b.map(function(b){return{campaignGroup:c("LoadObject").withValue(c("firstx")(a.filter(function(a){return a.id===b.campaign_id})).toJS()),campaigns:c("LoadObject").withValue([b.toJS()])}})},{name:f.id+".adsExperimentsGetCampaignWithParentSelector"});b=a;g["default"]=b},98);
__d("adsExperimentsPerformanceIndicatorsSelector",["AdsExperimentsPerformanceIndicatorProvider","AdsLoadObjectUtils","adsCreateSelector","adsCreateStoreSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("AdsExperimentsPerformanceIndicatorProvider").toFluxSelector(),c("adsCreateStoreSelector")([],function(a){a=a.account;return a},{name:f.id}),c("adsCreateStoreSelector")([],function(a){a=a.adEntityIDs;return a},{name:f.id}),c("adsCreateStoreSelector")([],function(a){a=a.adObjectType;return a},{name:f.id})],function(a,b,c,e){c=c.map(function(c){return a.get({adAccountID:b.account_id,adObjectIDs:[c],adObjectType:e})});return d("AdsLoadObjectUtils").all(c)},{name:f.id+".adsExperimentsPerformanceIndicatorsSelector"});b=a;g["default"]=b},98);
__d("useAdsExperimentsLogPowerEstimates",["AdsExperimentsFunnelLogger","react","usePrevious"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.power,d=a.powerKey,e=c("usePrevious")(b);h(function(){e!=b&&b!=null&&d!=null&&c("AdsExperimentsFunnelLogger").logCreationAction({name:"VIEW_POWER_ESTIMATE",power:b,powerKey:d})},[b,d,e])}g["default"]=a},98);
__d("AdsTargetingConnectionsDeprecationEditorDeleteOldConnection.react",["cx","fbt","AdsAPIBillingEvents","AdsAccountStore","AdsAccountUtils","AdsAdditionalOptionsConsts","AdsCommonTargetingActions","AdsCommonTargetingFields","AdsConnectionsUIUtils","AdsDestinationTypes","AdsFIGBasicTokenizer.react","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsInterfacesLogger","AdsLoadState_LEGACY","AdsPromotableAppStore","AdsPromotableConnectionTypeStore","AdsPromotableEventStore","AdsPromotablePageStore","AdsStaticGuidanceCard.react","AdsStrings","AdsTargetingConnectionsDeprecationUtils","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","AdsTargetingConnectionsMenuOptions","AdsTargetingCountryUtils","AdsTargetingEventEngagementComponent.react","AdsTargetingLoadTimeLoggerController","AdsUEditorCampaignAdditionalOptionsFieldValueWrapperContainer.react","AdsUEditorHostIDs","AsyncRequest","BUIGuidanceCardContentText.react","BUIGuidanceCardHeader.react","FDSGuidanceCard.react","FDSGuidanceCardCloseButton.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentLink.react","FDSSimplePopover.react","FDSText.react","GeoSpinner.react","LoadingMarkerArea.react","Promise","SearchableEntry","SubscriptionsHandler","XAdsTargetingConnectionsLookalikeBuilderController","XAdsTargetingCustomAudienceBuilderController","emptyFunction","performanceNow","promiseDone","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={APP_TARGETING:100,MAIN:101,CUSTOM_CMS_ID:"1819812758298988"},l=i._("See Audience"),m=i._("Enter location");function n(a,b,d){return a.map(function(a){var e=b==="PAGE_LIKES"&&d===(a==null?void 0:a.id);return new(c("SearchableEntry"))({uniqueID:a.id,title:a.name||a.id,auxiliaryData:{shouldDisableRemove:e}})})}function o(){return j.jsxs("div",{className:"_3-95",children:[j.jsx("hr",{className:"_3nv9"}),j.jsx(c("FDSText.react"),{color:"secondary",size:"header4",children:i._("{=m0}",[i._implicitParam("=m0",j.jsx("strong",{children:i._("Existing Connections")}))])}),j.jsx("br",{}),j.jsx(c("FDSText.react"),{color:"primary",margin:"_3-8w",size:"body3",children:i._("The following connections can only be removed from your ad set.")}),j.jsx("br",{})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.onClick,d=a.isScrollIneligible;a=a.onPressCloseButton;var e=i._("All your connections were successfully converted to new audiences. Scroll up to see your new audiences."),f=i._("Audiences created");d=d?null:j.jsx(c("FDSGuidanceCardContentLink.react"),{onPress:b,children:l});return j.jsxs(c("FDSGuidanceCard.react"),{action:j.jsx(c("FDSGuidanceCardCloseButton.react"),{onPress:a}),category:"success",margin:"_3-8x",children:[j.jsx(c("BUIGuidanceCardHeader.react"),{children:f}),j.jsxs(c("FDSGuidanceCardContent.react"),{children:[j.jsx(c("BUIGuidanceCardContentText.react"),{children:e}),d]})]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.errorAudiences;var b=i._("Unable to create lookalikes");a=i._("You won't be able to create a Lookalike Audience using this source {=m2} because the source size is too small.",[i._implicitParam("=m2",j.jsx("strong",{children:i._("{audience_name}",[i._param("audience_name",a)])}))]);return j.jsxs(c("FDSGuidanceCard.react"),{category:"error",margin:"_3-8x",children:[j.jsx(c("BUIGuidanceCardHeader.react"),{children:b}),j.jsx(c("FDSGuidanceCardContent.react"),{children:j.jsx(c("BUIGuidanceCardContentText.react"),{children:a})})]})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.onClick,d=a.isScrollIneligible;a=a.onPressCloseButton;var e=i._("Unable to Create Lookalike"),f=i._("We're unable to convert your connection to a Lookalike Audience because your audience is missing a location. Include a location and try converting it again."),g=i._("Scroll up to enter a location.");if(d)return j.jsxs(c("FDSGuidanceCard.react"),{action:j.jsx(c("FDSGuidanceCardCloseButton.react"),{onPress:a}),category:"error",margin:"_3-8x",children:[j.jsx(c("BUIGuidanceCardHeader.react"),{children:e}),j.jsx(c("FDSGuidanceCardContent.react"),{children:j.jsxs(c("BUIGuidanceCardContentText.react"),{children:[f," ",g]})})]});else return j.jsxs(c("FDSGuidanceCard.react"),{action:j.jsx(c("FDSGuidanceCardCloseButton.react"),{onPress:a}),category:"error",margin:"_3-8x",children:[j.jsx(c("BUIGuidanceCardHeader.react"),{children:e}),j.jsxs(c("FDSGuidanceCardContent.react"),{children:[j.jsx(c("BUIGuidanceCardContentText.react"),{children:f}),j.jsx(c("FDSGuidanceCardContentLink.react"),{onPress:b,children:m})]})]})}r.displayName=r.name+" [from "+f.id+"]";function s(a){return a.map(function(a){return{id:a.getUniqueID(),name:a.getTitle()}})}function t(a,d,e,f){var g={};d.forEach(function(a){g[a.id]=a.name});return new(b("Promise"))(function(b){var d=c("XAdsTargetingConnectionsLookalikeBuilderController").getURIBuilder().setString("account_id",a).setTypeAssert("sources",g).setStringVector("countries",f).setBool("selected_regulated_category",e).setBool("is_from_bulk_removal",!0).getURI();new(c("AsyncRequest"))().setURI(d).setMethod("POST").setHandler(function(a){return b(a.payload)}).send()})}function u(a,d){var e={};d.forEach(function(a){e[a.id]=a.name});return new(b("Promise"))(function(b){var d=c("XAdsTargetingCustomAudienceBuilderController").getURIBuilder().setString("account_id",a).setTypeAssert("sources",e).setBool("is_from_bulk_removal",!0).getURI();new(c("AsyncRequest"))().setURI(d).setMethod("POST").setHandler(function(a){return b(a.payload)}).send()})}function v(a){var b=a.onClick,d=a.hasPages;a=a.hasFriends;var e=i._("Convert connections before publishing"),f=i._("Due to updates with connections, your connections will need to be converted to a Custom Audience or lookalike. Based on the type of connection you are using, we will automatically convert your connections:"),g=i._("Due to updates with connections, your connections will need to be converted to a Custom Audience. Based on the type of connection you are using, we will automatically convert your connections:"),h=i._("Convert connections"),k=i._("{=m0} will be converted to a {=m3} based on Page likes",[i._implicitParam("=m0",j.jsx("b",{children:i._("People who like your Page")})),i._implicitParam("=m3",j.jsx("b",{children:i._("Facebook Page Custom Audience")}))]),l=i._("{=m0} will be converted to {=m3}.",[i._implicitParam("=m0",j.jsx("b",{children:i._("Friends of people who use your connections")})),i._implicitParam("=m3",j.jsx("b",{children:i._("lookalikes")}))]);f=a?f:g;g=[];d&&g.push(k);a&&g.push(l);return j.jsx("div",{className:"_2pio _2pie",children:j.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{category:"ERROR",messageID:"convert_connections_before_publishing_v2",header:e,textData:[{type:"PARAGRAPH",data:{text:f}},{type:"BULLETED_LIST",data:{listItems:g}}],ctaData:[{type:"BUTTON_GROUP",data:{buttonsData:[{text:h,onCallToAction:b}]}}],hideXout:!0}})})}v.displayName=v.name+" [from "+f.id+"]";var w={NONE:0,LOADING:1,READY:2,ERROR:3,SEEDS_ERROR:4};a=function(a){babelHelpers.inheritsLoose(e,a);function e(e,f){var g;g=a.call(this,e,f)||this;g.$1=!1;g.$4=function(){var a=g.$2(g.props.accountID,g.props.targetingData,g.state.connectionStatus,{secondaryConnectionsOption:g.state.secondaryOption},g.state.shouldDeprecateConnectionTargeting===!0);g.setState(a)};g.$14=function(a){a=s(a);var b={includedConnections:a,excludedConnections:g.props.targetingData.excludedConnections};a=g.$13(g.props.targetingData.excludedConnections,a);a.length!==g.props.targetingData.excludedConnections.length&&(b.excludedConnections=a);c("AdsInterfacesLogger").log({eventName:c("AdsTargetingConnectionsLoggingEvents").UPDATE_INCLUDED_CONNECTIONS},c("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);g.props.changeConnections(b)};g.$15=function(a){a=s(a);var b={excludedConnections:a,includedConnections:g.props.targetingData.includedConnections};a=g.$13(g.props.targetingData.includedConnections,a);a.length!==g.props.targetingData.includedConnections.length&&(b.includedConnections=a);c("AdsInterfacesLogger").log({eventName:c("AdsTargetingConnectionsLoggingEvents").UPDATE_EXCLUDED_CONNECTIONS},c("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);g.props.changeConnections(b)};g.$16=function(a){a=s(a);a={friendsOfConnections:a};c("AdsInterfacesLogger").log({eventName:c("AdsTargetingConnectionsLoggingEvents").UPDATE_FRIENDS_OF_CONNECTIONS},c("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);g.props.changeConnections(a)};g.$17=function(){var a=g.props.targetingData.includedConnections||[],e=g.props.targetingData.excludedConnections||[],f=g.props.targetingData.friendsOfConnections||[],h=d("AdsTargetingCountryUtils").getUniqueCountriesSorted(g.props.targetingData.geoLocations||{},!1);if(f.length>0&&(h==null||h.length===0)){g.setState({replacingCustomAudience:w.ERROR});return}var i=a.concat(e);i=i.slice();var j=f.slice(),k=[],l=[],m=[],n=[],o=[];while(j.length>0){var p=j.splice(0,5);l.push(t(g.props.accountID,p,g.props.selectedRegulatedCategory===!0,h))}while(i.length>0){p=i.splice(0,5);k.push(u(g.props.accountID,p))}g.setState({replacingCustomAudience:w.LOADING});c("promiseDone")(b("Promise").all(k).then(function(a){a.map(function(a){m=a});return b("Promise").all(l)}),function(b){b.map(function(a){n=a});var h=[],i=[],j=[];a.forEach(function(a){a=Number(a.id);m[a]!=null&&h.push(m[a])});f.forEach(function(a){var b=Number(a.id);n[b]!=null&&n[b].error_code=="LESS_SEEDS_ERROR"?j.push(a.name):n[b]!=null&&h.push(n[b])});b=j.join(", ");e.forEach(function(a){var b=Number(a.id);if(g.props.billingEvent===c("AdsAPIBillingEvents").PAGE_LIKES&&a.id===g.props.pageID){o.push(a);return}m[b]!=null&&i.push(m[b])});var k=g.$13(g.props.targetingData.customAudiences||[],h).concat(h),l=g.$13(g.props.targetingData.excludedCustomAudiences||[],i).concat(i);d("AdsCommonTargetingActions").bulkUpgradeConnections(k,l,o);j.length==0?g.setState({replacingCustomAudience:w.READY}):g.setState({replacingCustomAudience:w.SEEDS_ERROR,errorAudiences:b})})};g.$18=function(){};g.$5=function(){g.setState({replacingCustomAudience:w.NONE})};g.$25=function(a,b){return!(b.validEntryTypes&&b.validEntryTypes.length&&b.validEntryTypes.indexOf(a.type)===-1)};f=g.$2(e.accountID,e.targetingData,null,{secondaryConnectionsOption:null});g.state=f;g.state.replacingCustomAudience=w.NONE;g.$3(e.onFinishedLoading);return g}var f=e.prototype;f.$3=function(a){!this.$1&&!this.state.isLoading&&(this.$1=!0,c("AdsTargetingLoadTimeLoggerController").componentDidFinishLoadingEntries("AdsCommonTargetingConnectionsEditor",c("performanceNow")()),a())};f.UNSAFE_componentWillMount=function(){var a=this;this.subscriptions=new(c("SubscriptionsHandler"))();var b=[c("AdsAccountStore"),c("AdsPromotableAppStore"),c("AdsPromotableEventStore"),c("AdsPromotablePageStore"),c("AdsPromotableConnectionTypeStore")];b.forEach(function(b){a.subscriptions.addSubscriptions(b.addListener(a.$4))})};f.componentWillUnmount=function(){this.$5(),this.subscriptions.release()};f.componentDidUpdate=function(){this.$3(this.props.onFinishedLoading)};f.$2=function(a,b,e,f,g){var h=null,i=c("AdsAccountStore").get(a),j=this.$6(b);if(j&&!this.$7(a,b))return{isLoading:!0};f&&(h=f.secondaryConnectionsOption);f=d("AdsConnectionsUIUtils").getConnectionStatus(a,b,e,g===!0);if(f===c("AdsLoadState_LEGACY").LOADING)return{isLoading:!0};if(!i.isDone()||!i.hasValue())return{connectionStatus:f,isLoading:!0};a=c("AdsAccountUtils").hasCapabilityFromList(i.getValueEnforcing().capabilities,"CONNECTIONS_DEPRECATION_V2");e=d("AdsTargetingConnectionsDeprecationUtils").hasPromotedPageInExclusion(this.props.targetingData.includedConnections||[],this.props.targetingData.friendsOfConnections||[],this.props.targetingData.excludedConnections||[],this.props.billingEvent,this.props.pageID);g=null;f!=null&&(g=d("AdsConnectionsUIUtils").getSelectedOption(f,b,h));return{account:i.getValueEnforcing(),connectionStatus:f,secondaryOption:g,isLoading:!1,shouldLoadData:j,shouldDeprecateConnectionTargeting:a,hasSinglePageExclusionInPageLikesBilling:e,hasPages:d("AdsConnectionsUIUtils").connectionsHasEntityType(b,d("AdsConnectionsUIUtils").TYPES.PAGES),hasFriends:d("AdsConnectionsUIUtils").connectionsHasEntityType(b,d("AdsConnectionsUIUtils").TYPES.FRIENDS_OF_CONNECTIONS)}};f.UNSAFE_componentWillReceiveProps=function(a){var b=this.$8(a)?null:this.state.connectionStatus;a=this.$2(a.accountID,a.targetingData,b,{secondaryConnectionsOption:this.state.secondaryOption});this.setState(a)};f.$8=function(a){return this.props.selectedCampaignID!==a.selectedCampaignID};f.$9=function(){return n(this.props.targetingData.includedConnections)};f.$10=function(){return n(this.props.targetingData.excludedConnections,this.props.billingEvent,this.props.pageID)};f.$11=function(){return n(this.props.targetingData.friendsOfConnections)};f.$6=function(a){return d("AdsConnectionsUIUtils").getAllConnections(a).some(function(a){return!a.name})};f.$7=function(a,b){b=d("AdsConnectionsUIUtils").getAllConnections(b).reduce(function(a,b){b.name||a.push(b.id);return a},[]);return d("AdsConnectionsUIUtils").areConnectionsLoaded(a,b)};f.$12=function(a,b){var c=[],e=[],f=[],g=b.includedConnections.filter(function(a){if(!a.name){c.push(a.id);return!1}return!0}),h=b.friendsOfConnections.filter(function(a){if(!a.name){e.push(a.id);return!1}return!0});b=b.excludedConnections.filter(function(a){if(!a.name){f.push(a.id);return!1}return!0});this.props.changeConnections({includedConnections:g.concat(d("AdsConnectionsUIUtils").loadConnections(a,c)),friendsOfConnections:h.concat(d("AdsConnectionsUIUtils").loadConnections(a,e)),excludedConnections:b.concat(d("AdsConnectionsUIUtils").loadConnections(a,f))})};f.$13=function(a,b){var c=new Set(b.map(function(a){return a.id}));return a.filter(function(a){return!c.has(a.id)})};f.render=function(){if(this.state.isLoading)return j.jsx(c("GeoSpinner.react"),{});if(this.state.replacingCustomAudience===w.LOADING){var a=i._("Creating audience"),b=i._("Your audience will appear above in {=m1}.",[i._implicitParam("=m1",j.jsx("b",{children:i._("Custom Audiences")}))]);return j.jsx(c("GeoSpinner.react"),{description:b,label:a})}this.state.shouldLoadData&&this.$12(this.props.accountID,this.props.targetingData);b=this.state.connectionStatus;b!=null&&this.$19(c("AdsTargetingConnectionsLoggingEvents").ALL_CONNECTIONS,{connectionStatus:b,secondaryOptions:this.state.secondaryOption});a=this.state.secondaryOption!==d("AdsTargetingConnectionsMenuOptions").optionName.friendsConnectedToEvent;var e=this.props.shouldHideFriendsOfConnections;a&&(e=e||b===d("AdsTargetingConnectionsMenuOptions").connectionStatuses.EVENTS||b===d("AdsTargetingConnectionsMenuOptions").connectionStatuses.EVENTS_ENGAGEMENT);a={};b!=null&&(a=d("AdsConnectionsUIUtils").getConfig(b,this.props.shouldHideExcludedConnections,e));e=null;var f=null;b===d("AdsTargetingConnectionsMenuOptions").connectionStatuses.ADVANCED?e=j.jsxs("div",{className:"_3-8w",children:[this.$20(d("AdsTargetingConnectionsMenuOptions").connectionsType.includedConnection),this.$20(d("AdsTargetingConnectionsMenuOptions").connectionsType.friendsOfConnection),this.$20(d("AdsTargetingConnectionsMenuOptions").connectionsType.excludedConnection),this.$21(b)]},"advanced_options"):b===d("AdsTargetingConnectionsMenuOptions").connectionStatuses.APPS||b===d("AdsTargetingConnectionsMenuOptions").connectionStatuses.EVENTS||b===d("AdsTargetingConnectionsMenuOptions").connectionStatuses.PAGES?f=this.$22(a):b===d("AdsTargetingConnectionsMenuOptions").connectionStatuses.EVENTS_ENGAGEMENT&&(f=this.$21(b));a=this.state.replacingCustomAudience===w.READY?j.jsx(p,{isScrollIneligible:this.props.isFromSavedAudience||this.props.hostID===c("AdsUEditorHostIDs").EDITING,onClick:this.$18,onPressCloseButton:this.$5}):null;b=d("AdsTargetingCountryUtils").getUniqueCountriesSorted(this.props.targetingData.geoLocations||{},!1);b=this.state.replacingCustomAudience===w.ERROR&&b!=null&&b.length>0?j.jsx(r,{isScrollIneligible:this.props.isFromSavedAudience||this.props.hostID===c("AdsUEditorHostIDs").EDITING,onClick:this.$18,onPressCloseButton:this.$5}):null;var g=this.state.replacingCustomAudience===w.SEEDS_ERROR?j.jsx(q,{errorAudiences:this.state.errorAudiences}):null,h=this.$9(),l=this.$10(),m=this.$11();h=h.length>0||l.length>0||m.length>0;if(this.state.replacingCustomAudience===w.NONE&&!h)return null;l=j.jsx(v,{hasFriends:this.state.hasFriends,hasPages:this.state.hasPages,onClick:this.$17});return j.jsx("div",{className:"uiContextualLayerParent _7s5e",style:{width:this.props.width},children:j.jsx(c("LoadingMarkerArea.react"),{name:"AdsTargetingConnectionsEditor",owner:"admarket_targeting_oncalls",children:j.jsx(c("AdsInfoTable.react"),{oneColumn:this.props.oneColumn,sectionborders:!0,children:j.jsx(c("AdsInfoTableSection.react"),{children:j.jsx(c("AdsInfoTableRow.react"),{rowRenderer:this.props.rowRenderer,useFDS:!0,children:j.jsxs(c("AdsUEditorCampaignAdditionalOptionsFieldValueWrapperContainer.react"),{className:"_80nk",pluginKey:d("AdsAdditionalOptionsConsts").AdditionalOptions.CAMPAIGN.connections,children:[h&&!this.state.hasSinglePageExclusionInPageLikesBilling?j.jsx(o,{}):j.jsx("hr",{className:"_3nv9"}),this.props.numCampaigns&&this.props.numCampaigns>1?j.jsx("span",{className:"_5eb7",children:d("AdsStrings").MixedValuePlaceholder}):j.jsxs("div",{className:"_7s5f","data-testid":void 0,id:c("AdsCommonTargetingFields").CONNECTIONS,children:[e,f,a,b,g,h&&!this.state.hasSinglePageExclusionInPageLikesBilling&&this.state.shouldDeprecateConnectionTargeting===!0?l:null]})]})})},k.MAIN)})})})};f.$23=function(){if(!this.props.canSeeEventEngagementOptions)return!1;var a=d("AdsTargetingConnectionsMenuOptions").engagementActions;return this.props.targetingData.engagementSpecs.some(function(b){return b["action.type"]===a.FBEVENT_VIEW_ACTION||b["action.type"]===a.FBEVENT_RESPONSE_ACTION})};f.$21=function(a){return!this.$23()?null:j.jsx(c("AdsTargetingEventEngagementComponent.react"),{accountID:this.props.accountID,changeEngagements:this.props.changeEngagements,engagementSpecs:this.props.targetingData.engagementSpecs,size:this.props.size},"events_engagement_options")};f.$20=function(a){var b=null;a===d("AdsTargetingConnectionsMenuOptions").connectionsType.friendsOfConnection?b=c("AdsTargetingConnectionsLabels").addAppOrPage:this.props.canQueryEvents?b=c("AdsTargetingConnectionsLabels").addAppOrPageOrEventOrEventID:b=c("AdsTargetingConnectionsLabels").addAppOrEventOrPage;var e=null,f=null,g=null,h=null,i=null,k=null;switch(a){case d("AdsTargetingConnectionsMenuOptions").connectionsType.includedConnection:g=this.$9();h=this.$14;i=this.$24();e=c("AdsTargetingConnectionsLabels").peopleConnectedTo;f=c("AdsTargetingConnectionsLabels").peopleConnectedToHelpLink;break;case d("AdsTargetingConnectionsMenuOptions").connectionsType.excludedConnection:if(this.props.shouldHideExcludedConnections)return null;g=this.$10();h=this.$15;i=this.$24();e=c("AdsTargetingConnectionsLabels").excludePeopleConnectedTo;f=c("AdsTargetingConnectionsLabels").excludePeopleConnectedToHelpLink;break;case d("AdsTargetingConnectionsMenuOptions").connectionsType.friendsOfConnection:if(this.props.shouldHideFriendsOfConnections)return null;g=this.$11();h=this.$16;e=c("AdsTargetingConnectionsLabels").friendsOfPeopleConnectedTo;f=c("AdsTargetingConnectionsLabels").friendsOfPeopleConnectedToHelpLink;k={searchForTypes:[c("AdsDestinationTypes").PAGE,c("AdsDestinationTypes").APP]};break;default:return null}return g.length===0?null:j.jsxs("div",{children:[j.jsxs("div",{className:"_3-94 _3-8x",children:[e,j.jsx(c("FDSSimplePopover.react"),{content:f,contentWidthUseSparingly:268,position:"above"})]}),j.jsx(c("AdsFIGBasicTokenizer.react"),{className:"_7s5g",entries:g,excludedEntries:i,placeholder:b,searchSource:this.props.searchSource,searchSourceOptions:k,shouldDisableAddingEntry:!0,shouldDisableRemovingEntry:!0,shouldShowIDInTitle:!0,size:this.props.size,onEntriesChange:h})]})};f.$22=function(a){var b=a.options||{};if(!b||!b.children||!b.children.length)return null;b={shouldFilter:!0,filterEntry:this.$25,validEntryTypes:a.searchSourceOptionsValidEntryTypes,searchForTypes:a.searchSourceOptionTypes};var d=this.state.secondaryOption,e=this.$26(d);if(e.length===0)return null;a=!e||e.length===0?a.placeholder:a.secondPlaceholder;return j.jsxs("div",{children:[d!=null?c("AdsTargetingConnectionsLabels")[d]:null,j.jsx(c("AdsFIGBasicTokenizer.react"),{className:"_7s5g",entries:e,placeholder:a,searchSource:this.props.searchSource,searchSourceOptions:b,shouldDisableAddingEntry:!0,shouldShowIDInTitle:!0,size:this.props.size,onEntriesChange:this.$27(d)},"tokenizer")]},"secondary_options")};f.$28=function(a){switch(a){case d("AdsTargetingConnectionsMenuOptions").optionName.connectedToApp:case d("AdsTargetingConnectionsMenuOptions").optionName.connectedToEvent:case d("AdsTargetingConnectionsMenuOptions").optionName.connectedToPage:return d("AdsTargetingConnectionsMenuOptions").connectionsType.includedConnection;case d("AdsTargetingConnectionsMenuOptions").optionName.excludeConnectedToApp:case d("AdsTargetingConnectionsMenuOptions").optionName.excludeConnectedToEvent:case d("AdsTargetingConnectionsMenuOptions").optionName.excludeConnectedToPage:return d("AdsTargetingConnectionsMenuOptions").connectionsType.excludedConnection;case d("AdsTargetingConnectionsMenuOptions").optionName.friendsConnectedToApp:case d("AdsTargetingConnectionsMenuOptions").optionName.friendsConnectedToEvent:case d("AdsTargetingConnectionsMenuOptions").optionName.friendsConnectedToPage:return d("AdsTargetingConnectionsMenuOptions").connectionsType.friendsOfConnection}return""};f.$26=function(a){switch(this.$28(a)){case d("AdsTargetingConnectionsMenuOptions").connectionsType.includedConnection:return this.$9();case d("AdsTargetingConnectionsMenuOptions").connectionsType.excludedConnection:return this.$10();case d("AdsTargetingConnectionsMenuOptions").connectionsType.friendsOfConnection:return this.$11()}return[]};f.$27=function(a){switch(this.$28(a)){case d("AdsTargetingConnectionsMenuOptions").connectionsType.includedConnection:return this.$14;case d("AdsTargetingConnectionsMenuOptions").connectionsType.excludedConnection:return this.$15;case d("AdsTargetingConnectionsMenuOptions").connectionsType.friendsOfConnection:return this.$16}return null};f.$19=function(a,b){c("AdsInterfacesLogger").log({eventName:a,data:(a={},a.targeting_ui_event_data=JSON.stringify(b),a)},c("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};f.$24=function(){var a=this.props.targetingData.includedConnections,b=this.props.targetingData.excludedConnections;a=a.concat(b);var c={};a.forEach(function(a){c[a.id]=!0});return c};return e}(j.Component);a.defaultProps={canQueryEvents:!1,canSeeEventEngagementOptions:!1,shouldHideFriendsOfConnections:!1,shouldHideExcludedConnections:!1,onFinishedLoading:c("emptyFunction")};g["default"]=a},98);
__d("AdsYouthAdsInlineErrorStateSelector",["AdsAPICampaignPaths","AdsBulkValueUtils","AdsUEditorCampaignBulkSelectors","adsCreateSelector","adsUEditorIsCampaignTargetingYouthSelectors","gkx","immutable"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsUEditorCampaignBulkSelectors").errorObjectSelectorByPaths(c("immutable").List(c("gkx")("4865")?[]:[c("AdsAPICampaignPaths").TARGETING.AGE_MIN]))],function(a){return d("AdsBulkValueUtils").getUniformValue(a)},{name:f.id+".errorObjectSelector"});b=c("adsCreateSelector")([d("adsUEditorIsCampaignTargetingYouthSelectors").adsUEditorIsCampaignTargetingYouthSelector,d("adsUEditorIsCampaignTargetingYouthSelectors").adsUEditorIsUsingAnyAdvancedOptionsEnforcePhaseSelector,d("adsUEditorIsCampaignTargetingYouthSelectors").adsUEditorYouthAgeCutoffSelector,a],function(a,b,c,d){return{isNewDraftViolatingPolicy:a&&b,minAgeLimit:c,errorObject:d}},{name:f.id+".AdsYouthAdsInlineErrorStateSelector"});e=b;g["default"]=e},98);
__d("AdsYouthAdsInlineErrorContainer.react",["fbt","AdsEditingCampaignEditorContext","AdsFluxContainer","AdsInlineErrorMessageWithLogging.react","AdsInterfacesLogger","AdsYouthAdsInlineErrorStateSelector","AdsYouthAdsUtils","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(){return c("AdsYouthAdsInlineErrorStateSelector").getStores(c("AdsEditingCampaignEditorContext"))};b.calculateState=function(){return c("AdsYouthAdsInlineErrorStateSelector")(c("AdsEditingCampaignEditorContext"))};var e=b.prototype;e.render=function(){if(this.state.isNewDraftViolatingPolicy){c("AdsInterfacesLogger").logOnce({eventName:"youth_ads_enforcement_inline_error_render"});var a=h._("Aumenta la edad de tu audiencia a {minimum legal age an adset can use to target its audiences according to new Youth Ads regulations} como m\u00ednimo o elimina todas las opciones de segmentaci\u00f3n, aparte de la edad, el sexo y la ubicaci\u00f3n. {link to custom metric disclaimer help content}",[h._param("minimum legal age an adset can use to target its audiences according to new Youth Ads regulations",this.state.minAgeLimit),h._param("link to custom metric disclaimer help content",i.jsx(d("AdsYouthAdsUtils").YouthAdsLearnMoreLink,{renderLocation:"inline_error"}))]);return i.jsx(c("AdsInlineErrorMessageWithLogging.react"),{error:this.state.errorObject,margin:"_3-8x",message:a,variant:"error"})}return null};return b}(i.PureComponent);b=c("AdsFluxContainer").create(a,{withContext:!0,name:f.id});g["default"]=b},98);
__d("AdsExperimentsCreateTestConstants",[],function(a,b,c,d,e,f){"use strict";a=1;b=28;c=42;d=15;e=2;var g=6,h=7,i=14,j=28;f.DEFAULT_TEST_DELAY_HRS=a;f.DEFAULT_TEST_DURATION_DAYS=b;f.MIN_ATTRIBUTION_TEST_DURATION_DAYS=c;f.MINIMUM_TEST_DELAY_MIN=d;f.MAXIMUM_TEST_DELAY_YEARS=e;f.MAXIMUM_TEST_DURATION_MONTHS=g;f.MINIMUM_TEST_DURATION_DAYS=h;f.SHOP_ADS_TEST_DURATION_DAYS=i;f.MAX_ATTRIBUTION_WINDOW_SIZE_DAYS=j},66);
__d("AdsAddDestinationCheckboxToggle.react",["fbt","AdsBulkCheckboxInput.react","AdsUEditorAdgroupCreativeSectionStrings","geoMargin","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=d("AdsUEditorAdgroupCreativeSectionStrings").addDestinationToggleHelpText,b=h._("A\u00f1adir un destino");return i.jsx(c("AdsBulkCheckboxInput.react"),{disabled:this.props.disabled,helpText:a,label:b,selectedValue:this.props.value,testid:void 0,xstyle:c("geoMargin").bottom12,onValueChange:this.props.onChange})};return b}(i.PureComponent);g["default"]=a},98);
__d("AdsExperimentsDraftABTestSetupGuidanceStrings",["fbt","AdObjectLevels$FbtEnum"],function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._({"ad":"Los cambios que hagas en este anuncio se comparar\u00e1n con el resto de los anuncios del test. Cuando publiques todos los anuncios, se iniciar\u00e1 el test.","ad_set":"Los cambios que hagas en este conjunto de anuncios se comparar\u00e1n con el resto de los conjuntos de anuncios del test. Cuando publiques todos los conjuntos de anuncios, se iniciar\u00e1 el test.","campaign":"Los cambios que hagas en esta campa\u00f1a se comparar\u00e1n con las otras campa\u00f1as de este test. Cuando publiques todas las campa\u00f1as, se iniciar\u00e1 el test."},[h._enum(a,c("AdObjectLevels$FbtEnum"))])}g.getCompleteAbTestSetupGuidanceString=a},98);
__d("AdsExperimentsCreateTestReviewItem.react",["GeoBaseFormInputLayout.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.content;a=a.label;return h.jsx(c("GeoBaseFormInputLayout.react"),{label:a,children:function(){return b}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsReadOnlyMetricLabel.react",["GeoBaseText.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.getMetricName;a=a.keyMetric;return h.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"block",size:"value",children:b(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsReadOnlyKeyMetricFields.react",["AdsExperimentsCommonTestSetupStrings","AdsExperimentsEventCategoryStrings","AdsExperimentsReadOnlyMetricLabel.react","AdsSSCLEventSourceTypes","first","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.getMetricName,e=a.keyMetrics;a=a.renderer;var f=c("first")(e);e=e.slice(1);return h.jsxs(h.Fragment,{children:[h.jsx(a,{content:f!=null?h.jsx(c("AdsExperimentsReadOnlyMetricLabel.react"),{getMetricName:b,keyMetric:f}):h.jsx(h.Fragment,{}),label:d("AdsExperimentsEventCategoryStrings").getEventsCategoryTitleCaseFbt(c("AdsSSCLEventSourceTypes").SPLIT_TEST_KPI)}),e.length>0?h.jsx(a,{content:h.jsx(h.Fragment,{children:e.map(function(a,d){return h.jsx(c("AdsExperimentsReadOnlyMetricLabel.react"),{getMetricName:b,keyMetric:a},d)})}),label:d("AdsExperimentsCommonTestSetupStrings").ADDITIONAL_METRICS}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsCreateTestReviewKeyMetricFields.react",["AdsExperimentsCreateTestReviewItem.react","AdsExperimentsReadOnlyKeyMetricFields.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.getMetricName;a=a.keyMetrics;return h.jsx(c("AdsExperimentsReadOnlyKeyMetricFields.react"),{getMetricName:b,keyMetrics:a,renderer:c("AdsExperimentsCreateTestReviewItem.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsReadOnlyNameField.react",["GeoBaseText.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.testName;return h.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"truncate",size:"value",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsCreateTestReviewNameField.react",["AdsExperimentsCommonTestSetupStrings","AdsExperimentsCreateTestReviewItem.react","AdsExperimentsReadOnlyNameField.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.testName;return h.jsx(c("AdsExperimentsCreateTestReviewItem.react"),{content:h.jsx(c("AdsExperimentsReadOnlyNameField.react"),{testName:a}),label:d("AdsExperimentsCommonTestSetupStrings").TEST_NAME_LABEL})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsReadOnlyScheduleField.react",["fbt","AdsExperimentsEndStudyCriteriaUtils","AdsScheduleUtils","AdsTALDateFormatterUtils","GeoBaseText.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.endStudyCriteria,e=a.endTime,f=a.startTime;a=a.timezoneID;b=!d("AdsExperimentsEndStudyCriteriaUtils").isEndStudyCriteriaEmpty(b);return!f||!e?null:i.jsxs("div",{children:[i.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"block",size:"value",children:d("AdsTALDateFormatterUtils").getFormattedDateRangeWithTimeZone(f.toISOString(),e.toISOString(),a)}),i.jsx(c("GeoBaseText.react"),{color:"placeholder","data-testid":void 0,size:"value",children:b?h._("Tu test estar\u00e1 en circulaci\u00f3n durante {test duration}, a menos que se determine un ganador anticipado",[h._param("test duration",i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",weight:"bold",children:c("AdsScheduleUtils").getDateDifference(f.getUnixTimestamp(),e.getUnixTimestamp())}))]):h._("Tu test estar\u00e1 en circulaci\u00f3n durante {test duration}.",[h._param("test duration",i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",weight:"bold",children:c("AdsScheduleUtils").getDateDifference(f.getUnixTimestamp(),e.getUnixTimestamp())}))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsCreateTestReviewScheduleField.react",["AdsExperimentsCommonTestSetupStrings","AdsExperimentsCreateTestReviewItem.react","AdsExperimentsReadOnlyScheduleField.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.endStudyCriteria,e=a.endTime,f=a.startTime;a=a.timezoneID;return h.jsx(c("AdsExperimentsCreateTestReviewItem.react"),{content:h.jsx(c("AdsExperimentsReadOnlyScheduleField.react"),{endStudyCriteria:b,endTime:e,startTime:f,timezoneID:a}),label:d("AdsExperimentsCommonTestSetupStrings").TEST_SCHEDULE_LABEL})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsCreateTestCommonTypes",["$InternalEnum","react"],function(a,b,c,d,e,f,g){"use strict";d("react");a=b("$InternalEnum").Mirrored(["INLINE","NOTICE","GUIDANCE"]);g.CreateTestErrorDisplayType=a},98);
__d("AdsExperimentsCreateTestSummaryListItem.react",["cx","AdsError","AdsExperimentsFunnelLogger","AdsShimmerBar.react","CometPlaceholder.react","GeoBaseFormInputLayout.react","GeoHeading.react","GeoNotice.react","GeoSection.react","geoMargin","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect;function a(a){var b=a.itemID,d=a.error,e=a.label,f=a.editNodeLoader,g=a.xstyle;a=a.isQuestionBasedTestSetupEnabled;var h=i.jsx("div",{className:"_3-8x",children:i.jsx(c("AdsShimmerBar.react"),{height:15,isFullBleed:!0})}),k=d==null?void 0:d.key,l=d==null?void 0:d.message;j(function(){k!=null&&l!=null&&c("AdsExperimentsFunnelLogger").logCreationAction({name:"DEBUG",debugActionName:"line_item_errors",actionPayloadValues:new Map([["error_key",k],["error_message",l],["item_id",b]])})},[k,l,b]);e=i.jsxs("div",{className:c("stylex")([c("geoMargin").bottom8]),children:[a?i.jsx(c("GeoHeading.react"),{level:2,xstyle:c("geoMargin").bottom0,children:e}):null,i.jsx(c("GeoBaseFormInputLayout.react"),{"data-testid":void 0,isLabelHidden:a,label:e,xstyle:g,children:function(){return i.jsxs("div",{className:"_21op",children:[i.jsx(c("CometPlaceholder.react"),{fallback:h,children:f.match({loading:function(){return h},loaded:function(a){return a},error:function(){return null}})}),d!=null?i.jsx(c("GeoNotice.react"),{status:d.level===c("AdsError").Level.RECOMMEND?"warning":"error",xstyle:c("geoMargin").top8,children:d.message}):null]})}})]});return a?i.jsx(c("GeoSection.react"),{children:e}):i.jsxs(i.Fragment,{children:[e," "]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsCreateTestSummaryList.react",["AdsExperimentsCreateTestCommonTypes","AdsExperimentsCreateTestStateUtils","AdsExperimentsCreateTestSummaryListItem.react","GeoDivider.react","geoMargin","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.errors,e=a.items,f=a.isQuestionBasedTestSetupEnabled;return e.map(function(a,e){if(a==="divider")return h.jsx(c("GeoDivider.react"),{},e);var g=a.key,i=a.label;a=a.editNodeLoader;var j=b.find(function(a,b){return d("AdsExperimentsCreateTestStateUtils").adsExperimentsParseCreateTestErrorKey(b).field===g&&(a==null?void 0:a.adsError)!=null&&(a==null?void 0:a.displayType)!==d("AdsExperimentsCreateTestCommonTypes").CreateTestErrorDisplayType.INLINE});return h.jsx(c("AdsExperimentsCreateTestSummaryListItem.react"),{editNodeLoader:a,error:j==null?void 0:j.adsError,isQuestionBasedTestSetupEnabled:f,itemID:g,label:i,xstyle:f?[c("geoMargin").top4,c("geoMargin").bottom16]:e>0?c("geoMargin").top16:void 0},g)})}g["default"]=a},98);
__d("AdsExperimentsEditTestSettingStateReducer",["AdsExperimentCreateTestValidatorUtils","AdsExperimentsCreateTestStateUtils"],function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=a.doesStudyContainIOS14AdEntitiesLoader,c=a.endTime,e=a.startTime,f=a.testName,g=a.errors,h=a.studyType,i=a.question,j=a.keyMetrics;a=a.enableUpperFunnelMetric;return!d("AdsExperimentCreateTestValidatorUtils").adsExperimentsHasBlockingErrors(g)&&c!=null&&e!=null&&f!=null&&b.hasValue()?{doesStudyContainIOS14AdEntitiesLoader:b,endTime:c,startTime:e,testName:f,studyType:h,question:i,keyMetrics:j,enableUpperFunnelMetric:a===!0}:null};b=function(a,b){switch(b.type){case"setTestName":return d("AdsExperimentCreateTestValidatorUtils").adsExperimentCreateTestValidate(babelHelpers["extends"]({},a,{testName:b.value}));case"setStartTime":return d("AdsExperimentCreateTestValidatorUtils").adsExperimentCreateTestValidate(babelHelpers["extends"]({},a,{startTime:b.value}));case"setEndTime":return d("AdsExperimentCreateTestValidatorUtils").adsExperimentCreateTestValidate(babelHelpers["extends"]({},a,{endTime:b.value}));case"setKeyMetric":return d("AdsExperimentCreateTestValidatorUtils").adsExperimentCreateTestValidate(babelHelpers["extends"]({},a,{keyMetrics:b.metric==null?a.keyMetrics.remove(b.index):a.keyMetrics.set(b.index,b.metric)}));case"setEnableUpperFunnelMetric":return d("AdsExperimentCreateTestValidatorUtils").adsExperimentCreateTestValidate(babelHelpers["extends"]({},a,{enableUpperFunnelMetric:b.enableUpperFunnelMetric}));case"setValidator":var c=b.validator;return c==null?babelHelpers["extends"]({},a,{validators:a.validators.remove(b.field),errors:a.errors.filterNot(function(a,c){return d("AdsExperimentsCreateTestStateUtils").adsExperimentsParseCreateTestErrorKey(c).field===b.field})}):babelHelpers["extends"]({},a,{errors:c(a),validators:a.validators.set(b.field,c)});case"setFieldModifiedByUser":return d("AdsExperimentCreateTestValidatorUtils").adsExperimentCreateTestValidate(babelHelpers["extends"]({},a,{fieldsModifiedByUser:a.fieldsModifiedByUser.add(b.field)}));case"setDoesStudyContainIOS14AdEntitiesLoader":return d("AdsExperimentCreateTestValidatorUtils").adsExperimentCreateTestValidate(babelHelpers["extends"]({},a,{doesStudyContainIOS14AdEntitiesLoader:b.doesStudyContainIOS14AdEntitiesLoader}));default:b.type;return a}};g.getAdsExperimentsEditTestSettingReadyState=a;g.adsExperimentsEditTestSettingReducer=b},98);
__d("adsExperimentsGetMaybeCampaignGroupObjectiveFromODAXOutcome",["AdsAPICampaignRecordUtils","AdsODAXUtils","LoadObject","only"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.campaignGroupObjective;a=a.campaignsLoader;d("AdsODAXUtils").isODAXSpecificObjective(b)?a=a.map(function(a){a=a==null?void 0:a.map(function(a){var c=d("AdsAPICampaignRecordUtils").getPromotedObjectType(b,a);return d("AdsODAXUtils").maybeTranslateObjective(b,c,a.optimization_goal)});return c("only")(new Set(a))}):a=c("LoadObject").withValue(b);return a}g["default"]=a},98);
__d("AdsExperimentsGetObjectivesOptimizationGoalsAndPromotedObjectTypesUtils",["AdsAPICampaignRecordUtils","AdsLoadObjectUtils","LoadObject","adsExperimentsGetMaybeCampaignGroupObjectiveFromODAXOutcome","compactArray","concatArrays","immutable"],function(a,b,c,d,e,f,g){"use strict";var h=function(a){var b=a.campaignGroup,e=a.campaigns;a=a.ignoreODAX;var f=b.objective,g=e.map(function(a){return a?d("AdsAPICampaignRecordUtils").getPromotedObjectType(f,a):null}),h=e.map(function(a){return a==null?void 0:a.optimization_goal});if(a)return c("LoadObject").withValue({objective:f,promotedObjectTypes:g,optimizationGoals:h});b=c("adsExperimentsGetMaybeCampaignGroupObjectiveFromODAXOutcome")({campaignGroupObjective:f,campaignsLoader:c("LoadObject").withValue(c("compactArray")(e))});return b.map(function(a){return{objective:a,promotedObjectTypes:g,optimizationGoals:h}})};function i(a){var b=a.campaign;a=a.getCampaignLoader;var c=b.campaign;a=a(b.id);return a.map(function(a){return h({campaignGroup:c,campaigns:[a],ignoreODAX:!1})})}function j(a){var b=a.campaignGroup,e=a.getCampaignLoader,f=a.ignoreODAX;a=(a=b.campaigns)==null?void 0:a.map(function(a){return a.map(function(a){return e(a.id)})});return(a=a==null?void 0:a.map(function(a){return d("AdsLoadObjectUtils").all(a).map(function(a){return h({campaignGroup:b,campaigns:a,ignoreODAX:f})})}))!=null?a:c("LoadObject").withValue(null)}function k(a){var b=a.cellCampaignLoaders,e=a.getCampaignLoader;a=c("immutable").Map(b.map(function(a,b){a=(a=a==null?void 0:a.map(function(a){return i({campaign:a,getCampaignLoader:e})}))!=null?a:c("LoadObject").withValue(null);a=d("AdsLoadObjectUtils").all([a]);return[b,a]}));return d("AdsLoadObjectUtils").allByKey(a)}function l(a){var b=a.campaignGroupsByCellLoader,e=a.getCampaignLoader;return b.map(function(a){a=a.map(function(a){var b=a.map(function(b){return j({campaignGroup:b,getCampaignLoader:e,ignoreODAX:a.length>1})});return d("AdsLoadObjectUtils").all(b)});a=c("immutable").Map(a.map(function(a,b){return[b,a]}));return d("AdsLoadObjectUtils").allByKey(a)})}function m(a){return a.map(function(a){return a.map(function(a){a=c("immutable").Set(a.map(function(a){return a==null?void 0:a.objective}));return a}).some(function(a){return a.size>1})})}a=function(a){var b=a.studyLevel,e=a.cellCampaigns,f=a.campaignGroupsByCellLoader;a=a.getCampaignLoader;b==="campaign"||b==="campaign_group_group"?b=l({campaignGroupsByCellLoader:f,getCampaignLoader:a}):b=k({cellCampaignLoaders:e,getCampaignLoader:a});f=m(b);return d("AdsLoadObjectUtils").all([b,f]).map(function(a){var b=a[0];a=a[1];b=c("concatArrays")(b.valueSeq().map(function(a){return c("compactArray")(a)}).toArray());return n({objectivesOptimizationGoalsAndPromotedObjectTypes:b,cellHasMultipleObjectives:a})})};var n=function(a){var b=a.objectivesOptimizationGoalsAndPromotedObjectTypes;a=a.cellHasMultipleObjectives;return{objectives:c("immutable").Set(c("compactArray")(b.map(function(a){return a.objective}))),optimizationGoals:c("immutable").Set(c("compactArray")(b.map(function(a){return a.optimizationGoals}).flat())),promotedObjectTypes:c("immutable").Set(c("compactArray")(b.map(function(a){return a.promotedObjectTypes}).flat())),cellHasMultipleObjectives:a}};g.getObjectiveOptimizationGoalAndPromotedObjectType=h;g.getObjectivesOptimizationGoalsAndPromotedObjectTypesForCells=a;g.getUniqueObjectivesOptimizationGoalsAndPromotedObjectTypes=n},98);
__d("AdsTALGetEstimatedBudgetUtils",["AdsExperimentsFunnelLoggerWithAccountStoreUtils","AdsSSCLUtils","DateTime","Instant","immutable"],function(a,b,c,d,e,f,g){"use strict";var h="ads_entity_budget_data_parsing_error";function i(a){var b=a.adsEntitySchedule,e=a.budgetRemaining;a=a.overlapDurationDays;b=d("AdsSSCLUtils").getScheduleLengthInDays(d("AdsSSCLUtils").getOverlapForSchedules(c("immutable").List([{startTime:c("DateTime").now(0).getUnixTimestampSeconds(),endTime:Infinity},b])));return b<=0?0:e/b*a}function j(a){var b=a.adsEntityData,e=a.adsEntitySchedule;a=a.testSchedule;var f=0;a=d("AdsSSCLUtils").getOverlapForSchedules(c("immutable").List([e,a]));var g=d("AdsSSCLUtils").getScheduleLengthInDays(a);if(g===0)return{overlapSchedule:a,overlapDurationDays:g,approximateTotalBudget:f};parseInt(b.lifetime_budget,10)>0?f=i({adsEntitySchedule:e,budgetRemaining:Number(b.budget_remaining),overlapDurationDays:g}):parseInt(b.daily_budget,10)>0&&(f=g*Number(b.daily_budget));isNaN(f)&&(d("AdsExperimentsFunnelLoggerWithAccountStoreUtils").createFunnelLoggerWithAccount_LEGACY().setAction(h).addActionPayload("ads_entity_data",b).addActionPayload("ads_entity_schedule",e).addActionPayload("overlap_duration_days",g).log(),f=0);return{overlapSchedule:a,overlapDurationDays:g,approximateTotalBudget:f}}function a(a){var b=a.campaignGroup,e=a.campaigns,f=a.testSchedule;if(!e.length)return{overlapDurationDays:0,overlapSchedule:[],approximateTotalBudget:0};var g=parseInt(b.lifetime_budget,10)>0||parseInt(b.daily_budget,10)>0;a=d("Instant").now();var h=[],k=0,l=null,m=a;e.forEach(function(a){var b,e=typeof a.start_time==="string"?d("Instant").fromISOString(a.start_time):a.start_time,i=typeof a.end_time==="string"?d("Instant").fromISOString(a.end_time):a.end_time,n={startTime:e,endTime:i};l=l!=null?Math.min(l,(b=e)!=null?b:l):e;i!=null&&(m=Math.max(m,i));b=d("AdsSSCLUtils").getOverlapForSchedules(c("immutable").List([n,f]));b&&(h.push(b),k+=g?0:j({adsEntityData:a,adsEntitySchedule:n,testSchedule:f}).approximateTotalBudget)});e=h.sort(function(a,b){return a.startTime-b.startTime});var n=[];for(var o=0;o<e.length;o++){var p=e[o];if(o===0)n.push(p);else{var q=n[n.length-1];if(p.startTime<=q.endTime){q={startTime:q.startTime,endTime:Math.max(q.endTime,p.endTime)};n[n.length-1]=q}else n.push(p)}}q=n.map(function(a){return d("AdsSSCLUtils").getScheduleLengthInDays(a)}).reduce(function(a,b){return a+b},0);if(g){p=parseInt(b.daily_budget,10)>0;if(p)k=q*parseInt(b.daily_budget,10);else{o=parseInt(b.budget_remaining,10);l=l!=null?Math.max(l,a):null;!isNaN(o)&&l!=null&&l<=m&&(k=i({adsEntitySchedule:{startTime:l,endTime:m},budgetRemaining:o,overlapDurationDays:q}))}}return{overlapDurationDays:q,overlapSchedule:n,approximateTotalBudget:k}}g.getApproximateBudgetForOverlapDurationDays=j;g.getCampaignGroupApproximateBudgetForTestSchedule=a},98);
__d("adsExperimentsCreateEventForSplitTestKPI",["AdsSSCLEventSourceTypes"],function(a,b,c,d,e,f,g){"use strict";var h="1330007660473944";function a(a){return{eventType:a,name:a,sourceID:h,sourceName:null,sourceType:c("AdsSSCLEventSourceTypes").SPLIT_TEST_KPI,status:null}}g["default"]=a},98);
__d("adsExperimentsDoCampaignGroupsHaveDifferentResultTypes",["AdsExperimentsFunnelLogger","AdsInsightsResultUtil","only"],function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=a.resultPerformanceIndicators;a=a.objectivesOptimizationGoalsAndPromotedObjectTypes;var e=a.objectives,f=a.optimizationGoals,g=a.promotedObjectTypes,h=b.length===0||b.some(function(a){return a==null}),i=!1;if(!h){var j=c("only")(new Set(b));i=j==null||j===d("AdsInsightsResultUtil").MIXED_UNIT}else i=e.size>1||f.size>1||g.size>1;i=i||a.cellHasMultipleObjectives;c("AdsExperimentsFunnelLogger").logCreationAction({name:"DEBUG",debugActionName:"HAS_DIFFERENT_RESULT_TYPES",actionPayloadValues:new Map([["has_different_result_types_v1",e.size>1],["has_different_result_types_v2",i],["has_missing_performance_indicators",h],["performance_Indicators",[b]],["objectives: ",e.toArray()],["optimization_goals: ",f.toArray()],["promoted_object_types",g.toArray()]])});return i};g.doCampaignGroupsHaveDifferentResultTypes=a},98);
__d("adsExperimentsGetStudyObjectivesFromEvents",["AdsSSCLEventSourceTypes"],function(a,b,c,d,e,f,g){"use strict";var h="SALES";function i(a,b){b={name:a.name.toString(),is_primary:b===0,type:h};switch(a.sourceType){case c("AdsSSCLEventSourceTypes").PIXEL:b.adspixels=[{id:a.sourceID,event_names:[a.eventType]}];break;case c("AdsSSCLEventSourceTypes").APP:b.applications=[{id:a.sourceID,event_names:[a.eventType]}];break;case c("AdsSSCLEventSourceTypes").OFFLINE_CONVERSION:b.offline_conversion_data_sets=[{id:a.sourceID}];break;case c("AdsSSCLEventSourceTypes").CUSTOM_CONVERSION:b.customconversions=[{id:a.sourceID}];break;case c("AdsSSCLEventSourceTypes").BRAND_REQUEST:b.type="BRAND";b.brand_requests=[{id:a.sourceID}];break;case c("AdsSSCLEventSourceTypes").SPLIT_TEST_KPI:b.type="NONSALES";b.split_test_kpis=[{id:a.sourceID,event_names:[a.eventType]}];break}return b}function a(a){return a.map(function(a,b){return i(a,b)}).toArray()}g["default"]=a},98);
__d("adsExperimentCreateTestValidateStudyName",["errorCode","errorDesc","AdsError","AdsExperimentsCreateTestCommonTypes","AdsExperimentsCreateTestStateUtils"],function(a,b,c,d,e,f,g,h,i){"use strict";a="testName";var j=d("AdsExperimentsCreateTestStateUtils").adsExperimentsGetCreateTestErrorKey(a);b=function(a){var b=a.errors;a=a.name;return b.set(j,{adsError:a==null||a.trim()===""?new(c("AdsError"))(1840126,i._(function(a,b){return a._("Please enter test name.")},{}),{level:c("AdsError").Level.WARN}):null,displayType:d("AdsExperimentsCreateTestCommonTypes").CreateTestErrorDisplayType.NOTICE})};g.TEST_NAME_VALIDATOR_KEY=a;g.adsExperimentCreateTestValidateStudyName=b},98);
__d("useAdsExperimentsCreateTestValidator",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.setValidator,c=a.validator;h(function(){b(c);return function(){b(null)}},[b,c])}g["default"]=a},98);
__d("useAdsExperimentsCreateTestNameField",["AdsExperimentsCommonTestSetupStrings","AdsExperimentsCreateTestStateUtils","GeoTextInput.react","LoadObject","adsExperimentCreateTestValidateStudyName","geoMargin","react","useAdsExperimentsCreateTestValidator"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k="testName";function l(a){var b=a.defaultTitle,c=a.fieldsModifiedByUser,d=a.logger,e=a.currentTestName,f=a.setFieldModifiedByUser,g=a.setTestName;j(function(){!c.contains(k)&&e!==b.toString()&&g(b.toString())},[e,b,c,g]);a=i(function(a){f(k),d.setAction("set_test_name").log(),g(a)},[f,d,g]);return[e,a]}function m(a){var b=a.setValidator;a=i(function(a){return d("adsExperimentCreateTestValidateStudyName").adsExperimentCreateTestValidateStudyName({errors:a.errors,name:a.testName})},[]);var e=i(function(a){b({validator:a,validatorKey:d("AdsExperimentsCreateTestStateUtils").adsExperimentsGetCreateTestErrorKey(d("adsExperimentCreateTestValidateStudyName").TEST_NAME_VALIDATOR_KEY)})},[b]);c("useAdsExperimentsCreateTestValidator")({setValidator:e,validator:a})}function a(a){var b=a.defaultTitle,e=a.fieldsModifiedByUser,f=a.logger,g=a.currentTestName,i=a.setFieldModifiedByUser,j=a.setTestName;a=a.setValidator;b=l({defaultTitle:b,fieldsModifiedByUser:e,logger:f,currentTestName:g,setFieldModifiedByUser:i,setTestName:j,setValidator:a});e=b[0];f=b[1];m({setValidator:a});g={"data-testid":"tal-test-name-input",label:d("AdsExperimentsCommonTestSetupStrings").TEST_NAME_LABEL,isLabelHidden:!0,value:e,onChange:f,xstyle:c("geoMargin").top4};return{key:k,label:d("AdsExperimentsCommonTestSetupStrings").TEST_NAME_LABEL,editNodeLoader:c("LoadObject").withValue(h.jsx(c("GeoTextInput.react"),babelHelpers["extends"]({},g)))}}g["default"]=a},98);
__d("adsExperimentsShouldTestRunMidnightToMidnight",["adsExperimentsStudyHasHoldout"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){switch(a){case"CAMPAIGN_COMPARISON":return!c("adsExperimentsStudyHasHoldout")(b)||d==="ad_set";case"ACCOUNT_PERFORMANCE":case"ATTRIBUTION_TEST":case"BRAND_IMPACT":case"OPTIMAL_STRATEGY_CBO":case"CROSS_CHANNEL_CONVERSION_OPTIMIZATION_TEST":case"SPLIT_TEST":return!1;default:a;return!1}}g["default"]=a},98);
__d("AdsExperimentsDefaultTestTimeUtils",["AdsExperimentsCreateTestConstants","AdsOptimalStrategyTestSitevarConfig","AdsSplitTestSitevarConfig","DateConsts","DateTime","TalBrandConfig","adsExperimentsShouldTestRunMidnightToMidnight","adsExperimentsStudyHasHoldout","isStringNullOrEmpty"],function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){var e=d("AdsExperimentsCreateTestConstants").DEFAULT_TEST_DELAY_HRS*d("DateConsts").MIN_PER_HOUR;if(a==null)return e;switch(a){case"CAMPAIGN_COMPARISON":return c("adsExperimentsStudyHasHoldout")(b)?e:c("AdsOptimalStrategyTestSitevarConfig").DEFAULT_STUDY_START_TIME_IN_MINUTE_FROM_NOW;case"OPTIMAL_STRATEGY_CBO":case"CROSS_CHANNEL_CONVERSION_OPTIMIZATION_TEST":case"SPLIT_TEST":return c("AdsOptimalStrategyTestSitevarConfig").DEFAULT_STUDY_START_TIME_IN_MINUTE_FROM_NOW;case"ACCOUNT_PERFORMANCE":case"ATTRIBUTION_TEST":case"BRAND_IMPACT":return e;default:a;return e}};function i(){return c("AdsSplitTestSitevarConfig").DEFAULT_DURATION_DAYS}var j=function(a,b,e){if(a==null)return d("AdsExperimentsCreateTestConstants").DEFAULT_TEST_DURATION_DAYS;if(e)return d("AdsExperimentsCreateTestConstants").SHOP_ADS_TEST_DURATION_DAYS;switch(a){case"CAMPAIGN_COMPARISON":return c("adsExperimentsStudyHasHoldout")(b)?d("AdsExperimentsCreateTestConstants").DEFAULT_TEST_DURATION_DAYS:i();case"SPLIT_TEST":return i();case"OPTIMAL_STRATEGY_CBO":return c("AdsOptimalStrategyTestSitevarConfig").DEFAULT_STUDY_DURATION_IN_DAY;case"ATTRIBUTION_TEST":return d("AdsExperimentsCreateTestConstants").MIN_ATTRIBUTION_TEST_DURATION_DAYS;case"BRAND_IMPACT":return c("TalBrandConfig").default_duration_days;case"ACCOUNT_PERFORMANCE":return d("AdsExperimentsCreateTestConstants").DEFAULT_TEST_DURATION_DAYS;case"CROSS_CHANNEL_CONVERSION_OPTIMIZATION_TEST":return d("AdsExperimentsCreateTestConstants").DEFAULT_TEST_DURATION_DAYS;default:a;return d("AdsExperimentsCreateTestConstants").DEFAULT_TEST_DURATION_DAYS}};function k(a){var b=a.question,e=a.studyType;a=a.timezoneID;a=c("DateTime").now(a).addMinutes(d("AdsExperimentsCreateTestConstants").MINIMUM_TEST_DELAY_MIN);return c("adsExperimentsShouldTestRunMidnightToMidnight")(b,e)?a.startOfDay().isBefore(a)?a.addDays(1).startOfDay():a.startOfDay():a}var l=function(a){var b=a.question,d=a.campaignStartTime,e=a.studyType,f=a.timezoneID;a=a.canAdjustEndTimeToAdObjectSchedule;a=a===void 0?!1:a;var g=c("DateTime").now(f).addMinutes(h(b,e));d=d!=null?c("DateTime").createFromISOString(d,f):null;d!=null&&d.isAfter(g)&&a&&(g=d);return c("adsExperimentsShouldTestRunMidnightToMidnight")(b,e)?g.addDays(1).startOfDay():g};a=function(a){var b,e=a.question,f=a.campaignEndTime,g=a.startTime,h=a.studyType,i=a.timezoneID,k=a.isShopAdsCreditSelected;a=a.canAdjustEndTimeToAdObjectSchedule;a=a===void 0?!1:a;k=j(e,h,k);b=((b=g)!=null?b:l({question:e,studyType:h,timezoneID:i})).addHours(k*d("DateConsts").HOUR_PER_DAY);if(!c("isStringNullOrEmpty")(f)&&g){k=c("DateTime").createFromISOString(f,i);f=m(g,o(e,h));i=n(g,p(e,h));k.isBefore(i)&&k.isAfter(f)&&a&&(b=k)}return c("adsExperimentsShouldTestRunMidnightToMidnight")(e,h)?b.startOfDay():b};function m(a,b){var c=a.addHours(b*d("DateConsts").HOUR_PER_DAY);a=a.addDays(b);return c.isAfter(a)?a:c}function n(a,b){return a.addDays(b)}b=function(a){var b=a.question,c=a.studyType,e=a.timezoneID,f=k({question:b,studyType:c,timezoneID:e}).startOfDay();return[function(a){return a.toDateTime(e).isSameOrAfter(f)},function(a){return a.toDateTime(e).isSameOrBefore(f.addYears(d("AdsExperimentsCreateTestConstants").MAXIMUM_TEST_DELAY_YEARS))}]};function o(a,b){if(a==null)return d("AdsExperimentsCreateTestConstants").MINIMUM_TEST_DURATION_DAYS;switch(a){case"CAMPAIGN_COMPARISON":return c("adsExperimentsStudyHasHoldout")(b)?d("AdsExperimentsCreateTestConstants").MINIMUM_TEST_DURATION_DAYS:1;case"SPLIT_TEST":return 1;case"OPTIMAL_STRATEGY_CBO":return 1;case"ATTRIBUTION_TEST":return d("AdsExperimentsCreateTestConstants").MIN_ATTRIBUTION_TEST_DURATION_DAYS;case"BRAND_IMPACT":return c("TalBrandConfig").min_duration_days;case"ACCOUNT_PERFORMANCE":return d("AdsExperimentsCreateTestConstants").MINIMUM_TEST_DURATION_DAYS;case"CROSS_CHANNEL_CONVERSION_OPTIMIZATION_TEST":return d("AdsExperimentsCreateTestConstants").MINIMUM_TEST_DURATION_DAYS;default:a;return d("AdsExperimentsCreateTestConstants").MINIMUM_TEST_DURATION_DAYS}}function p(a,b){var e=d("AdsExperimentsCreateTestConstants").MAXIMUM_TEST_DURATION_MONTHS*d("DateConsts").AVG_DAYS_PER_MONTH;if(a==null)return e;switch(a){case"CAMPAIGN_COMPARISON":return c("adsExperimentsStudyHasHoldout")(b)?e:30;case"BRAND_IMPACT":return c("TalBrandConfig").max_duration_days;case"ACCOUNT_PERFORMANCE":case"ATTRIBUTION_TEST":case"OPTIMAL_STRATEGY_CBO":case"CROSS_CHANNEL_CONVERSION_OPTIMIZATION_TEST":case"SPLIT_TEST":return e;default:a;return e}}g.getDefaultSplitTestLengthDays=i;g.getDefaultLengthDays=j;g.getMinimumTestStart=k;g.getDefaultTestStart=l;g.getDefaultTestEnd=a;g.getMinimumTestEnd=m;g.getMaximumTestEnd=n;g.getTestDateRestraints=b;g.getMinimumTestLengthDays=o;g.getMaximumTestLengthDays=p},98);
__d("AdsExperimentsTestScheduleBox.react",["react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={box:{width:"ezi3dscr",height:"nq2b4knc",backgroundColor:"fjqaq5sl",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",paddingTop:"q46jt4gp",paddingEnd:"aesu6q9g",paddingBottom:"r5g9zsuq",paddingStart:"e4ay1f3w",marginBottom:"mfn553m3",display:"alzwoclg",flexDirection:"cqf1kptm",justifyContent:"jcxyg2ei"},title:{fontSize:"c61n2bf6",color:"fc1f9j8e"},content:{fontSize:"c61n2bf6",color:"i6uybxyu"},withIcon:{display:"alzwoclg"},icon:{marginEnd:"h07fizzr",marginTop:"th51lws0"}};a=function(a){var b=a.title,d=a.content,e=a.icon;a=a.xstyle;return e?h.jsx("div",{className:c("stylex")(i.box,a),children:h.jsxs("div",{className:c("stylex")(i.withIcon),children:[h.jsx("div",{className:c("stylex")(i.icon),children:e}),h.jsxs("div",{children:[h.jsx("div",{className:c("stylex")(i.title),children:b}),h.jsx("div",{className:c("stylex")(i.content),children:d})]})]})}):h.jsxs("div",{className:c("stylex")(i.box,a),children:[h.jsx("div",{className:c("stylex")(i.title),children:b}),h.jsx("div",{className:c("stylex")(i.content),children:d})]})};b=a;g["default"]=b},98);
__d("AdsExperimentsChooseDaysTestSchedule.react",["fbt","ix","AdsExperimentsFunnelLogger","AdsExperimentsTestScheduleBox.react","AdsSplitTestSitevarConfig","FlexLayout.react","GeoIcon.react","GeoNumericInput.react","adsExperimentsScheduleOverlappingUtils","fbicon","geoMargin","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.startTime,e=a.endTime,f=a.endEarlySwitch,g=a.overlappingDuration,k=a.handleChangeEnd;a=g?d("adsExperimentsScheduleOverlappingUtils").getDayDifference(g.earliestEndDate,g.latestStartDate):30;g=b&&e?d("adsExperimentsScheduleOverlappingUtils").getDayDifference(e,b):c("AdsSplitTestSitevarConfig").DEFAULT_DURATION_DAYS;var l=function(a){(e==null?void 0:e.toISOString())!==(b==null?void 0:b.addDays(a).toISOString())&&c("AdsExperimentsFunnelLogger").logCreationAction({name:"CHANGE_TEST_SCHEDULE",oldValue:{endTime:e,startTime:b},newValue:{endTime:b==null?void 0:b.addDays(a),startTime:b}}),k(a)},m=h._("D\u00edas"),n=h._("Fecha de inicio"),o=h._("Fecha de finalizaci\u00f3n");return j.jsxs(j.Fragment,{children:[j.jsx(c("GeoNumericInput.react"),{"data-decrement-testid":"edit-test-modal-days-numeric-input-decrease",errorMessage:d("adsExperimentsScheduleOverlappingUtils").maybeGetTestDurationErrorMessage(g,a),label:m,value:g,xstyle:c("geoMargin").bottom16,onChange:function(a){return l((a=a)!=null?a:0)}}),j.jsxs(c("FlexLayout.react"),{children:[j.jsx(c("AdsExperimentsTestScheduleBox.react"),{content:j.jsx("div",{children:b==null?void 0:b.format("M j, Y")}),icon:j.jsx(c("GeoIcon.react"),{color:"default",icon:d("fbicon")._(i("481127"),20)}),title:n,xstyle:c("geoMargin").end12}),j.jsx(c("AdsExperimentsTestScheduleBox.react"),{content:j.jsx("div",{children:e==null?void 0:e.format("M j, Y")}),icon:j.jsx(c("GeoIcon.react"),{color:"default",icon:d("fbicon")._(i("481127"),20)}),title:o})]}),f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsEditableTestSchedule.react",["fbt","AdsApplicationUtils","AdsExperimentsChooseDaysTestSchedule.react","AdsExperimentsCreateTestConstants","AdsExperimentsDefaultTestTimeUtils","AdsExperimentsEndStudyCriteriaUtils","AdsTALStudyType","AdsTimezone","DateTime","FlexLayout.react","GeoBaseText.react","GeoDatePicker.react","GeoDateTimeInput.react","GeoNotice.react","GeoSwitch.react","GeoTooltip.react","LocalDate","LocalDateTime","adsAccountGK","createIntlPercentFormatter","geoMargin","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;b=c("createIntlPercentFormatter")(0);var k=.8,l=h._("Inicio"),m=h._("Finalizaci\u00f3n"),n=h._("Finalizar el test antes de tiempo si se encuentra una versi\u00f3n ganadora"),o=h._("El test finalizar\u00e1 antes de la fecha programada si se establece un ganador y la probabilidad de ganar es superior al {confidence_level}. Los anuncios seguir\u00e1n en circulaci\u00f3n hasta la fecha de finalizaci\u00f3n programada o hasta que los desactives.",[h._param("confidence_level",b(k))]),p=h._({"*":"Este test A\/B debe estar activo durante {number} d\u00edas","_1":"Este test A\/B debe estar activo durante 1 d\u00eda."},[h._plural(d("AdsExperimentsCreateTestConstants").SHOP_ADS_TEST_DURATION_DAYS,"number")]);function q(){return h._("El test finalizar\u00e1 antes de la fecha programada si se establece un ganador con una probabilidad de ganar superior al 80\u00a0\u0025. {=m1} Una vez finalizado el test, tendr\u00e1s 24 horas para elegir una campa\u00f1a para que siga activa, de lo contrario, pausaremos autom\u00e1ticamente la perdedora o bien la que se haya creado m\u00e1s recientemente si no se establece ning\u00fan ganador. Esto evita que ambas campa\u00f1as compitan por la misma audiencia.",[h._implicitParam("=m1",i.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:h._("")}))])}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.disableEndDate,e=a.disableStartDate,f=a.disableTimeInput,g=a.endStudyCriteria,r=a.endTime,s=a.endTimeInlineError,t=a.onChangeStartTime,u=a.onChangeEndTime,v=a.onSetEndStudyEarly,w=a.questionType,x=a.startTime,y=a.startTimeInlineError,z=a.studyType,A=a.timezoneID,B=a.overlappingDuration,C=a.isQuestionBasedTestSetupEnabled,D=a.adAccount,E=a.isShopAdsCreditSelected;a=a.isAAAStudyCreation;var F=j(function(a){v&&v({confidence_level:a?k:null})},[v]),G=function(a){return u(a==null?void 0:a.toDateTime(A))},H=function(a){t(a==null?void 0:a.toDateTime(A)),E&&u(a==null?void 0:a.toDateTime(A).addDays(d("AdsExperimentsCreateTestConstants").SHOP_ADS_TEST_DURATION_DAYS))},I=function(a){a==null?u(x):u(x==null?void 0:x.addDays(a))},J=d("AdsExperimentsDefaultTestTimeUtils").getTestDateRestraints({question:w,studyType:z,timezoneID:A});w=function(a){return J.reduce(function(b,c){return b&&c(a)},!0)};var K=c("DateTime").now(A).startOfDay().format("g:ia");C=f?i.jsx(c("GeoBaseText.react"),{color:C?"placeholder":"value",size:"value",children:h._("Este test estar\u00e1 activo desde la fecha de inicio a las {midnight} hasta la fecha de finalizaci\u00f3n a las {midnight}.",[h._param("midnight",K)])}):null;K=E?i.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"info",xstyle:c("geoMargin").top12,children:p}):null;var L="editable-schedule-start-date",M="editable-schedule-end-date";e={isDisabled:e,label:l,xstyle:c("geoMargin").top8,onChange:H};H={isDisabled:b,label:m,xstyle:c("geoMargin").vert8,onChange:G};b=i.jsx(c("FlexLayout.react"),{align:"center",children:f?i.jsx(c("GeoDatePicker.react"),babelHelpers["extends"]({},e,{"data-testid":void 0,errorMessage:y,restraint:w,value:x?c("LocalDate").fromDateTime(x):null})):i.jsx(c("GeoDateTimeInput.react"),babelHelpers["extends"]({},e,{"data-testid-date":L,dateErrorMessage:y,dateRestraint:w,timezoneLabel:d("AdsTimezone").timezoneDataByID[A].displayName,value:x?c("LocalDateTime").fromDateTime(x):null}))});G=i.jsx(i.Fragment,{children:f?i.jsx(c("GeoDatePicker.react"),babelHelpers["extends"]({},H,{"data-testid":void 0,errorMessage:s,restraint:w,value:r?c("LocalDate").fromDateTime(r):null})):i.jsx(c("GeoDateTimeInput.react"),babelHelpers["extends"]({},H,{"data-testid-date":M,dateErrorMessage:s,dateRestraint:w,timezoneLabel:d("AdsTimezone").timezoneDataByID[A].displayName,value:r?c("LocalDateTime").fromDateTime(r):null}))});e=z===d("AdsTALStudyType").AdStudyTypeName.SPLIT_TEST_V2&&v!=null;L=!d("AdsExperimentsEndStudyCriteriaUtils").isEndStudyCriteriaEmpty(g);y=i.jsx(c("GeoTooltip.react"),{content:a?q():o,"data-testid":void 0,xstyle:c("geoMargin").top12});f=e?i.jsxs(c("FlexLayout.react"),{children:[i.jsx(c("GeoSwitch.react"),{"data-testid":void 0,isDisabled:E,label:n,labelPosition:"suffix",value:L,xstyle:c("geoMargin").top12,onChange:F}),L&&y]}):null;H=e?i.jsxs(i.Fragment,{children:[i.jsx(c("GeoSwitch.react"),{"data-testid":void 0,isDisabled:E,label:n,labelPosition:"suffix",value:L,xstyle:c("geoMargin").top12,onChange:F}),L&&i.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"info",xstyle:c("geoMargin").top12,children:a?q():o})]}):null;return d("AdsApplicationUtils").isPowerEditor()&&!E&&c("adsAccountGK")._(D,"4Ez9GOpcd")?i.jsx(c("AdsExperimentsChooseDaysTestSchedule.react"),{endEarlySwitch:f,endTime:r,handleChangeEnd:I,overlappingDuration:B,startTime:x}):i.jsxs(i.Fragment,{children:[C,b,G,H,K]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsTestTimeValidationUtils",["errorCode","fbt","AdsError","AdsExperimentsDefaultTestTimeUtils","DateConsts","DateTime","adsAccountGK","adsExperimentsScheduleOverlappingUtils","adsExperimentsStudyHasHoldout"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b){return i._({"*":{"*":"El test debe estar activo durante un m\u00ednimo de {min} d\u00edas y un m\u00e1ximo de {max} meses. Cambia la programaci\u00f3n de tu test para que se ajuste a ese intervalo de tiempo.","_1":"El test debe estar activo durante un m\u00ednimo de {min} d\u00edas y un m\u00e1ximo de 1 mes. Cambia la programaci\u00f3n de tu test para que se ajuste a ese intervalo de tiempo."},"_1":{"*":"El test debe estar activo durante un m\u00ednimo de 1 d\u00eda y un m\u00e1ximo de {max} meses. Cambia la programaci\u00f3n de tu test para que se ajuste a ese intervalo de tiempo.","_1":"El test debe estar activo durante un m\u00ednimo de 1 d\u00eda y un m\u00e1ximo de 1 mes. Cambia la programaci\u00f3n de tu test para que se ajuste a ese intervalo de tiempo."}},[i._plural(d("AdsExperimentsDefaultTestTimeUtils").getMinimumTestLengthDays(a,b),"min"),i._plural(Math.round(d("AdsExperimentsDefaultTestTimeUtils").getMaximumTestLengthDays(a,b)/d("DateConsts").AVG_DAYS_PER_MONTH),"max")])}function a(a,b){return c("DateTime").create(a.map(function(a){return c("DateTime").fromISOString(a.observation_end_time,b).getUnixTimestampSeconds()}).max(),b)}function b(a,b){return c("DateTime").create(a.map(function(a){return c("DateTime").fromISOString(a.cooldown_start_time,b).getUnixTimestampSeconds()}).min(),b)}function e(a,b,e,f){if(!a)return new(c("AdsError"))(1840040,i._("Selecciona una hora de inicio."),{level:c("AdsError").Level.WARN});return a.isBefore(d("AdsExperimentsDefaultTestTimeUtils").getMinimumTestStart({question:e,studyType:f,timezoneID:b}))?new(c("AdsError"))(1840042,i._("Selecciona una hora que sea al menos 15 minutos posterior a la actual."),{level:c("AdsError").Level.WARN}):null}function f(a,b,e,f,g){if(!b)return new(c("AdsError"))(1840041,i._("Selecciona una hora de finalizaci\u00f3n."),{level:c("AdsError").Level.WARN});if(b.isBefore(c("DateTime").now(e)))return new(c("AdsError"))(1840043,i._("La hora de finalizaci\u00f3n es anterior a la actual. Elige una hora futura."),{level:c("AdsError").Level.WARN});if(!a)return null;if(b.isBefore(a))return new(c("AdsError"))(1840045,i._("La fecha de finalizaci\u00f3n del test es anterior a la fecha de inicio. Aseg\u00farate de que la fecha de inicio sea anterior."),{level:c("AdsError").Level.WARN});return b.isBefore(d("AdsExperimentsDefaultTestTimeUtils").getMinimumTestEnd(a,d("AdsExperimentsDefaultTestTimeUtils").getMinimumTestLengthDays(f,g)))||b.isAfter(d("AdsExperimentsDefaultTestTimeUtils").getMaximumTestEnd(a,d("AdsExperimentsDefaultTestTimeUtils").getMaximumTestLengthDays(f,g)))?new(c("AdsError"))(1840044,j(f,g),{level:c("AdsError").Level.WARN}):null}var k=3;function h(a){var b=a.endTime,d=a.startTime,e=a.studyType;a=a.usesDelayedMetrics;if(d==null||b==null)return null;if(!a)return null;if(c("adsExperimentsStudyHasHoldout")(e))return null;return d.addDays(k).isSameOrBefore(b)?null:c("AdsError").createRecommendation(1840135,i._("Las pruebas que incluyan las m\u00e9tricas clave que has seleccionado deben durar al menos {min days}, para reflejar resultados que puedan sufrir retrasos.",[i._param("min days",k)]),{title:i._("Es posible que tu test sea demasiado breve")})}function l(a){var b=a.endTime,e=a.startTime,f=a.studyType,g=a.earliestEndDate,h=a.latestStartDate;a=a.adAccount;if(e==null||b==null||h==null||g==null)return null;if(c("adsExperimentsStudyHasHoldout")(f))return null;f=d("adsExperimentsScheduleOverlappingUtils").getDayDifference(b,e);b=d("adsExperimentsScheduleOverlappingUtils").getDayDifference(g,h);e=d("adsExperimentsScheduleOverlappingUtils").maybeGetTestDurationErrorMessage(f,b);if(e==null)return null;return!c("adsAccountGK")._(a,"4Ez9GOpcd")?null:new(c("AdsError"))(2446964,e,{level:c("AdsError").Level.WARN})}g.getLatestStudyEnd=a;g.getSoonestStudyStart=b;g.validateTestStartTimeUtil=e;g.validateTestEndTimeUtil=f;g.validateStudyTooShortWarning=h;g.validateOverlappingDurationUtil=l},98);
__d("adsExperimentCreateTestValidateSchedule",["AdsExperimentsCreateTestCommonTypes","AdsExperimentsCreateTestStateUtils","AdsExperimentsTestTimeValidationUtils"],function(a,b,c,d,e,f,g){"use strict";a="schedule";var h=d("AdsExperimentsCreateTestStateUtils").adsExperimentsGetCreateTestErrorKey(a),i=d("AdsExperimentsCreateTestStateUtils").adsExperimentsGetCreateTestErrorKey(a,"startTime"),j=d("AdsExperimentsCreateTestStateUtils").adsExperimentsGetCreateTestErrorKey(a,"endTime");b=function(a){var b=a.adAccount,c=a.errors,e=a.startTime,f=a.endTime,g=a.timezoneID,k=a.question,l=a.studyType,m=a.usesDelayedMetrics,n=a.earliestEndDate;a=a.latestStartDate;return c.set(i,{adsError:e==null?null:d("AdsExperimentsTestTimeValidationUtils").validateTestStartTimeUtil(e,g,k,l),displayType:d("AdsExperimentsCreateTestCommonTypes").CreateTestErrorDisplayType.INLINE}).set(j,{adsError:f==null?null:(c=d("AdsExperimentsTestTimeValidationUtils").validateTestEndTimeUtil(e,f,g,k,l))!=null?c:d("AdsExperimentsTestTimeValidationUtils").validateOverlappingDurationUtil({startTime:e,endTime:f,studyType:l,earliestEndDate:n,latestStartDate:a,adAccount:b}),displayType:d("AdsExperimentsCreateTestCommonTypes").CreateTestErrorDisplayType.INLINE}).set(h,{adsError:d("AdsExperimentsTestTimeValidationUtils").validateStudyTooShortWarning({startTime:e,endTime:f,studyType:l,usesDelayedMetrics:(g=m.getValue())!=null?g:!1}),displayType:d("AdsExperimentsCreateTestCommonTypes").CreateTestErrorDisplayType.NOTICE})};g.SCHEDULE_VALIDATOR_KEY=a;g.startTimeValidatorKey=i;g.endTimeValidatorKey=j;g.adsExperimentCreateTestValidateSchedule=b},98);
__d("useAdsExperimentsCreateTestScheduleField",["AdsExperimentsCommonTestSetupStrings","AdsExperimentsCreateTestStateUtils","AdsExperimentsDefaultTestTimeUtils","AdsExperimentsEditableTestSchedule.react","LoadObject","adsAccountGK","adsExperimentCreateTestValidateSchedule","adsExperimentsShouldTestRunMidnightToMidnight","react","useAdsExperimentsCreateTestValidator"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef;function a(a){var b=a.adAccount,c=a.chooseABTestState,e=a.logger,f=a.question,g=a.errors,h=a.studyType,i=a.studyLevel,j=a.startTime,k=a.endStudyCriteria,m=a.endTime,o=a.enableTimeInput_DO_NOT_USE,p=a.setStartTime,q=a.setEndStudyCriteria,r=a.setEndTime,s=a.setValidator,t=a.usesDelayedMetrics,u=a.isQuestionBasedTestSetupEnabled,v=a.overlappingDuration,w=a.isShopAdsCreditSelected;a=a.isAAAStudyCreation;l({adAccount:b,setValidator:s,usesDelayedMetrics:t,overlappingDuration:v});s=g.get(d("adsExperimentCreateTestValidateSchedule").startTimeValidatorKey);t=g.get(d("adsExperimentCreateTestValidateSchedule").endTimeValidatorKey);return n({adAccount:b,chooseABTestState:c,studyType:h,studyLevel:i,question:f,startTime:j,endStudyCriteria:k,endTime:m,startTimeErrorMessage:s==null?void 0:(g=s.adsError)==null?void 0:g.message,endTimeErrorMessage:t==null?void 0:(b=t.adsError)==null?void 0:b.message,setStartTime:p,setEndStudyCriteria:q,setEndTime:r,logger:e,enableTimeInput_DO_NOT_USE:o,isQuestionBasedTestSetupEnabled:u,overlappingDuration:v,isShopAdsCreditSelected:w,isAAAStudyCreation:a})}function l(a){var b=a.adAccount,e=a.setValidator,f=a.usesDelayedMetrics;a=a.overlappingDuration;var g=a==null?void 0:a.earliestEndDate,h=a==null?void 0:a.latestStartDate,j=i(function(a){return d("adsExperimentCreateTestValidateSchedule").adsExperimentCreateTestValidateSchedule({adAccount:b,errors:a.errors,startTime:a.startTime,endTime:a.endTime,timezoneID:b.timezone_id,question:a.question,studyType:a.studyType,usesDelayedMetrics:f,earliestEndDate:g,latestStartDate:h})},[f,b,g,h]);a=i(function(){e({validator:j,validatorKey:d("AdsExperimentsCreateTestStateUtils").adsExperimentsGetCreateTestErrorKey(d("adsExperimentCreateTestValidateSchedule").SCHEDULE_VALIDATOR_KEY)})},[e,j]);c("useAdsExperimentsCreateTestValidator")({setValidator:a,validator:j})}var m=function(a){var b=a.adAccount,c=a.chooseABTestState,e=a.startTime,f=a.setStartTime,g=a.endTime,h=a.setEndTime,l=a.question,m=a.studyType,n=a.logger,o=a.isShopAdsCreditSelected,p=i(function(a){a!=null&&(n.setAction("set_end_time").log(),h(a))},[h,n]),q=i(function(a){a!=null&&(n.setAction("set_start_time").log(),f(a))},[f,n]),r=k();j(function(){var a=b.timezone_id;if(e==null){var f;f=c==null?void 0:(f=c.campaign)==null?void 0:f.start_time;r.current=d("AdsExperimentsDefaultTestTimeUtils").getDefaultTestStart({question:l,campaignStartTime:f,studyType:m,timezoneID:a,canAdjustEndTimeToAdObjectSchedule:!0});q(r.current)}if(g==null){f=c==null?void 0:(f=c.campaign)==null?void 0:f.end_time;f=d("AdsExperimentsDefaultTestTimeUtils").getDefaultTestEnd({question:l,studyType:m,campaignEndTime:f,startTime:r.current,timezoneID:a,canAdjustEndTimeToAdObjectSchedule:!0,isShopAdsCreditSelected:o});p(f)}});return{setStartTimeWrapper:q,setEndTimeWrapper:p}},n=function(a){var b=a.adAccount,e=a.chooseABTestState,f=a.studyType,g=a.studyLevel,i=a.question,j=a.startTime,k=a.endStudyCriteria,l=a.endTime,n=a.startTimeErrorMessage,o=a.endTimeErrorMessage,p=a.setStartTime,q=a.setEndStudyCriteria,r=a.setEndTime,s=a.logger,t=a.enableTimeInput_DO_NOT_USE,u=a.isQuestionBasedTestSetupEnabled,v=a.overlappingDuration,w=a.isShopAdsCreditSelected;a=a.isAAAStudyCreation;e=m({adAccount:b,chooseABTestState:e,startTime:j,setStartTime:p,endTime:l,setEndTime:r,question:i,studyType:f,logger:s,isShopAdsCreditSelected:w});p=e.setStartTimeWrapper;r=e.setEndTimeWrapper;return{key:"schedule",label:u?c("adsAccountGK")._(b,"4Ez9GOpcd")?d("AdsExperimentsCommonTestSetupStrings").TEST_DURATION_LABEL:d("AdsExperimentsCommonTestSetupStrings").TEST_SCHEDULE_HEADER:d("AdsExperimentsCommonTestSetupStrings").TEST_SCHEDULE_LABEL,editNodeLoader:c("LoadObject").withValue(h.jsx(c("AdsExperimentsEditableTestSchedule.react"),{adAccount:b,disableEndDate:w,disableStartDate:!1,disableTimeInput:t===!0?!t:c("adsExperimentsShouldTestRunMidnightToMidnight")(i,f,g),endStudyCriteria:k,endTime:l,endTimeInlineError:o,isAAAStudyCreation:a,isQuestionBasedTestSetupEnabled:u,isShopAdsCreditSelected:w,overlappingDuration:v,questionType:i,startTime:j,startTimeInlineError:n,studyType:f,timezoneID:b.timezone_id,onChangeEndTime:r,onChangeStartTime:p,onSetEndStudyEarly:q}))}};g["default"]=a},98);
__d("AdsExperimentsTestPowerText.react",["AdsExperimentsTestPowerStrings","AdsSplitTestPowerConstants","GeoBaseText.react","geoMargin","react"],function(a,b,c,d,e,f,g){var h=d("react");function a(a){var b=a.isReview,e=a.minPower,f=a.maxPower,g=a.powerEstimate;a=a.isQuestionBasedTestSetupEnabled;return h.jsx(c("GeoBaseText.react"),{color:g<c("AdsSplitTestPowerConstants").RECOMMENDED_POWER||b?"placeholder":"success",display:a?"block":void 0,size:a?"header2":"value",weight:b?"normal":"bold",xstyle:a?c("geoMargin").top12:void 0,children:d("AdsExperimentsTestPowerStrings").formatTestPower(g,e,f)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsExperimentsPowerTextWrapper.react",["AdsExperimentsPowerConstants","AdsExperimentsTestPowerStrings","AdsExperimentsTestPowerText.react","AdsShimmerBar.react","FDSSimplePopover.react","GeoBaseText.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isReview,e=a.powerEstimateLO,f=a.unavailableMessageLO,g=a.showTooltip,i=a.isQuestionBasedTestSetupEnabled;a=f!=null?f.getValue():null;var j=h.jsx(c("GeoBaseText.react"),{color:b?"placeholder":"value","data-testid":void 0,size:"value",children:a!=null?a:d("AdsExperimentsTestPowerStrings").POWER_ESTIMATES_ERROR_LABEL});return e.match({empty:function(){return j},error:function(){return j},loading:function(){return h.jsx("div",{className:"_3-8x",children:h.jsx(c("AdsShimmerBar.react"),{height:15,isFullBleed:!0})})},loaded:function(a){return i?h.jsxs("div",{children:[h.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",children:d("AdsExperimentsTestPowerStrings").getNewPowerRecommendationSentence()}),h.jsx(c("AdsExperimentsTestPowerText.react"),{isQuestionBasedTestSetupEnabled:i,isReview:b,maxPower:d("AdsExperimentsPowerConstants").MAX_POWER,minPower:d("AdsExperimentsPowerConstants").MIN_POWER,powerEstimate:a})]}):h.jsxs("div",{children:[h.jsx(c("AdsExperimentsTestPowerText.react"),{isQuestionBasedTestSetupEnabled:i,isReview:b,maxPower:d("AdsExperimentsPowerConstants").MAX_POWER,minPower:d("AdsExperimentsPowerConstants").MIN_POWER,powerEstimate:a}),g?h.jsx(c("FDSSimplePopover.react"),{content:d("AdsExperimentsTestPowerStrings").getNewPowerRecommendationSentence(),showIcon:!0}):null]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("adsExperimentsIsAppConversionSourceObjective",["AdsAPIObjectives"],function(a,b,c,d,e,f,g){"use strict";function a(a){return a===c("AdsAPIObjectives").APP_INSTALLS||a===c("AdsAPIObjectives").MOBILE_APP_INSTALLS}g["default"]=a},98);
__d("AdsTALPowerEstimateUtils",["AdsExperimentsPCMValidationUtils","AdsExperimentsTestPowerStrings","AdsLoadObjectUtils","LoadObject","adsExperimentsIsAppConversionSourceObjective"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.accountLoader,e=a.cellCount,f=a.spendUSDLoader,g=a.level,i=a.kpiObjectiveLoader;a=a.doesStudyContainIOS14AdEntitiesLoader;a=h({kpiObjectiveLoader:i,doesStudyContainIOS14AdEntitiesLoader:a});return d("AdsLoadObjectUtils").all([b,f,i,a]).map(function(a){var b=a[0],d=a[1],f=a[2];a=a[3];if(a!=null)return c("LoadObject").empty();a=b.account_id;return f!=null&&g!=null?{studyType:"split_test",accountID:a,cellCount:e,spendUSD:d,kpiObjective:f,level:g}:c("LoadObject").empty()})}function h(a){var b=a.kpiObjectiveLoader;a=a.doesStudyContainIOS14AdEntitiesLoader;return d("AdsLoadObjectUtils").all([b,a]).map(function(a){var b=a[0];a=a[1];if(b!=null&&d("AdsExperimentsPCMValidationUtils").isWebConversionSourceObjective(b))return d("AdsExperimentsTestPowerStrings").POWER_ESTIMATES_NOT_AVAILABLE_FOR_WEB_CONVERSION_LABEL;return b!=null&&c("adsExperimentsIsAppConversionSourceObjective")(b)&&a?d("AdsExperimentsTestPowerStrings").POWER_ESTIMATES_NOT_AVAILABLE_FOR_IOS14_LABEL:null})}function b(a){var b=a.accountID,d=a.cellCount,e=a.maxSpendForCellUSDLoader,f=a.level,g=a.questionTypes;return e.map(function(a){return b!=null&&f!=null&&g.length>0?{studyType:"brand_lift",accountID:b,cellCount:d,level:f,maxSpendForCellUSD:a,questionTypes:g}:c("LoadObject").empty()})}g.getABTestPowerEstimateKey=a;g.getABTestPowerEstimateUnavailableMessage=h;g.getBrandLiftPowerEstimateKey=b},98);
__d("adsTALGetKPIObjective",["AdsInsightsField","AdsSplitTestKeyMetricConfig","LoadObject"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.keyMetric;a=a.commonCampaignGroupObjectiveLoader;return b==null?c("LoadObject").withValue(null):b===c("AdsInsightsField").COST_PER_RESULT?a:c("LoadObject").withValue((a=c("AdsSplitTestKeyMetricConfig")[b])==null?void 0:a.kpiObjective)}g["default"]=a},98);
__d("AdsExperimentsPowerEstimateContainer.react",["AdsExperimentsBudgetUtils","AdsExperimentsPowerEstimateProvider","AdsExperimentsPowerTextWrapper.react","AdsTALPowerEstimateUtils","Laminar","LoadObject","adsTALGetKPIObjective","react","sumOfArray","useAdsExperimentsLogPowerEstimates"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;a=function(a){var b=a.adAccount,e=a.campaignGroupObjectiveLoader,f=a.cellCount,g=a.doesStudyContainIOS14AdEntitiesLoader,j=a.estimatedSpendPerCellLoader,k=a.keyMetric,l=a.level,m=a.setPowerEstimate;a=a.isQuestionBasedTestSetupEnabled;k=c("adsTALGetKPIObjective")({keyMetric:k,commonCampaignGroupObjectiveLoader:e});var n=d("Laminar").useProvider(c("AdsExperimentsPowerEstimateProvider"));j=j.map(function(a){return c("sumOfArray")(a)}).map(function(a){return d("AdsExperimentsBudgetUtils").convertToUSD(b,a)});f=d("AdsTALPowerEstimateUtils").getABTestPowerEstimateKey({accountLoader:c("LoadObject").withValue(b),cellCount:f,doesStudyContainIOS14AdEntitiesLoader:g,spendUSDLoader:j,level:l,kpiObjectiveLoader:k});var o=e.isLoadingOrEmpty()?c("LoadObject").loading():f.map(function(a){return n.get(a)});c("useAdsExperimentsLogPowerEstimates")({power:o.getValue(),powerKey:f.getValue()});i(function(){m(o)},[o,m]);j=d("AdsTALPowerEstimateUtils").getABTestPowerEstimateUnavailableMessage({kpiObjectiveLoader:k,doesStudyContainIOS14AdEntitiesLoader:g});return h.jsx(c("AdsExperimentsPowerTextWrapper.react"),{isQuestionBasedTestSetupEnabled:a,isReview:!1,powerEstimateLO:o,showTooltip:!0,unavailableMessageLO:j})};b=d("Laminar").laminarContainer(a);g["default"]=b},98);
__d("useAdsExperimentsEditMultiCellTestPowerEstimateField",["AdsExperimentsCommonTestSetupStrings","AdsExperimentsPowerEstimateContainer.react","LoadObject","emptyFunction","first","only","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.adAccount,e=a.campaignGroupObjectivesLoader,f=a.cellCount,g=a.editTestSettingState,i=a.estimatedSpendPerCellLoader,j=a.level;a=a.isQuestionBasedTestSetupEnabled;e=e.map(function(a){return c("only")(Array.from(a))});b=c("LoadObject").withValue(h.jsx(c("AdsExperimentsPowerEstimateContainer.react"),{adAccount:b,campaignGroupObjectiveLoader:e,cellCount:f,doesStudyContainIOS14AdEntitiesLoader:g.doesStudyContainIOS14AdEntitiesLoader,estimatedSpendPerCellLoader:i,isQuestionBasedTestSetupEnabled:a,keyMetric:c("first")(g.keyMetrics),level:j,setPowerEstimate:c("emptyFunction")}));return{key:"powerEstimate",label:d("AdsExperimentsCommonTestSetupStrings").POWER_ESTIMATE_LABEL,editNodeLoader:b}}g["default"]=a},98);
__d("getAdsExperimentsWinnerDeclarationItems",["AdsExperimentsCommonTestSetupStrings","GeoBaseText.react","geoMargin","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isQuestionBasedTestSetupEnabled;a=a.editableKeyMetricItem;b=h.jsxs(h.Fragment,{children:[h.jsx(c("GeoBaseText.react"),{color:b?"placeholder":"value",display:"block",size:"value",xstyle:b?c("geoMargin").bottom8:c("geoMargin").vert8,children:d("AdsExperimentsCommonTestSetupStrings").DETERMINE_WINNER_CHOOSE_KEY_METRIC_SUB_LABEL}),a]});return{editableItem:b}}g["default"]=a},98);
__d("useAdsExperimentCreateTestWinnerDeclarationValidator",["errorCode","fbt","AdsError","AdsExperimentsCreateTestCommonTypes","AdsExperimentsCreateTestStateUtils","react","useAdsExperimentsCreateTestValidator"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react").useCallback;function a(a){var b=a.setValidator,e=a.validatorKey,f=a.doCampaignGroupsHaveDifferentResultTypesLoader;a=j(function(a){var b=null;!f.isLoadingOrEmpty()&&a.keyMetrics.size===0&&(b=new(c("AdsError"))(1840047,i._("Selecciona la m\u00e9trica clave que se usar\u00e1 en esta prueba."),{level:c("AdsError").Level.WARN}));return a.errors.set(d("AdsExperimentsCreateTestStateUtils").adsExperimentsGetCreateTestErrorKey(e),{adsError:b,displayType:d("AdsExperimentsCreateTestCommonTypes").CreateTestErrorDisplayType.NOTICE})},[f,e]);var g=j(function(a){b(a)},[b]);c("useAdsExperimentsCreateTestValidator")({setValidator:g,validator:a})}g["default"]=a},98);
__d("AdsExperimentsMetricRecommendationConstants",["AdsAPIObjectives","AdsExperimentsPCMValidationUtils","adsExperimentsIsAppConversionSourceObjective"],function(a,b,c,d,e,f,g){"use strict";a=[{check:function(a){return d("AdsExperimentsPCMValidationUtils").isWebConversionSourceObjective(a)},totalTestSpendUSD:110},{check:function(a){return a===c("AdsAPIObjectives").MESSAGES},totalTestSpendUSD:20},{check:function(a){return a===c("AdsAPIObjectives").PAGE_LIKES},totalTestSpendUSD:10},{check:function(a){return a===c("AdsAPIObjectives").LEAD_GENERATION},totalTestSpendUSD:70},{check:function(a){return c("adsExperimentsIsAppConversionSourceObjective")(a)},totalTestSpendUSD:130}];g.OBJECTIVE_TO_SPEND_THRESHOLD_TO_RECOMMEND_CPC_MAP=a},98);
__d("AdsTALGetKeyMetricRecommendationUtils",["AdsExperimentsMetricRecommendationConstants","AdsReportBuilderMetrics","first"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.currentSelectedMetrics,c=a.metricsToAdd;a=a.metricsLimit;if(b.length>=a)return[];a=a-b.length;var d=new Set(b);b=c.filter(function(a){return!d.has(a)}).slice(0,a);return b}function b(a){var b=a.doAllCellsContainAdObjectLoader,e=a.objectivesLoader,f=a.totalTestSpendUSD;b=(a=b.getValue())!=null?a:!1;var g=(a=e.getValue())!=null?a:new Set();if(!b||g.size===0)return null;e=function(a){var b=d("AdsExperimentsMetricRecommendationConstants").OBJECTIVE_TO_SPEND_THRESHOLD_TO_RECOMMEND_CPC_MAP[a];a=Array.from(g).every(function(a){return b.check(a)});if(a&&f<b.totalTestSpendUSD)return{v:c("AdsReportBuilderMetrics").COST_PER_ACTION_TYPE_LINK_CLICK}};for(var a=0;a<d("AdsExperimentsMetricRecommendationConstants").OBJECTIVE_TO_SPEND_THRESHOLD_TO_RECOMMEND_CPC_MAP.length;a++){b=e(a);if(typeof b==="object")return b.v}var h=c("first")(Array.from(g));b=Array.from(g).every(function(a){return a===h});return b?c("AdsReportBuilderMetrics").COST_PER_RESULT:c("AdsReportBuilderMetrics").COST_PER_ACTION_TYPE_LINK_CLICK}g.getMetricsNotAlreadySelected=a;g.getRecommendMainMetric=b},98);
__d("useAdsExperimentsKeyMetricItems",["AdsExperimentsBudgetUtils","AdsExperimentsEventCategoryStrings","AdsExperimentsFunnelLogger","AdsSSCLEventSourceTypes","AdsShimmerBar.react","AdsTALGetKeyMetricRecommendationUtils","GeoBaseFormInputLayout.react","JSResource","LoadObject","lazyLoadComponent","react","removeFromArrayAtIndex","setInArray","sumOfArray"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k="cost_per_result",l="cost_per_action_type:omni_purchase",m=c("lazyLoadComponent")(c("JSResource")("AdsExperimentsEditableKeyMetricSectionContainer.react").__setRef("useAdsExperimentsKeyMetricItems"));function a(a){var b=a.accountLoader,e=a.adObjectIDs,f=a.adObjectLevel,g=a.customConversionsLoader,n=a.doCampaignGroupsHaveDifferentResultTypesLoader,o=a.doesStudyContainSomeButNotAllIOS14AdEntitiesLoader,p=a.doesStudyTargetsEUAndNonEURegion,q=a.doAllCellsContainAdObjectLoader,r=a.estimatedSpendPerCellLoader,s=a.objectivesLoader,t=a.resultPerformanceIndicatorLoader,u=a.getMetricName,v=a.usecase,w=a.keyMetrics,x=a.onChangeKeyMetrics,y=a.isShopAdsCreditSelected,z=a.enableUpperFunnelMetric,A=a.onChangeEnableUpperFunnelMetric,B=j(!1),C=b.getValue();a=C!=null?r.map(function(a){return c("sumOfArray")(a)}).map(function(a){return d("AdsExperimentsBudgetUtils").convertToUSD(C,a)}):c("LoadObject").empty();var D=d("AdsTALGetKeyMetricRecommendationUtils").getRecommendMainMetric({doAllCellsContainAdObjectLoader:q,objectivesLoader:s,totalTestSpendUSD:a.getValue()||0});i(function(){if(!B.current&&w.length===0&&!n.isLoadingOrEmpty()&&(y||!n.getValue())&&o.getValue()!==!0){B.current=!0;if(y)x(l,0);else{var a;x((a=D)!=null?a:k,0)}D!=null&&c("AdsExperimentsFunnelLogger").logCreationAction({name:"DEBUG",debugActionName:"recommend_main_metric",actionPayloadValues:new Map([["recommended_metric",D]])})}},[n,o,w.length,x,D,y]);var E=function(a,b){c("AdsExperimentsFunnelLogger").logCreationAction({name:"CHANGE_KEY_METRIC",addedMetric:a==null?void 0:a,index:b,metrics:a==null?c("removeFromArrayAtIndex")(w,b):c("setInArray")(w,b,a),removedMetric:a==null?w[b]:void 0}),y||x(a,b)},F=h.jsx(c("GeoBaseFormInputLayout.react"),{label:d("AdsExperimentsEventCategoryStrings").getEventsCategoryTitleCaseFbt(c("AdsSSCLEventSourceTypes").SPLIT_TEST_KPI),children:function(){return h.jsx(m,{accountLoader:b,adObjectIDs:e,adObjectLevel:f,customConversionListLO:g,doAllCellsContainAdObjectLoader:q,doesStudyContainSomeButNotAllIOS14AdEntitiesLoader:o,doesStudyTargetsEUAndNonEURegion:p,enableUpperFunnelMetric:z,errorMessage:null,getMetricName:u,hasDifferentResultTypes:!!n.getValue(),isShopAdsCreditSelected:y,recommendedMetrics:D!=null?[D]:[],resultPerformanceIndicatorLoader:t,selectedKeyMetrics:w,usecase:v,onChangeEnableUpperFunnelMetric:A,onSelectKeyMetric:E})}});return n.match({empty:function(){return{editableItem:null}},error:function(){return{editableItem:null}},loading:function(){return{editableItem:h.jsx(c("AdsShimmerBar.react"),{height:15,isFullBleed:!0})}},loaded:function(){return{editableItem:F}}})}g["default"]=a},98);
__d("useAdsExperimentsWinnerDeclarationField",["AdsExperimentsCommonTestSetupStrings","AdsExperimentsCreateTestStateUtils","LoadObject","getAdsExperimentsWinnerDeclarationItems","react","useAdsExperimentCreateTestWinnerDeclarationValidator","useAdsExperimentsKeyMetricItems"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j="winner_declaration";function a(a){var b=a.account,e=a.adObjectIDs,f=a.adObjectLevel,g=a.doesStudyContainIOS14AdEntitiesLoader,k=a.customConversionsLoader,l=a.doCampaignGroupsHaveDifferentResultTypesLoader,m=a.doesStudyContainSomeButNotAllIOS14AdEntitiesLoader,n=a.doesStudyTargetsEUAndNonEURegion,o=a.doAllCellsContainAdObjectLoader,p=a.estimatedSpendPerCellLoader,q=a.objectivesLoader,r=a.getMetricName,s=a.keyMetrics,t=a.resultPerformanceIndicatorLoader,u=a.onChangeKeyMetrics,v=a.setDoesStudyContainIOS14AdEntitiesLoader,w=a.setValidator,x=a.isQuestionBasedTestSetupEnabled,y=a.isShopAdsCreditSelected,z=a.enableUpperFunnelMetric;a=a.onChangeEnableUpperFunnelMetric;var A=h(function(a){w({validator:a,validatorKey:d("AdsExperimentsCreateTestStateUtils").adsExperimentsGetCreateTestErrorKey(j)})},[w]);c("useAdsExperimentCreateTestWinnerDeclarationValidator")({setValidator:A,validatorKey:j,doCampaignGroupsHaveDifferentResultTypesLoader:l});i(function(){v(g)},[g,v]);A=c("useAdsExperimentsKeyMetricItems")({accountLoader:c("LoadObject").withValue(b),adObjectIDs:e,adObjectLevel:f,customConversionsLoader:k,getMetricName:r,doCampaignGroupsHaveDifferentResultTypesLoader:l,doesStudyContainSomeButNotAllIOS14AdEntitiesLoader:m,doAllCellsContainAdObjectLoader:o,doesStudyTargetsEUAndNonEURegion:n,estimatedSpendPerCellLoader:p,resultPerformanceIndicatorLoader:t,objectivesLoader:q,usecase:null,keyMetrics:s,onChangeKeyMetrics:u,isShopAdsCreditSelected:y,enableUpperFunnelMetric:z,onChangeEnableUpperFunnelMetric:a});e=A.editableItem;f=c("getAdsExperimentsWinnerDeclarationItems")({editableKeyMetricItem:e,isQuestionBasedTestSetupEnabled:x,account:b});k=f.editableItem;return{key:j,label:d("AdsExperimentsCommonTestSetupStrings").DETERMINE_WINNER_LABEL,editNodeLoader:c("LoadObject").withValue(k)}}g["default"]=a},98);
__d("AdsExperimentsEditTestSettingModal.react",["fbt","AdStudyGraphAPIUtils","AdsExperimentsCommonTestSetupStrings","AdsExperimentsCreateTestSummaryList.react","AdsExperimentsEditTestSettingStateReducer","AdsExperimentsFunnelLogger","AdsExperimentsGetObjectivesOptimizationGoalsAndPromotedObjectTypesUtils","AdsFluxHooks","AdsLoadObjectUtils","AdsObjectUtils","AdsStaticGuidanceCard.react","AdsTALGetEstimatedBudgetUtils","AdsTALSplitTestUtils","AdsTALStringUtils","DateTime","GeoButton.react","GeoCancelButton.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","GeoSpinner.react","GeoText.react","LoadObject","adsAccountGK","adsCreateStructuredSelector","adsExperimentsCreateEventForSplitTestKPI","adsExperimentsCustomConversionsLoaderSelector","adsExperimentsDoCampaignGroupsHaveDifferentResultTypes","adsExperimentsDoesStudyContainIOS14AdEntitiesSelector","adsExperimentsDoesStudyContainSomeButNotAllIOS14AdEntitiesSelector","adsExperimentsDoesStudyTargetsEUAndNonEURegionSelector","adsExperimentsDoesStudyUseDelayedMetricsSelector","adsExperimentsGetMaybeCampaignGroupObjectiveFromODAXOutcome","adsExperimentsGetMetricNameSelector","adsExperimentsGetStudyObjectivesFromEvents","adsExperimentsPerformanceIndicatorsSelector","adsExperimentsScheduleOverlappingUtils","compactArray","geoMargin","immutable","only","promiseDone","react","useAdsExperimentsCreateTestNameField","useAdsExperimentsCreateTestScheduleField","useAdsExperimentsEditMultiCellTestPowerEstimateField","useAdsExperimentsWinnerDeclarationField"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=d("react");var j=a.useCallback,k=a.useEffect,l=a.useMemo,m=a.useReducer,n=a.useState,o=c("adsCreateStructuredSelector")({doesStudyContainIOS14AdEntitiesLoader:c("adsExperimentsDoesStudyContainIOS14AdEntitiesSelector"),doesStudyContainSomeButNotAllIOS14AdEntitiesLoader:c("adsExperimentsDoesStudyContainSomeButNotAllIOS14AdEntitiesSelector"),doesStudyTargetsEUAndNonEURegion:c("adsExperimentsDoesStudyTargetsEUAndNonEURegionSelector"),customConversionsLoader:c("adsExperimentsCustomConversionsLoaderSelector"),getMetricName:c("adsExperimentsGetMetricNameSelector"),resultPerformanceIndicatorsLoader:c("adsExperimentsPerformanceIndicatorsSelector"),usesDelayedMetrics:c("adsExperimentsDoesStudyUseDelayedMetricsSelector")},f.id+".stateSelector");b=function(a){var b=a.account,e=a.adObjectIDsInTest,f=a.campaignGroupWithCampaignsPerCell,g=a.logger,p=a.study,q=a.studyType,r=a.studyLevel,s=a.onHide,t=a.onSaveTestSetting;k(function(){c("AdsExperimentsFunnelLogger").logCreationAction({name:"VIEW_CONFIGURATION_COMPONENT",componentAction:"VIEW_TEST_SETTINGS",componentName:"ads_manager_editor"})},[]);a=n(!1);var u=a[0],v=a[1];a=n(!1);var w=a[0],x=a[1];a=m(d("AdsExperimentsEditTestSettingStateReducer").adsExperimentsEditTestSettingReducer,{testName:p.name,doesStudyContainIOS14AdEntitiesLoader:c("LoadObject").loading(),endStudyCriteria:p.end_study_criteria,endTime:c("DateTime").fromISOString(p.observation_end_time,b.timezone_id),fieldsModifiedByUser:c("immutable").Set(),startTime:c("DateTime").fromISOString(p.cooldown_start_time,b.timezone_id),studyType:q,question:p.sscl_question,errors:c("immutable").Map(),validators:c("immutable").Map(),keyMetrics:c("immutable").List(d("AdsTALSplitTestUtils").getAllKeyMetricsForSplitTest(p)),enableUpperFunnelMetric:p.enable_upper_funnel_metric});var y=a[0],z=a[1],A=l(function(){var a=[];for(var b=f,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e=e.campaigns.getValue();e!=null&&a.push.apply(a,e)}return a},[f]);q=f.map(function(a){return a.campaignGroup.getValue()});a=r==="ad_set"?d("adsExperimentsScheduleOverlappingUtils").getOverlapforAdObjects(A,b.timezone_id):r==="campaign"?d("adsExperimentsScheduleOverlappingUtils").getOverlapforAdObjects(q,b.timezone_id):null;var B=l(function(){return d("AdsLoadObjectUtils").all(f.map(function(b){var a=b.campaignGroup,d=b.campaigns;return a.map(function(a){return c("adsExperimentsGetMaybeCampaignGroupObjectiveFromODAXOutcome")({campaignGroupObjective:a.objective,campaignsLoader:d})})})).map(function(a){return c("immutable").Set(c("compactArray")(a))})},[f]);q=d("AdsLoadObjectUtils").all(f.map(function(a){return d("AdsLoadObjectUtils").all([a.campaignGroup,a.campaigns]).map(function(b){var a=b[0];b=b[1];return d("AdsExperimentsGetObjectivesOptimizationGoalsAndPromotedObjectTypesUtils").getObjectiveOptimizationGoalAndPromotedObjectType({campaignGroup:a,campaigns:b,ignoreODAX:!1})})})).map(function(a){return d("AdsExperimentsGetObjectivesOptimizationGoalsAndPromotedObjectTypesUtils").getUniqueObjectivesOptimizationGoalsAndPromotedObjectTypes({cellHasMultipleObjectives:!1,objectivesOptimizationGoalsAndPromotedObjectTypes:a})});var C=l(function(){return{account:b,adEntityIDs:e,adObjectType:c("AdsObjectUtils").getObjectTypeFromAdObjectLevelsType(r),campaignGroupObjectivesLoader:B,keyMetrics:y.keyMetrics.toArray(),campaignsInTest:A}},[b,e,A,B,y.keyMetrics,r]);C=d("AdsFluxHooks").useAdsSelector(o,C);var D=C.doesStudyContainIOS14AdEntitiesLoader,E=C.doesStudyContainSomeButNotAllIOS14AdEntitiesLoader,F=C.doesStudyTargetsEUAndNonEURegion,G=C.customConversionsLoader,H=C.getMetricName,I=C.resultPerformanceIndicatorsLoader;C=C.usesDelayedMetrics;var J=I.map(function(a){return c("only")(a)});q=d("AdsLoadObjectUtils").all([q,I]).map(function(a){var b=a[0];a=a[1];return d("adsExperimentsDoCampaignGroupsHaveDifferentResultTypes").doCampaignGroupsHaveDifferentResultTypes({resultPerformanceIndicators:a,objectivesOptimizationGoalsAndPromotedObjectTypes:b})});I=j(function(a){var b=a.validator;a=a.validatorKey;z({type:"setValidator",field:a,validator:b})},[z]);var K=j(function(a){return z({type:"setTestName",value:a})},[]),L=j(function(a){return z({type:"setFieldModifiedByUser",field:a})},[z]);L=c("useAdsExperimentsCreateTestNameField")({defaultTitle:h._("{study name}",[h._param("study name",p.name)]),fieldsModifiedByUser:y.fieldsModifiedByUser,logger:g,currentTestName:y.testName,setFieldModifiedByUser:L,setTestName:K,setValidator:I});K=j(function(a){return z({type:"setStartTime",value:a})},[]);var M=j(function(a){return z({type:"setEndTime",value:a})},[]);g=c("useAdsExperimentsCreateTestScheduleField")({adAccount:b,logger:g,question:y.question,errors:y.errors,studyType:y.studyType,startTime:y.startTime,endStudyCriteria:y.endStudyCriteria,endTime:y.endTime,setStartTime:K,setEndStudyCriteria:null,setEndTime:M,setValidator:I,usesDelayedMetrics:C,isQuestionBasedTestSetupEnabled:!1,overlappingDuration:a,isShopAdsCreditSelected:!1,isAAAStudyCreation:!1});K=j(function(a,b){z({type:"setKeyMetric",metric:a,index:b})},[]);M=j(function(a){c("AdsExperimentsFunnelLogger").logCreationAction({name:"TOGGLE_ENABLE_UPPER_FUNNEL_METRIC",oldValue:!a,newValue:a}),z({type:"setEnableUpperFunnelMetric",enableUpperFunnelMetric:a})},[]);C=j(function(a){return z({type:"setDoesStudyContainIOS14AdEntitiesLoader",doesStudyContainIOS14AdEntitiesLoader:a})},[]);a=[];var N=!1;for(var O=0;O<f.length;O++){var P=f[O];if(P.campaignGroup.isLoading()||P.campaigns.isLoading()){N=!0;break}var Q=P.campaignGroup.getValue();if(Q==null)a.push(0);else{Q=d("AdsTALGetEstimatedBudgetUtils").getCampaignGroupApproximateBudgetForTestSchedule({campaignGroup:Q,campaigns:P.campaigns.getValue()||[],testSchedule:{startTime:(Q=y.startTime)==null?void 0:Q.getUnixTimestampSeconds(),endTime:(P=y.endTime)==null?void 0:P.getUnixTimestampSeconds()}});a.push(Math.round(Q.approximateTotalBudget))}}P=N?c("LoadObject").loading():c("LoadObject").withValue(a);Q=c("useAdsExperimentsWinnerDeclarationField")({account:b,adObjectIDs:e,adObjectLevel:r,doesStudyContainIOS14AdEntitiesLoader:D,customConversionsLoader:G,doCampaignGroupsHaveDifferentResultTypesLoader:q,doesStudyContainSomeButNotAllIOS14AdEntitiesLoader:E,doAllCellsContainAdObjectLoader:c("LoadObject").withValue(!0),doesStudyTargetsEUAndNonEURegion:F,estimatedSpendPerCellLoader:P,objectivesLoader:B,getMetricName:H,keyMetrics:y.keyMetrics.toArray(),resultPerformanceIndicatorLoader:J,setDoesStudyContainIOS14AdEntitiesLoader:C,onChangeKeyMetrics:K,setValidator:I,isQuestionBasedTestSetupEnabled:!1,isShopAdsCreditSelected:!1,enableUpperFunnelMetric:y.enableUpperFunnelMetric,onChangeEnableUpperFunnelMetric:M});var R=d("AdsExperimentsEditTestSettingStateReducer").getAdsExperimentsEditTestSettingReadyState(y);O=j(function(){if(R){v(!0);x(!1);var a=R.startTime.getUnixTimestampSeconds(),b=R.endTime.getUnixTimestampSeconds(),e=c("immutable").List(R.keyMetrics.map(c("adsExperimentsCreateEventForSplitTestKPI")));c("promiseDone")(d("AdStudyGraphAPIUtils").updateStudy({id:p.id,name:R.testName,cooldown_start_time:a,start_time:a,end_time:b,observation_end_time:b,objectives:c("adsExperimentsGetStudyObjectivesFromEvents")(e),type:R.studyType,enable_upper_funnel_metric:R.enableUpperFunnelMetric===!0}).then(function(a){c("AdsExperimentsFunnelLogger").logCreationAction({name:"DEBUG",debugActionName:"VIEW_AM_EDITOR_TEST_SETTINGS_UPDATE_SUCCESS"}),v(!1),t(),s()},function(a){c("AdsExperimentsFunnelLogger").logCreationAction({name:"DEBUG",debugActionName:"VIEW_AM_EDITOR_TEST_SETTINGS_UPDATE_ERROR",actionPayloadValues:new Map([["error",a]])}),v(!1),x(!0)}))}else s()},[b,R,s,t,p.id]);N=c("useAdsExperimentsEditMultiCellTestPowerEstimateField")({adAccount:b,campaignGroupObjectivesLoader:B,cellCount:p.cells.data.length,editTestSettingState:y,estimatedSpendPerCellLoader:P,level:r,isQuestionBasedTestSetupEnabled:!1});a=[L,"divider",g,"divider",Q];D=!c("adsAccountGK")._(b,"xN6et6ZT");D&&a.push("divider",N);return i.jsx(c("GeoModal.react"),{"data-testid":void 0,footer:i.jsx(c("GeoModalFooter.react"),{primaryButton:i.jsx(c("GeoButton.react"),{"data-testid":void 0,isDisabled:!R||u,label:h._("Confirmar"),tooltip:R?null:d("AdsExperimentsCommonTestSetupStrings").EDIT_TEST_SETTING_CTA_DISABLED_MESSGAE,variant:"primary",onClick:O}),secondaryButton:i.jsx(c("GeoCancelButton.react"),{isDisabled:u})}),header:i.jsx(c("GeoModalHeader.react"),{heading:d("AdsTALStringUtils").TEST_SETTINGS_TITLE}),isShown:!0,onHide:s,children:u?i.jsx(c("GeoSpinner.react"),{center:!0}):i.jsxs(c("GeoSection.react"),{children:[i.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom16,children:d("AdsTALStringUtils").TEST_SETTINGS_DESCRIPTION}),i.jsx(c("AdsExperimentsCreateTestSummaryList.react"),{errors:y.errors,isQuestionBasedTestSetupEnabled:!1,items:a}),w?i.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{category:"ERROR",header:h._("Se ha producido un error al actualizar la configuraci\u00f3n de tu test."),hideXout:!0,messageID:"ads_tal_edit_test_setting_modal",textData:[{type:"PARAGRAPH",data:{text:h._("Se ha producido un error. Vuelve a intentarlo m\u00e1s tarde.")}}]}}):null]})})};e=d("AdsFluxHooks").adsFluxContainer(b,null,{containerName:f.id});g["default"]=e},98);
__d("AdsExperimentsEditCampaignGroupLevelTestSettingModalContainer.react",["AdsExperimentsEditTestSettingModal.react","AdsFluxHooks","adsCreateStructuredSelector","adsExperimentsGetCampaignGroupWithCampaignSelector","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("adsCreateStructuredSelector")({campaignGroupWithCampaignsPerCell:c("adsExperimentsGetCampaignGroupWithCampaignSelector")},f.id+".stateSelector");a=function(a){var b=a.account,e=a.draftCampaignGroupIDs,f=a.logger,g=a.study,k=a.studyType,l=a.onHide;a=a.onSaveTestSetting;var m=i(function(){var a=e!=null?new Set(e):new Set();g.cells.data.forEach(function(b){b.campaign_ids!=null&&b.campaign_ids.forEach(function(b){return a.add(b)})});return a},[e,g.cells.data]),n=i(function(){return{campaignGroupIDs:Array.from(m),accountID:b.account_id}},[b.account_id,m]);n=d("AdsFluxHooks").useAdsSelector(j,n);n=n.campaignGroupWithCampaignsPerCell;return h.jsx(c("AdsExperimentsEditTestSettingModal.react"),{account:b,adObjectIDsInTest:Array.from(m),campaignGroupWithCampaignsPerCell:n,logger:f,study:g,studyLevel:"campaign",studyType:k,onHide:l,onSaveTestSetting:a})};b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsExperimentsEditCampaignLevelTestSettingModalContainer.react",["AdsEditingCampaignContext","AdsExperimentsEditTestSettingModal.react","AdsFluxHooks","AdsUEditorContextFactory","adsCreateStructuredSelector","adsExperimentsGetCampaignWithParentSelector","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("adsCreateStructuredSelector")({campaignGroupWithCampaignsPerCell:c("adsExperimentsGetCampaignWithParentSelector")},f.id+".stateSelector");a=function(a){var b=a.account,e=a.draftCampaignIDs,g=a.logger,k=a.study,l=a.studyType,m=a.onHide;a=a.onSaveTestSetting;var n=i(function(){var a=e!=null?new Set(e):new Set();k.cells.data.forEach(function(b){b.adset_ids!=null&&b.adset_ids.forEach(function(b){return a.add(b)})});return a},[e,k.cells.data]),o=d("AdsUEditorContextFactory").getForIDs(c("AdsEditingCampaignContext"),Array.from(n),f.id);o=d("AdsFluxHooks").useAdsSelector(j,o,o);o=o.campaignGroupWithCampaignsPerCell;return h.jsx(c("AdsExperimentsEditTestSettingModal.react"),{account:b,adObjectIDsInTest:Array.from(n),campaignGroupWithCampaignsPerCell:o,logger:g,study:k,studyLevel:"ad_set",studyType:l,onHide:m,onSaveTestSetting:a})};b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b},98);
__d("AdsExperimentsDraftABTestSummaryCardSection.react",["fbt","AdsCampaignStructureActionUtils","AdsEditorLogging","AdsExperimentsCreateABTestLogger","AdsExperimentsCreateTestReviewItem.react","AdsExperimentsCreateTestReviewKeyMetricFields.react","AdsExperimentsCreateTestReviewNameField.react","AdsExperimentsCreateTestReviewScheduleField.react","AdsExperimentsEditCampaignGroupLevelTestSettingModalContainer.react","AdsExperimentsEditCampaignLevelTestSettingModalContainer.react","AdsFluxHooks","AdsObjectTypes","DateTime","FlexLayout.react","GeoBaseText.react","GeoButton.react","GeoLink.react","adsCreateStructuredSelector","adsExperimentsGetMetricNameSelector","geoMargin","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k=c("adsCreateStructuredSelector")({getMetricName:c("adsExperimentsGetMetricNameSelector")},f.id+".stateSelector");a=d("AdsFluxHooks").adsFluxContainer(function(a){var b=a.account,e=a.adObjectIDsInTest,f=a.adObjectLevel,g=a.study;a=a.onSaveTestSetting;var l=d("AdsFluxHooks").useAdsSelector(k);l=l.getMetricName;var m=j(!1),n=m[0],o=m[1];m=j(function(){return new(c("AdsExperimentsCreateABTestLogger"))("draft_test_setting_card")});m=m[0];var p=f==="campaign"?h._("Campa\u00f1as en fase de test"):f==="ad_set"?h._("Conjuntos de anuncios en fase de test"):null,q=e.map(function(a){return i.jsx(c("GeoLink.react"),{onClick:function(){d("AdsCampaignStructureActionUtils").updateNavigationState([a],f==="campaign"?c("AdsObjectTypes").CAMPAIGN_GROUP:c("AdsObjectTypes").CAMPAIGN,[],d("AdsEditorLogging").sources.CAMPAIGN_STRUCTURE_TREE)},children:i.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"truncate",size:"value",children:h._("Identificador: {adObjectID}",[h._param("adObjectID",a)])})},a)});return i.jsxs(c("FlexLayout.react"),{direction:"vertical",children:[p!==null&&e.length>0?i.jsx(c("AdsExperimentsCreateTestReviewItem.react"),{content:i.jsx(c("FlexLayout.react"),{direction:"vertical",children:q}),label:p}):null,i.jsx(c("AdsExperimentsCreateTestReviewNameField.react"),{testName:g.name}),i.jsx(c("AdsExperimentsCreateTestReviewScheduleField.react"),{endStudyCriteria:g.end_study_criteria,endTime:c("DateTime").fromISOString(g.end_time,b.timezone_id),startTime:c("DateTime").fromISOString(g.start_time,b.timezone_id),timezoneID:b.timezone_id}),i.jsx(c("AdsExperimentsCreateTestReviewKeyMetricFields.react"),{getMetricName:l,keyMetrics:(((q=g.objectives)==null?void 0:q.data)||[]).map(function(a){return a.name||""})}),f==="campaign"||f==="ad_set"?i.jsx(c("GeoButton.react"),{"data-testid":void 0,label:h._("Editar configuraci\u00f3n de test"),xstyle:c("geoMargin").top8,onClick:function(){return o(!0)}}):null,n?f==="campaign"?i.jsx(c("AdsExperimentsEditCampaignGroupLevelTestSettingModalContainer.react"),{account:b,draftCampaignGroupIDs:e,logger:m,study:g,studyType:"SPLIT_TEST_V2",onHide:function(){return o(!1)},onSaveTestSetting:a}):f==="ad_set"?i.jsx(c("AdsExperimentsEditCampaignLevelTestSettingModalContainer.react"),{account:b,draftCampaignIDs:e,logger:m,study:g,studyType:"SPLIT_TEST_V2",onHide:function(){return o(!1)},onSaveTestSetting:a}):null:null]})},null,{containerName:f.id});g["default"]=a},98);
__d("AdsExperimentsDraftABTestSummaryCardContainer.react",["fbt","ix","AdStudiesLoader","AdStudyPHPConstants","AdsCard.react","AdsExperimentsDraftABTestSetupGuidanceStrings","AdsExperimentsDraftABTestSummaryCardSection.react","AdsFluxHooks","AdsSplitTestStrings","FlexLayout.react","GeoSpinner.react","GeoText.react","Image.react","LoadObject","geoMargin","react","useLoadObject"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=d("react");var k=a.useCallback,l=a.useEffect,m=a.useRef,n=a.useState;b=d("AdsFluxHooks").adsFluxContainer(function(a){var b=a.account,e=a.adObjectIDsInTest,f=a.adObjectLevel,g=a.studyID;a=k(function(){return d("AdStudiesLoader").loadAdStudy(g)},[g]);var o=m(!1);l(function(){o.current||(o.current=!0);return function(){o.current=!1}},[]);a=c("useLoadObject")(a);var p=a[0];a=n(c("LoadObject").empty());var q=a[0],r=a[1];l(function(){p.match({loaded:function(a){return r(c("LoadObject").withValue(a))},loading:function(){return r(c("LoadObject").loading())},error:function(a){return r(c("LoadObject").withError(a))},empty:function(){return r(c("LoadObject").empty())}})},[p]);var s=function(a){return j.jsx(c("AdsCard.react"),{"data-testid":void 0,header:j.jsx(c("AdsCard.react").Header,{title:d("AdsSplitTestStrings").COMPLETE_SPLIT_TEST_SETUP}),children:j.jsxs(c("AdsCard.react").Section,{children:[j.jsxs(c("FlexLayout.react"),{direction:"vertical",children:[j.jsx(c("Image.react"),{src:i("163086")}),j.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").vert8,children:d("AdsExperimentsDraftABTestSetupGuidanceStrings").getCompleteAbTestSetupGuidanceString(f)})]}),a]})})};return q.match({loaded:function(a){return a.status!==d("AdStudyPHPConstants").AdStudyStatus.DRAFT?null:s(j.jsx(c("AdsExperimentsDraftABTestSummaryCardSection.react"),{account:b,adObjectIDsInTest:e,adObjectLevel:f,study:a,onSaveTestSetting:function(){r(c("LoadObject").loading()),d("AdStudiesLoader").loadAdStudy(g).then(function(a){o.current&&r(c("LoadObject").withValue(a))})["catch"](function(a){o.current&&r(c("LoadObject").withError(a))})}}))},loading:function(){return j.jsx(c("GeoSpinner.react"),{center:!0})},error:function(a){return s(j.jsx(c("GeoText.react"),{children:h._("Se ha producido un error al cargar los detalles de la configuraci\u00f3n del test. Actualiza la p\u00e1gina y vuelve a intentarlo.")}))},empty:function(){return null}})},null,{containerName:f.id});g["default"]=b},98);
__d("AdsExperimentsCampaignDraftABTestSummarySectionContainer.react",["AdsExperimentsDraftABTestSummaryCardContainer.react","AdsUEditorContainer.react","adsCreateStructuredSelector","adsExperimentsUEditorDraftABTestSummaryDataForCampaignSelector","adsUEditorAccountSelector","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=c("adsCreateStructuredSelector")({account:c("adsUEditorAccountSelector"),studyDataLoader:c("adsExperimentsUEditorDraftABTestSummaryDataForCampaignSelector")},f.id+".AdsExperimentsCampaignDraftABTestSummarySectionSelector");function a(a){var b=a.account;a=a.studyDataLoader;a=a.getValue();var d=a==null?void 0:a.studyID;return a!=null&&d!=null?h.jsx(c("AdsExperimentsDraftABTestSummaryCardContainer.react"),{account:b,adObjectIDsInTest:a.adObjectIDs,adObjectLevel:a.adObjectLevel,studyID:d}):null}e=d("AdsUEditorContainer.react").createCampaignContainer(a,b,f.id);g["default"]=e},98);
__d("adsUEditorAdgroupIsWebsiteOrCanvasEnabledForPostEngagementSelector",["AdsAPIAdgroupRecordUtils","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsArLinkUtils","AdsBulkValueUtils","AdsCallToActionTypes","AdsCanvasAdUtils","AdsEmptyUniformMixedBulkValueTypes","AdsODAXUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignGroupAdObjectsUtils","AdsWhatsAppUtils","adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAdgroupArAdsIsEligibleSelector","isTruthy"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdObjectsForSelectedAdgroupsSelector"),d("adsUEditorAdgroupArAdsIsEligibleSelector").adsUEditorAdgroupArAdsIsEligibleSelector],function(a,b){var e={isWebsiteOrCanvasEnabledForPostEngagement:c("AdsEmptyUniformMixedBulkValueTypes")};a=a.map(function(a){var e=a.adgroup,f=a.campaign,g=d("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a);a=d("AdsUEditorCampaignGroupAdObjectsUtils").getObjective(a);var h=d("AdsAPICampaignRecordUtils").getPromotedObjectType(a,f);a=d("AdsODAXUtils").maybeTranslateObjective(a,h,f.optimization_goal);h=d("AdsAPIAdgroupRecordUtils").getCallToActionType(e,g);f=d("AdsCanvasAdUtils").isCanvasDestinationEnabled(e);var i=h===c("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.name;g=d("AdsCanvasAdUtils").isCanvasDestinationEnabled(e)||b&&d("AdsArLinkUtils").isArAd(e,g);e=d("AdsAPIAdgroupRecordUtils").isInstantCheckoutEnabled(e);e=!e&&c("isTruthy")(h)&&!f&&!i&&!d("AdsWhatsAppUtils").isWhatsAppCTAType(h);return{isWebsiteOrCanvasEnabledForPostEngagement:(e||g)&&a===c("AdsAPIObjectives").POST_ENGAGEMENT}});e=d("AdsBulkValueUtils").aggregateDeep(e,a);return{isWebsiteOrCanvasEnabledForPostEngagement:e.isWebsiteOrCanvasEnabledForPostEngagement}},{name:f.id});b=a;g["default"]=b},98);
__d("adsUEditorAdgroupAddDestinationToggleSelector",["AdsODAXUtils","adsCreateSelector","adsUEditorAdgroupCanvasCheckboxSelector","adsUEditorAdgroupHasAddWebsiteEligibilitySelector","adsUEditorAdgroupHasPollOptionLinkSelector","adsUEditorAdgroupIsWebsiteOrCanvasEnabledForPostEngagementSelector","adsUEditorAdgroupLinkToggleSelector","adsUEditorAdgroupTextTranslationFieldSelector","adsUEditorHasDOFAdgroupSelector"],function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdgroupTextTranslationFieldSelector"),c("adsUEditorAdgroupHasPollOptionLinkSelector"),c("adsUEditorAdgroupHasAddWebsiteEligibilitySelector"),c("adsUEditorAdgroupLinkToggleSelector"),c("adsUEditorAdgroupCanvasCheckboxSelector"),c("adsUEditorAdgroupIsWebsiteOrCanvasEnabledForPostEngagementSelector"),c("adsUEditorHasDOFAdgroupSelector")],function(a,b,c,e,f,g,h){var i=a.adgroupLanguagesCount;a=a.campaignGroup;var j=e.adgroupIDs,k=e.bulkIsPAC,l=e.bulkIsWebsiteLinkEnabled,m=e.isDCOAdgroup,n=e.hasDCAssetCustomizationAssetFeed,o=e.assetCustomizationCallToActionEnabledList;e=e.isOptionalLinkAllowedForPAC;var p=f.isCanvasCheckboxChecked,q=f.isPlayableUploadV2CheckboxChecked,r=f.shouldShowBlockerDialogOnToggle,s=f.shouldShowRemoveUnsupportedCustomizationsDialog,t=f.isPlayableAssetSupported,u=f.isFacebookLoginSupported;f=f.accountID;g=g.isWebsiteOrCanvasEnabledForPostEngagement;return{adgroupIDs:j,bulkIsPAC:k,bulkIsWebsiteLinkEnabled:l,dloLanguageCount:i,isDCOAdgroup:m,hasDCAssetCustomizationAssetFeed:n,hasPollOptionLink:b,objective:d("AdsODAXUtils").maybeTranslateObjective(a.objective),assetCustomizationCallToActionEnabledList:o,isOptionalLinkAllowedForPAC:e,isDesktopOnlyVideoFeed:c,isCanvasCheckboxChecked:p,isPlayableUploadV2CheckboxChecked:q,shouldShowBlockerDialogOnToggle:r,shouldShowRemoveUnsupportedCustomizationsDialog:s,isPlayableAssetSupported:t,isFacebookLoginSupported:u,accountID:f,isWebsiteOrCanvasEnabledForPostEngagement:g,hasDOF:h}},{name:f.id+".adsUEditorAdgroupAddDestinationToggleSelector"});b=a;g["default"]=b},98);
__d("AdsUEditorAdgroupAddDestinationToggleContainer.react",["AdsAddDestinationCheckboxToggle.react","AdsBulkValueUtils","AdsUEditorAdgroupAddWebsiteDestinationToggleUtils","AdsUEditorAdgroupCanvasToggleUtils","AdsUEditorContainer.react","AdsUEditorContextType","adsUEditorAdgroupAddDestinationToggleSelector","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="add_destination_checkbox";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.context={},c.onChange=function(a){a=a.getValue();var b={adgroupIDs:c.props.adgroupIDs,objective:c.props.objective,shouldShowBlockerDialogOnToggle:c.props.shouldShowBlockerDialogOnToggle,shouldShowRemoveUnsupportedCustomizationsDialog:c.props.shouldShowRemoveUnsupportedCustomizationsDialog,isPlayableAssetSupported:c.props.isPlayableAssetSupported,isFacebookLoginSupported:c.props.isFacebookLoginSupported,accountID:c.props.accountID},e={adgroupIDs:c.props.adgroupIDs,assetCustomizationRuleIndex:c.props.assetCustomizationRuleIndex,bulkIsPAC:c.props.bulkIsPAC,dloLanguageCount:c.props.dloLanguageCount,hasDCAssetCustomizationAssetFeed:c.props.hasDCAssetCustomizationAssetFeed,objective:c.props.objective,isOptionalLinkAllowedForPAC:c.props.isOptionalLinkAllowedForPAC},f=c.context.adgroupEditorContext;a?d("AdsUEditorAdgroupCanvasToggleUtils").handleCanvasToggle(!a,f.hostID,b):(d("AdsUEditorAdgroupCanvasToggleUtils").handleCanvasToggle(a,f.hostID,b),d("AdsUEditorAdgroupAddWebsiteDestinationToggleUtils").handleAddWebsiteDestination(a,f.hostID,e))},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=[this.props.bulkIsWebsiteLinkEnabled,this.props.isCanvasCheckboxChecked,this.props.isWebsiteOrCanvasEnabledForPostEngagement,this.props.isPlayableUploadV2CheckboxChecked];a=d("AdsBulkValueUtils").parallelIterator(function(a){var b=a[0],c=a[1],d=a[2];a=a[3];return b||c||d||a},a);var b=this.props.hasDOF;return h.jsx("div",{id:i,children:h.jsx(c("AdsAddDestinationCheckboxToggle.react"),{disabled:b,value:a,onChange:this.onChange})})};return b}(h.PureComponent);a.contextTypes=c("AdsUEditorContextType").adgroup;b=d("AdsUEditorContainer.react").createAdgroupContainer(a,c("adsUEditorAdgroupAddDestinationToggleSelector"),f.id);g["default"]=b},98);