if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MessagingTag",[],function(a,b,c,d,e,f){e.exports={ACTION_ARCHIVED:"action:archived",INBOX:"inbox",MARKETPLACE_FOLDER:"marketplace_folder",PENDING:"pending",MONTAGE:"montage",OTHER:"other",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",UNREAD:"unread",FLAGGED:"flagged",GROUPS:"groups",TRANSITIONAL_MAILBOX:"transitional_mailbox",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",BC_PARTNERSHIP:"bc_partnership",ROOM:"room",PAGES:"pages",PAGE_BACKGROUND:"page_background",PAGE_FOLLOWUP:"page_followup",ONE_CLICK_MESSAGE:"page_one_click_message",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",ONE_WAY_MESSAGE:"one_way_message",ACTION_COPIED_MESSAGE:"action:copy_message",ACTION_COPIED_SELF_MESSAGE:"copy_self_message",ACTION_COPIED_ATTACHMENT:"action:copy_attachment",ACTION_COPIED_SELF_ATTACHMENT:"copy_self_attachment",STORY_REPLY:"story_reply",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked",FOLDER_COMMUNITY:"community",FOLDER_RESTRICTED:"restricted",FOLDER_BC_PARTNERSHIP:"bc_partnership",FOLDER_E2EE_CUTOVER:"e2ee_cutover"}}},null);
__d("VideoChannelCallerToPlayerOriginMap",[],function(a,b,c,d,e,f){e.exports={internal:"unknown",www_feed_pivots:"newsfeed",www_feed_snowlift:"unknown",misc_photo_set:"unknown",mobile:"unknown",search:"search",www_feed_rhc:"newsfeed",www_notification:"notifications",www_permalink:"permalink",www_permalink_rhc:"permalink",www_permalink_rhc_from_notification:"notifications",my_video_channels_ent_query:"unknown",top_followed_video_channels_ent_query:"unknown",badge:"unknown",pagination:"unknown",subtitle:"unknown",channel_view_from_unknown:"unknown",channel_view_from_newsfeed:"newsfeed",channel_view_from_explorefeed:"unknown",live_indexer_from_explorefeed:"unknown",live_indexer_from_newsfeed:"unknown",nn_indexer_from_newsfeed:"unknown",channel_view_from_search:"unknown",channel_view_from_newsfeed_pivot:"unknown",newsfeed_pivot_inline:"unknown",mobile_newsfeed_pivot_inline:"unknown",channel_view_from_page_call_to_action:"unknown",channel_view_from_page_timeline:"page_timeline",channel_view_from_page_timeline_featured:"unknown",channel_view_from_page_video_tab:"page_timeline",channel_view_from_page_home_hero:"unknown",channel_view_from_user_timeline:"user_timeline",channel_view_from_user_video_tab:"unknown",channel_view_from_group_timeline:"group",channel_view_from_group_tab:"groups_tab",channel_view_from_group_video_tab:"unknown",channel_view_from_video_page_spotlight:"unknown",channel_view_from_video_page_video_list:"unknown",channel_view_from_video_page_video_tab:"unknown",channel_view_from_channel_tab:"unknown",channel_view_from_pmv_unit:"page_timeline",channel_view_from_saved_story:"unknown",saved_story_inline:"unknown",channel_view_from_shared_with_you_story:"unknown",shared_with_you_story_inline:"unknown",channel_view_from_latest_from_your_channels_story:"unknown",latest_from_your_channels_story_inline:"unknown",channel_view_from_channel_pivot:"unknown",channel_pivot_inine:"unknown",channel_view_from_recommended_channel_story:"unknown",recommended_channel_story_inline:"unknown",channel_view_from_video_home:"video_home",video_home_inline:"unknown",video_home_channel_see_all:"unknown",social_player_up_next:"unknown",channel_view_from_casting:"unknown",channel_view_from_tv_candy_shelf:"unknown",channel_view_from_end_card:"unknown",connected_tv:"unknown",connected_tv_discovery:"unknown",connected_tv_player:"unknown",connected_tv_profile:"unknown",connected_tv_mini_player_feed:"unknown",video_home_feed:"unknown",video_home_hero:"unknown",feed_survey_swipe:"unknown",feed_pivots_inline:"newsfeed",channel_view_from_feed_pivots:"newsfeed",video_sets_cache_refresh:"unknown",video_sets_cache_check:"unknown",dummy_story_recommended_videos:"unknown",dummy_story_friends_enjoying:"unknown",live_event_video_set:"unknown",live_videos_set:"unknown",single_creator_video_set:"unknown",frt_tool:"unknown",dummy_story_friends_enjoying_now:"unknown",dummy_story_dummy_action:"unknown",oculus_video:"unknown",trending_demographics_live:"unknown",live_map:"live_map",unconnected_live_video:"unknown",profile_video_gallery:"unknown",channel_view_from_playlist:"unknown",oculus_social_hub:"unknown",akira:"unknown",is_live_video_chaining:"unknown",is_live_video_chaining_others:"unknown",video_creator_chaining:"unknown",tahoe:"unknown",living_room:"unknown",shows_cover_trailer:"page_timeline",shows_episodes_tab:"page_timeline",shows_playlists_tab:"page_timeline",shows_home_tab:"page_timeline",shows_more_videos_tab:"page_timeline",show_episode_feed_recommendations:"unknown",parent_page_timeline:"page_timeline",watch_watchlist_tab:"unknown",watch_feed_tab:"unknown",watch_injection:"unknown",watch_topic_feed:"unknown",watch_topic_channel_feed:"unknown",watch_subtopic_channel_feed:"unknown",watch_subtopic_aggregation:"unknown",watch_subtopic_live_feed:"unknown",live_category_query:"unknown",watch_section_see_all:"unknown",social_player_from_video_home:"unknown",watch_custom_ads:"unknown",watch_embedded_endscreen:"unknown",wns:"unknown",explore_feed_deep_dive:"unknown",voyager:"unknown",fullscreen_chaining_from_live:"unknown",fullscreen_chaining_from_vod:"unknown",fullscreen_chaining_from_gaming:"unknown",fullscreen_chaining_from_pmv:"unknown",warion_chaining_from_newsfeed_related_vod:"unknown",games_video_channel:"games_video_channel",games_tab_chaining_channel:"unknown",games_tab_pathing_only_live:"unknown",games_comet_chaining:"unknown",lol_video_feed:"unknown",avd:"unknown",live_chaining:"unknown",live_tab:"unknown",living_room_chaining:"unknown",fblite_trending_video:"unknown",portal:"unknown",lasso:"unknown",watch_social:"unknown",messenger:"unknown",chaining_gaming_promotion:"unknown",chaining_gaming_only:"unknown",cricket_videos:"unknown",premium_music_video:"unknown",music_channel_view_from_music_home:"unknown",music_channel_view_from_video_home:"video_home",music_channel_view_from_video_home_evaluation:"video_home",music_channel_view_from_newsfeed:"newsfeed",music_channel_view_from_newsfeed_evaluation:"newsfeed",music_channel_view_from_search:"search",music_channel_view_from_search_evaluation:"search",music_channel_view_from_page:"page_timeline",music_channel_view_from_casting:"page_timeline",channel_view_from_video_page_pmv_music_featuring_artist_list:"page_timeline",watch_laidback_consumption:"unknown",watch_nf_laidback_consumption:"unknown",channel_view_from_newsfeed_related:"newsfeed",channel_view_from_video_home_related:"video_home",search_related:"unknown",music_channel_view_from_music_home_related:"unknown",music_channel_view_from_video_home_related:"unknown",feed_short_video:"unknown",photo_chaining:"unknown",youtube_share:"unknown",watch_rainbow_qp:"unknown",plaza_watch_rich_bookmark_tile:"unknown",interest_destination:"unknown",co_watch:"unknown",live_now:"unknown",live_tab_prefetch:"unknown",live_logout_user:"unknown",fb_lite:"unknown",live_destination_www:"unknown",vh_search_related_videos_feed:"unknown",vh_tv_movie_feed:"unknown",fullscreen_chaining_from_podcast:"unknown",soundbites_feed:"unknown",audio_hub_feed:"unknown",live_engagement_state:"unknown",test:"unknown",unknown:"unknown"}},null);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventData=function(a){this.$1.event_data=a;return this};return a}();c={event:!0,event_data:!0};f["default"]=a},66);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setQueryParams=function(a){this.$1.query_params=a;return this};return a}();c={error_message:!0,event:!0,query_params:!0};f["default"]=a},66);
__d("TahoeTypedLogger",["Banzai","GeneratedLoggerUtils"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setChainDepth=function(a){this.$1.chain_depth=a;return this};c.setChainingContextIdentifier=function(a){this.$1.chaining_context_identifier=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsAutoplaying=function(a){this.$1.is_autoplaying=a;return this};c.setMediaID=function(a){this.$1.media_id=a;return this};c.setUpNextMediaID=function(a){this.$1.up_next_media_id=a;return this};c.setUpNextPosition=function(a){this.$1.up_next_position=a;return this};return a}();c={chain_depth:!0,chaining_context_identifier:!0,event:!0,is_autoplaying:!0,media_id:!0,up_next_media_id:!0,up_next_position:!0};f["default"]=a},66);
__d("UFICommentTypedLogger",["Banzai","GeneratedLoggerUtils"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDuration=function(a){this.$1.duration=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setHasPhoto=function(a){this.$1.has_photo=a;return this};c.setHasSticker=function(a){this.$1.has_sticker=a;return this};c.setIsReply=function(a){this.$1.is_reply=a;return this};c.setRequestLength=function(a){this.$1.request_length=a;return this};return a}();c={duration:!0,event:!0,has_photo:!0,has_sticker:!0,is_reply:!0,request_length:!0};f["default"]=a},66);
__d("VideoPlayerWatchEndScreenWithActions_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchEndScreenWithActions_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerReshareButton_video"}],type:"Video",abstractKey:null};e.exports=a},null);
__d("VideoPlayerWatchInlinePauseScreenRowItem_story.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchInlinePauseScreenRowItem_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],type:"Story",abstractKey:null};e.exports=a},null);
__d("VideoPlayerWatchInlinePauseScreenRowItem_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchInlinePauseScreenRowItem_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometVideoHomeVideoThumbnailImageWithPreview_video"},{args:null,kind:"FragmentSpread",name:"CometVideoHomeDurationThumbnailOverlay_video"},{args:null,kind:"FragmentSpread",name:"CometVideoHomeTitleOwnerThumbnailOverlay_video"}],type:"Video",abstractKey:null};e.exports=a},null);
__d("VideoPlayerWatchInlinePauseScreenRowQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="6336138203154497"},null);
__d("VideoPlayerWatchInlinePauseScreenRowQuery.graphql",["VideoPlayerWatchInlinePauseScreenRowQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"caller"},c={defaultValue:null,kind:"LocalArgument",name:"entry_channel_id"},d={defaultValue:null,kind:"LocalArgument",name:"entry_point"},e={defaultValue:null,kind:"LocalArgument",name:"id"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g=[{kind:"Variable",name:"id",variableName:"id"}],h=[{kind:"Variable",name:"entry_channel_id",variableName:"entry_channel_id"},{kind:"Variable",name:"entry_point",variableName:"entry_point"}],i=[{kind:"Variable",name:"caller",variableName:"caller"},{kind:"Variable",name:"exclude_video",variableName:"id"},{kind:"Literal",name:"first",value:3}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k,{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchInlinePauseScreenRowItem_video"}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null},m=[k],n={kind:"InlineFragment",selections:m,type:"Node",abstractKey:"__isNode"},o={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[j,{kind:"InlineFragment",selections:[k,{alias:null,args:[{kind:"Literal",name:"height",value:354},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:627}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"huddle_thumbnail_enabled",plural:!1,selections:[{args:null,documentName:"CometVideoHomeHuddleThumbnailWithRelay3d_video",fragmentName:"CometVideoHomeHuddleThumbnail_video",fragmentPropName:"video",kind:"ModuleImport"},k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_watched_show_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[j,k,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null},n,{kind:"InlineFragment",selections:m,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:m,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:m,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"VideoPlayerWatchInlinePauseScreenRowQuery",selections:[{alias:"video",args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[{alias:null,args:i,concreteType:"VideoChannelFeedConnection",kind:"LinkedField",name:"video_channel_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchInlinePauseScreenRowItem_story"},l,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[l],storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,c,d,f],kind:"Operation",name:"VideoPlayerWatchInlinePauseScreenRowQuery",selections:[{alias:"video",args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,k,{kind:"InlineFragment",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[j,{alias:null,args:i,concreteType:"VideoChannelFeedConnection",kind:"LinkedField",name:"video_channel_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},o,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[o,k],storageKey:null}],type:"Story",abstractKey:null},n,{kind:"InlineFragment",selections:m,type:"FBShortsMidCardFeedUnit",abstractKey:null}],storageKey:null}],storageKey:null},k],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}]},params:{id:b("VideoPlayerWatchInlinePauseScreenRowQuery_facebookRelayOperation"),metadata:{},name:"VideoPlayerWatchInlinePauseScreenRowQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("VideoPlayerCometFeedStoryControlsImplLive_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a},null);
__d("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplNotLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"recipient_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null}],type:"Video",abstractKey:null};e.exports=a},null);
__d("VideoPlayerDefaultControlsImplMusicClip_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplMusicClip_video",selections:[{alias:null,args:null,concreteType:"XFBMusicAttachmentMetadata",kind:"LinkedField",name:"music_attachment_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a},null);
__d("VideoPlayerWatchInlineEndScreenRowItem_story.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchInlineEndScreenRowItem_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],type:"Story",abstractKey:null};e.exports=a},null);
__d("VideoPlayerWatchInlineEndScreenRowItem_video.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchInlineEndScreenRowItem_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometVideoHomeVideoThumbnailImageWithPreview_video"},{args:null,kind:"FragmentSpread",name:"CometVideoHomeDurationThumbnailOverlay_video"}],type:"Video",abstractKey:null}}();e.exports=a},null);
__d("VideoPlayerWatchInlineEndScreenRowQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5154720701321359"},null);
__d("VideoPlayerWatchInlineEndScreenRowQuery.graphql",["VideoPlayerWatchInlineEndScreenRowQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"caller"},c={defaultValue:null,kind:"LocalArgument",name:"entry_channel_id"},d={defaultValue:null,kind:"LocalArgument",name:"entry_point"},e={defaultValue:null,kind:"LocalArgument",name:"id"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g=[{kind:"Variable",name:"id",variableName:"id"}],h=[{kind:"Variable",name:"entry_channel_id",variableName:"entry_channel_id"},{kind:"Variable",name:"entry_point",variableName:"entry_point"}],i=[{kind:"Variable",name:"caller",variableName:"caller"},{kind:"Variable",name:"exclude_video",variableName:"id"},{kind:"Literal",name:"first",value:3}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k,{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchInlineEndScreenRowItem_video"}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null},m=[k],n={kind:"InlineFragment",selections:m,type:"Node",abstractKey:"__isNode"},o={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[j,{kind:"InlineFragment",selections:[k,{alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[j,k,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:354},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:627}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"huddle_thumbnail_enabled",plural:!1,selections:[{args:null,documentName:"CometVideoHomeHuddleThumbnailWithRelay3d_video",fragmentName:"CometVideoHomeHuddleThumbnail_video",fragmentPropName:"video",kind:"ModuleImport"},k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_watched_show_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null}],type:"Video",abstractKey:null},n,{kind:"InlineFragment",selections:m,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:m,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:m,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"VideoPlayerWatchInlineEndScreenRowQuery",selections:[{alias:"video",args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[{alias:null,args:i,concreteType:"VideoChannelFeedConnection",kind:"LinkedField",name:"video_channel_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchInlineEndScreenRowItem_story"},l,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[l],storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,c,d,f],kind:"Operation",name:"VideoPlayerWatchInlineEndScreenRowQuery",selections:[{alias:"video",args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,k,{kind:"InlineFragment",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[j,{alias:null,args:i,concreteType:"VideoChannelFeedConnection",kind:"LinkedField",name:"video_channel_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},o,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[o,k],storageKey:null}],type:"Story",abstractKey:null},n,{kind:"InlineFragment",selections:m,type:"FBShortsMidCardFeedUnit",abstractKey:null}],storageKey:null}],storageKey:null},k],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}]},params:{id:b("VideoPlayerWatchInlineEndScreenRowQuery_facebookRelayOperation"),metadata:{},name:"VideoPlayerWatchInlineEndScreenRowQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("VideoPlayerWithVideoCardsOverlay_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithVideoCardsOverlay_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_video_player_with_video_card_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithVideoCardsOverlay_video",fragmentName:"VideoPlayerVideoCardsOverlay_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithVideoCardRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a},null);
__d("VideoPlayerWithLiveVideoEndscreenAndChaining_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithLiveVideoEndscreenAndChaining_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["VideoPlayerWithLiveVideoEndscreenToPaidOnlineEventRenderer","VideoPlayerWithLiveVideoEndscreenChainedVideosRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_video_player_live_video_endscreen_content",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithLiveVideoEndscreenAndChaining_video",fragmentName:"VideoPlayerWithLiveVideoEndscreenToPaidOnlineEventRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"VideoPlayerWithLiveVideoEndscreenToPaidOnlineEventRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithLiveVideoEndscreenAndChaining_video",fragmentName:"VideoPlayerWithLiveVideoEndscreenChainedVideosRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"VideoPlayerWithLiveVideoEndscreenChainedVideosRenderer",abstractKey:null}],storageKey:'comet_video_player_live_video_endscreen_content(supported:["VideoPlayerWithLiveVideoEndscreenToPaidOnlineEventRenderer","VideoPlayerWithLiveVideoEndscreenChainedVideosRenderer"])'},{args:null,kind:"FragmentSpread",name:"VideoPlayerWithLiveVideoEndscreen_video"}],type:"Video",abstractKey:null};e.exports=a},null);
__d("CometVideoHomeDurationThumbnailOverlay_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoHomeDurationThumbnailOverlay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_watched_show_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null}],type:"Video",abstractKey:null};e.exports=a},null);
__d("CometVideoHomeHuddleThumbnailWithRelay3d_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoHomeHuddleThumbnailWithRelay3d_video",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"huddle_thumbnail_enabled",plural:!1,selections:[{args:null,documentName:"CometVideoHomeHuddleThumbnailWithRelay3d_video",fragmentName:"CometVideoHomeHuddleThumbnail_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a},null);
__d("CometVideoHomeTitleOwnerThumbnailOverlay_video.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoHomeTitleOwnerThumbnailOverlay_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a},null);
__d("CometVideoHomeVideoThumbnailImageWithPreview_video.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometVideoHomeVideoThumbnailImageWithPreview_video",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:354},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:627}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometVideoHomeHuddleThumbnailWithRelay3d_video"}],type:"Video",abstractKey:null};e.exports=a},null);
__d("CometVideoHomeVideoThumbnailPreviewRootQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5323200787779193"},null);
__d("CometVideoHomeVideoThumbnailPreviewRootQuery$Parameters",["CometVideoHomeVideoThumbnailPreviewRootQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometVideoHomeVideoThumbnailPreviewRootQuery_facebookRelayOperation"),metadata:{},name:"CometVideoHomeVideoThumbnailPreviewRootQuery",operationKind:"query",text:null}};e.exports=a},null);
__d("CallbackManagerController",["ErrorGuard"],function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$2=[],this.$1=[void 0],this.$3=a}var c=a.prototype;c.executeOrEnqueue=function(a,b,c){c=Boolean(c)?c:{};var d=this.$4(b,a,c);if(d)return 0;this.$1.push({fn:b,request:a,options:c});d=this.$1.length-1;this.$2.push(d);return d};c.unsubscribe=function(a){delete this.$1[a]};c.reset=function(){this.$1=[]};c.getRequest=function(a){return this.$1[a]};c.runPossibleCallbacks=function(a){var b=this,c=this.$2;this.$2=[];var d=[];c.forEach(function(c){var e=b.$1[c];if(!e)return;e=b.$3(e.request,babelHelpers["extends"]({},e.options,a));e?d.push({args:e,id:c}):b.$2.push(c)});d.forEach(function(a){var c=a.args;a=a.id;var d=b.$1[a];if(!d)return;delete b.$1[a];b.$5(d.fn,c,d.request)})};c.$4=function(a,b,c){c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};c.$5=function(a,c,d){d={ids:d};(g||(g=b("ErrorGuard"))).applyWithGuard(a,d,c)};return a}();f["default"]=a},66);
__d("KeyedCallbackManager",["CallbackManagerController","FBLogger"],function(a,b,c,d,e,f){a=function(){function a(){this.$2={},this.$1=new(b("CallbackManagerController"))(this.$3.bind(this))}var c=a.prototype;c.executeOrEnqueue=function(a,c){if(!(a instanceof Array)){var d=a,e=c;a=[a];c=function(a){e(a[d])}}a=a.filter(function(a){var c=a!==null&&a!==void 0;c||b("FBLogger")("KeyedCallbackManager").mustfix("KeyedCallbackManager.executeOrEnqueue: key %s is invalid",JSON.stringify(a));return c});return this.$1.executeOrEnqueue(a,c)};c.unsubscribe=function(a){this.$1.unsubscribe(a)};c.reset=function(){this.$1.reset(),this.$2={}};c.getUnavailableResources=function(a){var b=this;a=this.$1.getRequest(a);var c=[];a&&(c=a.request.filter(function(a){return!b.$2[a]}));return c};c.getUnavailableResourcesFromRequest=function(a){var b=this;a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!b.$2[a]})};c.addResourcesAndExecute=function(a){Object.assign(this.$2,a),this.$1.runPossibleCallbacks()};c.setResource=function(a,b){this.$2[a]=b,this.$1.runPossibleCallbacks()};c.getResource=function(a){return this.$2[a]};c.getAllResources=function(){return this.$2};c.dumpResources=function(){var a=this,b={};Object.keys(this.$2).forEach(function(c){var d=a.$2[c];typeof d==="object"&&(d=babelHelpers["extends"]({},d));b[c]=d});return b};c.$3=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$2[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};return a}();f["default"]=a},66);
__d("BaseAsyncLoader",["KeyedCallbackManager","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f){var g={};function h(a,c,d){var e=new(b("KeyedCallbackManager"))(),f=!1,g=[];function h(){if(!g.length||f)return;f=!0;b("setTimeoutAcrossTransitions")(j,0)}function i(a){f=!1,a.forEach(e.unsubscribe.bind(e)),h()}function j(){var b={},c=[];g=g.filter(function(a){var d=e.getUnavailableResources(a);if(d.length){d.forEach(function(a){b[a]=!0});c.push(a);return!0}return!1});var h=Object.keys(b);h.length?d(a,h,c,k.bind(null,c),l.bind(null,c)):f=!1}function k(a,b){b=b.payload[c]||b.payload;e.addResourcesAndExecute(b);i(a)}function l(a){i(a)}return{get:function(a,b){a=e.executeOrEnqueue(a,b);b=e.getUnavailableResources(a);b.length&&(g.push(a),h())},getCachedKeys:function(){return Object.keys(e.getAllResources())},getNow:function(a){return e.getResource(a)||null},set:function(a){e.addResourcesAndExecute(a)}}}function a(a,b){throw new Error("BaseAsyncLoader can't be instantiated")}Object.assign(a.prototype,{_getLoader:function(){g[this._endpoint]||(g[this._endpoint]=h(this._endpoint,this._type,this.send));return g[this._endpoint]},get:function(a,b){return this._getLoader().get(a,b)},getCachedKeys:function(){return this._getLoader().getCachedKeys()},getNow:function(a){return this._getLoader().getNow(a)},reset:function(){g[this._endpoint]=null},set:function(a){this._getLoader().set(a)}});e.exports=a},null);
__d("AjaxLoader",["AsyncRequest","BaseAsyncLoader","LogHistory"],function(a,b,c,d,e,f){var g=b("LogHistory").getInstance("ajax_loader");function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))().setURI(a).setData({ids:c}).setMethod("POST").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){e(a)}).setTimeoutHandler(10*1e3,function(a){f(),g.error("fetch_timeout","{}")}).setErrorHandler(function(a){f(),g.error("fetch_error",JSON.stringify({error_type:a.errorSummary,error_text:a.errorDescription}))}).send()};e.exports=a},null);
__d("XChatUserInfoAllAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info_all/",{viewer:{type:"Int",required:!0}})},null);
__d("ShortProfilesBootstrapper",["AsyncRequest","CurrentUser","ODS","Promise","XChatUserInfoAllAsyncController"],function(a,b,c,d,e,f){"use strict";var g=5,h=1e4,i=b("XChatUserInfoAllAsyncController").getURIBuilder().setInt("viewer",b("CurrentUser").getID()).getURI();a=function(){function a(a){var c=this;this.$1=a;this.$2=new(b("Promise"))(function(a,b){c.$3=a,c.$4=b});this.$5=!1;this.$6=null;this.$7=0;this.$8=0;this.$9=0;this.$10=!1;this.$11=!1}var c=a.prototype;c.fetchAll=function(){var a=this;this.$12();if(this.$5||this.$6)return this.$2;if(this.$7>=g){this.$13();return this.$2}this.$7++;this.$14();this.$6=new(b("AsyncRequest"))(i).setHandler(function(b){a.$6=null,a.$5=!0,a.$15(),a.$1(b.payload),a.$3()}).setErrorHandler(function(){a.$6=null,a.$8++,a.$16()}).setTimeoutHandler(h,function(){a.$6=null,a.$9++,a.$17(),a.fetchAll()}).setAllowCrossPageTransition(!0);this.$6.send();return this.$2};c.isBootstrapped=function(){return this.$5};c.isBootstrapping=function(){return!!this.$6};c.getAttemptCount=function(){return this.$7};c.getErrorCount=function(){return this.$8};c.getTimeoutCount=function(){return this.$9};c.$12=function(){this.$10||(b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.starts"),this.$10=!0)};c.$14=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.attempts")};c.$15=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes"),this.$7>1&&b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes_after_retries")};c.$16=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.errors")};c.$17=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.timeouts")};c.$13=function(){this.$11||(b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.giveups"),this.$11=!0,this.$4())};return a}();e.exports=a},null);
__d("XChatUserInfoAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info/",{ids:{type:"IntVector",defaultValue:[]}})},null);
__d("ShortProfiles",["AjaxLoader","CurrentUser","FBLogger","ShortProfilesBootstrapper","URI","XChatUserInfoAsyncController","emptyFunction","gkx"],function(a,b,c,d,e,f,g){"use strict";var h=null,i=new(c("AjaxLoader"))(c("XChatUserInfoAsyncController").getURIBuilder().getURI().toString(),"profiles");function a(a,b){j([a],function(c){return b(c[a],a)})}function j(a,b){if(c("gkx")("2421")){var d=new Error("chat user info is being used");d.stack;c("FBLogger")("messenger_comet").catching(d).warn("chat user info is being used here")}i.get(a,b||c("emptyFunction"))}function k(a){if(c("gkx")("2421")){var b=new Error("chat user info is being used");b.stack;c("FBLogger")("messenger_comet").catching(b).warn("chat user info is being used here")}return i.getNow(a)||null}function b(a){var b={};a.forEach(function(a){return b[a]=k(a)});return b}function d(){if(c("gkx")("2421")){var a=new Error("chat user info is being used");a.stack;c("FBLogger")("messenger_comet").catching(a).warn("chat user info is being used here")}return i.getCachedKeys()}function e(){return!!h&&h.isBootstrapped()}function f(){if(c("gkx")("2421")){var a=new Error("chat user info is being used");a.stack;c("FBLogger")("messenger_comet").catching(a).warn("chat user info is being used here")}h||(h=new(c("ShortProfilesBootstrapper"))(function(a){i.set(a)}));return h.fetchAll()}function l(a,b){var c={};c[a]=b;m(c)}function m(a){if(c("gkx")("2421")){var b=new Error("chat user info is being used");b.stack;c("FBLogger")("messenger_comet").catching(b).warn("chat user info is being used here")}if(c("CurrentUser").isWorkUser()){var d={};Object.keys(a).forEach(function(b){var e=a[b];(e.type!=="fb4c"||!e.uri)&&(d[b]=e);var f=new(c("URI"))(e.uri).setDomain("").setProtocol("").toString();d[b]=babelHelpers["extends"]({},e,{uri:f})});a=d}i.set(a)}g.get=a;g.getMulti=j;g.getNow=k;g.getMultiNow=b;g.getCachedProfileIDs=d;g.hasAll=e;g.fetchAll=f;g.set=l;g.setMulti=m},98);
__d("UFICommentLogger",["UFICommentTypedLogger"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={},this.$2={}}var b=a.prototype;b.logNewCommentPost=function(a,b,d){this.$2[a]=babelHelpers["extends"]({timestamp:b},d),new(c("UFICommentTypedLogger"))().setEvent("new_comment_post").setHasPhoto(d.has_photo).setHasSticker(d.has_sticker).setIsReply(d.is_reply).log()};b.logNewCommentReceived=function(a,b){var d=this.$2[a];if(d){var e=0;b&&d.timestamp&&(e=b-d.timestamp);new(c("UFICommentTypedLogger"))().setEvent("new_comment_received").setDuration(e).setHasPhoto(d.has_photo).setHasSticker(d.has_sticker).setIsReply(d.is_reply).log()}delete this.$2[a]};b.logCommentFetch=function(a,b,d){b=babelHelpers["extends"]({timestamp:b},d);this.$1[a]===void 0?this.$1[a]=[b]:this.$1[a].push(b);new(c("UFICommentTypedLogger"))().setEvent("fetch_comment").setIsReply(d.is_reply).setRequestLength(d.request_length).log()};b.logCommentFetchReceived=function(a,b){if(this.$1[a]){var d=this.$1[a].shift(),e=0;b&&d.timestamp&&(e=b-d.timestamp);new(c("UFICommentTypedLogger"))().setEvent("fetch_comment_received").setDuration(e).setIsReply(d.is_reply).setRequestLength(d.request_length).log();this.$1[a].length===0&&delete this.$1[a]}};return a}();b=new a();g["default"]=b},98);
__d("CommentVoteReactionType",[],function(a,b,c,d,e,f){a=Object.freeze({NONE:0,UPVOTE:1,DOWNVOTE:2});f["default"]=a},66);
__d("CommentVoteUIVersion",[],function(a,b,c,d,e,f){a=Object.freeze({NONE:"none",INSIDE_BLING_BAR:"inside_bling_bar",VERTICAL_ON_THE_SIDE:"vertical_on_the_side",COMMUNITY_REPUTATION:"community_reputation",COMMUNITY_REPUTATION_INLINE_VOTING:"community_reputation_inline_voting",INSIDE_QA_BLING_BAR:"inside_qa_bling_bar"});f["default"]=a},66);
__d("FeedbackActionType",[],function(a,b,c,d,e,f){a=Object.freeze({CHANGE_ACCEPTED_ANSWER:"fa-type:change-accepted-answer",COMMENT_LIKE:"fa-type:comment-like",COMMENT_REACTION:"fa-type:comment-reaction",COMMENT_SET_SPAM:"fa-type:mark-spam",COMMENT_KEEP_SPAM:"fa-type:keep_spam",COMMENT_VOTE:"fa-type:comment_vote",DELETE_COMMENT:"fa-type:delete-comment",DELETE_COMMENT_REMOVE_COMMENTER:"fa-type:delete_comment_remove_commenter",DISABLE_COMMENTS:"fa-type:disable-comments",LIVE_DELETE_COMMENT:"fa-type:live-delete-comment",LIKE_ACTION:"fa-type:like",SUBSCRIBE_ACTION:"fa-type:subscribe",SHARE_COUNT_UPDATE_ACTION:"fa-type:share_count_update",REMOVE_PREVIEW:"fa-type:remove-preview",MARK_COMMENT_SPAM:"fa-type:mark-spam",MUTE_MEMBER:"fa-type:mute-member",CONFIRM_COMMENT_REMOVAL:"fa-type:confirm-remove",TRANSLATE_COMMENT:"fa-type:translate-comment",TRANSLATE_ALL:"fa-type:translate-all-comments",COMMENT_LIKECOUNT_UPDATE:"fa-type:comment-likecount-update",ADD_COMMENT_ACTION:"fa-type:add-comment",REACTION:"fa-type:reaction",UPDATE_CONSTITUENT_BADGE:"fa-type:comment_update_constituent_title",COMMENT_AUTHOR_PIN_CHANGE:"fa-type:comment_author_pin_change"});f["default"]=a},66);
__d("FeedbackPayloadSourceType",[],function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,INITIAL_SERVER:1,LIVE_SEND:2,USER_ACTION:3,STREAMING:4,COLLAPSE_ACTION:7,ENDPOINT_LIKE:10,ENDPOINT_COMMENT_LIKE:11,ENDPOINT_ADD_COMMENT:12,ENDPOINT_EDIT_COMMENT:13,ENDPOINT_DELETE_COMMENT:14,ENDPOINT_HIDE_COMMENT:16,ENDPOINT_REMOVE_PREVIEW:17,ENDPOINT_ID_COMMENT_FETCH:18,ENDPOINT_COMMENT_FETCH:19,ENDPOINT_TRANSLATE_COMMENT:20,ENDPOINT_BAN:21,ENDPOINT_SUBSCRIBE:22,ENDPOINT_COMMENT_LIKECOUNT_UPDATE:23,ENDPOINT_DISABLE_COMMENTS:24,ENDPOINT_ACTOR_CHANGE:25,ENDPOINT_REACTION:26,ENDPOINT_PAGES_MODERATION:27,ENDPOINT_COMMENT_REACTION:28,ENDPOINT_COMMENT_ANSWER_ACCEPT:29,ENDPOINT_COMMENT_KEEP_SPAM:30,ENDPOINT_COMMENT_APPEAL_SPAM:31,ENDPOINT_COMMENT_SECURE_ACCOUNT:32,ENDPOINT_DELETE_COMMENT_AND_REMOVE_COMMENTER:33,ENTPOINT_MUTE_MEMBER:34,ENDPOINT_SUBSCRIBE_COMMENT:35,ENDPOINT_HIDE_TEXT_DELIGHTS:36,ENDPOINT_SEND_MESSAGE:37,ENDPOINT_COMMENT_VOTE:38,ENDPOINT_AUTHOR_PINNED_COMMENT:39,ENDPOINT_DELETE_COMMENT_WTH_FEEDBACK:40});f["default"]=a},66);
__d("UFIFeedbackMode",[],function(a,b,c,d,e,f){a=Object.freeze({EXPANDED:"expanded",NONE:"none",NEVER:"never",TOGGLE:"toggle"});f["default"]=a},66);
__d("UFIPaging",[],function(a,b,c,d,e,f){a=Object.freeze({TOP:"top",BOTTOM:"bottom",ALL:"all"});f["default"]=a},66);
__d("UFIStatus",[],function(a,b,c,d,e,f){a=Object.freeze({DELETED:"status:deleted",SPAM:"status:spam",SPAM_DISPLAY:"status:spam-display",LIVE_DELETED:"status:live-deleted",FAILED_ADD:"status:failed-add",FAILED_EDIT:"status:failed-edit",PENDING_EDIT:"status:pending-edit"});f["default"]=a},66);
__d("UFIConstants",["CommentVoteReactionType","CommentVoteUIVersion","FeedbackActionType","FeedbackPayloadSourceType","FeedbackSourceType","UFIFeedbackMode","UFIPaging","UFIStatus"],function(a,b,c,d,e,f){"use strict";a=80;c=420;d=3;e=.6;var g=60,h=1e3,i=60,j=1,k="unavailable_comment_key";f.attachmentTruncationLength=a;f.UFIActionType=b("FeedbackActionType");f.UFICommentVoteType=b("CommentVoteReactionType");f.UFICommentVoteUIVersion=b("CommentVoteUIVersion");f.UFIFeedbackMode=b("UFIFeedbackMode");f.UFIFeedbackSourceType=b("FeedbackSourceType");f.UFIPayloadSourceType=b("FeedbackPayloadSourceType");f.UFIStatus=b("UFIStatus");f.UFIPaging=b("UFIPaging");f.commentTruncationLength=c;f.commentTruncationMaxLines=d;f.commentTruncationPercent=e;f.commentURLTruncationLength=g;f.infiniteScrollRangeForQANDAPermalinks=h;f.maxScrollDistanceForAutoScroll=i;f.minCommentsForOrderingModeSelector=j;f.unavailableCommentKey=k},66);
__d("UFICommentActionType",[],function(a,b,c,d,e,f){a=Object.freeze({CHANGE_REACTION:"comment_change_reaction",CHANGE_REACTION_FAILURE:"comment_change_reaction_failure",CHANGE_REACTION_SUCCESS:"comment_change_reaction_success",CHANGE_VISIBILITY:"comment_change_visibility",CHANGE_VOTE:"comment_change_vote",CHANGE_VOTE_FAILURE:"comment_change_vote_failure",CHANGE_VOTE_SUCCESS:"comment_change_vote_success",EDIT:"comment_edit",EMBED:"embed",DELETE_COMMENT_AND_REMOVE_COMMENTER:"comment_delete_and_commenter_remove",DELETE_COMMENT_WITH_FEEDBACK:"comment_delete_with_feedback",MANAGE_CONSTITUENT_BADGE:"comment_manage_constituent_badge",MOUNTED:"comment_mounted",MUTE_MEMBER:"commenter_muted",REMOVE:"comment_remove",REMOVE_AND_BLOCK:"comment_remove_and_block",REMOVE_PREVIEW:"comment_remove_preview",TOGGLE_INLINE_BAN:"comment_toggle_inline_ban",TOGGLE_INLINE_STREAM_BAN:"comment_toggle_inline_stream_ban",TOGGLE_INLINE_SUSPENSION:"comment_toggle_inline_suspension",TOGGLE_LIKE:"comment_toggle_like",TOGGLE_MARK_AS_SPAM:"comment_toggle_mark_as_spam",TOGGLE_KEEP_SPAM:"comment_toggle_keep_spam",TOGGLE_APPEAL_SPAM:"comment_toggle_appeal_spam",TOGGLE_SECURE_ACCOUNT:"comment_toggle_secure_account",TOGGLE_TEXT_DELIGHTS:"comment_toggle_text_delights",TRANSLATE:"comment_translate",TRANSLATE_ARRAY:"comment_translate_array",UNMOUNTED:"comment_unmounted",UPDATE_VOTE_COUNT_AND_STATE:"comment_update_vote_count_and_state",CHANGE_PIN_BY_AUTHOR:"comment_change_author_pin"});f["default"]=a},66);
__d("UFIDispatcherBase",["invariant","ReactDispatcher_DEPRECATED","UFICommentActionType","dangerouslyBypassDispatchError"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){return Object.values(b).indexOf(a)>=0}function j(a,b,c){a[b]||h(0,2123,a.type,b,c)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.dispatch=function(b){var d=this;j(b,"instanceID","contextArgs.instanceid");j(b,"ftentidentifier","contextArgs.ftentidentifier");i(b.type,c("UFICommentActionType"))&&j(b,"fbid","comment.fbid");try{a.prototype.dispatch.call(this,b)}catch(e){c("dangerouslyBypassDispatchError")(function(){return a.prototype.dispatch.call(d,b)})}};return b}(c("ReactDispatcher_DEPRECATED"));b=new a();g["default"]=b},98);
__d("UFIRootRegistry",[],function(a,b,c,d,e,f){"use strict";var g={},h={},i={},j=[];function a(a,b,c,d){g[a]=d,h[c]=[].concat(h[c]||[],[b]),i[b]=c}function b(a){j.push(a)}function c(a){return j.indexOf(a)>=0}function d(a){return h[a]||null}function e(a){return i[a]||null}function k(a){var b=i[a],c=h[b];c&&c.includes(a)&&(h[b]=c.filter(function(b){return b!=a}),h[b].length==0&&delete h[b]);delete i[a]}function l(){j.forEach(function(a){return g[a]&&g[a]()}),g={},j=[]}f.registerController=a;f.registerSnowliftID=b;f.isSnowliftNode=c;f.getInstanceIDFromFTEntIdentifier=d;f.getFTEntIdentifierFromInstanceID=e;f.cleanupInstance=k;f.cleanupSnowliftNodes=l},66);
__d("UFIAddCommentActionType",[],function(a,b,c,d,e,f){a=Object.freeze({CANCEL:"add_comment_cancel",CHANGE_CONTENT:"add_comment_change_content",RETRY_SUBMIT:"add_comment_retry_submit",SUBMIT_EDIT:"add_comment_submit_edit",SUBMIT_NEW:"add_comment_submit_new",PIVOT_SEND_MESSAGE:"pivot_send_message"});f["default"]=a},66);
__d("UFIInstanceActionType",[],function(a,b,c,d,e,f){a=Object.freeze({CHANGE_ORDER_MODE:"story_change_order_mode",CHANGE_VISIBILITY:"story_change_visibility",INIT:"instance_init",RECEIVED_VOD_COMMENTS:"received_vod_comments",REMOVE:"story_remove",REQUESTED_VOD_COMMENTS:"requested_vod_comments",TOGGLE_AUTO_TRANSLATE_COMMENTS:"toggle_auto_translate_comments",TOGGLE_COMMENTS:"story_toggle_comments",TOGGLE_COMMERCIAL_BREAK:"story_toggle_commercial_break",TRANSLATE_ALL:"translate_all",FOUND_VIDEO_PLAYER_CONTROLLER:"found_video_player_controller"});f["default"]=a},66);
__d("UFIStoryActionType",[],function(a,b,c,d,e,f){a=Object.freeze({CHANGE_ACCEPTED_ANSWER:"story_change_accepted_answer",COMMENTS_ARRIVED:"story_comments_arrived",PAGE_IN_COMMENTS:"story_page_in_comments",SHOW_REPLIES:"story_show_replies",SHOW_COMMENTS:"story_show_comments",SPAM_FETCHED:"story_spam_fetched",CHANGE_REACTION:"story_change_reaction",CHANGE_REACTION_FAILURE:"story_change_reaction_failure",CHANGE_REACTION_SUCCESS:"story_change_reaction_success",TOGGLE_REPLIES:"story_toggle_replies",FRIEND_TYPING:"story_friend_typing",SOMEONE_TYPING:"story_someone_typing",TYPING_STOPPED:"story_typing_stopped",LIVE_PIN_COMMENT:"story_live_pin_comment",LIVE_UNPIN_COMMENT:"story_live_unpin_comment",SHOW_FACECAST_REPLIES:"story_show_facecast_replies",HIDE_FACECAST_REPLIES:"story_hide_facecast_replies",ADD_FACECAST_REPLY:"story_add_facecast_reply",ADD_FACECAST_REPLIES:"story_add_facecast_replies",FACECAST_REPLIES_LOADED:"facecast_replies_loaded",SET_COMMENTS_SCROLL_DISTANCE:"set_comments_scroll_distance",HANDLE_NEW_COMMENTS:"handle_new_comments",HANDLE_NEW_FACECAST_REPLY:"handle_new_facecast_reply",SET_COMMENT_REACTIONS_MENU_SHOWN:"set_comment_reactions_menu_shown"});f["default"]=a},66);
__d("UFIActionTypes",["UFIAddCommentActionType","UFICommentActionType","UFIInstanceActionType","UFIStoryActionType"],function(a,b,c,d,e,f){"use strict";f.INSTANCE=b("UFIInstanceActionType"),f.STORY=b("UFIStoryActionType"),f.ADD_COMMENT=b("UFIAddCommentActionType"),f.COMMENT=b("UFICommentActionType")},66);
__d("UFICommentVoteSyncStore",["FluxReduceStore","UFIActionTypes","UFIConstants","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){var e;switch(b.type){case d("UFIActionTypes").INSTANCE.INIT:var f=b.payload,g=f.feedbacktarget?f.feedbacktarget:f.feedbacktargets&&f.feedbacktargets[0];if(!g)return a;g=f.comments.reduce(function(a,b){a[b.fbid]={voteCount:b.voteCount,voteState:b.voteState};return a},{});return babelHelpers["extends"]({},a,g);case d("UFIActionTypes").COMMENT.UPDATE_VOTE_COUNT_AND_STATE:return babelHelpers["extends"]({},a,(f={},f[b.fbid]={voteCount:b.voteCount?b.voteCount:0,voteState:b.voteState?b.voteState:d("UFIConstants").UFICommentVoteType.NONE},f));case d("UFIActionTypes").COMMENT.CHANGE_VOTE:g=c.getOptimisticVoteState(c.getVoteState(b.fbid),b.arrowType);f=c.getOptimisticVoteCount(b.fbid,g);return babelHelpers["extends"]({},a,(e={},e[b.fbid]={voteCount:f,voteState:g},e));case d("UFIActionTypes").COMMENT.CHANGE_VOTE_SUCCESS:case d("UFIActionTypes").COMMENT.CHANGE_VOTE_FAILURE:return babelHelpers["extends"]({},a,(f={},f[b.fbid]={voteCount:b.voteCount,voteState:b.voteState},f));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getVoteCount=function(a){return!this.getState()[a]?0:this.getState()[a].voteCount};c.getVoteState=function(a){return!this.getState()[a]?d("UFIConstants").UFICommentVoteType.NONE:this.getState()[a].voteState};c.$UFICommentVoteSyncStore1=function(a){switch(a){case d("UFIConstants").UFICommentVoteType.UPVOTE:return 1;case d("UFIConstants").UFICommentVoteType.DOWNVOTE:return-1;case d("UFIConstants").UFICommentVoteType.NONE:default:return 0}};c.$UFICommentVoteSyncStore2=function(a,b){return this.$UFICommentVoteSyncStore1(b)-this.$UFICommentVoteSyncStore1(a)};c.getOptimisticVoteCount=function(a,b){var c=this.getVoteCount(a);a=this.$UFICommentVoteSyncStore2(this.getVoteState(a),b);return c+a};c.getOptimisticVoteState=function(a,b){return a===b?d("UFIConstants").UFICommentVoteType.NONE:b};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIKeyValueStore",["FluxReduceStore","abstractMethod"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.getInitialState=function(){return{}};d.getValueFor=function(a){return this.getState()[a]||null};d.getStateKey=function(a){return a.instanceID};d.getStateValue=function(a){return c("abstractMethod")("UFIKeyValueStore","getStateValue")};d.reduce=function(a,b){var c=this.getStateKey(b);b=this.getStateValue(b);if(b!==null){var d;return babelHelpers["extends"]({},a,(d={},d[c]=b,d))}return a};return b}(c("FluxReduceStore"));a.__moduleID=f.id;g["default"]=a},98);
__d("UFICommercialBreakStore",["UFIDispatcherBase","UFIKeyValueStore"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getValueFor=function(b){return!!a.prototype.getValueFor.call(this,b)};c.getStateValue=function(a){switch(a.type){case"story_toggle_commercial_break":return a.inCommercial}return null};return b}(c("UFIKeyValueStore"));b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIComposerIsTypingStore",["UFIDispatcherBase","UFIKeyValueStore"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getStateKey=function(a){return a.ftentidentifier};c.getStateValue=function(a){switch(a.type){case"add_comment_submit_edit":return!1;case"add_comment_submit_new":return!1;case"add_comment_change_content":a=a.text.trim().length;return a>0}return null};return b}(c("UFIKeyValueStore"));b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIFeedbackStore",["FluxReduceStore","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var c;switch(b.type){case"instance_init":var d=b.payload;d=d.feedbacktarget?d.feedbacktarget:d.feedbacktargets&&d.feedbacktargets[0];return!d?a:babelHelpers["extends"]({},a,(c={},c[b.ftentidentifier]=babelHelpers["extends"]({orderingmodes:[],defaultcommentorderingmode:""},d),c))}return a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIInteractionStore",["UFIDispatcherBase","UFIKeyValueStore"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getValueFor=function(b){return!!a.prototype.getValueFor.call(this,b)};c.getStateValue=function(a){switch(a.type){case"add_comment_change_content":case"add_comment_submit_edit":case"add_comment_submit_new":case"comment_change_reaction":case"comment_edit":case"comment_remove":case"comment_toggle_like":case"comment_toggle_mark_as_spam":case"comment_translate":case"story_change_order_mode":case"story_toggle_comments":case"story_page_in_comments":case"story_show_replies":case"story_toggle_replies":return!0}return null};return b}(c("UFIKeyValueStore"));b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFILiveTypingStore",["FluxReduceStore","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,c){var d=b.getNewFeedbackState(c.type);if(d!==null){var e;a=babelHelpers["extends"]({},a,(e={},e[c.ftentidentifier]=d,e))}return a},c)||babelHelpers.assertThisInitialized(d)}b.getNewFeedbackState=function(a){switch(a){case"story_friend_typing":case"story_someone_typing":return!0;case"story_typing_stopped":return!1;default:return null}};var c=b.prototype;c.getInitialState=function(){return{}};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFILiveVideoLoggingStore",["FluxReduceStore","LiveVideoViewerTypedLogger","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,b){switch(b.type){case"story_show_facecast_replies":var d;new(c("LiveVideoViewerTypedLogger"))().setEvent("opened_reply_thread_from_comment").setCommentID(b.commentID).log();return babelHelpers["extends"]({},a,(d={},d[b.instanceID]={comment_id:b.commentID,time_opened_ms:Date.now()},d));case"story_hide_facecast_replies":if(!b.isExplicit)return a;d=a[b.instanceID];if(d==null)return a;new(c("LiveVideoViewerTypedLogger"))().setEvent("closed_reply_thread_explicitly").setCommentID(d.comment_id).setReplyThreadDurationMs(Date.now()-d.time_opened_ms).log();return babelHelpers["extends"]({},a,(b={},b[d.comment_id]=null,b));default:return a}},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.getInitialState=function(){return{}};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIOrderingModeStore",["invariant","FluxReduceStore","UFIDispatcherBase","UFIFeedbackStore"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){return a.filter(function(a){return a.selected}).map(function(a){return a.value}).pop()||b}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,b){switch(b.type){case"instance_init":if(a.has(b.instanceID))return a;c("UFIDispatcherBase").waitFor([c("UFIFeedbackStore").getDispatchToken()]);var d=c("UFIFeedbackStore").getState()[b.ftentidentifier];a=new Map(a);return a.set(b.instanceID,i(d.orderingmodes,d.defaultcommentorderingmode));case"story_change_order_mode":(!a.has(b.instanceID)||a.get(b.instanceID)!==b.mode)&&(a=new Map(a),a.set(b.instanceID,b.mode));return a}return a},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.getInitialState=function(){return new Map()};d.areEqual=function(a,b){return a===b};d.isLiveStreaming=function(a){return this.getState().get(a)=="live_streaming"};d.isInverted=function(a,b){var d=!1;b=c("UFIFeedbackStore").getState()[b];if(b){b=b.orderingmodes.filter(function(a){return a.selected}).pop();b&&(d=b.isBottomUpVideoCommentSreamingEnabled)}switch(a){case"recent_activity":case"ranked_threaded":case"ranked_unfiltered":case"live_streaming":return!d}return!1};d.getOrderingMode=function(a){a=this.getState().get(a);a!==void 0||h(0,2896);return a};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIReactionPendingRequestsStore",["FluxReduceStore","UFIActionTypes","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a+"-comment"}function i(a){return a+"-story"}function j(a,b){var c;return babelHelpers["extends"]({},a,(c={},c[b]=(a[b]||0)+1,c))}function k(a,b){var c;return babelHelpers["extends"]({},a,(c={},c[b]=(a[b]||0)-1,c))}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case d("UFIActionTypes").STORY.CHANGE_REACTION:return j(a,i(b.ftentidentifier));case d("UFIActionTypes").COMMENT.CHANGE_REACTION:return j(a,h(b.fbid));case d("UFIActionTypes").STORY.CHANGE_REACTION_SUCCESS:case d("UFIActionTypes").STORY.CHANGE_REACTION_FAILURE:return k(a,i(b.ftentidentifier));case d("UFIActionTypes").COMMENT.CHANGE_REACTION_FAILURE:case d("UFIActionTypes").COMMENT.CHANGE_REACTION_SUCCESS:return k(a,h(b.fbid))}return a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getPendingRequestsForComment=function(a){return this.getState()[h(a)]||0};c.getPendingRequests=function(a){return this.getState()[i(a)]||0};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIReactionSyncStore",["FluxReduceStore","UFIActionTypes","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a+"-comment"}function i(a){return a+"-story"}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case d("UFIActionTypes").INSTANCE.INIT:var c=b.payload;c=c.feedbacktarget?c.feedbacktarget:c.feedbacktargets&&c.feedbacktargets[0];if(!c)return a;var e=b.payload.comments.reduce(function(a,b){a[h(b.fbid)]=b.viewerreaction;return a},{});return babelHelpers["extends"]({},a,e,(e={},e[i(b.ftentidentifier)]=c.viewerreaction,e));case d("UFIActionTypes").STORY.CHANGE_REACTION_SUCCESS:return babelHelpers["extends"]({},a,(c={},c[i(b.ftentidentifier)]=b.reactionType,c));case d("UFIActionTypes").COMMENT.CHANGE_REACTION_SUCCESS:return babelHelpers["extends"]({},a,(e={},e[h(b.fbid)]=b.reactionType,e));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getLastKnownCommentReaction=function(a){return this.getState()[h(a)]};c.getLastKnownReaction=function(a){return this.getState()[i(a)]};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIVideoPlayerControllerStore",["FluxReduceStore","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){switch(b.type){case"found_video_player_controller":var c;return babelHelpers["extends"]({},a,(c={},c[b.instanceID]={videoPlayerController:b.videoPlayerController},c));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getVideoPlayerController=function(a){var b;return(b=this.getState())!=null?(b=b[a])!=null?b.videoPlayerController:b:b};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFISharedDispatcher",["UFICommentEditIDStore","UFICommentVisibilityStore","UFICommentVoteSyncStore","UFICommercialBreakStore","UFIComposerIsTypingStore","UFIDispatcherBase","UFIFeedbackStore","UFIInteractionStore","UFILivePinnedCommentStore","UFILiveTypingStore","UFILiveVideoLoggingStore","UFILocallyComposedCommentStore","UFIOrderingModeStore","UFIReactionPendingRequestsStore","UFIReactionSyncStore","UFISpamStore","UFIThreadedFacecastCommentsStore","UFIVideoPlayerControllerStore"],function(a,b,c,d,e,f,g){"use strict";b("UFIFeedbackStore"),b("UFICommentEditIDStore"),b("UFICommentVisibilityStore"),b("UFICommentVoteSyncStore"),b("UFICommercialBreakStore"),b("UFIComposerIsTypingStore"),b("UFIFeedbackStore"),b("UFIInteractionStore"),b("UFILivePinnedCommentStore"),b("UFILiveTypingStore"),b("UFILocallyComposedCommentStore"),b("UFIOrderingModeStore"),b("UFIReactionPendingRequestsStore"),b("UFIReactionSyncStore"),b("UFISpamStore"),b("UFIThreadedFacecastCommentsStore"),b("UFILiveVideoLoggingStore"),b("UFIVideoPlayerControllerStore"),g["default"]=c("UFIDispatcherBase")},98);
__d("UFICentralUpdatesLocalCommentAdapter",["ClientIDs","UFICentralUpdates","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";var h={},i=(f={},f[3]=a,f[12]=b,f);function j(){return c("UFICentralUpdates").subscribe("update-comments",function(a,b){if(b.comments){a=i[b.payloadsource];a&&b.comments.forEach(a)}})}function a(a){if(!d("ClientIDs").isExistingClientID(a.id))return;h[a.id]=a.ufiinstanceid;c("UFIDispatcherBase").dispatch({type:"CENTRALUPDATES_ADDED_COMMENT",instanceID:a.ufiinstanceid,ftentidentifier:a.ftentidentifier,clientID:a.id})}function b(a){if(!d("ClientIDs").isExistingClientID(a.clientid))return;var b=h[a.clientid];delete h[a.clientid];if(!b)return;c("UFIDispatcherBase").dispatch({type:"CENTRALUPDATES_SAVED_COMMENT",instanceID:b,ftentidentifier:a.ftentidentifier,clientID:a.clientid,commentID:a.id})}var k;function e(){if(!k){k=j();return k}return null}g.subscribeOnce=e},98);
__d("UFIPagedCommentListImpl",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFICommentLogger","UFIConfig","UFIConstants","UFIFeedbackTargets"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.actorID=null;this.basePermalink=null;this.commentPermalinks=Object.create(null);this.count=0;this.dataSource=new(c("KeyedCallbackManager"))();this.deletedComments=Object.create(null);this.deletedCount=0;this.lastRequestedLength=0;this.lastRequestedOffset=0;this.feedbackTargetID=a;d("UFIFeedbackTargets").getFeedbackTarget(this.feedbackTargetID,function(a){b.actorID=a.actorforpost,b.basePermalink=a.permalink})}var b=a.prototype;b.setClientHasAll=function(a){};b.addOrUpdateComment=function(a){if(!a)return;a.__typename==="local"?this.$1(a.id):this.$2(a.id,a.clientid,a.legacyid);c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};b.$1=function(a){this.dataSource.setResource(this.count,a),this.count++};b.$2=function(a,b,e){var f=b&&d("ClientIDs").isExistingClientID(b),g=this.dataSource.getAllResources(),h={};for(var i in g){var j=g[Number(i)];h[j]=i}if(f&&b&&b in h){h[a]=h[b];j=h[b];this.dataSource.setResource(j,a);d("UFIConfig").logCommentPost&&c("UFICommentLogger").logNewCommentReceived(b,Date.now())}else!h[a]&&b&&this.$1(a);e&&a in h&&(this.commentPermalinks[a]=this.buildCommentPermalink(a,e,h[a]))};b.addCommentIDs=function(a,b,e){var f={};for(var g=0;g<b;g++)f[a+g]=e[g]||d("UFIConstants").unavailableCommentKey;this.dataSource.addResourcesAndExecute(f);c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};b.getComments=function(a,b,c,d){var e=this,f=new Array(b).fill().map(function(b,c){return c+a}),g=this.dataSource.getUnavailableResourcesFromRequest(f);if(g.length){var h=Math.min.apply(Math,g);g=Math.max.apply(Math,g);var i=h;g=g-h+1;(i<this.lastRequestedOffset||i+g>this.lastRequestedOffset+this.lastRequestedLength)&&(this.lastRequestedOffset=i,this.lastRequestedLength=g,this.fetchComments(i,g,c))}else this.dataSource.executeOrEnqueue(f,function(c){return d(e.commentsFromCommentIDs(c,a,b))})};b.getCommentsOrThrow=function(a){var b=this;a=[a.getLength(),a.getOffset()];var c=a[0],d=a[1],e={};new Array(c).fill().forEach(function(a,c){a=c+d;c=b.dataSource.getResource(a);if(!c)throw new Error("Tried to get nonexistent comment");e[a]=c});return this.commentsFromCommentIDs(e,d,c)};b.fetchComments=function(a,b,c){};b.commentsFromCommentIDs=function(a,b,c){return{}};b.reset=function(){var a=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return a};b.deleteComment=function(a){a in this.deletedComments||(this.deletedComments[a]=!0,this.deletedCount++)};b.updateCommentCount=function(a){this.count=a,this.deletedCount=0};b.getFeedbackTargetID=function(){return this.feedbackTargetID};b.getCommentCount=function(){return this.count};b.getDeletedCount=function(){return this.deletedCount};b.getDisplayedCommentCount=function(){return this.count-this.deletedCount};b.getBasePermalink=function(){return this.basePermalink};b.buildCommentPermalink=function(a,b,c){return null};b.getPermalinkForComment=function(a){return this.commentPermalinks[a]};return a}();g["default"]=a},98);
__d("ChatReliabilityEvents",[],function(a,b,c,d,e,f){a=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole",FETCHING_MANY_MESSAGES:"fetching_many_messages",THREAD_INFO_MISSING:"thread_info_missing",SET_THREAD_ID_MAP:"set_thread_id_map",DELETE_THREAD:"delete_thread",PROCESS_DELTA:"process_delta",RTI_SESSION:"chatproxy_rti_session",ON_INVALID_HISTORY:"chatproxy_on_invalid_history",GET_DEBUG_PRESENCE:"chatproxy_get_debug_presence"});f["default"]=a},66);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){if(!c("gkx")("678576"))return;new(c("ChatReliabilityTypedLogger"))().setEvent(a).setEventData(b).log()};function a(a){h(c("ChatReliabilityEvents").ERROR,a)}function b(a){h(c("ChatReliabilityEvents").CHANNEL_DISCONNECT,a)}function d(a){h(c("ChatReliabilityEvents").CHANNEL_CONNECT,a)}function e(a){h(c("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,a)}function f(a){h(c("ChatReliabilityEvents").MESSAGE_RECEIVED,a)}function i(a){h(c("ChatReliabilityEvents").MESSAGE_SEND_START,a)}function j(a){h(c("ChatReliabilityEvents").CHANNEL_STALLED,a)}function k(a){h(c("ChatReliabilityEvents").CHANNEL_INIT,a)}function l(a){h(c("ChatReliabilityEvents").CHANNEL_NOCONFIG,a)}function m(a){h(c("ChatReliabilityEvents").DFF_DELTA_INIT,a)}function n(a){h(c("ChatReliabilityEvents").DFF_HOLE_INIT,a)}function o(a){h(c("ChatReliabilityEvents").FETCHING_MANY_MESSAGES,a)}function p(a){h(c("ChatReliabilityEvents").PROCESS_DELTA,a)}function q(a){h(c("ChatReliabilityEvents").THREAD_INFO_MISSING,a)}function r(a){h(c("ChatReliabilityEvents").SET_THREAD_ID_MAP,a)}function s(a){h(c("ChatReliabilityEvents").DELETE_THREAD,a)}function t(a){h(a)}g.logERROR=a;g.logCHANNEL_DISCONNECT=b;g.logCHANNEL_CONNECT=d;g.logCHANNEL_HISTORY_INVALID=e;g.logMESSAGE_RECEIVED=f;g.logMESSAGE_SEND_START=i;g.logCHANNEL_STALLED=j;g.logCHANNEL_INIT=k;g.logCHANNEL_NOCONFIG=l;g.logDFF_DELTA_INIT=m;g.logDFF_HOLE_INIT=n;g.logFETCHING_MANY_MESSAGES=o;g.logPROCESS_DELTA=p;g.logTHREAD_INFO_MISSING=q;g.logSET_THREAD_ID_MAP=r;g.logDELETE_THREAD=s;g.logCHATPROXY_EVENT=t},98);
__d("MercuryMessagingLightswitch",[],function(a,b,c,d,e,f){"use strict";a={guard:function(a){return},shouldRun:function(){return!1}};b=a;f["default"]=b},66);
__d("MercuryServerURIs",[],function(a,b,c,d,e,f){"use strict";a="/ajax/mercury/thread_info.php";b="/ajax/mercury/mark_folder_as_read.php";c="/ajax/mercury/change_read_status.php";d="/ajax/mercury/mark_seen.php";e="/ajax/mercury/threadlist_info.php";var g="/ajax/mercury/mark_spam.php",h="/ajax/mercury/unmark_spam.php",i="/ajax/mercury/unread_threads.php",j="/ajax/mercury/change_pinned_status.php",k="/ajax/mercury/change_archived_status.php",l="/ajax/mercury/change_page_follow_up_status.php",m="/ajax/mercury/delete_thread.php",n="/ajax/mercury/delete_messages.php",o="/ajax/mercury/delivery_receipts.php",p="/ajax/mercury/move_thread.php",q="/ajax/mercury/change_mute_thread.php";f.THREAD_INFO=a;f.MARK_FOLDER_READ=b;f.CHANGE_READ_STATUS=c;f.MARK_SEEN=d;f.THREADLIST_INFO=e;f.MARK_SPAM=g;f.UNMARK_SPAM=h;f.UNREAD_THREADS=i;f.CHANGE_PINNED_STATUS=j;f.CHANGE_ARCHIVED_STATUS=k;f.CHANGE_PAGE_FOLLOW_UP_STATUS=l;f.DELETE_THREAD=m;f.DELETE_MESSAGES=n;f.DELIVERY_RECEIPTS=o;f.MOVE_THREAD=p;f.CHANGE_MUTE_THREAD=q},66);
__d("areJSONRepresentationsEqual",[],function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(a)==JSON.stringify(b)}f["default"]=a},66);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatReliabilityInstrumentation","CurrentUser","FBIDCheck","LogHistory","MercuryMessagingLightswitch","MercuryServerURIs","MessagingTag","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow","promiseDone"],function(a,b,c,d,e,f){"use strict";var g,h={},i=b("LogHistory").getInstance("mercury_server_dispatcher"),j=50,k=[],l=!1,m={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||m.DEFAULT_ENDPOINT_ID;h[c]||(h[c]={});h[c][e]||(h[c][e]={});h[c][e][f]=new n(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||m.DEFAULT_ENDPOINT_ID,h[a][e][f].trySend(c,d)},getRequestErrors:function(){return k}};function n(a,c){var d=c.mode||m.IMMEDIATE;switch(d){case m.IMMEDIATE:case m.IDEMPOTENT:case m.BATCH_SUCCESSIVE:case m.BATCH_SUCCESSIVE_UNIQUE:case m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case m.BATCH_DEFERRED_MULTI:case m.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(n.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){if(l)return;a===void 0&&(a=null);b=b||this._mode;if(b==m.IMMEDIATE)this._send(a);else if(b==m.IDEMPOTENT)this._inFlight||this._send(a);else if(b==m.BATCH_SUCCESSIVE||b==m.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==m.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==m.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){var c=this;this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);b("MercuryMessagingLightswitch").guard(function(){i.log("send",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=(g||(g=b("performanceAbsoluteNow")))(),e=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&e.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs","MercuryJewelBootloadModules"],function(f,g){var h=a.request_user_id||b("CurrentUser").getID(),d=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);g=(g={},g[b("MessagingTag").INBOX]="INBOX",g[b("MessagingTag").OTHER]="OTHER",g[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",g[b("MessagingTag").SPAM]="SPAM",g[b("MessagingTag").PENDING]="PENDING",g[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",g[b("MessagingTag").BC_PARTNERSHIP]="BC_PARTNERSHIP",g);var i=[],j=Object.keys(g);for(var k=0;k<j.length;k++){var l=j[k];if(Object.prototype.hasOwnProperty.call(a,l)){var m=a[l];i.push({limit:m.before?m.limit+1:m.limit,folder:l,tags:m.filter?[g[l],m.filter]:[g[l]],timestamp:m.before,filter:m.filter,includeDeliveryReceipts:!0,includeSeqID:!1,source:a.client})}}l=function(){b("promiseDone")(f.fetchAll(h,i,d,"fetch_threadlist"),function(a){a=new(b("AsyncResponse"))(e,babelHelpers["extends"]({},a,{payload_source:"server_fetch_threadlist_info"}));c._handleResponse(a)},function(a){c._handleGraphQLError("threadlist_failure",i,a,e)})};l()},"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var f,h=(f=b("getByPath"))(a,["threads","user_ids"],[]),j=f(a,["threads","thread_fbids"],[]),k=f(a,["messages","user_ids"],{}),l=f(a,["messages","thread_fbids"],{}),m=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(d){var f=a.request_user_id||b("CurrentUser").getID(),g=Object.keys(k),i=g.map(function(b){var c=k[b].limit,d=k[b].timestamp;return{id:b,limit:d?c+1:c,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:d,isCanonical:!0,source:a.client}}),n=new Set(g);h.forEach(function(b){if(n.has(b))return;i.push({id:b,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0,source:a.client})});g=Object.keys(l);var o=g.map(function(b){var c=l[b].limit,d=l[b].timestamp;return{id:b,limit:d?c+1:c,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:d,isCanonical:!1,source:a.client}}),p=new Set(g);j.forEach(function(b){if(p.has(b))return;o.push({id:b,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1,source:a.client})});var q=[].concat(i,o);q.forEach(function(a){a.limit>21&&b("ChatReliabilityInstrumentation").logFETCHING_MANY_MESSAGES(JSON.stringify(a))});b("promiseDone")(d.fetchAll(f,q,m),function(a){a=a.slice(0);if(a.length>0){var d={};a.forEach(function(a){return Object.assign(d,a.roger)});var f=[];a.forEach(function(a){return f.push.apply(f,a.delivery_receipts)});var g=[];a.forEach(function(a){return g=g.concat(a.actions)});g=g.filter(Boolean);a={actions:g,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:d,delivery_receipts:f,payload_source:"server_fetch_thread_info"};a=new(b("AsyncResponse"))(e,a);c._handleResponse(a)}else c._handleResponse(new(b("AsyncResponse"))(e,{}))},function(a){c._handleGraphQLError("thread_failure",q,a,e)})},"MercuryServerDispatcher");return}e.setHandler(function(a){b("MercuryMessagingLightswitch").guard(function(){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:"async_request",duration:(g||(g=b("performanceAbsoluteNow")))()-d,endpoint:c._endpoint})}),c._handleResponse(a)}).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&e.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));e.send()},_handleGraphQLError:function(a,c,d,e){var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){var d=this;if(this._mode==m.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var e=this._batches.length-1;e>=0?c?this._batches[e].combineWithOlder(a,this._combineData):this._batches[e].combineWith(a,this._combineData):this._batches.push(new o(a));b("MercuryMessagingLightswitch").guard(function(){i.debug("batch",JSON.stringify({endpoint:d._endpoint}))})}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.log("response",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=a.getPayload();l=d&&d.kill_chat;l&&b("MercuryMessagingLightswitch").guard(function(){i.log("killswitch_enabled",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});d&&d.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(d,a.getRequest());(this._mode==m.BATCH_SUCCESSIVE||this._mode==m.BATCH_SUCCESSIVE_UNIQUE||this._mode==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==m.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.error("error",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}))});k.push(this._createErrorRecord(a));k.length>j&&(k=k.slice(-1*j));var d=this._mode;d==m.BATCH_SUCCESSIVE||d==m.BATCH_SUCCESSIVE_UNIQUE||d==m.BATCH_CONDITIONAL?this._batchSend():d==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function o(a){this._data=a,this._size=1}Object.assign(o.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=m},null);
__d("UFIReplyCommentListImpl",["ActorURI","MercuryServerDispatcher","UFICommentLogger","UFIComments","UFIConfig","UFIPagedCommentListImpl","URI"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,b)||this;b.parentCommentID=c;b.containerOrderingMode=d;return b}var e=b.prototype;e.fetchComments=function(a,b,e){d("UFIConfig").logCommentLoad&&c("UFICommentLogger").logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:b,is_reply:!0});a={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[a],lengths:[b],feed_context:e?e.feedContext:null,numpagerclicks:e?e.numPagerClicks:null,containerorderingmode:this.containerOrderingMode,translate_all:e?e.translateAll:null};(!e||!e.viewAs)&&(a[d("ActorURI").PARAMETER_ACTOR]=this.actorID);d("MercuryServerDispatcher").trySend("/ajax/ufi/reply_fetch.php",a)};e.commentsFromCommentIDs=function(a,b,c){var e={};for(var f=0;f<c;f++){var g=d("UFIComments").getComment(a[b+f]);g&&(e[b+f]=g)}return e};e.reset=function(){var b=a.prototype.reset.call(this),c={};for(var e in b){var f=b[e];c[f]=!0}d("UFIComments").resetComments(c);return b};e.getParentCommentID=function(){return this.parentCommentID};e.buildCommentPermalink=function(a,b,d){if(!this.basePermalink)return null;a=this.getParentCommentID().split("_");d=b;a.length===2&&(d=a[1]);return new(c("URI"))(this.basePermalink).addQueryData({comment_id:d,reply_comment_id:b}).toString()};return b}(c("UFIPagedCommentListImpl"));d("MercuryServerDispatcher").registerEndpoints({"/ajax/ufi/reply_fetch.php":{mode:d("MercuryServerDispatcher").IMMEDIATE}});g["default"]=a},98);
__d("UFIToplevelPagedCommentListImpl",["ActorURI","MercuryServerDispatcher","UFICommentLogger","UFIComments","UFIConfig","UFIOrderingModeStore","UFIPagedCommentListImpl","URI"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,b)||this;b.clientHasAll=!1;b.orderingMode=c;b.section=d||"default";b.clientHasAll=!1;return b}var e=b.prototype;e.fetchComments=function(a,b,e){d("UFIConfig").logCommentLoad&&c("UFICommentLogger").logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:b,is_reply:!1});a={ft_ent_identifier:this.feedbackTargetID,viewas:e&&e.viewAs?e.viewAs+"":null,source:e&&e.feedbackSource,offset:a,length:b,orderingmode:this.orderingMode,section:this.section,direction:e&&e.direction,feed_context:e?e.feedContext:null,numpagerclicks:e?e.numPagerClicks:null,translate_all:e?e.translateAll:null,clientcommentcount:this.count};(this.orderingMode!=="ranked_threaded"||this.orderingMode!=="ranked_unfiltered"||this.orderingMode!=="recent_activity")&&delete a.clientcommentcount;(!e||!e.viewAs)&&(a[d("ActorURI").PARAMETER_ACTOR]=this.actorID);e&&e.interactionRequestCorrelationID&&(a.ircid=e.interactionRequestCorrelationID);d("MercuryServerDispatcher").trySend("/ajax/ufi/comment_fetch.php",a)};e.commentsFromCommentIDs=function(a,b,e){var f={},g=b,h=b+e-1,i=c("UFIOrderingModeStore").isInverted(this.orderingMode,this.feedbackTargetID);for(var j=0;j<e;j++){var k=i?h-j:g+j;k=d("UFIComments").getComment(a[k]);k&&(f[b+j]=k)}return f};e.getOrderingMode=function(){return this.orderingMode};e.getCommentSection=function(){return this.section};e.setClientHasAll=function(a){this.clientHasAll=a};e.getClientHasAll=function(){return this.clientHasAll};e.buildCommentPermalink=function(a,b,d){return!this.basePermalink?null:new(c("URI"))(this.basePermalink).addQueryData({comment_id:b}).toString()};return b}(c("UFIPagedCommentListImpl"));d("MercuryServerDispatcher").registerEndpoints({"/ajax/ufi/comment_fetch.php":{mode:d("MercuryServerDispatcher").IMMEDIATE}});g["default"]=a},98);
__d("LiveTimer",["csx","cx","fbt","CSS","DOM","ODS","Run","ServerTime","TimeSlice","clearTimeout","gkx","killswitch","setTimeout","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i){var j=1e3,k=60,l=3600;a=43200;var m=86400,n=60,o=24,p=7,q=365,r=6e4,s=function(a){a.text===""&&(a.text=null);return a},t=[],u=null,v=!0,w={restart:function(a){b("ServerTime").update(a*1e3),this.updateTimeStamps()},registerLiveTimestamp:function(a){if(!b("killswitch")("GHL_LIVE_TIMER_SERVER_REGISTERED_TIMESTAMP")){t.length===0&&(w.delayUpdatingServerRegisteredLiveTimestamps(),w.cleanupServerRegisteredLiveTimestampsOnLeave());var c="";if(b("gkx")("837029")){var d=w.render(a.serverTime,a.time,a.size);c=d!=null?String(d.text):""}t.push(babelHelpers["extends"]({},a,{initialText:c}))}},delayUpdatingServerRegisteredLiveTimestamps:function(){v=!0,b("setTimeout")(function(){v=!1,w.startLoop(0)},30*j)},cleanupServerRegisteredLiveTimestampsOnLeave:function(){u!=null&&(u=b("Run").onLeave(function(){t.length=0,u=null}))},getApproximateServerTime:function(){return b("ServerTime").get()},getServerTimeOffset:function(){return-1*b("ServerTime").getSkew()},updateTimeStamps:function(){this.timestamps=b("DOM").scry(document.body,"abbr.livetimestamp"),this.startLoop(r)},addTimeStamps:function(a){if(!a)return;this.timestamps=this.timestamps||[];if(b("DOM").isNodeOfType(a,"abbr")&&b("CSS").hasClass(a,"livetimestamp"))this.timestamps.push(a);else{a=b("DOM").scry(a,"abbr.livetimestamp");for(var c=0;c<a.length;++c)this.timestamps.push(a[c])}this.startLoop(0)},removeTimestamp:function(a){if(!this.timestamps||!a)return;a=this.timestamps.indexOf(a);a>-1&&this.timestamps.splice(a,1)},startLoop:function(a){this.stop(),this.createTimeout(a)},createTimeout:function(a){var c=this;this.timeout=b("setTimeoutAcrossTransitions")(b("TimeSlice").guard(function(){c.loop()},"LiveTimer.loop",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),a)},stop:function(){b("clearTimeout")(this.timeout)},loop:function(a){var c=this;a&&this.updateTimeStamps();var d=Math.floor(b("ServerTime").get()/j),e=-1;this.timestamps&&this.timestamps.forEach(function(a){var f=a.getAttribute("data-utime"),g=a.getAttribute("data-shorten"),h=a.getAttribute("data-minimize");g=c.renderRelativeTime(d,f,g,h);if(g.text){h=b("DOM").scry(a,".timestampContent")[0];h==null?b("DOM").setContent(a,b("DOM").create("span",{"class":"timestampContent"},g.text)):h.textContent!==g.text.toString()&&(h.textContent=g.text);h=c.renderRelativeTime(d,f,!1,!1,!0);h.text&&b("DOM").setAttributes(a,{"aria-label":h.text})}g.next!=-1&&(g.next<e||e==-1)&&(e=g.next)});!b("killswitch")("GHL_LIVE_TIMER_SERVER_REGISTERED_TIMESTAMP")&&!v&&t.forEach(function(a){var f=c.render(d,a.time,a.size);f.next!=-1&&(f.next<e||e==-1)&&(e=f.next);if(b("gkx")("837029")){var g=String(f.text)===a.initialText;b("ODS").bumpEntityKey(2966,"feed_ads","LiveTimer.smart_update_"+String(g));if(g)return}b("DOM").setContent(a.ref,f.text)});if(e!=-1){a=Math.max(r,e*j);this.createTimeout(a)}},renderRelativeTime:function(a,b,c,d,e){var f={text:"",next:-1};if(a-b>m&&!e)return f;e=a-b;a=Math.floor(e/k);b=Math.floor(a/n);var g=Math.floor(b/o),h=Math.floor(g/p),j=Math.floor(g/q);if(a<1){d?(f.text=i._("1 min"),f.next=20-e%20):c?(f.text=i._("Hace un momento"),f.next=20-e%20):(f.text=i._("Hace unos segundos"),f.next=k-e%k);return f}if(b<1){d?f.text=i._({"*":"{number} min"},[i._param("number",a,[0])]):c&&a==1?f.text=i._("1 min"):c?f.text=i._({"*":"{number} min"},[i._param("number",a,[0])]):f.text=i._({"*":"Hace {number} minutos","_1":"Hace un minuto aproximadamente"},[i._plural(a,"number")]);f.next=k-e%k;return f}b<11&&(f.next=l-e%l);if(b<24){d?f.text=i._({"*":"{number} h"},[i._param("number",b,[0])]):c&&b==1?f.text=i._("1 hora"):c?f.text=i._({"*":"{number} horas"},[i._param("number",b,[0])]):f.text=i._({"*":"Hace {number} horas","_1":"hace aproximadamente una hora"},[i._plural(b,"number")]);return f}if(g<7){d?f.text=i._({"*":"{number} d"},[i._param("number",g,[0])]):f.text=g===1?i._("hace un d\u00eda"):i._({"*":"Hace {number} d\u00edas"},[i._param("number",g,[0])]);return f}if(g>=7&&g<365){d?f.text=i._({"*":"{number} s"},[i._param("number",h,[0])]):f.text=h===1?i._("hace una semana"):i._({"*":"Hace {number} semanas"},[i._param("number",h,[0])]);return f}d?f.text=i._({"*":"{number} a"},[i._param("number",j,[0])]):f.text=j===1?i._("Hace 1 a\u00f1o"):i._({"*":"Hace {number} a\u00f1os"},[i._param("number",j,[0])]);return f},renderRelativeTimeToServer:function(a,c,d,e){return this.renderRelativeTime(Math.floor(b("ServerTime").get()/j),a,c,d,e)},render:function(a,b,c,d){d===void 0&&(d=!1);return s(w.renderRelativeTime(a,b,c==="short",c==="minimal",d))},renderNow:function(a,b,c){c===void 0&&(c=!1);return s(w.renderRelativeTimeToServer(a,b==="short",b==="minimal",c))},CONSTS:{MS_IN_SEC:j,SEC_IN_MIN:k,SEC_IN_HOUR:l,SEC_IN_12_HOUR:a,SEC_IN_24_HOUR:m,MIN_IN_HOUR:n,HEARTBEAT:r}};e.exports=w},null);
__d("UFICentralUpdates",["Arbiter","ArbiterMixin","LiveTimer","ODS","ShortProfiles","UFIConstants","UFIUserActions"],function(a,b,c,d,e,f,g){"use strict";d("ODS").setEntitySample("feedback",1e-4);var h=0,i={},j={},k=[];function l(){if(!h){var a=i,b=j;i={};j={};Object.keys(a).length&&n("feedback-updated",a);Object.keys(b).length&&n("comments-updated",b);k.pop()}}function m(){if(k.length)return k[k.length-1];else return d("UFIConstants").UFIPayloadSourceType.UNKNOWN}function n(a,b){o.inform(a,{updates:b,payloadSource:m()})}var o=babelHelpers["extends"]({},c("ArbiterMixin"),{handleUpdateWithUserAction:function(a,b){b.actions.forEach(function(e){a==d("UFIConstants").UFIPayloadSourceType.ENDPOINT_HIDE_COMMENT?Object.prototype.hasOwnProperty.call(e,"commentid")&&(c("UFIUserActions").setHideAsSpam(e.commentid,!0,{source:13}),c("Arbiter").inform("bulk_actions_hidden",{})):o.handleUpdate(a,b)})},handleUpdate:function(a,b){Object.keys(b).length&&o.synchronizeInforms(function(){k.push(a);var c=babelHelpers["extends"]({payloadsource:m()},b);c.adjustedRanges&&o.inform("update-ranges",c);o.inform("update-feedback",c);o.inform("update-comment-lists",c);o.inform("update-comments",c);o.inform("update-actions",c);d("ShortProfiles").setMulti(b.profiles||{});b.servertime&&d("LiveTimer").restart(b.servertime)})},didUpdateFeedback:function(a){i[a]=!0,l()},didUpdateComment:function(a){j[a]=!0,l()},synchronizeInforms:function(a){h++;try{a()}catch(a){throw a}finally{h--,l()}}});a=o;g["default"]=a},98);
__d("UFICommentAction",[],function(a,b,c,d,e,f){"use strict";function a(a,b){return{type:"bulk_review",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}}function b(a,b,c,d){return{type:"comment_change_reaction",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,reactionType:c,target:d}}function c(a,b,c){return{type:"comment_change_reaction_success",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,reactionType:c}}function d(a,b,c){return{type:"comment_change_reaction_failure",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,reactionType:c}}function e(a,b,c,d,e){return{arrowType:e,comment:b,currentVoteState:d,fbid:b.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,target:c,type:"comment_change_vote"}}function g(a,b,c,d){return{comment:b,fbid:b.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:"comment_change_vote_failure",voteCount:c,voteState:d}}function h(a,b,c,d){return{comment:b,fbid:b.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:"comment_change_vote_success",voteCount:c,voteState:d}}function i(a,b,c,d){return{fbid:b,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:"comment_update_vote_count_and_state",voteCount:c,voteState:d}}function j(a,b){return{type:"comment_mounted",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.comment.fbid,renderedComment:b,contextArgs:a}}function k(a,b){return{type:"comment_unmounted",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.comment.fbid,renderedComment:b,contextArgs:a}}function l(a,b,c){return{type:"comment_change_visibility",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.comment.fbid,renderedComment:b,contextArgs:a,visibility:c}}function m(a,b){return{type:"comment_edit",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}}function n(a,b,c,d,e){e===void 0&&(e=!1);return{type:"comment_remove",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c,onConfirm:d,skipConfirmation:e}}function o(a,b,c,d){return{type:"comment_remove_and_block",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c,onConfirm:d}}function p(a,b,c,d){return{type:"comment_delete_and_commenter_remove",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c,onConfirm:d}}function q(a,b,c,d){return{type:"commenter_muted",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c,onConfirm:d}}function r(a,b,c){return{type:"comment_toggle_text_delights",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c}}function s(a,b,c){return{type:"comment_remove_preview",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c}}function t(a,b,c){return{type:"comment_toggle_like",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,like:!b.hasviewerliked,target:c}}function u(a,b,c){return{type:"comment_translate",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,trigger:c}}function v(a,b,c){return{type:"comment_toggle_mark_as_spam",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_spam:!0,target:c}}function w(a,b,c){return{type:"comment_toggle_mark_as_spam",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_spam:!1,target:c}}function x(a,b,c,d){return{type:"comment_toggle_inline_ban",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_banned:!0,ownerid:d,target:c}}function y(a,b,c,d){return{type:"comment_toggle_inline_ban",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_banned:!1,ownerid:d,target:c}}function z(a,b,c,d){return{type:"comment_toggle_inline_stream_ban",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_banned:!0,ownerid:d,target:c}}function A(a,b,c,d){return{type:"comment_toggle_inline_stream_ban",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_banned:!1,ownerid:d,target:c}}function B(a,b,c,d,e){return{type:"comment_toggle_inline_suspension",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_suspended:!0,suspension_duration_seconds:e,ownerid:d,target:c}}function C(a,b,c,d){return{type:"comment_toggle_inline_suspension",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,is_suspended:!1,suspension_duration_seconds:0,ownerid:d,target:c}}function D(a,b){return{type:"embed",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}}function E(a,b,c){return{type:"comment_delete_with_feedback",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c}}function F(a,b,c){return{comment:b,type:"comment_change_author_pin",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,pinnedByAuthor:c}}function G(a,b){return{type:"comment_manage_constituent_badge",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}}function H(a,b,c){return{type:"comment_toggle_keep_spam",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b,target:c}}function I(a,b,c,d){return{type:"comment_toggle_appeal_spam",instanceID:a.instanceid,ftentidentifier:b.fbid,fbid:b.fbid,comment:b,target:c,feedback:d}}function J(a,b,c,d){return{type:"comment_toggle_secure_account",instanceID:a.instanceid,ftentidentifier:b.fbid,fbid:b.fbid,comment:b,target:c,feedback:d}}f.bulkReview=a;f.changeReaction=b;f.changeReactionSuccess=c;f.changeReactionFailure=d;f.changeVote=e;f.changeVoteFailure=g;f.changeVoteSuccess=h;f.updateVoteCountAndState=i;f.mounted=j;f.unmounted=k;f.changeVisibility=l;f.edit=m;f.remove=n;f.removeAndBlock=o;f.delete_comment_and_remove_commenter=p;f.mute_member=q;f.toggle_text_delights=r;f.removePreview=s;f.toggleLike=t;f.translate=u;f.markAsSpam=v;f.markAsNotSpam=w;f.inlineBan=x;f.undoInlineBan=y;f.inlineStreamBan=z;f.undoInlineStreamBan=A;f.inlineSuspension=B;f.undoInlineSuspension=C;f.embed=D;f.deleteCommentWithFeedback=E;f.pinByAuthor=F;f.manageConstituentBadge=G;f.keepSpam=H;f.appealSpam=I;f.secureAccount=J},66);
__d("UFICommentVoteUserActions",["AsyncRequest","AsyncResponse","ChannelClientID","ClientIDs","ThisControllerNoLongerExists","UFICentralUpdates","UFICommentAction","UFICommentVoteSyncStore","UFIComments","UFIConstants","UFIFeedbackTargets","UFISharedDispatcher"],function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a,b,e,f,g,l){var m=d("UFIComments").getComment(a),n=c("UFICommentVoteSyncStore").getVoteCount(b),o=c("UFICommentVoteSyncStore").getOptimisticVoteState(f,e),p=c("UFICommentVoteSyncStore").getOptimisticVoteCount(b,o);if(!m||m.__typename!=="saved"||f===o)return;d("UFIFeedbackTargets").getFeedbackTarget(m.ftentidentifier,function(b){b=k(m,b,p,o);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:b});h&&h.abort();b=d("ThisControllerNoLongerExists").__DEADURI__("k0233k87l");h=new(c("AsyncRequest"))().setURI(b).setMethod("POST").setData({client_id:d("ClientIDs").getNewClientID(),comment_id:a,ft_ent_identifier:m.ftentidentifier,instance_id:g.instanceid,legacy_id:m.legacyid,new_vote_count:p,new_vote_state:o,old_vote_count:n,old_vote_state:f,session_id:d("ChannelClientID").getID(),source:g.source}).setErrorHandler(function(a){i(a)}).setHandler(function(a){j(a)})});h&&h.send()}function i(b){var a=b.request;if(!a||!a.data)return;a=a.data;var e=d("UFIComments").getComment(a.comment_id);if(!e||e.__typename!=="saved")return;var f=a.ft_ent_identifier,g=a.instance_id,i=a.old_vote_count;a=a.old_vote_state;if(!f||!g)return;c("UFISharedDispatcher").dispatch(d("UFICommentAction").changeVoteFailure({instanceid:g,ftentidentifier:f},e,i,a));c("AsyncResponse").defaultErrorHandler(b)}function j(a){a=a.request;if(!a||!a.data)return;a=a.data;var b=d("UFIComments").getComment(a.comment_id);if(!b||b.__typename!=="saved")return;var e=a.ft_ent_identifier,f=a.instance_id,g=a.new_vote_count;a=a.new_vote_state;if(!e||!f)return;c("UFISharedDispatcher").dispatch(d("UFICommentAction").changeVoteSuccess({instanceid:f,ftentidentifier:e},b,g,a))}function k(a,b,c,e){var f=a.id;b=[l(a,c,e,f,b.actorforpost)];a.voteState!==e&&b.push({commentID:f,actionType:d("UFIConstants").UFIActionType.COMMENT_VOTE,voteCount:c,voteEnabled:!0,voteState:e});return b}function l(a,b,c,e,f){return{actionType:d("UFIConstants").UFIActionType.COMMENT_VOTE,commentID:e,voteCount:b,voteEnabled:a.voteEnabled,voteState:c}}g.changeCommentVote=a},98);
__d("UFIComments",["invariant","ClientIDs","ImmutableObject","UFICentralUpdates","UFIConstants","randomInt"],function(a,b,c,d,e,f,g,h){"use strict";var i=5,j={},k={},l={},m={},n={};m.shareOnComment=n;var o="DONT_SHOW_SHARE_OPTION";function p(a){return a in k?k[a]:a}function q(a,b){a.forEach(function(a){var e=a.ftentidentifier,f=d("UFIConstants").UFIPayloadSourceType,g=a.clientid,h=!1,m=babelHelpers["extends"]({},a);if(g){delete m.clientid;h=d("ClientIDs").isExistingClientID(g);if(h&&k[g])return}(b===d("UFIConstants").UFIPayloadSourceType.LIVE_SEND||b===d("UFIConstants").UFIPayloadSourceType.STREAMING)&&(m.islive=!0);(b===f.ENDPOINT_COMMENT_FETCH||b===f.ENDPOINT_ID_COMMENT_FETCH)&&(m.fromfetch=!0);h&&j[g]&&(m.ufiinstanceid=j[g].ufiinstanceid,m.trackingID=j[g].trackingID,k[g]=a.id,l[a.id]=g,j[a.id]=j[g],delete j[g],c("UFICentralUpdates").didUpdateComment(g));if(b===f.LIVE_SEND||b===d("UFIConstants").UFIPayloadSourceType.STREAMING||b===f.USER_ACTION||b===f.ENDPOINT_ADD_COMMENT||b===f.ENDPOINT_EDIT_COMMENT){m.isunseen=!0;if(a.body&&a.body.text&&a.body.text.trim().split(/\s+/).length>=i&&(b===f.USER_ACTION||b===f.ENDPOINT_ADD_COMMENT)){h=n[e];h!==o&&(n[e]=!h||a.id===h||K(a.id)===h?a.id:o)}}M(a.id,new(c("ImmutableObject"))(m));c("UFICentralUpdates").didUpdateComment(a.id);c("UFICentralUpdates").didUpdateFeedback(e)})}function r(a,b){for(var c=0;c<a.length;c++){var e=a[c];switch(e.actiontype){case d("UFIConstants").UFIActionType.LIKE_ACTION:L(e.entidentifier)&&u(e.clientid,e.entidentifier,e.hasviewerliked,e.likecount,e.reactiondata,b);break;case d("UFIConstants").UFIActionType.COMMENT_LIKE:u(e.clientid,e.commentid,e.viewerliked,e.likecount,e.reactiondata,b);break;case d("UFIConstants").UFIActionType.MUTE_MEMBER:v(e);break;case d("UFIConstants").UFIActionType.REACTION:L(e.entidentifier)&&w(e.entidentifier,e);break;case d("UFIConstants").UFIActionType.COMMENT_REACTION:w(e.commentid,e);break;case d("UFIConstants").UFIActionType.DELETE_COMMENT:A(e);break;case d("UFIConstants").UFIActionType.LIVE_DELETE_COMMENT:B(e);break;case d("UFIConstants").UFIActionType.CHANGE_ACCEPTED_ANSWER:C(e);break;case d("UFIConstants").UFIActionType.REMOVE_PREVIEW:D(e);break;case d("UFIConstants").UFIActionType.COMMENT_SET_SPAM:E(e);break;case d("UFIConstants").UFIActionType.COMMENT_KEEP_SPAM:F(e);break;case d("UFIConstants").UFIActionType.CONFIRM_COMMENT_REMOVAL:G(e);break;case d("UFIConstants").UFIActionType.TRANSLATE_COMMENT:y(e);break;case d("UFIConstants").UFIActionType.COMMENT_LIKECOUNT_UPDATE:x(e);break;case d("UFIConstants").UFIActionType.UPDATE_CONSTITUENT_BADGE:I(e);break;case d("UFIConstants").UFIActionType.COMMENT_VOTE:t(e);break;case d("UFIConstants").UFIActionType.COMMENT_AUTHOR_PIN_CHANGE:s(e)}}}function s(a){var b=L(a.commentid);b&&J(b.id,{ispinnedbyauthor:a.ispinnedbyauthor})}function t(a){var b=L(a.commentID);b&&J(b.id,{voteCount:a.voteCount,voteEnabled:a.voteEnabled,voteState:a.voteState})}function u(a,b,e,f,g,h){h=L(b);if(h){h={};a=a&&d("ClientIDs").isExistingClientID(a);a||(h.hasviewerliked=e,h.likecount=f,g&&(h.reactioncount=g.reactioncount,h.reactioncountmap=g.reactioncountmap,h.reactioncountreduced=g.reactioncountreduced,h.viewerreaction=g.viewerreaction));h.likeconfirmhash=c("randomInt")(0,1024);J(b,h)}}function v(a){for(var b in j){var c=j[b];if(c.author===a.authorid){c={ismuted:a.shouldmute};J(b,c)}}}function w(a,b){var c=L(a);if(c){var e={};if(b.clientid&&d("ClientIDs").isExistingClientID(b.clientid)&&b.viewerreaction!==c.viewerreaction)return;e.hasviewerliked=b.hasviewerliked;e.likecount=b.likecount;e.reactioncount=b.reactioncount;e.reactioncountmap=b.reactioncountmap;e.reactioncountreduced=b.reactioncountreduced;e.viewerreaction=b.viewerreaction;J(a,e)}}function x(a){var b=L(a.commentid);if(b&&a.hasviewerliked===b.hasviewerliked){b={likecount:a.likecount,likeconfirmhash:c("randomInt")(0,1024)};J(a.commentid,b)}}function y(a){var b=a.commentid,c=L(b);if(c){c={translationdata:a.translationdata};J(b,c)}}function z(a){a={reportLink:a.reportLink,commenterIsFOF:a.commenterIsFOF,userIsMinor:a.userIsMinor,giveFeedbackLink:a.giveFeedbackLink,reportOptionsLink:a.reportOptionsLink,isBroadcast:a.isBroadcast,showStreamBanControls:a.showStreamBanControls};return a}function A(a){a=L(a.commentid);a&&H(a,d("UFIConstants").UFIStatus.DELETED)}function B(a){a=L(a.commentid);a&&a.status!==d("UFIConstants").UFIStatus.DELETED&&H(a,d("UFIConstants").UFIStatus.LIVE_DELETED)}function C(a){J(a.commentid,{postacceptedanswer:a.isaccepted?a.commentid:null})}function D(a){J(a.commentid,{attachment:null})}function E(a){var b=L(a.commentid);a=a.shouldHideAsSpam?d("UFIConstants").UFIStatus.SPAM_DISPLAY:null;b&&H(b,a)}function F(a){a=L(a.commentid);a&&J(a.id,{needsApproval:!1,isApproved:!0})}function G(a){J(a.commentid,z(a))}function H(a,b){J(a.id,{priorstatus:a.status,status:b})}function I(a){var b=L(a.commentid);if(b){b={constituentTitle:a.constituentTitle,hasConstituentBadge:a.hasConstituentBadge};J(a.commentid,b)}}function J(a,b){var d=L(a)||new(c("ImmutableObject"))({});M(a,c("ImmutableObject").set(d,b));c("UFICentralUpdates").didUpdateComment(d.id);c("UFICentralUpdates").didUpdateFeedback(d.ftentidentifier)}function a(a){return"comment"+(a in l?l[a]:a)}function K(a){return a in l?l[a]:a}function L(a){return a===d("UFIConstants").unavailableCommentKey?null:j[p(a)]}function M(a,b){b instanceof c("ImmutableObject")||h(0,11854),j[p(a)]=b}function b(a,b){a.length!==0||h(0,4389),m[a]=b}function e(a){return m[a]}function f(a){for(var a in a)delete j[p(a)]}function N(a){var b=[];for(var c in j){var d=j[c];d.author==a&&b.push(d)}return b}function O(a){var b=[];for(var c in j){var d=j[c];d.ftentidentifier==a&&b.push(d)}return b}c("UFICentralUpdates").subscribe("update-comments",function(a,b){b.comments&&b.comments.length&&q(b.comments,b.payloadsource),b.privatecomments&&b.privatecomments.length&&q(b.privatecomments,b.payloadsource),b.pinnedcomments&&b.pinnedcomments.length&&q(b.pinnedcomments,b.payloadsource),b.livethreadedcomments&&b.livethreadedcomments.length&&q(b.livethreadedcomments,b.payloadsource),b.authorpinnedcomments&&b.authorpinnedcomments.length&&q(b.authorpinnedcomments,b.payloadsource)});c("UFICentralUpdates").subscribe("update-actions",function(a,b){b.actions&&b.actions.length&&r(b.actions,b.payloadsource)});g.getRenderKey=a;g.getLocalID=K;g.getComment=L;g.setComment=M;g.setCacheVariable=b;g.getCacheVariable=e;g.resetComments=f;g.getCommentsForAuthor=N;g.getCommentsForFTEntIdentifier=O},102);
__d("UFIFeedbackTargets",["Bootloader","KeyedCallbackManager","UFICentralUpdates"],function(a,b,c,d,e,f,g){"use strict";var h=new(c("KeyedCallbackManager"))();function i(a){var b;if(!a)return;var d=babelHelpers["extends"]({},a);delete d.commentlist;delete d.commentcount;c("UFICentralUpdates").didUpdateFeedback(a.entidentifier);h.addResourcesAndExecute((b={},b[a.entidentifier]=d,b))}function j(a,b){c("Bootloader").loadModules(["UFIFeedbackMutator"],function(c){for(var d=0;d<a.length;d++){var e=a[d];e.arecommentsdisabled=!!e.arecommentsdisabled;e.cancomment=!!e.cancomment;e.hasviewerliked=!!e.hasviewerliked;e.hasviewersubscribed=!!e.hasviewersubscribed;e.likecount=e.likecount||0;var f=h.getResource(e.entidentifier);if(!f)break;var g=c.getHandlerForAction(e);i(g(f,e,b))}},"UFIFeedbackTargets")}function a(a,b){a=h.executeOrEnqueue(a,b);return a}function b(a){return h.getResource(a)||null}function d(a){h.unsubscribe(a)}c("UFICentralUpdates").subscribe("update-feedback",function(a,b){a=b.feedbacktarget?b.feedbacktarget:b.feedbacktargets&&b.feedbacktargets[0];a&&i(a)});c("UFICentralUpdates").subscribe("update-actions",function(a,b){b.actions&&b.actions.length&&j(b.actions,b.payloadsource)});g.getFeedbackTarget=a;g.getFeedbackTargetIfExists=b;g.unsubscribe=d},102);
__d("UFIReactionsUtils",[],function(a,b,c,d,e,f){function a(a,b,c,d,e){e===void 0&&(e=null);b=parseInt(b,10);var f=!!b,g=a.reactorids?a.reactorids.slice(0):[],h=g.indexOf(c),i=0;f?h<0&&(c&&g.unshift(c),i=1):h>-1&&(g.splice(h,1),i=-1);h=Math.max(a.reactioncount+i,0);i=a.reactioncountreduced;i&&!isNaN(i)&&(d?i=d(h):i=h.toString());d=a.reactioncountmap||{};var j=a.reactioncountmapbyid||{},k,l=a.viewerreaction,m=a.viewerreactionid;l&&d[l]&&(d[l]["default"]=Math.max((d[l]["default"]||0)-1,0),k=d[l].reduced,k&&!isNaN(k)&&(d[l].reduced=d[l]["default"].toString()));m&&j[m]&&(j[m]["default"]=Math.max((j[m]["default"]||0)-1,0),k=j[m].reduced,k&&!isNaN(k)&&(j[m].reduced=j[m]["default"].toString()));f&&d[b]&&(d[b]["default"]=(d[b]["default"]||0)+1,k=d[b].reduced,k&&!isNaN(k)&&(d[b].reduced=d[b]["default"].toString()));f&&e!==null&&(j[e]||(j[e]={}),j[e]["default"]=(j[e]["default"]||0)+1,k=j[e].reduced,k&&!isNaN(k)&&(j[e].reduced=j[e]["default"].toString()));m=a.userreactions;(!m||Array.isArray(m))&&(m={});c&&(f?m[c]=b:delete m[c]);k=null;if(a.reactionsentences){f=!(l&&b);k={current:a.reactionsentences[f?"alternate":"current"],alternate:a.reactionsentences[f?"current":"alternate"]}}return{reactioncount:h,reactioncountmap:d,reactioncountmapbyid:j,reactioncountreduced:i,reactionsentences:k,reactorids:g,userreactions:m,viewerreaction:b,viewerreactionid:e}}function b(a){var b={};if(!a)return b;for(var c=0;c<a.length;c++){var d=a[c],e=d.feedback_reaction.key;b[e]={"default":d.reactors&&d.reactors.count,reduced:d.reactors&&d.reactors.display_count}}return b}f.getReactionData=a;f.getReactionCountMapFromSummary=b},66);
__d("UFIStoryAction",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){return{type:"story_change_accepted_answer",instanceID:a.instanceid,ftentidentifier:b.ftentidentifier,comment:b,doAccept:c}}function b(a,b,c,d,e,f,g){return{type:"story_comments_arrived",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,section:e,newOffset:b,newLength:c,source:d,interactionRequestCorrelationID:f,liveVideoCommentPermalinkID:g}}function c(a,b,c,d,e){return{type:"story_page_in_comments",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,interactionRequestCorrelationID:a.interactionRequestCorrelationID,commentID:b,direction:c,nextRange:d,section:e}}function d(a){return{type:"story_show_comments",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}}function e(a,b,c){return{type:"story_show_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b,initiatorComment:c}}function g(a,b,c,d){return{type:"story_spam_fetched",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,viewas:b,commentIDs:c,parentCommentID:d}}function h(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);return{type:"story_change_reaction",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,contextArgs:a,reactionType:b,target:c,sphericalYaw:d,sphericalPitch:e}}function i(a,b){return{type:"story_change_reaction_success",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,reactionType:b}}function j(a,b){return{type:"story_change_reaction_failure",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,reactionType:b}}function k(a,b){return{type:"story_toggle_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b}}function l(a){return{type:"story_someone_typing",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}}function m(a){return{type:"story_typing_stopped",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}}function n(a,b,c){c===void 0&&(c=null);return{type:"story_live_pin_comment",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b,pinEventID:c}}function o(a,b){b===void 0&&(b=null);return{type:"story_live_unpin_comment",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:null,pinEventID:b}}function p(a,b){return{type:"story_show_facecast_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b}}function q(a,b){return{type:"story_hide_facecast_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,isExplicit:b}}function r(a,b){return{type:"story_add_facecast_reply",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentID:b}}function s(a,b){return{type:"story_add_facecast_replies",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentIDs:b}}function t(a,b){return{type:"facecast_replies_loaded",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:b}}function u(a,b){return{type:"set_comments_scroll_distance",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,scrollDist:b}}function v(a,b){return{type:"handle_new_comments",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,numComments:b}}function w(a,b){return{type:"handle_new_facecast_reply",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentID:b}}function x(a,b){return{type:"set_comment_reactions_menu_shown",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentReactionsMenuShown:b}}f.changeAcceptedAnswer=a;f.commentsArrived=b;f.pageInComments=c;f.showComments=d;f.showReplies=e;f.spamFetched=g;f.changeReaction=h;f.changeReactionSuccess=i;f.changeReactionFailure=j;f.toggleReplies=k;f.someoneTyping=l;f.typingStopped=m;f.pinComment=n;f.unpinComment=o;f.showFacecastReplies=p;f.hideFacecastReplies=q;f.addFacecastReply=r;f.addFacecastReplies=s;f.facecastRepliesLoaded=t;f.setCommentsScrollDistance=u;f.handleNewComments=v;f.handleNewFacecastReply=w;f.setCommentReactionsMenuShown=x},66);
__d("UFIUserActionUtils",["Nectar","TrackingNodes","collectDataAttributes"],function(a,b,c,d,e,f,g){function a(a){if(!a)return{ft:{}};var b={ft:c("collectDataAttributes")(a,["ft"]).ft};if(h(b.ft.tn))return{};d("Nectar").addModuleData(b,a);return b}function h(a){if(a){a=c("TrackingNodes").parseTrackingNodeString(a);for(var b=0;b<a.length;b++){var d=a[b][0];switch(d){case c("TrackingNodes").types.COMMENT:return!0}}}return!1}g.trackingData=a},98);
__d("UFIVideoPlayerRegistry",["EventEmitter","ViewportBounds","destroyOnUnload","getOrCreateDOMID"],function(a,b,c,d,e,f){"use strict";var g=new(b("EventEmitter"))(),h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Set(),m=new Map();b("destroyOnUnload")(function(){g.removeAllListeners(),h.clear(),i.clear(),j.clear(),k.clear(),l.clear()});function n(a){a=a;var b=[];while(a)b.unshift(a),a=a.parentElement;return b}function o(a,b){var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f){if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}f===c.length-1&&((d===null||f>d)&&(d=f,a=b))}});return a}function p(a,b){var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}var q={registerVideoPlayerController:function(a){var b=a.getVideoID(),c=k.get(b);c?c.push(a):(c=[a],k.set(b,c),j["delete"](b));l.forEach(function(a){return a()});a=h.get(b);if(!a)return;a.forEach(function(a){return q._associateUFIController(a,b)})},addOnRegisterListener:function(a){l.add(a)},removeOnRegisterListener:function(a){l["delete"](a)},getAvailableVideoPlayerController:function(a){return i.get(a)},seekAvailableVideoPlayerController:function(a,b){a=q.getAvailableVideoPlayerController(a);if(!a)return;["ready","playing","paused","finished"].includes(a.getState())&&(a.pause("seek_initiated"),a.seek(b),a.play("seek_initiated"))},scrollToAvailableVideo:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return;a=b("ViewportBounds").getElementPosition(a.getRootNode());window.scroll(0,a.y)},setAvailableVideoPlayerControllerSphericalViewport:function(a,b){a=q.getAvailableVideoPlayerController(a);if(!a)return;a.emit("SphericalVideoViewportTagComment/click",b)},getAvailableVideoPlayerControllerForElement:function(a,c){if(!a)return null;var d=j.get(c)||new Map(),e=b("getOrCreateDOMID")(a);a=d.get(e)||q.findVideoPlayerControllerForElement(a,c);d.set(e,a);j.set(c,d);return a},getAvailableVideoPlayerControllerTimeForElement:function(a,b){if(!a)return null;a=q.getAvailableVideoPlayerControllerForElement(a,b);if(!a)return null;b=a.getCurrentTimePosition();return b>=0?Math.floor(b):null},getAvailableVideoPlayerControllerTime:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return null;a=a.getCurrentTimePosition();return a>=0?Math.floor(a):null},registerUFIController:function(a,b,c){var d=a.getInstanceID(),e=a.getFluentContentToken();if(!e)return;var f=h.get(e);f?f.push(a):(f=[a],h.set(e,f));g.addListener(d+"/register",b);g.addListener(d+"/unregister",c);q._associateUFIController(a,e)},getAvailableUFIController:function(a){var b=m.get(a);if(b)return b;var c=h.get(a.getVideoID());if(!c)return null;c.length===1?b=c[0]:b=p(a.getRootNode(),c.map(function(a){return[a.getRootNode(),a]}));if(b){c=q.findVideoPlayerControllerForElement(b.getRootNode(),a.getVideoID());if(c!==a)return null;m.set(a,b)}return b},findVideoPlayerControllerForElement:function(a,b){b=k.get(b);if(!b)return null;if(b.length===1)return b[0];return!a?null:o(a,b.filter(function(a){return!a.isState("destroyed")}).map(function(a){return[a.getRootNode(),a]}))},unregisterVideoPlayerControllerForElement:function(a,b){var c=k.get(b);if(!c)return;var d=q.findVideoPlayerControllerForElement(a,b);if(d==null)return;a=c.findIndex(function(a){return a.getRootNode()===d.getRootNode()});c.splice(a,1);k.set(b,c)},_associateUFIController:function(a,c){var d=a.getInstanceID();a=q.findVideoPlayerControllerForElement(a.getRootNode(),c);if(!a||a.isState("destroyed"))return;c=i.get(d);if(c){if(!c.isState("destroyed")&&b("getOrCreateDOMID")(c.getRootNode())===b("getOrCreateDOMID")(a.getRootNode()))return;g.emit(d+"/unregister")}i.set(d,a);g.emit(d+"/register",a)}};e.exports=q},null);
__d("XUFICommentReactionController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/reaction/",{reaction_type:{type:"Enum",enumType:0}})},null);
__d("XUFIReactionController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"StringOrPFBID"},reaction_type:{type:"Enum",enumType:0},reaction_id:{type:"String"},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})},null);
__d("UFIReactionUserActions",["ActorURI","AsyncResponse","ChannelClientID","ClientIDs","MercuryServerDispatcher","NumberFormat","QE2Logger","UFICentralUpdates","UFICommentAction","UFIComments","UFIConfig","UFIConstants","UFIFeedbackTargets","UFIReactionPendingRequestsStore","UFIReactionSyncStore","UFIReactionTypes","UFIReactionsUtils","UFISharedDispatcher","UFIStoryAction","UFIUserActionUtils","UFIVideoPlayerRegistry","XUFICommentReactionController","XUFIReactionController","ifRequired","setImmediate"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h){g===void 0&&(g=null),h===void 0&&(h=null),d("UFIFeedbackTargets").getFeedbackTarget(a,function(i){var j=s(i,b);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:j});j=d("UFIUserActionUtils").trackingData(f);var k={};k[d("ActorURI").PARAMETER_ACTOR]=i.actorforpost;var l=babelHelpers["extends"]({client_id:d("ClientIDs").getNewClientID(),ft_ent_identifier:a,reaction_type:b,root_id:e.rootid,session_id:d("ChannelClientID").getID(),source:e.source,feedback_referrer:e.feedbackReferrer,instance_id:e.instanceid},k,j);if(e.fluentContentToken){i=e.fluentContentToken;var m=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(f,i);m&&m.isSpherical()&&(l.video_playback_timestamp=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(f,i));e.isLiveVOD?l.on_demand_content_time_offset=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(f,i):e.islivestreaming&&(l.live_content_time_offset=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(f,i));m&&m.isSpherical()&&c("ifRequired")("SphericalViewportControlStore",function(a){a=a.getOrientation(m.getVideoPlayerID());a&&(g!==null&&h!==null?(l.spherical_yaw=g,l.spherical_pitch=h):(l.spherical_pitch=Math.round(a.pitch),l.spherical_yaw=Math.round(a.yaw)))})}d("MercuryServerDispatcher").trySend(c("XUFIReactionController").getURIBuilder().getURI(),l)})}function b(a,b,e,f){var g=d("UFIComments").getComment(a);g&&g.__typename==="saved"&&g.viewerreaction!=b&&d("UFIFeedbackTargets").getFeedbackTarget(g.ftentidentifier,function(h){var i=d("UFIUserActionUtils").trackingData(f),j=r(g,h,b);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:j});j={};j[d("ActorURI").PARAMETER_ACTOR]=h.actorforpost;d("MercuryServerDispatcher").trySend(c("XUFICommentReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({comment_id:a,legacy_id:g.legacyid,reaction_type:b,ft_ent_identifier:g.ftentidentifier,source:e.source,instance_id:e.instanceid,client_id:d("ClientIDs").getNewClientID(),session_id:d("ChannelClientID").getID()},i,j))})}var h={},i=c("XUFIReactionController").getURIBuilder().getURI();h[i]={mode:d("MercuryServerDispatcher").IMMEDIATE,error_handler:n,handler:m};i=c("XUFICommentReactionController").getURIBuilder().getURI();h[i]={mode:d("MercuryServerDispatcher").BATCH_CONDITIONAL,batch_if:e,batch_function:f,error_handler:q,handler:p};d("MercuryServerDispatcher").registerEndpoints(h);function e(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier&&a.comment_id==b.comment_id}function f(a,b){return b}var j="feedback_reactions_www_rollback_universe";function k(){d("QE2Logger").logExposureForUser(j)}function l(a,b){var e=c("UFIReactionPendingRequestsStore").getPendingRequests(a);if(e>0)return;var f=c("UFIReactionSyncStore").getLastKnownReaction(a);if(b===f)return;d("UFIFeedbackTargets").getFeedbackTarget(a,function(a){a=s(a,f);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:a})})}function m(a,b){a=b.data;var e=a.ft_ent_identifier,f=a.reaction_type;c("UFISharedDispatcher").dispatch(d("UFIStoryAction").changeReactionSuccess({instanceid:a.instance_id,ftentidentifier:e},f));c("setImmediate")(function(){return l(e,f)})}function n(a){var b=a.request.data,e=b.ft_ent_identifier,f=b.reaction_type;k();var g=c("UFIConfig").reactionsHasReactionsRollback,h=c("UFIConfig").reactionsHasReactionsRetry;if(h&&!b.retry_attempt){d("MercuryServerDispatcher").trySend(c("XUFIReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({},b,{retry_attempt:1}));return}c("UFISharedDispatcher").dispatch(d("UFIStoryAction").changeReactionFailure({instanceid:b.instance_id,ftentidentifier:e},f));g&&c("setImmediate")(function(){return l(e,f)});c("AsyncResponse").defaultErrorHandler(a)}function o(a,b,e){var f=c("UFIReactionPendingRequestsStore").getPendingRequestsForComment(b.fbid);if(f>0)return;var g=c("UFIReactionSyncStore").getLastKnownCommentReaction(b.fbid);if(e===g)return;d("UFIFeedbackTargets").getFeedbackTarget(a,function(a){a=r(b,a,g);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:a})})}function p(a,b){a=b.data;var e=a.ft_ent_identifier,f=a.reaction_type,g=d("UFIComments").getComment(a.comment_id);if(!g||g.__typename!=="saved")return;c("UFISharedDispatcher").dispatch(d("UFICommentAction").changeReactionSuccess({instanceid:a.instance_id,ftentidentifier:e},g,f));c("setImmediate")(function(){return o(e,g,f)})}function q(a){var b=a.request.data,e=b.ft_ent_identifier,f=b.reaction_type,g=d("UFIComments").getComment(b.comment_id);if(!g)return;k();var h=c("UFIConfig").reactionsHasCommentReactionsRollback,i=c("UFIConfig").reactionsHasCommentReactionsRetry;if(i&&!b.retry_attempt){d("MercuryServerDispatcher").trySend(c("XUFICommentReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({},b,{retry_attempt:1}));return}g&&g.__typename==="saved"&&(c("UFISharedDispatcher").dispatch(d("UFICommentAction").changeReactionFailure({instanceid:b.instance_id,ftentidentifier:e},g,f)),h&&c("setImmediate")(function(){return o(e,g,f)}));c("AsyncResponse").defaultErrorHandler(a)}function r(a,b,e){var f=a.id,g=[u(a,e,f,b.supportedreactions||[],b.actorforpost)];e=e===c("UFIReactionTypes").LIKE;if(b.hasviewerliked!==e){b=e?1:-1;g.push({commentid:f,actiontype:d("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:e,likecount:(a.likecount||0)+b})}return g}function s(a,b){var e=[t(a,b)];b=b!==c("UFIReactionTypes").NONE;if(a.hasviewerliked!==b){var f=b?1:-1;e.push({actiontype:d("UFIConstants").UFIActionType.LIKE_ACTION,actorid:a.actorforpost,hasviewerliked:b,likecount:(a.likecount||0)+f,entidentifier:a.entidentifier,likesentences:{current:a.likesentences.alternate,alternate:a.likesentences.current}})}return e}function t(a,b){return babelHelpers["extends"]({actiontype:d("UFIConstants").UFIActionType.REACTION,actorid:a.actorforpost,entidentifier:a.entidentifier},d("UFIReactionsUtils").getReactionData(a,b,a.actorforpost,d("NumberFormat").formatInteger))}function u(a,b,c,e,f){var g={};for(var h=0;h<e.length;h++){var i=e[h],j=a.reactioncountmap?a.reactioncountmap[i]:null;g[i]={"default":j?j["default"]:0,reduced:j?j.reduced:"0"}}i=d("UFIReactionsUtils").getReactionData({viewerreaction:a.viewerreaction,reactioncount:a.reactioncount,reactioncountreduced:a.reactioncountreduced,reactioncountmap:g,reactorids:a.viewerreaction?[f]:[]},b,f);return{actiontype:d("UFIConstants").UFIActionType.COMMENT_REACTION,commentid:c,hasviewerliked:!!b,likecount:i.reactioncountmap[1]["default"],reactioncount:i.reactioncount,reactioncountmap:i.reactioncountmap,reactioncountreduced:i.reactioncountreduced,viewerreaction:b}}g.changeReaction=a;g.changeCommentReaction=b},98);
__d("UFIReplyCommentList",["UFICentralUpdates","UFIComments","UFIConstants","UFIReplyCommentListImpl","getObjectValues"],function(a,b,c,d,e,f,g){"use strict";var h={};function i(a,b,d){h[b]||(h[b]={});if(!h[b][d]){a=new(c("UFIReplyCommentListImpl"))(a,b,d);var e=j(String(b));e.length&&a.updateCommentCount(e[0].getCommentCount());h[b][d]=a}return h[b][d]}function j(a){return c("getObjectValues")(h[a]||{})}function a(a,b,c,d){a=(h[b]||{})[d];if(!a)return;a.reset();a.actorID=c}function k(a){a=d("UFIComments").getComment(a.commentid);if(!a)return;var b=a.id,c=a.parentcommentid;if(!c)return;a.status!==d("UFIConstants").UFIStatus.DELETED&&a.status!==d("UFIConstants").UFIStatus.FAILED_ADD&&j(c).forEach(function(a){a.deleteComment(b)})}c("UFICentralUpdates").subscribe("update-actions",function(a,b){if(b.actions&&b.actions.length)for(var a=0;a<b.actions.length;a++){var c=b.actions[a];switch(c.actiontype){case d("UFIConstants").UFIActionType.DELETE_COMMENT:k(c);break}}});c("UFICentralUpdates").subscribe("update-comment-lists",function(a,b){a=b.commentlists;if(a&&a.replies&&Object.keys(a).length)for(var b in a.replies){var c=a.replies[b],d=c.ftentidentifier,e=c.containerorderingmode;d=i(String(d),String(b),e);d.addCommentIDs(c.range.offset,c.range.length,c.values);d.updateCommentCount(c.count)}});c("UFICentralUpdates").subscribe("update-comments",function(a,b){(b.comments||[]).concat(b.privatecomments||[]).concat(b.authorpinnedcomments||[]).forEach(function(a){var b=a.parentcommentid;if(!b)return;j(String(b)).forEach(function(b){b.addOrUpdateComment(a)})})});g.getCommentList=i;g.getReplyListsForParentCommentID=j;g.resetWithContext=a},102);
__d("UFIThreadedFacecastCommentsStore",["FluxReduceStore","UFIComments","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case"story_show_facecast_replies":var e;return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:b.commentID,reply_comment_ids:c.getReplyCommentIDs(b.instanceID),is_loaded:!1},e));case"story_hide_facecast_replies":return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:null,reply_comment_ids:[],is_loaded:!1},e));case"story_add_facecast_reply":if(c.getCommentID(b.instanceID)===null)return a;e=b.replyCommentID;var f=c.getReplyCommentIDs(b.instanceID);f.indexOf(e)===-1&&(f=f.slice(0),f.push(e));return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:c.getCommentID(b.instanceID),reply_comment_ids:f,is_loaded:c.getIsLoaded(b.instanceID)},e));case"story_add_facecast_replies":if(c.getCommentID(b.instanceID)===null)return a;var g=c.getReplyCommentIDs(b.instanceID);f=b.replyCommentIDs.filter(function(a){return g.indexOf(a)===-1});f.length!==0&&(g=g.concat(f));return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:c.getCommentID(b.instanceID),reply_comment_ids:g,is_loaded:c.getIsLoaded(b.instanceID)},e));case"facecast_replies_loaded":f=c.getCommentID(b.instanceID);return f!==b.commentID?a:babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:c.getCommentID(b.instanceID),reply_comment_ids:c.getReplyCommentIDs(b.instanceID),is_loaded:!0},e));case"story_comments_arrived":if(b.source!==1||b.liveVideoCommentPermalinkID==null)return a;f=d("UFIComments").getComment(b.liveVideoCommentPermalinkID);return f==null?a:babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:f.parentcommentid||f.id,reply_comment_ids:c.getReplyCommentIDs(b.instanceID),is_loaded:c.getIsLoaded(b.instanceID)},e));case"CENTRALUPDATES_SAVED_COMMENT":f=c.getReplyCommentIDs(b.instanceID);if(f.length===0)return a;e=f.indexOf(b.clientID);if(e===-1)return a;f.slice(0)[e]=b.commentID;return babelHelpers["extends"]({},a,(e={},e[b.instanceID]={comment_id:c.getCommentID(b.instanceID),reply_comment_ids:f,is_loaded:c.getIsLoaded(b.instanceID)},e));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getCommentID=function(a){a=this.getState()[a];return!a?null:a.comment_id};c.getReplyCommentIDs=function(a){a=this.getState()[a];return!a?[]:a.reply_comment_ids};c.getIsLoaded=function(a){a=this.getState()[a];return!a?!1:a.is_loaded};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIToplevelPagedCommentList",["UFICentralUpdates","UFIComments","UFIConstants","UFIReplyCommentList","UFIToplevelPagedCommentListImpl","UFIToplevelStreamedCommentList","forEachObject"],function(a,b,c,d,e,f,g){"use strict";var h={};function i(a,b,d){d=d||"default";h[a]||(h[a]={});h[a][d]||(h[a][d]={});if(!h[a][d][b]){var e=new(c("UFIToplevelPagedCommentListImpl"))(a,b,d),f=j(a,d);f.length&&e.updateCommentCount(f[0].getCommentCount());h[a][d][b]=e}return h[a][d][b]}function a(a){var b=[];c("forEachObject")(h[a]||{},function(a){c("forEachObject")(a,function(a){b.push(a)})});return b}function j(a,b){var c=[];a=(h[a]||{})[b]||{};for(var b in a)c.push(a[b]);return c}function b(a,b){a=j(a,b);return a.length?a[0].getCommentCount():null}function e(a){var b=j(a,"default");b=b.length?b[0].getDisplayedCommentCount():null;a=c("UFIToplevelStreamedCommentList").getAllExistingCommentLists(a);a=a.length?a[0].getDisplayedCommentCount():null;return b===null&&a===null?null:Math.max(b||0,a||0)}function f(a){a=h[a];if(!a)return;var b={};for(var c in a){var e=a[c];for(var f in e){var g=e[f];g=g.reset();for(var i in g){var j=g[i];b[j]=!0}}}d("UFIComments").resetComments(b)}function k(a,b){var c=h[a];if(!c)return;var e={};for(var f in c){var g=c[f];for(var i in g){var j=g[i];j.actorID=b;j=j.reset();for(var k in j){var l=j[k];e[l]=!0;d("UFIReplyCommentList").resetWithContext(a,l,b,i)}}}d("UFIComments").resetComments(e)}function l(a){var b=d("UFIComments").getComment(a.commentid);if(!b)return;var c=b.id,e=b.ftentidentifier,f=b.parentcommentid;if(f)return;f="default";(b.privacy_value===2||b.privacy_value===3)&&h[e]&&h[e].friends&&(f="friends");(a.islocal||b.status!==d("UFIConstants").UFIStatus.DELETED&&b.status!==d("UFIConstants").UFIStatus.FAILED_ADD)&&j(e,f).forEach(function(a){a.deleteComment(c)})}function m(a,b){c("forEachObject")(a,function(a,d){c("forEachObject")(a,function(a,c){c=i(d,c,b);c.addCommentIDs(a.range.offset,a.range.length,a.values);c.setClientHasAll(!!a.clienthasall);typeof a.count==="number"&&a.count!==c.getCommentCount()&&c.updateCommentCount(a.count)})})}function n(a,b){a.forEach(function(a){if(a.parentcommentid)return;var c=a.ftentidentifier;j(c,b).forEach(function(b){b.addOrUpdateComment(a)})})}c("UFICentralUpdates").subscribe("update-actions",function(a,b){if(b.actions&&b.actions.length)for(var a=0;a<b.actions.length;a++){var c=b.actions[a];switch(c.actiontype){case d("UFIConstants").UFIActionType.DELETE_COMMENT:l(c);break}}});c("UFICentralUpdates").subscribe("update-comment-lists",function(a,b){a=b.commentlists;b=b.privatecommentlists;a&&a.comments&&m(a.comments,"default");b&&b.comments&&m(b.comments,"friends")});c("UFICentralUpdates").subscribe("update-comments",function(a,b){a=b.comments;var c=b.privatecomments;b=b.authorpinnedcomments;a&&a.length&&n(a,"default");c&&c.length&&n(c,"friends");b&&b.length&&n(b,"default")});c("UFICentralUpdates").subscribe("update-feedback",function(a,b){var c=b.feedbacktarget?b.feedbacktarget:b.feedbacktargets&&b.feedbacktargets[0];if(c){var d=c.entidentifier;a=c.defaultcommentorderingmode;var e=new Set();a&&e.add(a);c.orderingmodes&&c.orderingmodes.forEach(function(a){if(a.value==="live_streaming")return;e.add(a.value)});b=c.privatecommentcount;e.forEach(function(a){i(d,a,"default").updateCommentCount(c.commentcount)});typeof b==="number"&&i(d,"toplevel","friends").updateCommentCount(b)}});g.getCommentList=i;g.getAllCommentListsForFeedbackTargetID=a;g.getSectionedCommentListsForFeedbackTargetID=j;g.getPagedCommentCountForFeedbackTargetID=b;g.getDisplayedCommentCountForFeedbackTargetID_UNSAFE=e;g.resetCommentListsForFeedbackTargetID=f;g.resetCommentListsWithContext=k},102);
__d("UFIRange",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){a===void 0&&(a=0),b===void 0&&(b=0),this.offset=a,this.length=b,this.requestedOffset=this.offset,this.requestedLength=this.length}var b=a.prototype;b.getOffset=function(){return this.offset};b.getLength=function(){return this.length};b.getRequestedOffset=function(){return this.requestedOffset};b.getRequestedLength=function(){return this.requestedLength};b.updateRequestedRange=function(a,b){this.requestedOffset=a;this.requestedLength=b;return this};b.isLoadingNext=function(){var a=this.requestedOffset+this.requestedLength,b=this.offset+this.length;return a>b};b.isLoadingPrev=function(){return this.requestedOffset<this.offset};a.combine=function(b,c){if(!c)return b;var d=Math.min(b.getOffset(),c.getOffset());b=Math.max(b.getLength(),c.getLength());var e=new a(d,b);if(c.getRequestedLength()>0){var f=Math.min(d,c.getRequestedOffset());d=Math.max(d+b,c.getRequestedOffset()+c.getRequestedLength());e.updateRequestedRange(f,d-f)}return e};return a}();f["default"]=a},66);
__d("UFIToplevelStreamedCommentList",["invariant","ClientIDs","LiveVideoUFIConfig","UFICentralUpdates","UFICommentLogger","UFIComments","UFIConfig","UFIConstants","UFIRange","UFIThreadedFacecastCommentsStore","objectValues"],function(a,b,c,d,e,f,g,h){"use strict";var i=function(){function a(a){this.feedbackTargetID=a,this.commentIDs=[],this.deletedCount=0,this.totalCommentCount=0,this.addedCommentCountForUnseenCounter=0}var b=a.prototype;b.getFeedbackTargetID=function(){return this.feedbackTargetID};b.getClientHasAll=function(){return!1};b.getActualCommentCount=function(){return this.commentIDs.length};b.getCommentCount=function(){return this.totalCommentCount};b.getAddedCommentCountForUnseenCounter=function(){return this.addedCommentCountForUnseenCounter};b.getDisplayedCommentCount=function(){return this.getCommentCount()-this.getDeletedCount()};b.getDeletedCount=function(){return this.deletedCount};b.getPermalinkForComment=function(a){return""};b.getComments=function(a,b,d,e){e(this.getCommentsOrThrow(new(c("UFIRange"))(a,b),d))};b.getCommentsOrThrow=function(a,b){a=[a.getLength(),a.getOffset()];var c=a[0];a=a[1];a===0||h(0,2239);a=b.streamingOrderReversed;b={};for(var e=0;e<Math.min(c,this.commentIDs.length);++e){var f=a?this.commentIDs.length-1-e:e;f=d("UFIComments").getComment(this.commentIDs[f]);f&&(b[e]=f)}return b};b.$3=function(){var a=this.commentIDs;this.commentIDs=[];return a};b.hasComment=function(a){for(var b=0;b<this.commentIDs.length;++b)if(this.commentIDs[b]===a.id)return!0;return!1};b.addCommentIDs=function(a,b,c){};b.setClientHasAll=function(a){};b.addOrUpdateComment=function(a,b){b===void 0&&(b=null);var e=a.clientid;if(e&&d("ClientIDs").isExistingClientID(e))for(var f=0;f<this.commentIDs.length;++f)this.commentIDs[f]===e&&(this.commentIDs[f]=a.id,c("UFIConfig").logCommentPost&&c("UFICommentLogger").logNewCommentReceived(e,Date.now()));else if(b||a.__typename==="local"){if(this.hasComment(a))return;this.commentIDs.push(a.id);b!=="on_demand"&&!a.isAnnouncement&&!a.tipOptionIndex&&(this.totalCommentCount+=1,a.__typename!=="local"&&(c("objectValues")(c("UFIThreadedFacecastCommentsStore").getState()||{}).map(function(a){return(a=a)!=null?a.comment_id:a}).includes(a.parentcommentid)||(this.addedCommentCountForUnseenCounter+=1)))}f=c("LiveVideoUFIConfig").live_video_scrollable_comments;this.commentIDs.length>f&&this.commentIDs.shift();c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};b.deleteComment=function(a){this.deletedCount+=1;var b=[];for(var c=0;c<this.commentIDs.length;++c){var e=this.commentIDs[c],f=d("UFIComments").getComment(e);e!==a&&((f=f)!=null?f.parentcommentid:f)!==a&&b.push(e)}this.commentIDs=b};b.updateCommentCount=function(a){this.totalCommentCount=a,this.deletedCount=0};a.getCommentList=function(b,c){c===void 0&&(c=a.GLOBAL_ID);var d=a.$1.get(b);d||(d=new Map(),a.$1.set(b,d));var e=d.get(c);e||(e=new a(b),d.set(c,e));return e};a.getExistingCommentList=function(b,c){c===void 0&&(c=a.GLOBAL_ID);b=a.$1.get(b);return!b?null:b.get(c)};a.getAllExistingCommentLists=function(b){b=a.$1.get(b);return!b?[]:Array.from(b.values())};a.$4=function(b,c){var d=a.$2.get(b);if(d){c.forEach(function(a){d[a]=!0});return}var e={};c.forEach(function(a){e[a]=!0});a.$2.set(b,e)};a.resetCommentList=function(b,c){c===void 0&&(c=a.GLOBAL_ID);c=a.getExistingCommentList(b,c);if(!c)return;a.$4(b,c.$3())};a.resetAllCommentLists=function(b){var c=a.getAllExistingCommentLists(b);if(c.length===0)return;c.forEach(function(c){a.$4(b,c.$3())});c=a.$2.get(b);c&&(a.$2["delete"](b),d("UFIComments").resetComments(c))};return a}();i.GLOBAL_ID="GLOBAL_ID";i.$1=new Map();i.$2=new Map();c("UFICentralUpdates").subscribe("update-actions",function(a,b){if(!b.actions)return;b.actions.forEach(function(a){if(a.actiontype!==d("UFIConstants").UFIActionType.DELETE_COMMENT)return;var b=d("UFIComments").getComment(a.commentid);if(!b)return;var c=b.id,e=b.ftentidentifier,f=b.parentcommentid;if(f)return;(a.islocal||b.status!==d("UFIConstants").UFIStatus.DELETED&&b.status!==d("UFIConstants").UFIStatus.FAILED_ADD)&&i.getAllExistingCommentLists(e).forEach(function(a){return a.deleteComment(c)})})});c("UFICentralUpdates").subscribe("update-comments",function(a,b){if(!b.comments)return;var c=b.targetufiinstanceid;b.comments.forEach(function(a){c?i.getCommentList(a.ftentidentifier,c).addOrUpdateComment(a,b.streamingstate):i.getAllExistingCommentLists(a.ftentidentifier).forEach(function(c){c.addOrUpdateComment(a,b.streamingstate)})})});g["default"]=i},102);
__d("XGroupsMuteMembersController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/mutemember/",{group_id:{type:"FBID"},user_id:{type:"FBID"},mute_duration:{type:"Enum",enumType:1},source:{type:"Enum",enumType:1},should_reload:{type:"Bool",defaultValue:!1},mute_reason:{type:"FBID"},custom_expiration:{type:"Int"},share_feedback:{type:"Bool",defaultValue:!1},selected_rules:{type:"FBIDVector",defaultValue:[]},admin_notes:{type:"String",defaultValue:""}})},null);
__d("XTownHallController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/townhall/",{ref:{type:"Enum",enumType:1},notif_id:{type:"Int"},setting_nux:{type:"Bool",defaultValue:!1},hide_nux:{type:"Bool",defaultValue:!1},new_reps:{type:"Int"},tab:{type:"Enum",enumType:1}})},null);
__d("XUFIDeleteCommentAndRemoveCommenterController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/deletecommentandremovecommenter/",{})},null);
__d("XUFIDeleteCommentController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/delete/comment/",{privacy_mutation_token:{type:"String"}})},null);
__d("XUFIHideCommentController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/hide/comment/",{})},null);
__d("UFIUserActions",["errorCode","fbt","invariant","ActorURI","AsyncResponse","Bootloader","ChannelClientID","ClientIDs","ImmutableObject","MercuryServerDispatcher","ThisControllerNoLongerExists","UFICentralUpdates","UFICommentLogger","UFICommentVoteUserActions","UFIComments","UFIConfig","UFIConstants","UFIFeedbackTargets","UFINewCommentsPillUtils","UFIReactionUserActions","UFIStoryAction","UFIToplevelPagedCommentList","UFIToplevelStreamedCommentList","UFIUserActionUtils","UFIVideoPlayerRegistry","UnicodeBidi","XGroupsMuteMembersController","XTownHallController","XUFIDeleteCommentAndRemoveCommenterController","XUFIDeleteCommentController","XUFIHideCommentController","goURI","ifRequired"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=Object.freeze({BAN:"ban",UNDO_BAN:"undo_ban"}),l={changeActor:function(a,b){d("UFIFeedbackTargets").getFeedbackTarget(a,function(e){d("UFIToplevelPagedCommentList").resetCommentListsWithContext(a,b);c("UFIToplevelStreamedCommentList").resetAllCommentLists(a);c("UFICentralUpdates").inform("actor-changed",{actorID:b});e=(e={from_actor_id:e.actorforpost,ft_ent_identifier:a},e[d("ActorURI").PARAMETER_ACTOR]=b,e);var f=d("ThisControllerNoLongerExists").__DEADURI__("fig2g2p6b");d("MercuryServerDispatcher").trySend(f,e)})},changeCommentLike:function(a,b,e){var f=d("UFIComments").getComment(a);if(f&&f.__typename==="saved"&&f.hasviewerliked!=b){var g=e.target?d("UFIUserActionUtils").trackingData(e.target):{},h=b?1:-1;h={commentid:a,actiontype:d("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:b,likecount:(f.likecount||0)+h};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[h]});d("UFIFeedbackTargets").getFeedbackTarget(f.ftentidentifier,function(c){var h={};h[d("ActorURI").PARAMETER_ACTOR]=c.actorforpost;c=d("ThisControllerNoLongerExists").__DEADURI__("zpbfi6t0b");d("MercuryServerDispatcher").trySend(c,babelHelpers["extends"]({comment_id:a,legacy_id:f.legacyid,like_action:b,ft_ent_identifier:f.ftentidentifier,source:e.source,client_id:d("ClientIDs").getNewClientID(),session_id:d("ChannelClientID").getID()},g,h))})}},_getAttachment:function(a){return a},_getLocalComment:function(a,b,c,e,f,g){e=d("ClientIDs").getNewClientID();var h=d("UnicodeBidi").isDirectionLTR(c)?"ltr":"rtl",j=l._getAttachment(f.attachedsticker),k=f.replyid,m=null;if(k!=null){k=d("UFIComments").getComment(k);m=k!=null?k.author:null}return{__typename:"local",ftentidentifier:b,body:{text:c,dir:h},author:a.actorforpost,cancomment:!1,clientid:null,fbid:null,id:e,ufiinstanceid:f.ufiinstanceid,likecount:0,hasviewerliked:!1,parentcommentid:f.replyid,parentcommentauthorid:m,replycommentparentid:f.replycommentparentid,attachment:j,photo_comment:f.attachedphoto,video_comment:f.attachedvideo,file_comment:f.attachedfile,timestamp:{time:Math.floor(Date.now()/1e3),text:i._("Hace unos segundos")},photoTextTagID:f.photoTextTagID,isPhotoTag:f.isPhotoTag,photoTagX:f.photoTagX,photoTagY:f.photoTagY,privacy_value:f.privacyValue,videoTimeOffset:g,postedLiveState:f.islivestreaming?"Live":"OnDemand",trackingID:f.trackingID,voteEnabled:!1,voteCount:0,voteState:d("UFIConstants").UFICommentVoteType.NONE}},addComment:function(a,b,e,f){d("UFIFeedbackTargets").getFeedbackTarget(a,function(g){var h=l.createComment(a,b,e,f);if(!h)return;var i={actiontype:d("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:g.actorforpost,hasviewersubscribed:!0,entidentifier:g.entidentifier};g={actiontype:d("UFIConstants").UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:g.targetfbid};var j=[],k=[];(h.privacy_value===2||h.privacy_value===3?k:j).push(h);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:j,privatecomments:k,actions:[i,g]});if(h.parentcommentid&&(f.islivestreaming||f.isLiveVOD)&&f.ufiinstanceid!=null){j={ftentidentifier:a,instanceid:f.ufiinstanceid};d("UFINewCommentsPillUtils").dispatchNewCommentAction(d("UFIStoryAction").handleNewFacecastReply(j,h.id),j)}})},createComment:function(a,b,e,f){var g=d("UFIFeedbackTargets").getFeedbackTargetIfExists(a);if(!(g&&g.actorforpost))return null;var h=null;if(f.isBroadcasterUFI)h=c("ifRequired")("LiveVideoBroadcastBroadcastStore",function(a){return a.getCurrentBroadcastTime()});else if(f.fluentContentToken&&(f.isLiveVOD||f.islivestreaming||f.enableVODCommentTimestamps)){var i=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(f.target,f.fluentContentToken)||0;if(f.isLiveVOD||f.islivestreaming)h=i;else{var j=d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(f.target,f.fluentContentToken);j!=null&&i>0&&i<Math.floor(j.getPlaybackDuration())&&(h=i)}}j=l._getLocalComment(g,a,b,e,f,h);l._sendCommentToServer(a,g.actorforpost,b,e,f,j.id,h);return j},_sendCommentToServer:function(a,b,e,f,g,h,i){e=null;if(g.reply_fbid)e=g.reply_fbid;else if(g.replyid){var k=d("UFIComments").getComment(g.replyid);k||j(0,199);e=k.fbid}var l;d("UFIConfig").logCommentPost&&c("UFICommentLogger").logNewCommentPost(h,g.timestamp||0,{has_photo:!!g.attachedphoto,has_video:!!g.attachedvideo,has_file:!!g.attachedfile,has_sticker:!!g.attachedsticker,is_reply:!!g.replyid});k={};g.liveVideoQuickCommentQuality!=null&&(k={live_video_quick_comment_quality:g.liveVideoQuickCommentQuality});var m={};m[d("ActorURI").PARAMETER_ACTOR]=b;b=d("ThisControllerNoLongerExists").__DEADURI__("oo2qk5gny");d("MercuryServerDispatcher").trySend(b,babelHelpers["extends"]({ft_ent_identifier:a,comment_text:f,source:g.source,client_id:h,session_id:d("ChannelClientID").getID(),reply_fbid:e,parent_comment_id:g.parent_comment_id||g.replyid,reply_comment_parent_id:g.replycommentparentid,rootid:g.rootid,clp:l,attached_sticker_fbid:g.attachedsticker?g.attachedsticker.fbid:null,attached_photo_fbid:g.attachedphoto?g.attachedphoto.fbid:null,attached_video_fbid:g.attachedvideo?g.attachedvideo.fbid:null,attached_file_fbid:g.attachedfile?g.attachedfile.fbid:null,attached_share_url:g.attachedshareurl,feedback_referrer:g.feedbackReferrer,feed_context:g.feedcontext,video_time_offset:i,is_live_streaming:g.islivestreaming,is_markdown:g.isMarkdown},d("UFIUserActionUtils").trackingData(g.target),m,{photo_text_tag_id:g.photoTextTagID,is_photo_tag:g.isPhotoTag,photo_fbid:g.photoFBID,photo_tag_x:g.photoTagX,photo_tag_y:g.photoTagY,privacy_value:g.privacyValue,delight_ranges:g.delightRanges},k))},_hasCommentTextChanged:function(a,b){return!!a.body&&a.body.text!=b},_hasCommentPhotoChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentVideoChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentFileChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentStickerChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&a.type=="sticker"&&b&&a.fbid!=b.fbid)},_hasCommentShareURLChanged:function(a,b){if(b)return!0;else return Boolean(a&&a.type=="share")},editComment:function(a,b,e,f){var g=d("UFIUserActionUtils").trackingData(f.target),h=d("UFIComments").getComment(a);if(!h)return;a=l._hasCommentTextChanged(h,b)||l._hasCommentPhotoChanged(h.photo_comment,f.attachedPhoto)||l._hasCommentStickerChanged(h.attachment,f.attachedSticker)||l._hasCommentVideoChanged(h.video_comment,f.attachedVideo)||l._hasCommentFileChanged(h.file_comment,f.attachedFile)||l._hasCommentShareURLChanged(h.attachment,f.attachedShareURL);h=c("ImmutableObject").set(h,{status:d("UFIConstants").UFIStatus.PENDING_EDIT,body:{text:b},editnux:null,attachment:f.attachedSticker,photo_comment:f.attachedPhoto,video_comment:f.attachedVideo,file_comment:f.attachedFile});a&&(h=c("ImmutableObject").set(h,{originalTimestamp:h.timestamp.time,timestamp:{time:Math.floor(Date.now()/1e3),text:i._("Hace unos segundos")}}));c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[h]});d("UFIFeedbackTargets").getFeedbackTarget(h.ftentidentifier,function(a){var b={};b[d("ActorURI").PARAMETER_ACTOR]=a.actorforpost;a=d("ThisControllerNoLongerExists").__DEADURI__("k2h1bj7qe");h&&d("MercuryServerDispatcher").trySend(a,babelHelpers["extends"]({ft_ent_identifier:h.ftentidentifier,comment_text:e,source:f.source,comment_id:h.id,parent_comment_id:h.parentcommentid,attached_sticker_fbid:f.attachedSticker?f.attachedSticker.fbid:0,attached_photo_fbid:f.attachedPhoto?f.attachedPhoto.fbid:0,attached_video_fbid:f.attachedVideo?f.attachedVideo.fbid:0,attached_file_fbid:f.attachedFile?f.attachedFile.fbid:0,attached_share_url:f.attachedShareURL,is_markdown:f.isMarkdown,delight_ranges:f.delightRanges},g,b))})},translateComments:function(a,b,c,e){var f=d("ThisControllerNoLongerExists").__DEADURI__("nbd8ptnbg");d("MercuryServerDispatcher").trySend(f,{ft_ent_identifier:a,comment_ids:b,source:e.source,trigger:c})},setHideAsSpam:function(a,b,e){var f=d("UFIUserActionUtils").trackingData(e.target),g=d("UFIComments").getComment(a),h={commentid:a,actiontype:d("UFIConstants").UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:b};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[h]});g&&d("UFIFeedbackTargets").getFeedbackTarget(g.ftentidentifier,function(h){var i={};i[d("ActorURI").PARAMETER_ACTOR]=h.actorforpost;h=c("XUFIHideCommentController").getURIBuilder().getURI();d("MercuryServerDispatcher").trySend(h,babelHelpers["extends"]({comment_id:a,spam_action:b,ft_ent_identifier:g.ftentidentifier,source:e.source},f,i))})},removeComment:function(a,b,e){var f=d("UFIUserActionUtils").trackingData(b.target),g=d("UFIComments").getComment(a);a={actiontype:d("UFIConstants").UFIActionType.DELETE_COMMENT,commentid:a,islocal:!0,oneclick:b.oneclick};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});g&&g.__typename==="saved"&&d("UFIFeedbackTargets").getFeedbackTarget(g.ftentidentifier,function(a){var h={};h[d("ActorURI").PARAMETER_ACTOR]=a.actorforpost;a=c("XUFIDeleteCommentController").getURIBuilder().getURI();d("MercuryServerDispatcher").trySend(a,babelHelpers["extends"]({comment_id:g.id,comment_legacyid:g.legacyid,ft_ent_identifier:g.ftentidentifier,one_click:b.oneclick,source:b.source,block_author:e,client_id:d("ClientIDs").getNewClientID()},f,h))})},deleteCommentAndRemoveCommenter:function(a,b,e,f,g,h,i){var j=d("UFIUserActionUtils").trackingData(b.target),k=d("UFIComments").getComment(a);a={actiontype:d("UFIConstants").UFIActionType.DELETE_COMMENT_REMOVE_COMMENTER,commentid:a,islocal:!0,oneclick:b.oneclick};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});k&&k.__typename==="saved"&&d("UFIFeedbackTargets").getFeedbackTarget(k.ftentidentifier,function(a){var l={};l[d("ActorURI").PARAMETER_ACTOR]=a.actorforpost;a=c("XUFIDeleteCommentAndRemoveCommenterController").getURIBuilder().getURI();d("MercuryServerDispatcher").trySend(a,babelHelpers["extends"]({comment_id:k.id,comment_legacyid:k.legacyid,ft_ent_identifier:k.ftentidentifier,one_click:b.oneclick,source:b.source,delete_posts:e,delete_comments:f,decline_pending_members:g,block_permanently:h,apply_to_other_groups:i,client_id:d("ClientIDs").getNewClientID()},j,l))})},muteMember:function(a,b,e,f){b=d("UFIComments").getComment(a);a=e!==null;if(b&&b.__typename==="saved"){a={authorid:b.author,actiontype:d("UFIConstants").UFIActionType.MUTE_MEMBER,shouldmute:a};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});var g;c("Bootloader").loadModules(["GroupMemberActionSource"],function(a){g=a.GROUP_COMMENT},"UFIUserActions");a=c("XGroupsMuteMembersController").getURIBuilder().getURI();d("MercuryServerDispatcher").trySend(a,{group_id:b.group_id,user_id:b.author,mute_duration:e,custom_expiration:f,should_reload:!1,source:g})}},toggleTextDelights:function(a,b,c){var e=d("ThisControllerNoLongerExists").__DEADURI__("s3xbblpdp");d("MercuryServerDispatcher").trySend(e,{comment_id:a.id,ft_ent_identifier:a.ftentidentifier,should_hide:c,parent_comment_id:a.parentcommentid,source:b.source})},banUser:function(a,b,c,e){e=c?k.BAN:k.UNDO_BAN;d("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:b,commenter_id:a.author,action:e,comment_id:a.id,client_side:!0,post_only:!1})},streamBanUser:function(a,b,c,e){e=c?k.BAN:k.UNDO_BAN;d("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:b,commenter_id:a.author,action:e,comment_id:a.id,client_side:!0,stream_only:!0})},suspendUser:function(a,b,c,e,f){f=c?k.BAN:k.UNDO_BAN;d("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:b,commenter_id:a.author,action:f,comment_id:a.id,suspension_duration_seconds:e,client_side:!0})},changeSubscribe:function(a,b,e){d("UFIFeedbackTargets").getFeedbackTarget(a,function(f){var g=d("UFIUserActionUtils").trackingData(e.target);if(f.hasviewersubscribed!==b){var h={actiontype:d("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:f.actorforpost,hasviewersubscribed:b,entidentifier:a};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[h]});h={};h[d("ActorURI").PARAMETER_ACTOR]=f.actorforpost;d("MercuryServerDispatcher").trySend("/ajax/ufi/subscribe.php",babelHelpers["extends"]({subscribe_action:b,ft_ent_identifier:a,source:e.source,client_id:d("ClientIDs").getNewClientID(),rootid:e.rootid,comment_expand_mode:e.commentexpandmode},g,h))}})},changeSubscribeWithLogging:function(a,b){d("UFIFeedbackTargets").getFeedbackTarget(a,function(e){if(e.hasviewersubscribed!==b){e={actiontype:d("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:e.actorforpost,hasviewersubscribed:b,entidentifier:a};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[e]});d("MercuryServerDispatcher").trySend("/ajax/litestand/follow_post",{follow:b,message_id:a})}})},fetchSpamComments:function(a,b,c,e){d("MercuryServerDispatcher").trySend("/ajax/ufi/id_comment_fetch.php",{ft_ent_identifier:a,viewas:e,comment_ids:b,parent_comment_id:c,source:null})},manageConstituentBadge:function(a){c("goURI")(c("XTownHallController").getURIBuilder().setBool("setting_nux",!0).getURI())},authorPinComment:function(a,b){d("MercuryServerDispatcher").trySend(o,{comment_id:a.id,ft_ent_identifier:a.ftentidentifier,is_pinned_by_author:b});var e={commentid:a.id,pinnedByAuthor:b,actiontype:"comment_change_author_pin"};a=d("UFIComments").getComment(a.id);if(!a)return;a=c("ImmutableObject").set(a,{ispinnedbyauthor:b});c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[a],actions:[e]})},removePreview:function(a,b){var e=d("UFIUserActionUtils").trackingData(b.target),f={commentid:a.id,actiontype:d("UFIConstants").UFIActionType.REMOVE_PREVIEW};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[f]});d("MercuryServerDispatcher").trySend("/ajax/ufi/remove_preview.php",babelHelpers["extends"]({comment_id:a.id,ft_ent_identifier:a.ftentidentifier,source:b.source},e))}};function a(a){c("AsyncResponse").defaultErrorHandler(a)}function b(a){var b=a.request.data;c("AsyncResponse").defaultErrorHandler(a);var e=b.client_id||b.comment_id;e=d("UFIComments").getComment(e);if(!e)return;var f=e.status===d("UFIConstants").UFIStatus.PENDING_EDIT?d("UFIConstants").UFIStatus.FAILED_EDIT:d("UFIConstants").UFIStatus.FAILED_ADD;e=c("ImmutableObject").setDeep(e,{status:f,allowRetry:m(a),body:{mentionstext:b.comment_text,mentionsphoto:e.photo_comment,mentionsvideo:e.video_comment,mentionsfile:e.file_comment}});f=[];a=[];(e.privacy_value===2||e.privacy_value===3?a:f).push(e);c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:f,privatecomments:a})}function m(a){var b=a.getError();if(a.isBlockedAction())return!1;if(a.silentError)return!0;return b===1357012||b===1357006?!1:!0}function e(a){a=a.request.data;a=a.comment_id;a=d("UFIComments").getComment(a);if(!a)return;a=c("ImmutableObject").set(a,{status:a.priorstatus||null,priorstatus:void 0});c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[a]})}function f(a){var b=a.request.data,e=b.comment_id,f=d("UFIComments").getComment(e);if(f&&b.like_action===f.hasviewerliked){b=f.hasviewerliked?-1:1;e={commentid:e,actiontype:d("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:!f.hasviewerliked,likecount:(f.likecount||0)+b};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[e]})}c("AsyncResponse").defaultErrorHandler(a)}function h(a){var b=a.request.data,e=b.ft_ent_identifier;d("UFIFeedbackTargets").getFeedbackTarget(e,function(a){if(a.hasviewerliked===b.like_action){var f=a.hasviewerliked?-1:1;f={actiontype:d("UFIConstants").UFIActionType.LIKE_ACTION,actorid:a.actorforpost,hasviewerliked:!a.hasviewerliked,likecount:(a.likecount||0)+f,entidentifier:e,likesentences:{current:a.likesentences.alternate,alternate:a.likesentences.current}};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[f]})}});c("AsyncResponse").defaultErrorHandler(a)}function n(a){var b=a.request.data,e=b.ft_ent_identifier;d("UFIFeedbackTargets").getFeedbackTarget(e,function(a){if(a.hasviewersubscribed===b.subscribe_action){a={actiontype:d("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:a.actorforpost,hasviewersubscribed:!a.hasviewersubscribed,entidentifier:e};c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]})}});c("AsyncResponse").defaultErrorHandler(a)}a={"/ajax/ufi/ban_user.php":{mode:d("MercuryServerDispatcher").IMMEDIATE,error_handler:a},"/ajax/ufi/subscribe.php":{mode:d("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:n,batch_if:r,batch_function:s},"/ajax/ufi/id_comment_fetch.php":{mode:d("MercuryServerDispatcher").IMMEDIATE},"/ajax/ufi/remove_preview.php":{mode:d("MercuryServerDispatcher").IMMEDIATE},"/profile/broadcast_request/async/add_composer_token/":{mode:d("MercuryServerDispatcher").IMMEDIATE},"/ajax/litestand/follow_post":{mode:d("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:n,batch_if:r,batch_function:s}};n=d("ThisControllerNoLongerExists").__DEADURI__("tuen76whe");a[n]={mode:d("MercuryServerDispatcher").IMMEDIATE,error_handler:b};r=c("XUFIDeleteCommentController").getURIBuilder().getURI();a[r]={mode:d("MercuryServerDispatcher").IMMEDIATE,error_handler:e};n=c("XUFIDeleteCommentAndRemoveCommenterController").getURIBuilder().getURI();a[n]={mode:d("MercuryServerDispatcher").IMMEDIATE,error_handler:e};r=d("ThisControllerNoLongerExists").__DEADURI__("cg8petm7e");a[r]={mode:d("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:f,batch_if:p,batch_function:s};n=c("XGroupsMuteMembersController").getURIBuilder().getURI();a[n]={mode:d("MercuryServerDispatcher").IMMEDIATE};r=d("ThisControllerNoLongerExists").__DEADURI__("cpl08d1cb");a[r]={mode:d("MercuryServerDispatcher").IMMEDIATE};f=c("XUFIHideCommentController").getURIBuilder().getURI();a[f]={mode:d("MercuryServerDispatcher").IMMEDIATE,error_handler:e};p=d("ThisControllerNoLongerExists").__DEADURI__("co98aqji9");a[p]={mode:d("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:h,batch_if:q,batch_function:s};n=d("ThisControllerNoLongerExists").__DEADURI__("jl9uxu6an");a[n]={mode:d("MercuryServerDispatcher").IMMEDIATE,error_handler:b};r=d("ThisControllerNoLongerExists").__DEADURI__("pqi03hqc1");a[r]={mode:d("MercuryServerDispatcher").IMMEDIATE};f=d("ThisControllerNoLongerExists").__DEADURI__("ocmtwze6h");a[f]={mode:d("MercuryServerDispatcher").IMMEDIATE};var o=d("ThisControllerNoLongerExists").__DEADURI__("yfa5gwrzw");a[o]={mode:d("MercuryServerDispatcher").IMMEDIATE};d("MercuryServerDispatcher").registerEndpoints(a);function p(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier&&a.comment_id==b.comment_id}function q(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier}function r(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier}function s(a,b){return b}e=babelHelpers["extends"]({},l,d("UFIReactionUserActions"),d("UFICommentVoteUserActions"));g["default"]=e},98);
__d("UFICommentEditIDStore",["FluxReduceStore","UFICentralUpdates","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";function h(a){a=i(a,"string");return typeof a==="symbol"?a:String(a)}function i(a,b){if(typeof a!=="object"||a===null)return a;var c=a[typeof Symbol==="function"?Symbol.toPrimitive:"@@toPrimitive"];if(c!==void 0){c=c.call(a,b||"default");if(typeof c!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(a)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.reduce=function(a,b){switch(b.type){case"PRIVATE_ACTOR_CHANGED":return{};case"add_comment_cancel":case"story_show_facecast_replies":case"story_hide_facecast_replies":case"add_comment_submit_edit":a[b.instanceID];var c=babelHelpers.objectWithoutPropertiesLoose(a,[b.instanceID].map(h));return c;case"comment_edit":return babelHelpers["extends"]({},a,(c={},c[b.instanceID]=b.comment.id,c))}return a};c("UFICentralUpdates").subscribe("actor-changed",function(a,b){c("UFIDispatcherBase").dispatch({type:"PRIVATE_ACTOR_CHANGED",instanceID:!0,ftentidentifier:!0})});return b}var d=b.prototype;d.getInitialState=function(){return{}};d.getForInstance=function(a){return this.getState()[a]||null};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIVisibility",[],function(a,b,c,d,e,f){"use strict";a=Object.freeze({VISIBLE:"visible",HIDDEN:"hidden"});f["default"]=a},66);
__d("UFICommentVisibilityStore",["invariant","FluxReduceStore","UFIComments","UFIDispatcherBase","UFILivePinnedCommentStore","UFIRootRegistry","UFIVisibility","filterObject"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){b===void 0&&(b=null);return b&&b.comment.fbid?a+"-"+b.comment.fbid+(b.isLivePinnedComment?"-P":"")+(b.isInLiveVideoReplyMode?"-R":""):a}function j(a,b){return a===b||a.startsWith(b+"-")}function k(a){a=d("UFIRootRegistry").getInstanceIDFromFTEntIdentifier(a);return a?a:[]}function l(a){return{instanceid:a}}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),k=0;k<f;k++)g[k]=arguments[k];return(b=e=a.call.apply(a,[this].concat(g))||this,e.reduce=function(a,b){switch(b.type){case"comment_unmounted":var e=babelHelpers["extends"]({},a);delete e[i(b.instanceID,b.renderedComment)];return e;case"comment_change_visibility":return babelHelpers["extends"]({},a,(e={},e[i(b.instanceID,b.renderedComment)]=b.visibility,e));case"story_change_visibility":e=d("UFIRootRegistry").getFTEntIdentifierFromInstanceID(b.instanceID);var f=d("UFIComments").getCommentsForFTEntIdentifier(e);b.type==="story_change_visibility"||h(0,3643);var g=b.visibility;if(f){f=f.reduce(function(a,c){a[i(b.instanceID,c.fbid?{comment:c,isLivePinnedComment:!1,isInLiveVideoReplyMode:!1}:null)]=g;return a},{});if(e){e=c("UFILivePinnedCommentStore").getPinnedCommentID(e);if(e){e=d("UFIComments").getComment(e);e&&e.__typename==="saved"&&(f[i(b.instanceID,{comment:e,isLivePinnedComment:!0,isInLiveVideoReplyMode:!1})]=g)}}return babelHelpers["extends"]({},a,(e={},e[i(b.instanceID)]=b.visibility,e),f)}case"story_remove":var k=b.instanceID,l=i(k);return c("filterObject")(a,function(a,b){return b!==l&&!j(b,k)})}return a},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.getInitialState=function(){return{}};e.getVisibility=function(a,b,d){d===void 0&&(d=null);d=d?i(b.instanceid,d):i(b.instanceid);return Object.prototype.hasOwnProperty.call(a,d)?a[d]:c("UFIVisibility").HIDDEN};e.$UFICommentVisibilityStore1=function(a){a=l(a);return this.getVisibility(this.getState(),a)===c("UFIVisibility").VISIBLE};e.isFeedbackTargetVisible=function(a){var b=this;a=k(a);return a.some(function(a){return b.$UFICommentVisibilityStore1(a)})};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFILivePinnedCommentStore",["FluxReduceStore","UFIComments","UFIDispatcherBase","UFIFeedbackTargets","areEqual"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var c;switch(b.type){case"story_live_pin_comment":case"story_live_unpin_comment":var d=b.commentID,e=b.pinEventID;return babelHelpers["extends"]({},a,(c={},c[b.ftentidentifier]={commentID:d,pinEventID:e},c));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.getInitialState=function(){return{}};e.areEqual=function(a,b){return c("areEqual")(a,b)};e.getPinnedCommentID=function(a){var b=this.getState()[a];if(!b){a=d("UFIFeedbackTargets").getFeedbackTargetIfExists(a);return!a?null:a.livepinnedcommentid||null}return b.commentID||null};e.getPinEventID=function(a){a=this.getState()[a];return!a?null:a.pinEventID||null};e.getPinnedCommentAuthorID=function(a){a=this.getPinnedCommentID(a);if(!a)return null;a=d("UFIComments").getComment(a);return a?a.author||null:null};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFILocallyComposedCommentStore",["invariant","ClientIDs","FluxReduceStore","UFICentralUpdatesLocalCommentAdapter","UFIDispatcherBase","setByPath"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return babelHelpers["extends"]({},a)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.reduce=function(a,b){switch(b.type){case"CENTRALUPDATES_ADDED_COMMENT":d("ClientIDs").isExistingClientID(b.clientID)||h(0,3492);a=i(a);c("setByPath")(a,[b.instanceID,b.clientID],!0);return a;case"CENTRALUPDATES_SAVED_COMMENT":d("ClientIDs").isExistingClientID(b.clientID)||h(0,3492);a=i(a);c("setByPath")(a,[b.instanceID,b.commentID],!0);delete a[b.instanceID][b.clientID];return a;case"add_comment_submit_edit":a=i(a);c("setByPath")(a,[b.instanceID,b.comment.id],!0);return a}return a};d("UFICentralUpdatesLocalCommentAdapter").subscribeOnce();return b}var e=b.prototype;e.getInitialState=function(){return{}};e.getStateForInstance=function(a){return a?this.getState()[a]||{}:{}};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFISpamStore",["FluxReduceStore","UFIDispatcherBase","UFIUserActions"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,b){switch(b.type){case"story_spam_fetched":a=babelHelpers["extends"]({},a);b.commentIDs.forEach(function(b){return a[b]=!0});c("UFIUserActions").fetchSpamComments(b.ftentidentifier,b.commentIDs,b.parentCommentID,b.viewas);break}return a},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.getInitialState=function(){return{}};d.areEqual=function(a,b){return Object.keys(a).length===Object.keys(b).length};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFIUnseenCommentsStore",["FluxReduceStore","UFIComments","UFIConstants","UFIDispatcherBase"],function(a,b,c,d,e,f,g){"use strict";var h=30;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case"set_comments_scroll_distance":var e=b.instanceID,f=b.scrollDist,g=c.getInstanceState(e);g=babelHelpers["extends"]({},g,{scrollDist:f});c.shouldAddUnseenCommentsForState(g)||(g.unseenComments=0,g.unseenCommentsByThread={});return babelHelpers["extends"]({},a,(f={},f[e]=g,f));case"set_comment_reactions_menu_shown":var h;e=b.instanceID;g=b.commentReactionsMenuShown;f=c.getInstanceState(e);return babelHelpers["extends"]({},a,(h={},h[e]=babelHelpers["extends"]({},f,{commentReactionsMenuShown:g}),h));case"handle_new_comments":e=b.instanceID;f=b.numComments;if(!c.shouldAddUnseenComments(e))return a;g=c.getInstanceState(e);return babelHelpers["extends"]({},a,(h={},h[e]=babelHelpers["extends"]({},g,{unseenComments:g.unseenComments+f}),h));case"handle_new_facecast_reply":e=b.instanceID;g=d("UFIComments").getComment(b.replyCommentID);if(!c.shouldAddUnseenComments(e)||!g)return a;f=c.getInstanceState(e);h=f.unseenCommentsByThread;b=g.parentcommentid;if(b)h[b]=h[b]||0,h[b]++;else return a;return babelHelpers["extends"]({},a,(g={},g[e]=babelHelpers["extends"]({},f,{unseenCommentsByThread:h}),g));default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};c.getInstanceState=function(a){a=this.getState()[a];return a||{commentsReactionMenuShown:!1,scrollDist:0,unseenComments:0,unseenCommentsByThread:{}}};c.getCommentReactionsMenuShown=function(a){return this.getInstanceState(a).commentReactionsMenuShown};c.getScrolledUp=function(a){return this.getScrollDist(a)>d("UFIConstants").maxScrollDistanceForAutoScroll};c.getScrollDist=function(a){return this.getInstanceState(a).scrollDist};c.getUnseenComments=function(a){return this.getInstanceState(a).unseenComments};c.getUnseenCommentsByThread=function(a){return this.getInstanceState(a).unseenCommentsByThread};c.getUnseenCommentsInThread=function(a,b){a=this.getUnseenCommentsByThread(a);return a[b]||0};c.shouldAddUnseenComments=function(a){return this.shouldAddUnseenCommentsForState(this.getInstanceState(a))};c.shouldAddUnseenCommentsForState=function(a){return a.scrollDist>d("UFIConstants").maxScrollDistanceForAutoScroll||a.commentReactionsMenuShown&&a.scrollDist>=h};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("UFIDispatcherBase"));g["default"]=b},98);
__d("UFINewCommentsPillUtils",["UFISharedDispatcher","UFIStoryAction","UFIUnseenCommentsStore"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a?a.length:0,d=b?b.length:0;if(!c&&!d)return 0;var e,f=0;if(a)for(var c=c-1;c>=0;c--){var g=a[c];if(g.__typename==="saved"){e=g.id;break}f++}g=0;c=!1;if(b)for(var a=d-1;a>=0;a--){d=b[a];if(d.id===e){c=!0;break}g++}d=g-f;if(!e||c)return d;else return 0}function b(a,b){b=b.target;b instanceof HTMLElement&&h(b,a)}function h(a,b){a=a.scrollHeight-a.offsetHeight-a.scrollTop;c("UFISharedDispatcher").dispatch(d("UFIStoryAction").setCommentsScrollDistance(b,a))}function e(a,b){if(a&&b){var c=a.scrollHeight-a.offsetHeight;b=b.Animation;new b(a).to("scrollTop",c).ease(b.ease.end).duration(Math.min(400,Math.max(200,(c-a.scrollTop)/1.5))).ondone(function(){a.scrollTop=a.scrollHeight-a.offsetHeight}).go()}}function f(a,b){a.type==="handle_new_facecast_reply"&&c("UFISharedDispatcher").dispatch(d("UFIStoryAction").addFacecastReply(b,a.replyCommentID));b=b.instanceid;!c("UFIUnseenCommentsStore").getScrolledUp(b)&&c("UFIUnseenCommentsStore").getCommentReactionsMenuShown(b)?setTimeout(function(){c("UFISharedDispatcher").dispatch(a)},0):c("UFISharedDispatcher").dispatch(a)}g.findNumNewComments=a;g.handleScroll=b;g.updateScrolledUp=h;g.scrollToBottom=e;g.dispatchNewCommentAction=f},98);
__d("CometFlexibleRow.react",["react","stylex","useCometSize_DO_NOT_USE","useLayoutEffect_SAFE_FOR_SSR"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j=8;function a(a){var b=a.columnMaxWidth,d=a.columnMinWidth,e=a.children,f=a.justify;f=f===void 0?"start":f;var g=a.maxItems,k=g===void 0?Infinity:g;g=a.minItems;var l=g===void 0?1:g,m=a.onTotalItemsChanged;g=c("useCometSize_DO_NOT_USE")();a=g[0];var n=g[1],o=h.Children.toArray(e);g=i(o.length);var p=g[0],q=g[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(n!=null){var a=[],c=p;while(!0){if(a.includes(c))break;var e=(n.width-c*j)/c;if(e>b){a.push(c);c+=1;continue}if(e<d){a.push(c);c-=1;continue}break}c=Math.min(Math.max(l,c),k);c!==p&&(m&&m(c),q(c))}},[d,b,n,k,l,p,m]);return h.jsx("div",{className:c("stylex")({"align-items-1":"o9w3sbdw","display-1":"alzwoclg","flex-direction-1":"jl2a5g8c","flex-wrap-1":"sr926ui1","justify-content-1":"t5n4vrf6","margin-end-1":"hnay576k","margin-start-1":"rng1terr","position-1":"om3e55n1"},f==="center"?{"justify-content-1":"jcxyg2ei"}:null,f==="end"?{"justify-content-1":"siu44isn"}:null),ref:a,children:Array(p).fill().map(function(a,c){return h.jsx("div",{className:"lcfup58g fzd7ma4j fhfp1cgp",style:{maxWidth:b,minWidth:d},children:o[c]},(a=(a=o[c])==null?void 0:a.key)!=null?a:"_fakecolumn"+c)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("useInnerMostTrackingCode",["CometTrackingCodeContext","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("CometTrackingCodeContext")),b={click_tracking_linkshim_cb:[],encrypted_click_tracking:[],encrypted_tracking:[]};for(var d in a){var e=a[d],f=e.length;b[d]=f>0?[e[f-1]]:[]}return b}g["default"]=a},98);
__d("useImpressionLogger",["BaseViewportMarginsContext","getIntersectionMarginFromViewportMargin","intersectionObserverEntryIsIntersecting","react","useIntersectionObserver"],function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useContext,j=b.useRef;function a(a,b){var d=i(c("BaseViewportMarginsContext")),e=j(!1),f=h(function(d){d=c("intersectionObserverEntryIsIntersecting")(d);if(e.current!==d){e.current=d;if(e.current){var f=new Date();e.current=!0;a.onReady(function(a){b(a,f)})}}},[b,a]);return c("useIntersectionObserver")(f,{root:null,rootMargin:c("getIntersectionMarginFromViewportMargin")(d),threshold:0})}g["default"]=a},98);
__d("VideoPlayerMoreVideosOnWatchButton.react",["fbt","ix","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","XCometWatchControllerRouteBuilder","fbicon","react","requireDeferred","useCometRouterDispatcher"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("requireDeferred")("VideoHomeTypedLoggerLite").__setRef("VideoPlayerMoreVideosOnWatchButton.react");function a(a){a=a.useVerticalLayout;var b=c("useCometRouterDispatcher")(),e=function(){k.onReady(function(a){a.log({click_point:"ugc_inline_end_screen",event:"click",event_target:"watch"})});var a=c("XCometWatchControllerRouteBuilder").buildURL({});b!=null&&b.go(a,{})};return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:449,children:j.jsx(c("VideoPlayerActionButton.react"),{icon:d("fbicon")._(i("607168"),16),label:h._("M\u00e1s v\u00eddeos en Watch"),onPress:function(){return e()},useVerticalLayout:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerWatchEndScreenWithActions.react",["CometColumn.react","CometColumnItem.react","CometRelay","VideoPlayerMoreVideosOnWatchButton.react","VideoPlayerReshareButton.react","VideoPlayerWatchAgainButton.react","VideoPlayerWatchEndScreenWithActions_video.graphql","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={actions:{alignItems:"i85zmo3j"},watchActions:{display:"alzwoclg",justifyContent:"jcxyg2ei"}};function a(a){var e=a.isWatchEligible;a=a.video$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWatchEndScreenWithActions_video.graphql"),a);return e===!1&&c("VideoPlayerMoreVideosOnWatchButton.react")?i.jsxs("div",{className:c("stylex")(j.watchActions),children:[i.jsx(c("VideoPlayerMoreVideosOnWatchButton.react"),{useVerticalLayout:!0}),i.jsx(c("VideoPlayerWatchAgainButton.react"),{useVerticalLayout:!0}),i.jsx(c("VideoPlayerReshareButton.react"),{useVerticalLayout:!0,video:a})]}):i.jsxs(c("CometColumn.react"),{xstyle:j.actions,children:[i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("VideoPlayerWatchAgainButton.react"),{})}),i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("VideoPlayerReshareButton.react"),{video:a})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometVideoHomeDurationThumbnailOverlay.react",["fbt","CometRelay","CometVideoHomeDurationThumbnailOverlay_video.graphql","TetraText.react","VideoBroadcastStatus","formatDurationSeconds","react"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){a=a.video;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometVideoHomeDurationThumbnailOverlay_video.graphql"),a);if(!a||a.broadcast_status===c("VideoBroadcastStatus").LIVE)return null;var e=a&&!!a.has_viewer_watched_show_video;a=a.playable_duration||0;return a===0&&!e?null:j.jsx("div",{className:"r03uvkev s8sjc6am l10tt5db nnzkd6d7 rat9ptwp i5oewl5a saacjlin pt4xj600 t7jvfh7y p1hfpb7b m4g18ulm m91vjw4v kbhth0oh kl0yapha",children:j.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"headlineEmphasized4",children:e?h._("VISTO"):c("formatDurationSeconds")(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometVideoHomeVideoThumbnailHoverContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b},98);
__d("CometVideoHomePlayButtonThumbnailOverlay.react",["ix","CometImage.react","CometVideoHomeVideoThumbnailHoverContext","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function a(a){var b=a.forceVisibility;b=b===void 0?!1:b;a=a.size;var d=j(c("CometVideoHomeVideoThumbnailHoverContext"));d=d||b;b=h("101640");switch(a){case 24:b=h("354763");break;case 48:b=h("101640");break;case 72:b=h("352839");break}return i.jsx("div",{className:c("stylex")({"opacity-1":"jkp44r48","transition-delay-1":"mim7t75o","transition-duration-1":"c2pht4sg","transition-property-1":"ldembo95","transition-timing-function-1":"rgt4ek0a"},d?{"opacity-1":"cdum9rwi"}:null,{"display-1":"fxk3tzhb","left-1":"phjh7c7x","position-1":"s8sjc6am","top-1":"qy9lpsl4","transform-0.1":"ozo722g0"}),children:i.jsx(c("CometImage.react"),{src:b,width:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometVideoHomeTitleOwnerThumbnailOverlay.react",["CometLink.react","CometRelay","CometVideoHomePlayButtonThumbnailOverlay.react","CometVideoHomeTitleOwnerThumbnailOverlay_video.graphql","CometVideoHomeVideoThumbnailHoverContext","TetraTextPairing.react","VideoHomeTypedLoggerLite","XCometVideoHomePlaylistControllerRouteBuilder","XCometWatchControllerRouteBuilder","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useContext;function a(a){a=a.video;var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometVideoHomeTitleOwnerThumbnailOverlay_video.graphql"),a),f=j(c("CometVideoHomeVideoThumbnailHoverContext")),g=e==null?void 0:e.id,k=e==null?void 0:e.owner;if(a==null||g==null||k==null)return i.jsx(c("CometVideoHomePlayButtonThumbnailOverlay.react"),{size:48});a=e.title_with_fallback;var l=k.uri_token;l=l!=null?c("XCometVideoHomePlaylistControllerRouteBuilder").buildURL({idorvanity:l}):k.url;g=c("XCometWatchControllerRouteBuilder").buildURL({v:g});var m=function(){c("VideoHomeTypedLoggerLite").log({entry_point_type:"inline_video_pause_screen_tapped",event:"video_tab_selected",event_target:"watch_video_permalink",tab_selection_type:"user_initiated_click"}),c("VideoHomeTypedLoggerLite").log({click_point:"inline_pause_screen",event:"click",event_target:"video",event_target_id:e.id})},n=function(){var a;c("VideoHomeTypedLoggerLite").log({click_point:"inline_pause_screen",event:"click",event_target:"page",event_target_id:(a=e.owner)==null?void 0:a.id})};return i.jsx("div",{className:c("stylex")({"opacity-1":"jkp44r48","transition-delay-1":"mim7t75o","transition-duration-1":"c2pht4sg","transition-property-1":"ldembo95","transition-timing-function-1":"rgt4ek0a"},f?{"opacity-1":"cdum9rwi"}:null,{"background-color-1":"cxx8ddgd","bottom-1":"z6erz7xo","box-sizing-1":"bdao358l","end-1":"on4d8346","position-1":"s8sjc6am","start-1":"myo4itp8","top-1":"ekq1a7f9"}),children:i.jsx("div",{children:i.jsx("div",{className:"q46jt4gp fwlpnqze b0eko5f3",children:i.jsx(c("TetraTextPairing.react"),{body:i.jsx(c("CometLink.react"),{color:"secondary",href:l,onClick:n,children:k.name}),bodyLineLimit:1,headline:a!=null&&i.jsx(c("CometLink.react"),{color:"white",href:g,onClick:m,children:a}),headlineLineLimit:2,level:4,reduceEmphasis:!0})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometVideoHomeHuddleThumbnailWithRelay3d.react",["CometPlaceholder.react","CometRelay","CometVideoHomeHuddleThumbnailWithRelay3d_video.graphql","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.className;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometVideoHomeHuddleThumbnailWithRelay3d_video.graphql"),a);return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.huddle_thumbnail_enabled,props:{className:e}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometVideoHomePositionInUnitContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(0);g["default"]=b},98);
__d("CometVideoHomeSectionPositionContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b},98);
__d("CometVideoHomeVideoThumbnailPreviewRoot.entrypoint",["CometVideoHomeVideoThumbnailPreviewRootQuery$Parameters","JSResourceForInteraction"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:b("CometVideoHomeVideoThumbnailPreviewRootQuery$Parameters"),variables:{id:a.videoID}}}}},root:c("JSResourceForInteraction")("CometVideoHomeVideoThumbnailPreviewRoot.react").__setRef("CometVideoHomeVideoThumbnailPreviewRoot.entrypoint")};d=a;g["default"]=d},98);
__d("VideoHomeLoggingUpstreamPlayerSourceContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b},98);
__d("VideoItemPreviewContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({hidePreview:function(){},isPreviewVisible:!1,showPreview:function(){}});g["default"]=b},98);
__d("CometVideoHomeVideoThumbnailPreviewEntryPointLoader.react",["CometPlaceholder.react","CometRelay","CometVideoHomePositionInUnitContext","CometVideoHomeSectionPositionContext","CometVideoHomeVideoThumbnailPreviewRoot.entrypoint","VideoHomeLoggingReactionVideoChannelTypeContext","VideoHomeLoggingUpstreamPlayerSourceContext","VideoHomeTypedLoggerLite","VideoItemPreviewContext","VideoPlayerLoggingSuboriginContext","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=b.useState;function a(a){var b=a.previewLogger;a=a.videoID;var e=d("CometRelay").useRelayEnvironment(),f=j(function(){return{getEnvironment:function(){return e}}},[e]),g=i(c("VideoItemPreviewContext"));g=g.isPreviewVisible;var l=k(!1),m=l[0];l=l[1];f=d("CometRelay").useEntryPointLoader(f,c("CometVideoHomeVideoThumbnailPreviewRoot.entrypoint"));var n=f[0];f=f[1];var o=i(c("VideoPlayerLoggingSuboriginContext")),p=i(c("CometVideoHomeSectionPositionContext")),q=i(c("CometVideoHomePositionInUnitContext")),r=i(c("VideoHomeLoggingReactionVideoChannelTypeContext")),s=i(c("VideoHomeLoggingUpstreamPlayerSourceContext"));g&&!m&&(l(!0),c("VideoHomeTypedLoggerLite").log(babelHelpers["extends"]({},b,{event:"video_preview_load",event_target:"video",event_target_id:a,player_suborigin:o,position_in_unit:q,section_video_channel_type:r,unit_position:p,upstream_player_source:s})),f({videoID:a}));return!n?null:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:n,props:{}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometVideoHomeVideoThumbnailImageWithPreview.react",["fbt","CometAspectRatioContainer.react","CometImage.react","CometRelay","CometVideoHomeHuddleThumbnailWithRelay3d.react","CometVideoHomeVideoThumbnailImageWithPreview_video.graphql","CometVideoHomeVideoThumbnailPreviewEntryPointLoader.react","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k={blackBackground:{backgroundColor:"sfdena2r",height:"pytsy3co"},image:{bottom:"z6erz7xo",end:"on4d8346",marginTop:"q6ul9yy4",marginEnd:"pry8b2m5",marginBottom:"i7rjuzed",marginStart:"p8zq7ayg",maxHeight:"fyn85a33",maxWidth:"gvxzyvdx",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9"},imageContainer:{height:"pytsy3co",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9",width:"mfclru0v"},root:{position:"om3e55n1"}};function a(a){var e,f=a.height,g=a.previewDisabled;g=g===void 0?!0:g;var l=a.video;a=a.width;l=d("CometRelay").useFragment(i!==void 0?i:i=b("CometVideoHomeVideoThumbnailImageWithPreview_video.graphql"),l);e=l==null?void 0:(e=l.image)==null?void 0:e.uri;var m=l==null?void 0:l.id;return m==null||m===""||e==null?null:j.jsx("div",{className:c("stylex")(k.root),children:j.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:a/f,children:j.jsxs("div",{className:c("stylex")(k.imageContainer),children:[j.jsx("div",{className:c("stylex")(k.blackBackground)}),j.jsx(c("CometImage.react"),{alt:h._("Miniatura de v\u00eddeo"),src:e,xstyle:k.image}),j.jsx(c("CometVideoHomeHuddleThumbnailWithRelay3d.react"),{className:c("stylex")(k.image),video:l}),!g&&j.jsx(c("CometVideoHomeVideoThumbnailPreviewEntryPointLoader.react"),{videoID:m})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerWatchInlinePauseScreenRowItem.react",["CometLink.react","CometRelay","CometTrackingCodeProvider.react","CometVideoHomeDurationThumbnailOverlay.react","CometVideoHomeTitleOwnerThumbnailOverlay.react","CometVideoHomeVideoThumbnailHoverContext","CometVideoHomeVideoThumbnailImageWithPreview.react","VideoHomeTypedLoggerLite","VideoPlayerWatchInlinePauseScreenRowItem_story.graphql","VideoPlayerWatchInlinePauseScreenRowItem_video.graphql","XCometWatchControllerRouteBuilder","react","useInnerMostTrackingCode","useStoryVPVDLogger"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useState,m=84,n=150;function a(a){var e=a.position,f=a.story;a=a.video;f=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWatchInlinePauseScreenRowItem_story.graphql"),f);e=c("useStoryVPVDLogger")({interactionSourceOverride:54,position:e,trackable:f==null?void 0:f.encrypted_tracking});var g=e[0];e=e[1];var i=f.click_tracking_linkshim_cb,k=f.encrypted_click_tracking;f=f.encrypted_tracking;i={click_tracking_linkshim_cb:i||"",encrypted_click_tracking:k||"",encrypted_tracking:f||""};return j.jsx("div",{className:"cqf1kptm alzwoclg",ref:g,children:j.jsx(c("CometTrackingCodeProvider.react"),{trackingCode:i,children:j.jsx(o,{video:a,vpvdDebuggingInfoComponent:e})})})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var e=a.video;a=a.vpvdDebuggingInfoComponent;var f=l(!1),g=f[0],h=f[1];f=k(function(){h(!0)},[]);var o=k(function(){h(!1)},[]),p=c("useInnerMostTrackingCode")(),q=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerWatchInlinePauseScreenRowItem_video.graphql"),e);e=q==null?void 0:q.id;if(q==null||e==null)return null;e=c("XCometWatchControllerRouteBuilder").buildURL({v:e});var r=function(){c("VideoHomeTypedLoggerLite").log({entry_point_type:"inline_video_pause_screen_tapped",event:"video_tab_selected",event_target:"watch_video_permalink",tab_selection_type:"user_initiated_click"}),c("VideoHomeTypedLoggerLite").log({click_point:"inline_pause_screen",event:"click",event_target:"video",event_target_id:q.id})};p={playerSubOrigin:"inline_pause_screen",trackingCode:p};return j.jsxs(j.Fragment,{children:[a,j.jsx(c("CometLink.react"),{href:e,onClick:r,passthroughProps:p,children:j.jsx(c("CometVideoHomeVideoThumbnailHoverContext").Provider,{value:g,children:j.jsxs("div",{className:"om3e55n1 hf30pyar lq84ybu9 trbvugp6 j94dm2s7 j32recxq p5mefues",onMouseEnter:f,onMouseLeave:o,children:[j.jsx(c("CometVideoHomeVideoThumbnailImageWithPreview.react"),{height:m,video:q,width:n}),j.jsx(c("CometVideoHomeDurationThumbnailOverlay.react"),{video:q}),j.jsx(c("CometVideoHomeTitleOwnerThumbnailOverlay.react"),{video:q})]})})})]})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerWatchInlinePauseScreenRow.react",["fbt","ix","CometFlexibleRow.react","CometImage.react","CometLink.react","CometPressable.react","RelayHooks","TetraText.react","VideoPlayerWatchInlinePauseScreenRowItem.react","VideoPlayerWatchInlinePauseScreenRowQuery.graphql","WebPixelRatio","XCometWatchControllerRouteBuilder","react","requireDeferred","useImpressionLogger"],function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useEffect,m=e.useState,n=c("requireDeferred")("VideoHomeTypedLoggerLite").__setRef("VideoPlayerWatchInlinePauseScreenRow.react");function a(a){var e=a.onPauseScreenDismissed,f=a.videoChainingCaller,g=a.videoChannelEntryPoint,o=a.videoChannelID;a=a.videoID;f=d("RelayHooks").useLazyLoadQuery(j!==void 0?j:j=b("VideoPlayerWatchInlinePauseScreenRowQuery.graphql"),{caller:f,entry_channel_id:o,entry_point:g,id:a,scale:d("WebPixelRatio").get()});o=m(!1);var p=o[0],q=o[1];g=m(!1);var r=g[0],s=g[1];a=c("useImpressionLogger")(n,function(a,b){r||(a.log({event:"inline_pause_screen_impression"}),s(!0))});g=(o=f==null?void 0:(o=f.video)==null?void 0:(g=o.video_channel)==null?void 0:(f=g.video_channel_feed)==null?void 0:f.nodes)!=null?o:[];var t=g.map(function(a,b){var d;d=(d=a==null?void 0:a.attached_story)!=null?d:a;d=d==null?void 0:(d=d.attachments)==null?void 0:(d=d[0])==null?void 0:d.media;return d==null||d.__typename!=="Video"?null:k.jsx(c("VideoPlayerWatchInlinePauseScreenRowItem.react"),{position:b,story:a,video:d},d.id)}).filter(Boolean);l(function(){p||(n.onReady(function(a){a.log({event:"video_pause_card_fetch",result_count:t.length})}),q(!0))},[p,t.length]);f=function(){n.onReady(function(a){a.log({click_point:"inline_pause_screen",event:"click",event_target:"watch"}),a.log({entry_point_type:"inline_video_pause_screen_tapped",event:"video_tab_selected",event_target:"watch_home_www",tab_selection_type:"user_initiated_click"})})};return t.length>0?k.jsxs("div",{className:"bf78fbga siu44isn j61or4sd cgu29s5g cqf1kptm alzwoclg",ref:a,children:[k.jsxs("div",{className:"sl27f92c alzwoclg",children:[k.jsx("div",{className:"ez8dtbzv",children:k.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"headlineEmphasized2",children:k.jsx(c("CometLink.react"),{href:c("XCometWatchControllerRouteBuilder").buildURL({}),onClick:f,children:h._("M\u00e1s v\u00eddeos en Watch")})})}),k.jsx("div",{className:"eohcrkr5",children:e!=null?k.jsx(c("CometPressable.react"),{label:h._("Clic para ignorar la pantalla de pausa"),onPress:e,children:k.jsx("div",{className:"ho3chyhf eohcrkr5 fsf7x5fv",children:k.jsx(c("CometImage.react"),{src:i("480713")})})}):null})]}),k.jsx(c("CometFlexibleRow.react"),{columnMaxWidth:250,columnMinWidth:100,justify:"start",minItems:t.length,children:t})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerWatchInlinePauseScreenRowContainer.react",["VideoPlayerWatchInlinePauseScreenRow.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onPauseScreenDismissed,d=a.videoChainingCaller,e=a.videoChannelEntryPoint,f=a.videoChannelID;a=a.videoID;return h.jsx(c("VideoPlayerWatchInlinePauseScreenRow.react"),{onPauseScreenDismissed:b,videoChainingCaller:d,videoChannelEntryPoint:e,videoChannelID:f,videoID:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerCometFeedStoryControlsImplLive.react",["CometRelay","VideoPlayerCometFeedStoryControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","gkx","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.disablePlaybackControls,f=a.expandControl,g=a.isAdVideo,j=a.isControlsVisible,k=a.isExpandControlVisible,l=a.isVolumeControlVisible,m=a.isWatchAndScrollControlVisible,n=a.isWatchAndScrollDisabled,o=a.onUserInteraction,p=a.reactionVideoChannelType,q=a.shouldHideRewindControls,r=a.subOrigin,s=a.video;a=a.videoTahoeUrl;s=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerCometFeedStoryControlsImplLive_video.graphql"),s);var t=c("gkx")("976093");return i.jsx(c("VideoPlayerLiveVideoControls.react"),{disablePlaybackControls:e,expandControl:f,isControlsVisible:j,isExpandControlVisible:k,isVolumeControlVisible:l,isWatchAndScrollControlVisible:m,onUserInteraction:o,reactionVideoChannelType:p,shouldHideRewindControls:q,shouldRenderCastControl:!g,shouldRenderWatchAndScrollControl:!t&&!g&&n!==!0,subOrigin:r,video:s,videoTahoeUrl:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerNPCPlaybackControl.react",["fbt","ix","CometImage.react","CometPressable.react","VideoHomeTypedLoggerLite","VideoPlayerHooks","react","stylex","useFeedClickEventHandler","useVideoPlayerControllerSubscription"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect;function a(a){var b=a.isVisible;a=a.unmuteOnPlay;var e=a===void 0?!1:a;k(function(){c("VideoHomeTypedLoggerLite").log({event:"npc_control_large_playback_button_impression"})},[]);a=c("useVideoPlayerControllerSubscription")(function(a,b){var c=a.getCurrentState(),d=c.ended,e=c.paused,f=c.playing,g=c.stalling;a=a.getPlayheadPosition();c=c.duration;e=!e&&(f||g);g=!f&&d&&a>=c;return b!=null&&b.showPauseButton===e&&b.showReplayButton===g?b:{showPauseButton:e,showReplayButton:g}});var f=a.showPauseButton;a=a.showReplayButton;var g=d("VideoPlayerHooks").useController(),l=c("useFeedClickEventHandler")(function(){c("VideoHomeTypedLoggerLite").log({click_point:"npc_control_large_playback_button",event:"click",event_target:"video"}),f?g.pause("user_initiated"):(e&&g.setMuted(!1,"user_initiated"),g.play("user_initiated"))});a=f?"pause":a?"replay":"play";var m="",n=null;a==="pause"?(m=h._("Pausar"),n=j.jsx(c("CometImage.react"),{src:i("1343456")})):a==="replay"?(m=h._("Ver de nuevo"),n=j.jsx(c("CometImage.react"),{src:i("215005")})):a==="play"&&(m=h._("Reproducir"),n=j.jsx(c("CometImage.react"),{src:i("101640")}));a=l!=null?j.jsx(c("CometPressable.react"),{display:"inline",label:m,onPress:l,overlayDisabled:!0,children:n}):n;return j.jsx("i",{className:c("stylex")({"border-top-start-radius-1":"qmqpeqxj","border-top-end-radius-1":"e7u6y3za","border-bottom-end-radius-1":"qwcclf47","border-bottom-start-radius-1":"nmlomj2f","cursor-1":"fsf7x5fv","height-1":"ov5gjlzi","margin-top-1":"ko6h0rs5","margin-end-1":"l7ghb35v","margin-bottom-1":"kjdc1dyq","margin-start-1":"iuw2rauq","opacity-1":"cdum9rwi","position-1":"s8sjc6am","start-1":"py3ibqi0","top-1":"td5prrct","width-1":"l188yfni"},b?null:{"opacity-1":"jkp44r48","visibility-1":"qpyp3sab"}),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometVideoHomeFeedAutoAdvanceAPIContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({advance:function(){},register:function(){},unregister:function(){}});g["default"]=b},98);
__d("VideoPlayerNPCSkipControlBase.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onPress;var b=h._("Ir al siguiente v\u00eddeo"),e=d("fbicon")._(i("1052613"),20);return j.jsx(c("VideoPlayerControlIcon.react"),{icon:e,label:b,onPress:a,tooltip:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerNPCSkipControl.react",["CometVideoHomeFeedAutoAdvanceAPIContext","VideoHomeTypedLoggerLite","VideoPlayerNPCSkipControlBase.react","react","useFeedClickEventHandler"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(){j(function(){c("VideoHomeTypedLoggerLite").log({event:"control_npc_skip_video_impression"})},[]);var a=i(c("CometVideoHomeFeedAutoAdvanceAPIContext")),b=c("useFeedClickEventHandler")(function(){c("VideoHomeTypedLoggerLite").log({click_point:"control_npc_skip_video",event:"click",event_target:"video"}),a.advance(1)});return h.jsx(c("VideoPlayerNPCSkipControlBase.react"),{onPress:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerScrubberBottomWithPreview.react",["VideoPlayerScrubber.react","VideoPlayerScrubberPreview.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onUserInteraction,d=a.video;return h.jsx("i",{className:"mfclru0v o6x1q0as myo4itp8 s8sjc6am cdum9rwi fsf7x5fv",children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b,renderTooltip:function(a){return h.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:d})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerTimeSkipBackwardLargeBase.react",["fbt","ix","CometPressable.react","TetraIcon.react","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.isVisible;b=b===void 0?!1:b;a=a.onPress;var e=h._("Retroceder 10 segundos"),f=d("fbicon")._(i("214057"),24);e=a!=null?j.jsx(c("CometPressable.react"),{display:"inline",label:e,onPress:a,overlayDisabled:!0,children:j.jsx(c("TetraIcon.react"),{color:"white",icon:f})}):j.jsx(c("TetraIcon.react"),{color:"white",icon:f});return j.jsx("i",{className:c("stylex")({"border-top-start-radius-1":"qmqpeqxj","border-top-end-radius-1":"e7u6y3za","border-bottom-end-radius-1":"qwcclf47","border-bottom-start-radius-1":"nmlomj2f","cursor-1":"fsf7x5fv","height-1":"mwtcrujb","margin-top-1":"ko6h0rs5","margin-end-1":"l7ghb35v","margin-bottom-1":"kjdc1dyq","margin-start-1":"iuw2rauq","opacity-1":"cdum9rwi","position-1":"s8sjc6am","start-1":"lgiqfqlu","top-1":"snbbgd0u","width-1":"mx6bq00g"},b?null:{"opacity-1":"jkp44r48","visibility-1":"qpyp3sab"}),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerTimeSkipControlBase.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","unrecoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onPress;a=a.timeskipIcon;var e,f;switch(a){case"skip_backward":e=h._("Retroceder 10 segundos");f=d("fbicon")._(i("213496"),20);break;case"skip_forward":e=h._("Avanzar 10 segundos");f=d("fbicon")._(i("213498"),20);break;default:a;throw c("unrecoverableViolation")("The timeskip icon is unsupported "+a,"comet_video_player")}return j.jsx(c("VideoPlayerControlIcon.react"),{icon:f,label:e,onPress:b,tooltip:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerTimeSkipBackwardControl.react",["VideoHomeTypedLoggerLite","VideoPlayerHooks","VideoPlayerTimeSkipBackwardLargeBase.react","VideoPlayerTimeSkipControlBase.react","react","useFeedClickEventHandler"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=10;function a(a){var b=a.isLarge;b=b===void 0?!1:b;a=a.isVisible;a=a===void 0?!1:a;var e="npc_control_time_skip_backward_impression",f="control_time_skip_backward";b&&(e="npc_control_time_skip_backward_large_impression",f="control_time_skip_backward_large");i(function(){c("VideoHomeTypedLoggerLite").log({event:e})},[e]);var g=d("VideoPlayerHooks").useController(),k=c("useFeedClickEventHandler")(function(){c("VideoHomeTypedLoggerLite").log({click_point:f,event:"click",event_target:"video"});var a=g.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;a=Math.max(g.getPlayheadPosition()-j,a);g.seek(a)});return b?h.jsx(c("VideoPlayerTimeSkipBackwardLargeBase.react"),{isVisible:a,onPress:k}):h.jsx(c("VideoPlayerTimeSkipControlBase.react"),{onPress:k,timeskipIcon:"skip_backward"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerTimeSkipForwardLargeBase.react",["fbt","ix","CometPressable.react","TetraIcon.react","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.isVisible;b=b===void 0?!1:b;a=a.onPress;var e=h._("Avanzar 10 segundos"),f=d("fbicon")._(i("214059"),24);e=a!=null?j.jsx(c("CometPressable.react"),{display:"inline",label:e,onPress:a,overlayDisabled:!0,children:j.jsx(c("TetraIcon.react"),{color:"white",icon:f})}):j.jsx(c("TetraIcon.react"),{color:"white",icon:f});return j.jsx("i",{className:c("stylex")({"border-top-start-radius-1":"qmqpeqxj","border-top-end-radius-1":"e7u6y3za","border-bottom-end-radius-1":"qwcclf47","border-bottom-start-radius-1":"nmlomj2f","cursor-1":"fsf7x5fv","height-1":"mwtcrujb","margin-top-1":"ko6h0rs5","margin-end-1":"l7ghb35v","margin-bottom-1":"kjdc1dyq","margin-start-1":"iuw2rauq","opacity-1":"cdum9rwi","position-1":"s8sjc6am","start-1":"eientzee","top-1":"snbbgd0u","width-1":"mx6bq00g"},b?null:{"opacity-1":"jkp44r48","visibility-1":"qpyp3sab"}),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerTimeSkipForwardControl.react",["VideoHomeTypedLoggerLite","VideoPlayerHooks","VideoPlayerTimeSkipControlBase.react","VideoPlayerTimeSkipForwardLargeBase.react","react","useFeedClickEventHandler"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=10;function a(a){var b=a.isLarge;b=b===void 0?!1:b;a=a.isVisible;a=a===void 0?!1:a;var e="npc_control_time_skip_forward_impression",f="control_time_skip_forward";b&&(e="npc_control_time_skip_forward_large_impression",f="control_time_skip_forward_large");i(function(){c("VideoHomeTypedLoggerLite").log({event:e})},[e]);var g=d("VideoPlayerHooks").useController(),k=d("VideoPlayerHooks").useDuration(),l=c("useFeedClickEventHandler")(function(){c("VideoHomeTypedLoggerLite").log({click_point:f,event:"click",event_target:"video"});var a=Math.min(g.getPlayheadPosition()+j,k);g.seek(a)});return b?h.jsx(c("VideoPlayerTimeSkipForwardLargeBase.react"),{isVisible:a,onPress:l}):h.jsx(c("VideoPlayerTimeSkipControlBase.react"),{onPress:l,timeskipIcon:"skip_forward"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("useVideoPlayerPlaybackRateControlNUX",["cr:11881"],function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11881")},98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive.react",["fbt","CometRelay","CometTrackingNodeProvider.react","PlaybackSpeedExperiments","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerHooks","VideoPlayerJoinOnPortalControl.react","VideoPlayerNPCPlaybackControl.react","VideoPlayerNPCSkipControl.react","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubberBottomWithPreview.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerTimeSkipBackwardControl.react","VideoPlayerTimeSkipForwardControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","cr:1790881","cr:1809777","emptyFunction","gkx","nux:31","qex","react","useCurrentRouteBuilder","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerPlaybackRateControlNUX"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useState,l=d("PlaybackSpeedExperiments").isInCometHeadroomTest()?b("cr:1790881"):null,m=d("PlaybackSpeedExperiments").isInCometHeadroomTest()?b("cr:1809777"):null,n={nux:{maxWidth:"irjsnxci"}};function a(a){var e,f=a.disablePlaybackControls,g=a.expandControl,o=a.isAdVideo,p=a.isControlsVisible,q=a.isExpandControlVisible,r=a.isVolumeControlVisible,s=a.isWatchAndScrollControlVisible,t=a.isWatchAndScrollDisabled,u=a.onUserInteraction,v=a.subOrigin,w=a.video;a=a.videoTahoeUrl;w=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql"),w);var x=d("VideoPlayerHooks").useShouldShowPlaybackRateControl();x=d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControlNUX()&&["discover","entry_point"].includes(v)&&x;x=c("useVideoPlayerPlaybackRateControlNUX")(x);var y=x[0];x=x[1];var z=(w==null?void 0:w.recipient_group)!=null&&(w==null?void 0:w.captions_url)!=null;z=z;e=(e=b("nux:31")==null?void 0:b("nux:31")("comet_group_video_caption_setting"))!=null?e:c("emptyFunction");e=e({align:"end",arrowStyle:"inset",hasCloseButton:!0,label:h._("\u00a1Nuevo! Activa los subt\u00edtulos autom\u00e1ticos en la configuraci\u00f3n."),position:"above",type:"accent",xstyle:n.nux},z);z=c("useVideoPlayerBigPlayButtonOverlay")();z=z.bigPlayButtonIsVisible;var A=!e&&x||p;s=s||A||f===!0&&!z;q=q||f===!0&&!o&&!z;z=c("gkx")("976093");var B=d("VideoPlayerHooks").useCaptionsLoaded(),C=d("VideoPlayerHooks").useCaptionsVisible(),D=c("useCurrentRouteBuilder")();D=D==null?void 0:D.buildURL().toString();a=f!==!0&&a==null&&(D==null?void 0:D.includes("/watch/"))===!0;D=a&&c("qex")._("121");var E=a&&c("qex")._("261"),F=a&&E===!1&&c("qex")._("262"),G=E===!0&&c("qex")._("262"),H=a&&c("qex")._("263");t=!z&&!o&&t!==!0&&w!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:s,children:j.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:v,video:w})}):null;s=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A,noPaddingEnd:!0,children:j.jsx(c("VideoPlayerJoinOnPortalControl.react"),{isVisible:A})});x=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!e&&x||q,noPaddingEnd:!0,noPaddingStart:!0,children:g});q=k(null);g=q[0];q=q[1];return j.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:A,children:[G===!0?j.jsx(c("VideoPlayerTimeSkipBackwardControl.react"),{isLarge:!0,isVisible:p}):null,E===!0?j.jsx(c("VideoPlayerNPCPlaybackControl.react"),{isVisible:p}):null,G===!0?j.jsx(c("VideoPlayerTimeSkipForwardControl.react"),{isLarge:!0,isVisible:p}):null,j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A,children:[F===!0?j.jsx(c("VideoPlayerTimeSkipBackwardControl.react"),{}):null,E===!1||z?j.jsx(c("VideoPlayerPlaybackControl.react"),{isNPC:a}):null,F===!0?j.jsx(c("VideoPlayerTimeSkipForwardControl.react"),{}):null,D===!0?j.jsx(c("VideoPlayerNPCSkipControl.react"),{}):null,f===!0?null:j.jsx(c("VideoPlayerPlaybackTimer.react"),{}),l!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A&&!f,children:j.jsx(l,{onUserInteraction:u})}):null]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:(H===!1||z)&&A&&!f,children:j.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:u,video:w})}),j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:H===!0&&A&&!f,children:j.jsx(c("VideoPlayerScrubberBottomWithPreview.react"),{onUserInteraction:u,video:w})}),j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A&&!f,noPaddingEnd:!0,children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:j.jsx(c("VideoPlayerSettingsControl.react"),{menuOpened:g,onUserInteraction:u,ref:(G=e)!=null?G:y,setMenuOpened:q})})}),B?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A&&!f,children:j.jsx(c("VideoPlayerCaptionsControl.react"),{captionsVisible:C,menuOpened:g,onUserInteraction:u,setMenuOpened:q,video:w})}):null,!o&&w!=null?j.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:A&&!f,subOrigin:v}):null,x,s,t,m!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,children:j.jsx(m,{enableNUX:d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControlHeadroomTestNUX()&&["discover","entry_point"].includes(v),onUserInteraction:u})}):null,j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:m?!0:r,noPaddingStart:!0,children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:u})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("MusicClipPlayerPlaybackTimer.react",["VideoPlayerHooks","getFormattedTimestamp","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.endTimeSeconds,e=a.startTimeSeconds,f=a.timerTextXStyle;a=a.timerXStyle;var g=d("VideoPlayerHooks").useCurrentTimeThrottled(200);g=g-e;b=b-e;e=d("VideoPlayerHooks").usePlaying();e=g<=0&&!e?b:g;return h.jsx("div",{className:c("stylex")(a),children:h.jsx("span",{className:c("stylex")(f),children:c("getFormattedTimestamp")(e)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic",[],function(a,b,c,d,e,f){"use strict";var g=1e3,h=0,i=30,j=30;function a(a,b){var c=h,d=i;a!=null&&b!=null&&(c=Math.round(a/g),d=Math.round(b/g));d>c+j&&(d=c+j);return{lower_s:c,upper_s:d}}f["default"]=a},66);
__d("VideoPlayerDefaultControlsImplMusicClip.react",["CometRelay","MusicClipPlayerPlaybackTimer.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic","VideoPlayerDefaultControlsImplMusicClip_video.graphql","VideoPlayerHooks","VideoPlayerPlaybackControl.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useEffect,k=e.useRef,l={controls:{alignItems:"i85zmo3j",bottom:"iqs5uzhx",display:"alzwoclg",end:"pdgt5wtj",flexDirection:"jl2a5g8c",justifyContent:"jcxyg2ei",position:"s8sjc6am"},timer:{color:"qsbzbi57",display:"aglvbi8b",fontSize:"glosn74e",fontVariantNumeric:"hfwosp6y",lineHeight:"r1s1wzwg",marginEnd:"bwjycg1r",marginStart:"hqnvby81",minWidth:"kuy4vlz3",textAlign:"hsphh064",textShadow:"mko461ui",verticalAlign:"i8zpp7h3"},timerText:{fontWeight:"innypi6y",minWidth:"gkm6d1x8"}};function a(a){var e;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplMusicClip_video.graphql"),a);e=a==null?void 0:(e=a.music_attachment_metadata)==null?void 0:e.start_time_ms;a=a==null?void 0:(a=a.music_attachment_metadata)==null?void 0:a.end_time_ms;e=c("VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic")(e,a);var f=e.lower_s,g=e.upper_s,m=d("VideoPlayerHooks").useController();j(function(){m.seek(f),m.pause("product_initiated")},[m,f]);var n=k(null);j(function(){var a=m.subscribe(function(){var a=m.getPlayheadPosition();a!==n.current&&(n.current=a,a>g&&(m.seek(f),m.pause("product_initiated")))});return function(){a.remove()}},[m,f,g]);a=i.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,children:[i.jsx(c("MusicClipPlayerPlaybackTimer.react"),{endTimeSeconds:g,startTimeSeconds:f,timerTextXStyle:l.timerText,timerXStyle:l.timer}),i.jsx(c("VideoPlayerPlaybackControl.react"),{unmuteOnPlay:!0})]});return i.jsx("div",{className:c("stylex")(l.controls),children:i.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:!0,children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("useVideoPlayerPlaybackRateControlNUX.good",["emptyFunction","nux:87"],function(a,b,c,d,e,f,g){"use strict";d=(a=b("nux:87")==null?void 0:b("nux:87")("comet_playback_speed_prompt_headroom_test"))!=null?a:c("emptyFunction").thatReturns([void 0,void 0]);g["default"]=d},98);
__d("VideoPlayerWatchInlineEndScreenRowItem.react",["CometLink.react","CometRelay","CometTrackingCodeProvider.react","CometVideoHomeDurationThumbnailOverlay.react","CometVideoHomePlayButtonThumbnailOverlay.react","CometVideoHomeVideoThumbnailHoverContext","CometVideoHomeVideoThumbnailImageWithPreview.react","TetraTextPairing.react","VideoHomeTypedLoggerLite","VideoPlayerWatchInlineEndScreenRowItem_story.graphql","VideoPlayerWatchInlineEndScreenRowItem_video.graphql","XCometVideoHomePlaylistControllerRouteBuilder","XCometWatchControllerRouteBuilder","react","useInnerMostTrackingCode","useStoryVPVDLogger"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useState,m=84,n=150;function a(a){var e=a.position,f=a.story;a=a.video;f=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWatchInlineEndScreenRowItem_story.graphql"),f);e=c("useStoryVPVDLogger")({interactionSourceOverride:54,position:e,trackable:f==null?void 0:f.encrypted_tracking});var g=e[0];e=e[1];var i=f.click_tracking_linkshim_cb,k=f.encrypted_click_tracking;f=f.encrypted_tracking;i={click_tracking_linkshim_cb:i||"",encrypted_click_tracking:k||"",encrypted_tracking:f||""};return j.jsx("div",{className:"cqf1kptm alzwoclg",ref:g,children:j.jsx(c("CometTrackingCodeProvider.react"),{trackingCode:i,children:j.jsx(o,{video:a,vpvdDebuggingInfoComponent:e})})})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var e=a.video;a=a.vpvdDebuggingInfoComponent;var f=l(!1),g=f[0],h=f[1];f=k(function(){h(!0)},[]);var o=k(function(){h(!1)},[]),p=c("useInnerMostTrackingCode")(),q=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerWatchInlineEndScreenRowItem_video.graphql"),e);e=q==null?void 0:q.id;var r=q==null?void 0:q.owner;if(q==null||e==null||r==null)return null;var s=q.title_with_fallback,t=r.uri_token;t=t!=null?c("XCometVideoHomePlaylistControllerRouteBuilder").buildURL({idorvanity:t}):r.url;e=c("XCometWatchControllerRouteBuilder").buildURL({v:e});var u=function(){c("VideoHomeTypedLoggerLite").log({entry_point_type:"inline_video_end_screen_tapped",event:"video_tab_selected",event_target:"watch_video_permalink",tab_selection_type:"user_initiated_click"}),c("VideoHomeTypedLoggerLite").log({click_point:"inline_end_screen",event:"click",event_target:"video",event_target_id:q.id})},v=function(){var a;c("VideoHomeTypedLoggerLite").log({click_point:"inline_end_screen",event:"click",event_target:"page",event_target_id:(a=q.owner)==null?void 0:a.id})};p={playerSubOrigin:"inline_end_screen",trackingCode:p};return j.jsxs(j.Fragment,{children:[a,j.jsx(c("CometLink.react"),{href:e,onClick:u,passthroughProps:p,children:j.jsx(c("CometVideoHomeVideoThumbnailHoverContext").Provider,{value:g,children:j.jsxs("div",{className:"om3e55n1 hf30pyar lq84ybu9 trbvugp6 j94dm2s7 j32recxq p5mefues",onMouseEnter:f,onMouseLeave:o,children:[j.jsx(c("CometVideoHomeVideoThumbnailImageWithPreview.react"),{height:m,video:q,width:n}),j.jsx(c("CometVideoHomeDurationThumbnailOverlay.react"),{video:q}),j.jsx(c("CometVideoHomePlayButtonThumbnailOverlay.react"),{size:48})]})})}),j.jsx("div",{className:"q46jt4gp b0eko5f3",children:j.jsx(c("TetraTextPairing.react"),{body:j.jsx(c("CometLink.react"),{color:"secondary",href:t,onClick:v,children:r.name}),bodyLineLimit:1,headline:s!=null&&j.jsx(c("CometLink.react"),{color:"white",href:e,onClick:u,passthroughProps:p,children:s}),headlineLineLimit:3,level:4,reduceEmphasis:!0})})]})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerWatchInlineEndScreenRow.react",["fbt","CometFlexibleRow.react","CometLink.react","RelayHooks","TetraText.react","VideoPlayerWatchInlineEndScreenRowItem.react","VideoPlayerWatchInlineEndScreenRowQuery.graphql","WebPixelRatio","XCometWatchControllerRouteBuilder","react","requireDeferred","useImpressionLogger"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useEffect,l=e.useState,m=c("requireDeferred")("VideoHomeTypedLoggerLite").__setRef("VideoPlayerWatchInlineEndScreenRow.react");function a(a){var e=a.videoChainingCaller,f=a.videoChannelEntryPoint,g=a.videoChannelID;a=a.videoID;e=d("RelayHooks").useLazyLoadQuery(i!==void 0?i:i=b("VideoPlayerWatchInlineEndScreenRowQuery.graphql"),{caller:e,entry_channel_id:g,entry_point:f,id:a,scale:d("WebPixelRatio").get()});g=l(!1);var n=g[0],o=g[1];f=l(!1);var p=f[0],q=f[1];a=c("useImpressionLogger")(m,function(a,b){p||(a.log({event:"inline_end_screen_impression"}),q(!0))});f=(g=e==null?void 0:(g=e.video)==null?void 0:(f=g.video_channel)==null?void 0:(e=f.video_channel_feed)==null?void 0:e.nodes)!=null?g:[];var r=f.map(function(a,b){var d;d=(d=a==null?void 0:a.attached_story)!=null?d:a;d=d==null?void 0:(d=d.attachments)==null?void 0:(d=d[0])==null?void 0:d.media;return d==null||d.__typename!=="Video"?null:j.jsx(c("VideoPlayerWatchInlineEndScreenRowItem.react"),{position:b,story:a,video:d},d.id)}).filter(Boolean);k(function(){n||(m.onReady(function(a){a.log({event:"video_end_card_fetch",result_count:r.length})}),o(!0))},[n,r.length]);e=function(){m.onReady(function(a){a.log({click_point:"inline_end_screen",event:"click",event_target:"watch"}),a.log({entry_point_type:"inline_video_end_screen_tapped",event:"video_tab_selected",event_target:"watch_home_www",tab_selection_type:"user_initiated_click"})})};return r.length>0?j.jsxs("div",{className:"ez8dtbzv jcxyg2ei j61or4sd cgu29s5g cqf1kptm alzwoclg",ref:a,children:[j.jsx("div",{className:"ez8dtbzv",children:j.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"headlineEmphasized2",children:j.jsx(c("CometLink.react"),{href:c("XCometWatchControllerRouteBuilder").buildURL({}),onClick:e,children:h._("M\u00e1s v\u00eddeos en Watch")})})}),j.jsx(c("CometFlexibleRow.react"),{columnMaxWidth:250,columnMinWidth:100,justify:"start",minItems:r.length,children:r})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerWatchInlineEndScreenRowContainer.react",["VideoPlayerWatchInlineEndScreenRow.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.videoChainingCaller,d=a.videoChannelEntryPoint,e=a.videoChannelID;a=a.videoID;return h.jsx(c("VideoPlayerWatchInlineEndScreenRow.react"),{videoChainingCaller:b,videoChannelEntryPoint:d,videoChannelID:e,videoID:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerWithVideoCardsOverlay.react",["CometPlaceholder.react","CometRelay","VideoPlayerWithVideoCardsOverlay_video.graphql","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.cardsHidden,f=a.surface;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithVideoCardsOverlay_video.graphql"),a);return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.comet_video_player_with_video_card_renderer,props:{cardsHidden:e,surface:f}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoPlayerWithLiveVideoEndscreenAndChaining.react",["CometPlaceholder.react","CometRelay","VideoPlayerHooks","VideoPlayerWithLiveVideoEndscreen.react","VideoPlayerWithLiveVideoEndscreenAndChaining_video.graphql","gkx","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.routeTarget;a=a.video;var f=d("VideoPlayerHooks").useEnded(),g=d("VideoPlayerHooks").useIsLive();a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithLiveVideoEndscreenAndChaining_video.graphql"),a);if(!f||!g)return null;return c("gkx")("1224637")?i.jsx(c("VideoPlayerWithLiveVideoEndscreen.react"),{video:a}):i.jsx(c("VideoPlayerWithLiveVideoEndscreen.react"),{video:a,children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:a.comet_video_player_live_video_endscreen_content,props:{routeTarget:e}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("LitestandMessages",[],function(a,b,c,d,e,f){a=Object.freeze({NEWSFEED_LOAD:"LitestandMessages/NewsFeedLoad",LEAVE_HOME:"LitestandMessages/LeaveHome",STORIES_REQUESTED:"LitestandMessages/StoriesRequested",STORIES_INSERTED:"LitestandMessages/StoriesInserted",NEWER_STORIES_REQUESTED:"LitestandMessages/NewerStoriesRequested",NEWER_STORIES_INSERTED:"LitestandMessages/NewerStoriesInserted",NEW_STORIES_CONTAINER_CREATED:"LitestandMessages/NewStoriesContainer",RHC_RELOADED:"LitestandMessages/RHCReloaded",STREAM_LOAD_ERROR:"LitestandMessages/StreamLoadError",DUPLICATE_CURSOR_ERROR:"LitestandMessages/DuplicateCursorError",STREAM_LOAD_RETRY:"LitestandMessages/StreamLoadRetry"});f["default"]=a},66);
__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ExplicitRegistrationDispatcher"));b=new a({strict:!1});g["default"]=b},98);
__d("WebMessengerThreadPermalinks",["MercuryIDs","MessagingTag","MessengerURIConstants","URI","WWWBase","requireWeak"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f="";d("MercuryIDs").isCanonical(a)?f=d("MercuryIDs").tokenize(a).value:c("requireWeak")("MercuryThreadIDMap",function(b){f=b.get().getServerIDFromClientIDNow(a)});e=h(f||"",e);b&&b(e)}function h(a,b){var d=new(c("URI"))(c("WWWBase").uri),e=c("MessengerURIConstants").FACEBOOK_PREFIX;if(b)switch(b){case c("MessagingTag").OTHER:e+="/filtered";break;case c("MessagingTag").PENDING:e+="/requests";break;case c("MessagingTag").INBOX:break;default:e+="/"+b;break}d.setPath(e+c("MessengerURIConstants").THREAD_PREFIX+a);return d.toString()}function b(a,b){var d=new(c("URI"))(c("WWWBase").uri),e=c("MessengerURIConstants").FACEBOOK_PREFIX;d.setPath(i(e,b)+"/t/"+a);return d.toString()}function i(a,b){b&&b!=c("MessagingTag").INBOX&&(a+="/"+b);return a}g.getThreadURI=a;g.getThreadURIFromServerID=h;g.getThreadURIFromUserID=b},98);
__d("FantaTabActions",["Bootloader","CurrentUser","Env","FBIDCheck","FantaDispatcher","MercuryIDs","MessengerURIConstants","URI","WebMessengerThreadPermalinks","WorkplaceChatHelper","goURI","ifRequired","keyMirror","setTimeout"],function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({BLUR_TAB:null,CLEAR_PAGE_INDICATOR_DESCRIPTION:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HIGHLIGHT_NEW_MESSAGE:null,HOVERED_TAB:null,JUMP_TO_MESSAGE:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,OPT_IN_OPEN_TAB_WITH_BLOCKEES:null,CLOSE_GROUP_ENTRANCE_WARNING_DIALOG:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SET_PAGE_INDICATOR_DESCRIPTION:null,SET_PERMANENT_URI:null,SHOW_UNSEEN_MESSAGES:null,UNHIGHLIGHT_NEW_MESSAGE:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null,WIPE_JUMP_TO_MESSAGE:null,CREATE_NEW_NAMED_GROUP_CHAT:null});function i(a,b){var e=a?new(c("URI"))(d("WebMessengerThreadPermalinks").getThreadURIFromServerID(a)):new(c("URI"))(c("MessengerURIConstants").COMPOSE_SUBPATH);c("ifRequired")("BusinessURI.brands",function(a){return c("goURI")(a(e))},function(){return c("setTimeout")(function(){j(a,b)},100)})}function a(a,b,c){j(a,b,c,!0)}function j(a,b,e,f,g){if(c("Env").isCQuick){var j=d("MercuryIDs").getUserIDFromThreadID(a);c("Bootloader").loadModules(["BlueCompatRouter"],function(a){j!=null&&a.startChat(j,!d("FBIDCheck").isUser_deprecated(j))},"FantaTabActions");return}if(c("CurrentUser").isWorkUser()){var l=c("ifRequired")("WorkGalahadChat_DEPRECATED",function(b){b.openThreadFromThreadID(a);return!0},function(){return!1});if(l)return}c("ifRequired")("FantaTabsEagerBootloader",function(a){return a.bootload()});M(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:a,entryPoint:b,defaultText:e,isNewMessageTab:f,defaultPreview:g}),c("ifRequired")("FantaTabsReactApp",function(c){k(a,b)},function(){k(a,b,function(){return i(a,b)})})})}function b(a,b,d){M(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:b,entryPoint:d}),c("ifRequired")("FantaTabsReactApp",function(c){l(a,b,d)},function(){l(a,b,d)})})}function k(a,b,d){c("ifRequired")("FantaTabsSlimApp",function(d){c("ifRequired")("FantaAppStore",function(){},function(){d.getPumpedUp(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:a,entryPoint:b})})})},function(){return d&&d(a)})}function l(a,b,d){c("ifRequired")("FantaTabsSlimApp",function(e){c("ifRequired")("FantaAppStore",function(){},function(){e.getPumpedUp(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:b,entryPoint:d})})})})}function e(a,b){c("FantaDispatcher").dispatch({type:h.REPLACE_TAB,tabID:a,newTabID:b})}function f(a){c("FantaDispatcher").dispatch({type:h.MINIMIZE_TAB,tabID:a})}function m(){c("FantaDispatcher").dispatch({type:h.MINIMIZE_ALL_TABS})}function n(a){c("FantaDispatcher").dispatch({type:h.UNMINIMIZE_TAB,tabID:a})}function o(a){c("FantaDispatcher").dispatch({type:h.OPT_IN_OPEN_TAB_WITH_BLOCKEES,tabID:a})}function p(a){c("FantaDispatcher").dispatch({type:h.CLOSE_GROUP_ENTRANCE_WARNING_DIALOG,tabID:a})}function q(a){c("FantaDispatcher").dispatch({type:h.CLOSE_TAB,tabID:a})}function r(){c("FantaDispatcher").dispatch({type:h.CLOSE_ALL_TABS})}function s(a){c("FantaDispatcher").dispatch({type:h.CLOSE_AND_TAB_NEXT,tabID:a})}function t(a){c("FantaDispatcher").dispatch({type:h.DELETE_TAB,tabID:a})}function u(a){c("FantaDispatcher").dispatch({type:h.FOCUS_TAB,tabID:a})}function v(a){c("FantaDispatcher").dispatch({type:h.BLUR_TAB,tabID:a})}function w(a){c("FantaDispatcher").dispatch({type:h.HOVERED_TAB,tabID:a})}function x(a){c("FantaDispatcher").dispatch({type:h.UNHOVERED_TAB,tabID:a})}function y(a){c("FantaDispatcher").dispatch({type:h.HIGHLIGHT_NEW_MESSAGE,tabId:a})}function z(a){c("FantaDispatcher").dispatch({type:h.UNHIGHLIGHT_NEW_MESSAGE,tabId:a})}function A(a){c("FantaDispatcher").dispatch({type:h.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:a})}function B(a){if(d("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())return;M(function(){a&&c("FantaDispatcher").dispatch({type:h.LOAD_FROM_DATA,tabData:a})})}function C(a){c("FantaDispatcher").dispatch({type:h.FOCUS_NEXT_TAB,event:a})}function D(a){c("FantaDispatcher").dispatch({type:h.FOCUS_PREVIOUS_TAB,event:a})}function E(b,d,a){c("FantaDispatcher").dispatch({type:h.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:d,tabID:b,showUnseenMessages:a})}function F(a,b){c("FantaDispatcher").dispatch({type:h.JUMP_TO_MESSAGE,mid:b,tabID:a})}function G(a){c("FantaDispatcher").dispatch({type:h.WIPE_JUMP_TO_MESSAGE,tabID:a})}function H(a,b){c("FantaDispatcher").dispatch({type:h.SET_PAGE_INDICATOR_DESCRIPTION,tabID:a,description:b})}function I(a){c("FantaDispatcher").dispatch({type:h.CLEAR_PAGE_INDICATOR_DESCRIPTION,tabID:a})}function J(a){c("FantaDispatcher").dispatch({type:h.SHOW_UNSEEN_MESSAGES,tabID:a})}function K(a,b){c("FantaDispatcher").dispatch({type:h.SET_PERMANENT_URI,tabID:a,uri:b})}function L(a,b){c("FantaDispatcher").dispatch({type:h.CREATE_NEW_NAMED_GROUP_CHAT,tabID:a,tokens:b})}function M(a){c("ifRequired")("FantaReducersGetMessages",function(){a()},function(){c("ifRequired")("FantaAppStore",function(b){c("Bootloader").loadModules(["FantaReducersGetMessages"],function(c){b.addReducers(c),a()},"FantaTabActions")},function(){a()})})}g.Types=h;g.openNewMessageTab=a;g.openTab=j;g.openInterstitialTab=b;g._tryLoadSlimApp=k;g._tryLoadSlimAppWithInterstitialData=l;g.replaceTab=e;g.minimizeTab=f;g.minimizeAllTabs=m;g.unminimizeTab=n;g.optInOpenTabWithBlockees=o;g.closeGroupEntranceWarningDialog=p;g.closeTab=q;g.closeAllTabs=r;g.closeAndTabNext=s;g.deleteTab=t;g.focusTab=u;g.blurTab=v;g.hoveredTab=w;g.unhoveredTab=x;g.highlightNewMessage=y;g.unhighlightNewMessage=z;g.setAllowedRaisedTabs=A;g.loadFromData=B;g.focusNextTab=C;g.focusPreviousTab=D;g.scrollBottomChanged=E;g.jumpToMessage=F;g.wipeJumpToMessage=G;g.setPageIndicatorDescription=H;g.clearPageIndicatorDescription=I;g.showUnseenMessages=J;g.setPermanentUri=K;g.createNewNamedGroupChat=L;g.dispatchOrBootloadGetMessages=M},98);
__d("FeedStoryCategory",[],function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,SHOWCASE:10,FB_SHORTS:11,TRENDING:12,ENGAGEMENT_QP:13})},null);
__d("AdAllocationIntegrityGapsInfo",["FeedStoryCategory"],function(a,b,c,d,e,f,g){a=function(){function a(a){this.story_category=a,this.dist_to_top=-1,this.dist_to_fixed=-1,this.dist_to_promo=-1,this.dist_to_sponsored=-1,this.dist_to_engagement=-1}var b=a.prototype;b.setDistToTop=function(a){this.dist_to_top=a};b.setDistIfAbsent=function(a,b){if(b<0||a===c("FeedStoryCategory").UNKNOWN||a===c("FeedStoryCategory").ORGANIC)return;switch(a){case c("FeedStoryCategory").ENGAGEMENT:this.dist_to_engagement=this.$1(b,this.dist_to_engagement);break;case c("FeedStoryCategory").FIXED_POSITION:this.dist_to_fixed=this.$1(b,this.dist_to_fixed);break;case c("FeedStoryCategory").PROMOTION:this.dist_to_promo=this.$1(b,this.dist_to_promo);break;case c("FeedStoryCategory").SPONSORED:this.dist_to_sponsored=this.$1(b,this.dist_to_sponsored);break}};b.$1=function(a,b){return b===-1?a:b};return a}();g["default"]=a},98);
__d("AdAllocationIntegrityUtils",["DataAttributeUtils","FeedStoryCategory","collectDataAttributes"],function(a,b,c,d,e,f,g){"use strict";var h="data-story_category",i="data-dedupekey",j="ft";function a(a){var b=c("collectDataAttributes")(a,[j]).ft;a=c("DataAttributeUtils").getDataAttribute(a,h);if(a)switch(a){case"2":return c("FeedStoryCategory").ENGAGEMENT;case"3":return c("FeedStoryCategory").FIXED_POSITION;case"4":return c("FeedStoryCategory").PROMOTION;default:return c("FeedStoryCategory").UNKNOWN}else if(b.ei)return c("FeedStoryCategory").SPONSORED;else return c("FeedStoryCategory").ORGANIC}function b(a){if(a===c("FeedStoryCategory").SPONSORED||a===c("FeedStoryCategory").ENGAGEMENT||a===c("FeedStoryCategory").FIXED_POSITION||a===c("FeedStoryCategory").PROMOTION)return!0;else return!1}function d(a){return c("DataAttributeUtils").getDataAttribute(a,i)}g.getFeedStoryCategory=a;g.isGapRuleCategory=b;g.getDedupKey=d},98);
__d("WwwVpvFeedTrackingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1841521");c=b("FalcoLoggerInternal").create("www_vpv_feed_tracking",a);e.exports=c},null);
__d("viewportTrackingBuilder",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=null;return{factory:a,singleton:function(){b||(b=a.apply(void 0,arguments));return b},clearSingleton:function(){b=null}}}f["default"]=a},66);
__d("ViewportTracking",["cx","invariant","AdAllocationIntegrityGapsInfo","AdAllocationIntegrityUtils","Arbiter","BanzaiScuba_DEPRECATED","CSS","CurrentUser","DOM","DOMDimensions","Event","LitestandMessages","NavigationMessage","Run","SubscriptionsHandler","TimeSlice","UserActivity","ViewportTrackingHelper","WebSession","WwwVpvFeedTrackingFalcoEvent","clearTimeout","clickRefAction","collectDataAttributes","debounce","getElementPosition","getViewportDimensions","gkx","pageID","setTimeout","throttle","viewportTrackingBuilder"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=97,k="vpv",l=3,m=2,n=1,o=0,p=1,q=2,r=3,s=4,t=43,u=function(){function a(a){this.cachedAllStories=[],this.vpvdBoundingRect=!1,this.vpvdAnalysis=!1,this.vpvdDebug=!1,this.vpvDebug=!1,this.fireTimer=this.fireTimer.bind(this),this.markStoryRead=this.markStoryRead.bind(this),this.behavior=a}var b=a.prototype;b.init=function(a){var b=this;this.useBanzai=!0;this.vpvDebug=!!a.vpv_debug;this.vpvdBoundingRect=c("gkx")("1229480");this.vpvdDebug=!!a.vpvd_debug;this.vpvdAnalysis=!!a.vpvd_analysis;this.ctaLoggingEnabled=!!a.cta_logging_enabled;this.adAllocationIntegrityLoggingEnabled=!!a.ad_allocation_integrity_logging_enabled;this.readStoryIDs={};this.storyIDsWasInView={};this.minFractionToBeVisibleForTimetracking=.5;this.scrollThrottlingInterval=100;this.mouseThrottlingInterval=100;this.keyboardThrottlingInterval=100;this.userActivityPollingInterval=5e3;this.timeToBeConsideredInactive=15e3;this.minTimeToReportImmediately=500;this.discardVPVDIntervalThreshold=9e4;this.active_state_duration=1e3;this.height_diff_to_change_state=25;this.focused_state_duration=3500;this.minSizeToBeVisible=200;this.invalidateAllStoriesCache();this.cachedViewportHeight=c("getViewportDimensions")().height;this.isTimetrackingEnabled=!1;this.activeStories={};this.userInactiveLock=!1;this.userActivityPollerTimeoutID=null;this._headLoadStoryCount=0;this.behavior.getDataFromConfig&&this.behavior.getDataFromConfig(a,this);this.isTimetrackingEnabled&&(this.lastMouseX=-1,this.lastMouseY=-1,this.lastStreamY=-1,this.latestStreamYChangedTimeStamp=-1,this.userFocus=q,this.latestUserFocus=q,this.latestUserActivity="init",this.focusedStory=null,this.latestFocusedStory=null,this.latestActiveStory=null,this.totalVPVDuration={});a.tracking_duration_config&&(this.scrollThrottlingInterval=a.tracking_duration_config.scroll_throttling_interval,this.mouseThrottlingInterval=a.tracking_duration_config.mouse_throttling_interval,this.keyboardThrottlingInterval=a.tracking_duration_config.keyboardThrottlingInterval,this.userActivityPollingInterval=a.tracking_duration_config.user_activity_polling_interval,this.timeToBeConsideredInactive=a.tracking_duration_config.time_to_be_considered_inactive,this.minSizeToBeVisible=a.tracking_duration_config.min_height_to_be_visible,this.minFractionToBeVisibleForTimetracking=a.tracking_duration_config.min_fraction_to_be_visible,this.minTimeToReportImmediately=a.tracking_duration_config.min_time_to_report_immediately,this.active_state_duration=a.tracking_duration_config.active_state_duration,this.height_diff_to_change_state=a.tracking_duration_config.story_height_diff_to_change_state,this.focused_state_duration=a.tracking_duration_config.focused_state_duration,this.discardVPVDIntervalThreshold=a.tracking_duration_config.discard_vpvd_interval_threshold);a.record_delay!==void 0||i(0,1115);var e=c("debounce")(this.fireTimer,a.record_delay,this);this.initialStories=this.getStoriesInView();this.initialStoriesLogged=!1;this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this._getScrollListener(e),c("Event").listen(window,"resize",function(){b.cachedViewportHeight=c("getViewportDimensions")().height,e()}),c("Event").listen(window,"focus",function(){b.isTimetrackingEnabled&&b.updateTimeTrackingData(!1,"window_focus")}),c("Event").listen(window,"blur",function(){b.isTimetrackingEnabled&&b.updateTimeTrackingData(!0,"window_blur")}),c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,this.cleanup.bind(this)),c("Arbiter").subscribe("Stream/totalHeadLoadedStories",function(a,c){b._headLoadStoryCount=c.count}),c("Arbiter").subscribe(c("LitestandMessages").STORIES_INSERTED,function(){b.initialStoriesLogged&&e(),b.isTimetrackingEnabled&&b.updateTimeTrackingData(!1,"stories_inserted")}));if(this.isTimetrackingEnabled&&this.behavior.getStream){this.updateTimeTrackingData(!1,"init");a=c("throttle")(function(a){b.handleScroll(a)},this.scrollThrottlingInterval);var f=c("throttle")(function(a){return b.handleKeyboard(a)},this.keyboardThrottlingInterval),g=c("throttle")(function(a){return b.handleMouse(a)},this.mouseThrottlingInterval);this.subscriptions.addSubscriptions(c("Event").listen(window,"scroll",a),c("Event").listen(document.documentElement,"DOMMouseScroll",a,void 0,{passive:!0}),c("Event").listen(document.documentElement,"mousewheel",a,void 0,{passive:!0}),c("Event").listen(document.documentElement,"keydown",f),c("Event").listen(document.documentElement,"mouseover",g),c("Event").listen(document.documentElement,"mousemove",g),c("Event").listen(document.documentElement,"click",function(a){b.handleMouse(a)}),c("Arbiter").subscribe("Event/stop",function(a,c){b.handleMouse(c.event)}),c("Arbiter").subscribe("PhotoSnowlift.OPEN",function(){b.userFocus=r,b.handleLayers()}),c("Arbiter").subscribe("PhotoSnowlift.CLOSE",function(){b.userFocus=p,b.focusedStory=null,b.updateTimeTrackingData(!1,"snowlift_close")}));this._userActivityPoller()}d("Run").onLeave(this.cleanup.bind(this));d("Run").onUnload(this.cleanup.bind(this))};b._getScrollListener=function(a){return c("Event").listen(window,"scroll",a)};b.cleanup=function(){this.subscriptions&&(this.subscriptions.release(),this.subscriptions=null),this.isTimetrackingEnabled&&(c("clearTimeout")(this.userActivityPollerTimeoutID),this.updateTimeTrackingData(!0,"cleanup")),this.initialStories=[],this._headLoadStoryCount=0};b.fireTimer=function(){this.initialStoriesLogged||(this.initialStories.forEach(this.markStoryRead,this),this.initialStoriesLogged=!0),this.storiesInView=this.getStoriesInView(),this.storiesInView.forEach(this.markStoryRead,this)};b.getSessionID=function(){return null};b._userActivityPoller=function(){var a=this;!this.userInactiveLock&&!c("UserActivity").isActive(this.timeToBeConsideredInactive)&&(this.userInactiveLock=!0,this.userFocus=q,this.updateTimeTrackingData(!1,"user_activity_inactive"),c("UserActivity").subscribeOnce(function(){a.userFocus=p,a.updateTimeTrackingData(!1,"user_activity_active"),a.userInactiveLock=!1}));this.userActivityPollerTimeoutID=c("setTimeout")(c("TimeSlice").guard(this._userActivityPoller.bind(this),"ViewportTracking poll setTimeout",{propagationType:c("TimeSlice").PropagationType.EXECUTION}),this.userActivityPollingInterval)};b.getQueryID=function(a){return-1};b.getFBFeedLocations=function(a){return-1};b.getFBFeedInsertionPosition=function(a){return-1};b.createVPVDTimer=function(a){var b=document.createElement("label");b.setAttribute("for",a.toString());b.setAttribute("class","vpvd_debug_timer");return b};b.updateVPVDTimer=function(a){var b=this.activeStories[a].story;if(!b)return;var d=c("DOM").scry(b,".vpvd_debug_timer");if(!d.length){d=[this.createVPVDTimer(b),this.createVPVDTimer(b)];var e=c("DOM").scry(b,".UFIRow");e.length&&e[e.length-1].clientWidth>0?e[e.length-1].appendChild(d[0]):b.appendChild(d[0]);b.insertBefore(d[1],b.firstChild)}e=this.totalVPVDuration[a];b=Math.floor(e/1e3)+"."+Math.floor(e%1e3/100);c("DOM").setContent(d[0],b);c("DOM").setContent(d[1],b)};b.updateVPVDTimers=function(){for(var a in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,a)&&this.updateVPVDTimer(a)};b.logVpvdAnalysis=function(a,b,d,e,f,g){var h=new(c("BanzaiScuba_DEPRECATED"))("vpv_duration");h.addDenorm("qid",this.getQueryID(this.activeStories[a].story));h.addDenorm("uid",c("CurrentUser").getID());h.addDenorm("vsid",a);h.addInteger("time",Math.round(Date.now()/1e3));h.addInteger("duration",e);h.addInteger("total_duration",f);h.addNormal("story_state",this.activeStories[a].state);h.addNormal("is_active_state",d);h.addNormal("num_visible_stories",this.numVisibleStories);h.addInteger("story_height",this.activeStories[a].story_height);h.addInteger("story_visible_height",this.activeStories[a].height);h.addInteger("state_visible_height",g);h.addInteger("total_visible_height",this.totalVisibleHeight);h.addInteger("total_height",this.totalHeight);h.addNormal("user_focus",this.latestUserFocus);h.addNormal("next_user_focus",this.userFocus);h.addInteger("vpvd",b);h.addInteger("accumulated_vpvd",this.activeStories[a].vpvd);h.addNormal("user_activity",this.latestUserActivity);h.addNormal("next_user_activity",this.userActivity);h.addInteger("story_position_y",this.activeStories[a].y);h.addInteger("feed_insertion_position",this.getFBFeedInsertionPosition(this.activeStories[a].story));h.addNormal("visible_position",this.activeStories[a].visible_position);h.addNormal("is_focused_story",this.activeStories[a].is_focused);h.post()};b.shouldDiscardStory=function(a){var b=this.activeStories[a].height||0;return b!=this.activeStories[a].story_height&&b<this.totalHeight/2};b.calculateTotalHeight=function(){this.totalHeight=0;for(var a in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,a)&&(this.totalHeight+=this.activeStories[a].height)};b.updateVPVDurations=function(a){var b;if(this.latestUserFocus===q||a-this.latestTimeTrackingTimestamp>this.discardVPVDIntervalThreshold)return;b=(b={},b[n]=0,b[m]=0,b[l]=0,b);var c=a-this.latestTimeTrackingTimestamp>=this.focused_state_duration;this.totalVisibleHeight=0;for(var d in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,d)&&!(this.latestUserFocus===p&&c&&this.shouldDiscardStory(d))){var e=this.activeStories[d].state||null,f=this.activeStories[d].height||0;e!==null&&Object.prototype.hasOwnProperty.call(b,e)&&(b[e]+=f);this.totalVisibleHeight+=f}e=0;f=a-this.latestTimeTrackingTimestamp;this.latestUserFocus===p&&(f=b[l]>0?this.focused_state_duration:this.active_state_duration,f=Math.min(f,a-this.latestTimeTrackingTimestamp),e=a-this.latestTimeTrackingTimestamp-f);a=0;var g=l;for(var h=l;h>=n;h--)if(b[h]>0){a=b[h];g=h;break}h=b[l]+b[m]+b[n];b=0;for(d in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,d)){if(this.latestUserFocus===p&&c&&this.shouldDiscardStory(d))continue;var i=this.activeStories[d].state||o;if(a>0&&i>=g){i=this.activeStories[d].height||0;b=f*(i/a);this.vpvdAnalysis&&f>0&&this.logVpvdAnalysis(d,b,!0,f,f+e,a);this.activeStories[d].vpvd+=b;this.totalVPVDuration[d]+=b}if(h>0){i=this.activeStories[d].height||0;b=e*(i/h);this.vpvdAnalysis&&e>0&&this.logVpvdAnalysis(d,b,!1,e,f+e,h);this.activeStories[d].vpvd+=b;this.totalVPVDuration[d]+=b}}};b.updateActiveStory=function(a,b,c,d){this.activeStories[a].state=b,this.activeStories[a].ts=c,this.activeStories[a].height_snapshot=d[a].height,this.activeStories[a].is_focused=this.focusedStory===d[a].story,this.activeStories[a].story_height=d[a].story_height,this.vpvdAnalysis&&(this.activeStories[a].visible_position=d[a].visible_position,this.activeStories[a].y=d[a].y)};b.updateActiveStories=function(a,b){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c in this.activeStories){var d=a[c].height||0;this.activeStories[c].height=d;d=d-(this.activeStories[c].height_snapshot||0);this.focusedStory===a[c].story?this.updateActiveStory(c,l,b,a):d<=-this.height_diff_to_change_state?this.updateActiveStory(c,this.shouldDiscardStory(c)?o:n,b,a):(d>=this.height_diff_to_change_state||this.activeStories[c].is_focused||this.activeStories[c].height===this.activeStories[c].story_height)&&this.updateActiveStory(c,m,b,a)}else this.storyIDsWasInView[c]=!0,this.activeStories[c]={evp_ts:b,story:a[c].story,height:a[c].height,vpvd:0},this.totalVPVDuration[c]||(this.totalVPVDuration[c]=0),this.updateActiveStory(c,m,b,a),this.behavior.afterStoryEntersViewport&&this.behavior.afterStoryEntersViewport(this.activeStories[c].story)};b.recordVPVDurations=function(a,b){for(var c in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,c)&&(b||!(c in a))){var d=this.activeStories[c].vpvd||0;(d>this.focused_state_duration||d===this.totalVPVDuration[c]||d>=250)&&this.recordTimeStoryWasInView(this.activeStories[c]);this.behavior.afterStoryExitsViewport&&this.behavior.afterStoryExitsViewport(this.activeStories[c].story);delete this.activeStories[c]}};b.updateTimeTrackingData=function(a,b){this.userActivity=b;this.activeStories||(this.activeStories={});b=Date.now();this.latestTimeTrackingTimestamp||(this.latestTimeTrackingTimestamp=b);var c=this.getAllStoriesInView();this.calculateTotalHeight();this.updateVPVDurations(b);this.updateActiveStories(c,b);this.vpvdDebug&&this.updateVPVDTimers();this.recordVPVDurations(c,a);a?this.latestTimeTrackingTimestamp=0:this.latestTimeTrackingTimestamp=b;this.latestUserActivity=this.userActivity;this.latestUserFocus=this.userFocus;this.focusedStory&&(this.latestActiveStory=this.focusedStory);this.latestFocusedStory=this.focusedStory;this.focusedStory=null};b.needsToUpdateTimeTrackingData=function(){return!(this.latestUserFocus===this.userFocus&&(this.userFocus===q||this.userFocus===p&&!this.latestFocusedStory&&!this.focusedStory))};b.getfocusedStory=function(a){var b=this.getAllStoriesInView();for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var e=b[c].story;if(e&&d("ViewportTrackingHelper").isDescendantOf(a,e))return e}return null};b.handleLayers=function(){if(this.userFocus===r||this.userFocus===s){this.focusedStory=this.latestActiveStory;this.updateTimeTrackingData(!1,"media_layer");return!0}return!1};b.didInteractWithStream=function(a){if(!this.behavior.getStream)return!1;var b=this.behavior.getStream();return d("ViewportTrackingHelper").isDescendantOf(a,b)||d("ViewportTrackingHelper").isDescendantOf(b,a)};b.handleScroll=function(a){if(this.handleLayers())return;var b=Date.now();this.behavior.getStream||i(0,1116);var d=c("getElementPosition")(this.behavior.getStream()).y;d!=this.lastStreamY||b-this.latestStreamYChangedTimeStamp<2.5*this.scrollThrottlingInterval||this.didInteractWithStream(a.target)?(this.latestStreamYChangedTimeStamp=b,this.userFocus=p):this.userFocus=q;this.lastStreamY=d;(this.userFocus===p||this.needsToUpdateTimeTrackingData())&&this.updateTimeTrackingData(!1,"scroll")};b.handleKeyboard=function(a){if(this.handleLayers())return;this.didInteractWithStream(a.target)?(this.userFocus=p,this.focusedStory=this.getfocusedStory(a.target)):d("CSS").hasClass(a.target,"shareInput")?(this.userFocus=p,this.focusedStory=this.latestActiveStory):this.userFocus=q;(this.userFocus===p||this.needsToUpdateTimeTrackingData())&&this.updateTimeTrackingData(!1,"keyboard")};b.handleMouse=function(a){if(this.handleLayers())return;if(a.type!="click"&&a.clientX===this.lastMouseX&&a.clientY===this.lastMouseY)return;this.didInteractWithStream(a.target)?(this.userFocus=p,this.focusedStory=this.getfocusedStory(a.target)):this.userFocus=q;this.lastMouseX=a.clientX;this.lastMouseY=a.clientY;this.needsToUpdateTimeTrackingData()&&this.updateTimeTrackingData(!1,a.type)};b.getStoriesInView=function(){var a=this.behavior.getAllStories(),b=[],c=!1;for(var e=0;e<a.length;e++){var f=a[e],g=this.behavior.getStoryID(f);if(g&&this.hasBeenVisible(g))continue;if(d("ViewportTrackingHelper").isVisible(f,this.minSizeToBeVisible))f.getAttribute("data-insertion-position")===null&&f.setAttribute("data-insertion-position",(e-this._headLoadStoryCount).toString()),b.push(f),c=!0;else if(c)break}return b};b.getAllStoriesFromCache=function(){this.cachedAllStories.length===0&&(this.cachedAllStories=this.behavior.getAllStories());return this.cachedAllStories};b.invalidateAllStoriesCache=function(){this.cachedAllStories=[]};b.getBlueBarHeightDifference=function(){return window.innerHeight>=400?t:0};b.getAllStoriesInViewUsingBoundingRect=function(){var a=this.getAllStoriesFromCache(),b={},e=a.length,f=window.innerHeight-this.getBlueBarHeightDifference();for(var g=0;g<a.length;g++){var h=a[g],i=Math.min(this.minSizeToBeVisible,f/2),j=d("ViewportTrackingHelper").getHeightIfVisible(h,i);if("getBoundingClientRect"in h){var k=h.getBoundingClientRect();if(!k.top&&!k.bottom)continue;if(k.top>f-i)break;if(k.top<=f-i&&k.bottom>=i){k=this.behavior.getStoryID(h);k&&(b[k]={story:h,height:j,story_height:d("DOMDimensions").getElementDimensions(h).height},this.vpvdAnalysis&&(b[k].y=c("getElementPosition")(h).y,b[k].visible_position=g,e=Math.min(e,g)))}}}if(this.vpvdAnalysis){this.numVisibleStories=0;for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&(b[k].visible_position-=e,this.numVisibleStories++)}return b};b.getAllStoriesInView=function(){if(this.vpvdBoundingRect)return this.getAllStoriesInViewUsingBoundingRect();var a=this.getAllStoriesFromCache(),b={},e=!1,f=0,g=a.length,h=1,i=a.length;this._indexOfLastVisibleStoryOnPreviousPass>g/2&&(f=g-1,g=-1,h=-h);var j=window.innerHeight-this.getBlueBarHeightDifference();for(var f=f;f!=g;f+=h){var k=a[f],l=d("ViewportTrackingHelper").getHeightIfVisible(k,Math.min(this.minSizeToBeVisible,j/2));if(l>0||k===this.focusedStory){k.getAttribute("data-insertion-position")===null&&k.setAttribute("data-insertion-position",(f-this._headLoadStoryCount).toString());var m=this.behavior.getStoryID(k);m&&(b[m]={story:k,height:l,story_height:d("DOMDimensions").getElementDimensions(k).height},e=!0,this.vpvdAnalysis&&(b[m].y=c("getElementPosition")(k).y,b[m].visible_position=f,i=Math.min(i,f)))}else if(e){this._indexOfLastVisibleStoryOnPreviousPass=f-h;break}}if(this.vpvdAnalysis){this.numVisibleStories=0;for(m in b)Object.prototype.hasOwnProperty.call(b,m)&&(b[m].visible_position-=i,this.numVisibleStories++)}return b};b.getTimetrackingDataToLog=function(a){a={evt:j,time_spent_id:c("pageID"),vpvd_start_timestamp:a.evp_ts||null,vpvd_time_delta:Math.round(a.vpvd||0),story_height:d("DOMDimensions").getElementDimensions(a.story).height,viewport_height:this.cachedViewportHeight,sid_raw:d("WebSession").getId()};return{ft:a}};b.getGapsInfoToLog=function(a){var b=this;if(a==null)return null;var e=d("AdAllocationIntegrityUtils").getFeedStoryCategory(a),f=new(c("AdAllocationIntegrityGapsInfo"))(e);if(!d("AdAllocationIntegrityUtils").isGapRuleCategory(e))return f;else{e=d("AdAllocationIntegrityUtils").getDedupKey(a);if(e===null)return null;a=this.behavior.getAllStories().filter(function(a){return Object.prototype.hasOwnProperty.call(b.storyIDsWasInView,b.behavior.getStoryID(a))});var g=-1;for(var h=a.length-1;h>=0;h--){var i=d("AdAllocationIntegrityUtils").getDedupKey(a[h]);if(g<0)i!==null&&e===i&&(g=h,f.setDistToTop(g+1));else{i=d("AdAllocationIntegrityUtils").getFeedStoryCategory(a[h]);d("AdAllocationIntegrityUtils").isGapRuleCategory(i)&&f.setDistIfAbsent(i,g-h)}}return f}};b.recordTimeStoryWasInView=function(a){if(!this.isTimetrackingEnabled)return;var b=a.story;if(!a.vpvd||!b)return;if(a.vpvd>0){a=this.getTimetrackingDataToLog(a);var d=c("collectDataAttributes")(b,["ft"]);Object.assign(a.ft,d.ft);if(this.adAllocationIntegrityLoggingEnabled){var e=this.getGapsInfoToLog(b);Object.assign(a.ft,e)}e=!!d.ft.ei&&a.ft.vpvd_time_delta>this.minTimeToReportImmediately;a.ei&&delete a.ei;this.sendDataToLog(b,a,e)}};b.hasBeenVisible=function(a){return a in this.readStoryIDs};b.sendDataToLog=function(a,b,d){if(this.useBanzai){var e={};d&&(e.delay=3e3);d=this.getSessionID();d&&(b.ft.session_id=d);b.ft.raw_client_time=Date.now()/1e3;c("WwwVpvFeedTrackingFalcoEvent").log(function(){return{tracking:JSON.stringify(b.ft)}})}else c("clickRefAction")(k,a,null,"FORCE",b)};b.markStoryRead=function(a){var b=this.behavior.getStoryID(a);if(!b||this.hasBeenVisible(b))return;this.readStoryIDs[b]=!0;b=this._getDataToLogImpl(a);var e=c("collectDataAttributes")(a,["ft"]);Object.assign(b.ft,e.ft);delete b.ei;this.sendDataToLog(a,b,!1);this.vpvDebug&&d("CSS").addClass(a,"_5m7s")};b._getDataToLogImpl=function(a){a=this.behavior.getDataToLog(a);a.ft||(a.ft={});return a};return a}();u.clearSingleton=function(){};var v={getAllStories:function(){return[]},getStoryID:function(a){return null},getDataToLog:function(a){return{}}};a=c("viewportTrackingBuilder")(function(a){return new u(v)});u.factory=a.factory.bind(a);u.singleton=a.singleton.bind(a);u.clearSingleton=a.clearSingleton.bind(a);u.getBehavior=function(){return v};g["default"]=u},98);
__d("collectSubtreeData",[],function(a,b,c,d,e,f){function g(a,b,c,d,e){if(a.offsetWidth===0&&a.offsetHeight===0)return e;var f={};if(a.getAttribute)for(j=0;j<b.length;j++){k=b[j];var h=a.getAttribute(c[k]);if(h){f[k]={};h=JSON.parse(h);for(var i in d)h[i]!==void 0&&(f[k][i]=!0,e[k]===void 0&&(e[k]={}),e[k][i]===void 0&&(e[k][i]=[]),d[i].length>0&&e[k][i].push(d[i]),e[k][i].push("("+h[i]))}}for(var j=0;j<a.childNodes.length;j++){h=a.childNodes[j];g(h,b,c,d,e)}for(var k in f)for(var i in f[k]){h=e[k][i][e[k][i].length-1];h.length>0&&h.charAt(0)=="("?e[k][i][e[k][i].length-1]=h.substr(1):e[k][i].push(")")}return e}function a(a,b){var c={};for(var d=0;d<b.length;++d)c[b[d]]="data-"+b[d];d={tn:"","tn-debug":","};var e={};g(a,b,c,d,e);for(var a in e)for(var b in e[a])e[a][b]=e[a][b].join("");return e}e.exports=a},null);
__d("recordTNTreeData",["collectSubtreeData"],function(a,b,c,d,e,f){function a(a,c){var d={},e=b("collectSubtreeData")(a,["ft"]);for(var f in e.ft)d[f+"_tree"]=e.ft[f],f==="tn-debug"&&a.setAttribute("tn-debug_subtree",e.ft[f]);d.evt_value=a.offsetHeight;c&&(d.offset=Math.max(0,a.offsetTop-c.offsetTop));return d}e.exports=a},null);
__d("StreamViewportTracking",["DOM","DOMDimensions","DataAttributeUtils","ViewportTracking","ge","recordTNTreeData","viewportTrackingBuilder"],function(a,b,c,d,e,f,g){"use strict";var h=51;function i(a,b,e,f,g){f===void 0&&(f=h);g===void 0&&(g=null);return{_stream:null,getDataFromConfig:function(a,b){b.isTimetrackingEnabled=!0},getAllStories:function(){var a=c("DOM").scry(this.getStream(),e);return a.filter(function(a){return c("DataAttributeUtils").getDataFt(a)})},getStream:function(){if(b)return b;this._stream||(this._stream=c("ge")("home_stream"));return this._stream},getStoryID:function(a){var b=JSON.parse(c("DataAttributeUtils").getDataFt(a));if(b&&b.mf_story_key)return b.mf_story_key;return g!==null?g(a):null},getDataToLog:function(a){var b=this.getStream();b=c("recordTNTreeData")(a,b);var e=a.getAttribute("data-insertion-position");e!==null&&(b.inspos=e);b.evt=f;b.vpv_time=Math.round(Date.now()/1e3);e=c("DOM").scry(a,".fbStoryAttachmentImage")[0];if(e){a=d("DOMDimensions").getElementDimensions(e);b.story_image_height=a.height;b.story_image_width=a.width}return{ft:b}}}}var j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getQueryID=function(a){a=JSON.parse(c("DataAttributeUtils").getDataFt(a));return a.qid};d.getFBFeedLocations=function(a){a=JSON.parse(c("DataAttributeUtils").getDataFt(a));return a.fbfeed_location};d.getFBFeedInsertionPosition=function(a){a=JSON.parse(c("DataAttributeUtils").getDataFt(a));return a.insertion_position};d.getTimetrackingDataToLog=function(a){var d=b.prototype.getTimetrackingDataToLog.call(this,a);if(this.ctaLoggingEnabled){a=c("DOM").scry(a.story,"[data-is-cta]").map(function(a){a=c("DataAttributeUtils").getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});a.length>0&&(d.ft.cta_types=a)}return d};d.cleanup=function(){k.clearSingleton(),b.prototype.cleanup.call(this)};return a}(c("ViewportTracking")),k=c("viewportTrackingBuilder")(function(a,b){b=new j(i(a,b,".uiStreamStory"));b.init(a);return b});j.factory=k.factory.bind(k);j.singleton=k.singleton.bind(k);j.clearSingleton=k.clearSingleton.bind(k);j.getBehavior=i;g["default"]=j},98);
__d("LiveVideoInteractiveAlertSidePaneView.react",["Arbiter","JSResource","lazyLoadComponent","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState,k=c("lazyLoadComponent")(c("JSResource")("IdentityBadgeEarnedAlertView.react").__setRef("LiveVideoInteractiveAlertSidePaneView.react"));function a(a){var b=j(null),d=b[0],e=b[1];i(function(){var a=c("Arbiter").subscribe("LiveVideoInteractiveAlert/sidePaneAlertReceived",function(a,b){return e(b)});return function(){return a&&a.unsubscribe()}});if(d===null)return null;switch(d.type){case"IDENTITY_BADGE_EARNED":return h.jsx(h.Suspense,{fallback:h.jsx("span",{}),children:h.jsx(k,{badgeName:"Familiar Face",badgeType:"frequent_watcher",videoID:a.videoID,onDismiss:function(){return e(null)}})});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("prevNextControlActionTypes",[],function(a,b,c,d,e,f){"use strict";a="ADD_ID";b="POP_ID";f.ADD_ID=a;f.POP_ID=b},66);
__d("prevNextControlActions",["prevNextControlActionTypes"],function(a,b,c,d,e,f,g){"use strict";a=function(a){return{type:d("prevNextControlActionTypes").ADD_ID,payload:a}};b=function(){return{type:d("prevNextControlActionTypes").POP_ID}};g.addID=a;g.popID=b},98);
__d("prevNextControlReducer",["prevNextControlActionTypes"],function(a,b,c,d,e,f,g){"use strict";var h={videoIdQueue:[]};function a(a,b){a===void 0&&(a=h);switch(b.type){case d("prevNextControlActionTypes").ADD_ID:if(b.payload!==void 0)return{videoIdQueue:a.videoIdQueue.concat(b.payload)};else return a;case d("prevNextControlActionTypes").POP_ID:return{videoIdQueue:a.videoIdQueue.slice(0,a.videoIdQueue.length-1)};default:return a}}g["default"]=a},98);
__d("prevNextControlStore",["prevNextControlReducer","redux"],function(a,b,c,d,e,f,g){"use strict";a=d("redux").createStore(c("prevNextControlReducer"));b=a;g["default"]=b},98);
__d("StreamingReactionsTrayEvents",[],function(a,b,c,d,e,f){a="streamingReactionsTray/AddReactionAnimate";b="streamingReactionsTray/HideChannelViewDetails";c="streamingReactionsTray/ShowChannelViewDetails";d="streamingReactionsTray/UpdateSurface";e="streamingReactionsTray/ResizeChannelViewWindow";var g="streamingReactionsTray/ReactionStateChange",h="streamingReactionsTray/FireworksAnimating",i="streamingReactionsTray/DisableReactions",j="streamingReactionsTray/EnableReactions";f.AddReactionAnimate=a;f.HideChannelViewDetails=b;f.ShowChannelViewDetails=c;f.UpdateSurface=d;f.ResizeChannelViewWindow=e;f.ReactionStateChange=g;f.FireworksAnimating=h;f.DisableReactions=i;f.EnableReactions=j},66);
__d("TahoeActionTypes",["keyMirror"],function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({SET_MC:null,EXIT:null,SET_UFI_INSTANCE_ID:null});b=a;g["default"]=b},98);
__d("TahoeDispatcher",["ExplicitRegistrationReactDispatcher"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(c("ExplicitRegistrationReactDispatcher"));b=new a({strict:!0});g["default"]=b},98);
__d("TahoeActions",["TahoeActionTypes","TahoeDispatcher"],function(a,b,c,d,e,f,g){"use strict";function a(a){c("TahoeDispatcher").dispatch({type:c("TahoeActionTypes").SET_MC,mediaController:a})}function b(a){c("TahoeDispatcher").dispatch({type:c("TahoeActionTypes").SET_UFI_INSTANCE_ID,ufiInstanceID:a})}function d(){c("TahoeDispatcher").dispatch({type:c("TahoeActionTypes").EXIT})}g.setMediaController=a;g.setUFIInstanceID=b;g.exit=d},98);
__d("TahoeConstants",["CurrentUser"],function(a,b,c,d,e,f,g){"use strict";a=640;b=360;d=1e3;e=160;f=400;var h=c("CurrentUser").isLoggedIn()?49:0;c=c("CurrentUser").isWorkUser()?"Workplace":"Facebook";var i="video-up-next-";g.MIN_PLAYER_WIDTH=a;g.MIN_PLAYER_HEIGHT=b;g.MAX_PLAYER_HEIGHT=d;g.MIN_BOTTOM_PANE_HEIGHT=e;g.SIDE_PANE_WIDTH=f;g.BLUE_BAR_HEIGHT=h;g.DEFAULT_BROWSER_TITLE=c;g.UP_NEXT_UNIT_ID_PREFIX=i},98);
__d("TahoeDOM",["csx","cx","BlueBar","BootloadedComponent.react","CSS","DOM","DOMQuery","DialogX","JSResource","ReactDOM","Style","XUISpinner.react","ge","getElementPosition","getVendorPrefixedName","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=876;a=function(){function a(a){this.$6=a}var b=a.prototype;b.createDialog=function(){var a={width:k},b=this.$6.getFeedLocation();this.$1=d("CSS").setClass(c("DOM").create("div"),"_5-g-");var e=c("ge")("bizBlackBar");d("CSS").conditionClass(this.$1,"_699q",!d("BlueBar").hasFixedBlueBar()&&!e);e=c("ge")("mediaManagerGlobalChromeBar");d("CSS").conditionClass(this.$1,"_1dm_",b===164||e);this.$4=d("CSS").setClass(c("DOM").create("div"),"_6444");c("DOM").appendContent(this.$1,this.$4);this.$8=d("CSS").setClass(c("DOM").create("div"),"_6445 _6j32");c("DOM").appendContent(this.$1,this.$8);b=new(c("DialogX"))(a,this.$1);e=b.getRoot();e!=null&&d("CSS").setClass(e,"_5-g_");document.body&&d("CSS").addClass(document.body,"_1_-b");b.show();this.$9(b);return b};b.$9=function(a){var b=d("DOMQuery").find(document.body,"._li");c("DOM").appendContent(b,a.getRoot())};b.placeBackAffordance=function(a,b,e,f){d("ReactDOM").render(j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("TahoeBackAffordanceContainer.react").__setRef("TahoeDOM"),bootloadPlaceholder:j.jsx("div",{className:"_4ua2"}),entryURI:a,isPermalink:b,landingPageType:f,mediaController:e}),this.$4)};b.insertPlaceholderMedia=function(){var a=d("CSS").setClass(c("DOM").create("div"),"_1c_u");d("ReactDOM").render(j.jsx(c("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),a);this.$5=a;a=d("CSS").setClass(c("DOM").create("div"),"_5-yb _5_63");c("DOM").setContent(a,this.$5);c("DOM").prependContent(this.$4,a)};b.insertMedia=function(a){var b=c("getElementPosition")(a);this.$5=a;this.$2=c("DOM").create("div");c("DOM").insertAfter(this.$5,this.$2);this.$7=!0;a=d("CSS").setClass(c("DOM").create("div"),"_5-yb _5_63");c("DOM").setContent(a,this.$5);c("DOM").prependContent(this.getContent(),a);this.$10(a,b)};b.$10=function(a,b){this.$6.setMediaState();var d=c("Style").getFloat(this.$5,"width"),e=c("Style").getFloat(this.$5,"height"),f="translate("+b.x+"px,"+b.y+"px)";d="scale("+b.width/d+", "+b.height/e+")";c("Style").set(a,c("getVendorPrefixedName")("transform"),f+" "+d);a.offsetWidth;c("Style").set(a,"transition","all .4s cubic-bezier(.12,.8,.32,1)");c("Style").set(a,c("getVendorPrefixedName")("transform"),"none")};b.returnFeedElement=function(){var a;a=(a=(a=this.$5)==null?void 0:a.clientHeight)!=null?a:0;var b=d("CSS").setClass(c("DOM").create("div"),"_1c_u _61-j");d("ReactDOM").render(j.jsx(c("XUISpinner.react"),{size:"large",background:"dark"}),b);c("Style").set(b,"height",a+"px");a=this.getContent();a!=null&&c("DOM").prependContent(a,b);this.$7?(c("DOM").insertAfter(this.$2,this.$3),c("DOM").remove(this.$2),c("Style").set(this.$3,"width",""),c("Style").set(this.$3,"height","")):a!=null&&c("DOM").remove(a.children[1]);this.$7=!1};b.cleanup=function(){var a=document.body;a&&(d("CSS").removeClass(a,"_1_-b"),d("CSS").removeClass(a,"_3yn5"));d("ReactDOM").unmountComponentAtNode(this.$4)};b.getDialogContent=function(){return this.$1};b.getContent=function(){return this.$4};b.getMediaContent=function(){return this.$5};b.setMediaContent=function(a){this.$5=a};b.setMediaContentSize=function(a,b){c("Style").set(this.$5,"width",a),c("Style").set(this.$5,"height",b)};b.setMediaSizeForTahoeV2=function(a,b){c("Style").set(this.$5,"width",a+"px"),c("Style").set(this.$5,"height",b+"px"),c("Style").set(this.$4,"width",a+"px")};b.setInitialMediaContent=function(a){this.$3=a};b.getSideContent=function(){return this.$8};return a}();g["default"]=a},98);
__d("TahoeVideoResizingController",["TahoeConstants"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a-d("TahoeConstants").SIDE_PANE_WIDTH;b=b-d("TahoeConstants").MIN_BOTTOM_PANE_HEIGHT-d("TahoeConstants").BLUE_BAR_HEIGHT;a=Math.max(a,d("TahoeConstants").MIN_PLAYER_WIDTH);b=Math.max(b,d("TahoeConstants").MIN_PLAYER_HEIGHT);return{width:a,height:b}}g.getPlayerSize=a},98);
__d("TahoeVideoStore",["FluxMapStore","TahoeActionTypes","TahoeDispatcher","immutable"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,b){switch(b.type){case c("TahoeActionTypes").SET_MC:a=a.set("mediaController",b.mediaController);break;case c("TahoeActionTypes").SET_UFI_INSTANCE_ID:a=a.set("ufiInstanceID",b.ufiInstanceID);break;case c("TahoeActionTypes").EXIT:a=c("immutable").Map();break;default:break}return a},b)||babelHelpers.assertThisInitialized(d)}return b}(c("FluxMapStore"));a.__moduleID=f.id;b=new a(c("TahoeDispatcher"));g["default"]=b},98);
__d("TahoeCopyrightMessage.react",["cx","fbt","ix","Image.react","SubscriptionsHandler","XUICloseButton.react","react"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasCopyrightAction:c.props.videoController.isAudioBlocked()},c.$2=function(){c.setState({hasCopyrightAction:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidMount=function(){var a=this;this.$1=new(c("SubscriptionsHandler"))();this.$1.addSubscriptions(this.props.videoController.addListener("blockVideo",function(){a.setState({hasCopyrightAction:!1})}),this.props.videoController.addListener("blockAudio",function(){a.setState({hasCopyrightAction:!0})}),this.props.videoController.addListener("unblockAudio",function(){a.setState({hasCopyrightAction:!1})}))};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){return!this.state.hasCopyrightAction?null:k.jsxs("div",{className:"_6ukn",children:[k.jsx(c("Image.react"),{src:j("519615")}),k.jsx("div",{className:"_6uko",children:this.props.videoController.isBroadcaster()?i._("Es posible que, mientras reproduces la canci\u00f3n, se silencie el v\u00eddeo en algunos pa\u00edses."):i._("El v\u00eddeo se ha silenciado porque contiene m\u00fasica que no se puede reproducir en tu pa\u00eds.")}),k.jsx(c("XUICloseButton.react"),{className:"_6ujz",shade:"light",tooltip:"Close",onClick:this.$2})]})};return b}(k.Component);g["default"]=a},98);
__d("TahoeMainPlayerViewportTracking",["csx","StreamViewportTracking"],function(a,b,c,d,e,f,g,h){"use strict";var i=25,j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getTimetrackingDataToLog=function(a){a=b.prototype.getTimetrackingDataToLog.call(this,a);a.ft.src=i;return a};return a}(c("StreamViewportTracking"));function a(a,b,d){b=new j(c("StreamViewportTracking").getBehavior(a,b,"._5-yb",d));b.init(a);return b}g.setup=a},98);
__d("TahoeUpNextUnitPlaceholder.react",["cx","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsxs("div",{children:[i.jsx("div",{className:"_27do"}),i.jsx("div",{className:"_27dr"}),i.jsx("div",{className:"_27em"}),i.jsx("div",{className:"_27en"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("TahoeSidePanePlaceholder.react",["cx","Layout.react","TahoeUpNextUnitPlaceholder.react","TahoeV2Config","react"],function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return c("TahoeV2Config").showTahoe2UI?i.jsx("div",{className:"_wxj _6j4x",children:i.jsxs("div",{className:"_6j4y",children:[i.jsx("div",{className:"_6j4z _6j4-"}),i.jsx("div",{className:"_6j4z _6j4_"}),i.jsx("div",{className:"_6j4z _6j50"}),i.jsx("div",{className:"_6j4z _6j54"}),i.jsx("div",{className:"_6j55",children:i.jsxs(c("Layout.react"),{children:[i.jsx(c("Layout.react").Column,{className:"_3-90",children:i.jsx("div",{className:"_6j56"})}),i.jsx(c("Layout.react").FillColumn,{children:i.jsx("div",{className:"_6j57"})})]})})]})}):i.jsxs("div",{className:"_wxj _1-z7",children:[i.jsx("div",{className:"_1kna"}),i.jsx("div",{className:"_1knc"}),i.jsx("div",{className:"_1knd"}),i.jsx("div",{className:"_1kne"}),i.jsx("div",{className:"_1knf"}),i.jsx("div",{className:"_1kng"}),i.jsx(c("TahoeUpNextUnitPlaceholder.react"),{})]})};return b}(i.Component);g["default"]=a},98);
__d("TahoeUpNextViewportTracking",["csx","StreamViewportTracking"],function(a,b,c,d,e,f,g,h){"use strict";var i="tahoe_up_next_videos",j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getTimetrackingDataToLog=function(a){a=b.prototype.getTimetrackingDataToLog.call(this,a);a.ft.tracking_source=i;return a};return a}(c("StreamViewportTracking"));function a(a,b,d){b=new j(c("StreamViewportTracking").getBehavior(a,b,"._bne",d));b.init(a);return b}g.setup=a},98);
__d("XVideoHomeFeedController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/watch/",{extid:{type:"String"},mibextid:{type:"String"},comment_id:{type:"FBID"},cursor:{type:"String"},ref:{type:"String"},t:{type:"Int"},v:{type:"String"},external_log_id:{type:"String"},q:{type:"String"},__ft__:{type:"String"},page_id:{type:"FBID"},is_arltw:{type:"Bool",defaultValue:!1},comments_modal:{type:"Bool",defaultValue:!1}})},null);
__d("TahoeWatchLogo.react",["fbt","Image.react","Link.react","TetraText.react","URI","VideoHomeTypedLoggerLite","XVideoHomeFeedController","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.paddingBottom,d=a.paddingTop;a=a.clickable;a=a===void 0?!1:a;var e=i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fcysig3v juxnsli8 alzwoclg",children:i.jsx(c("Image.react"),{src:"/images/litestand/bookmarks/sidebar/icons/mobile/icon-watch-tv.png"})}),i.jsx(c("TetraText.react"),{type:"headlineEmphasized2",children:h._("Watch")})]}),f=j(function(){c("VideoHomeTypedLoggerLite").log({event:"click",click_target:"tahoe_watch_logo"}),c("URI").go(c("XVideoHomeFeedController").getURIBuilder().getURI(),!0)},[]);return a?i.jsx(c("Link.react"),{className:"a6fdb1jh d1pn00lf evpwb5b3 dwcz42gf igjjae4c rq8durfe alzwoclg i85zmo3j l3ldwz01",style:{paddingBottom:b,paddingTop:d},onClick:f,children:e}):i.jsx("div",{className:"a6fdb1jh d1pn00lf evpwb5b3 dwcz42gf igjjae4c rq8durfe alzwoclg i85zmo3j",style:{paddingBottom:b,paddingTop:d},children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("TahoeUpNextWatchEntryPoint.react",["cx","fbt","TahoeWatchLogo.react","TetraButton.react","VideoHomeTypedLoggerLite","XVideoHomeFeedController","react","useFullViewImpression"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){a.sidepaneElement;a=k(function(a){a.currentTime,c("VideoHomeTypedLoggerLite").log({event:"tahoe_up_next_video_watch_entry_point_impression"})},[]);a=c("useFullViewImpression")({onFullViewStart:a});var b=k(function(){c("VideoHomeTypedLoggerLite").log({event:"click",click_target:"tahoe_up_next_video_watch_entry_point"})},[]);return j.jsxs("div",{className:"_8c-h",ref:a,children:[j.jsx("div",{className:"_8c-i",children:i._("M\u00e1s v\u00eddeos en Watch")}),j.jsx(c("TahoeWatchLogo.react"),{paddingBottom:6,paddingTop:6}),j.jsx(c("TetraButton.react"),{label:i._("Ir a Watch"),onPress:b,linkProps:{url:c("XVideoHomeFeedController").getURIBuilder().getURI().toString()},size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoInfoBottomPaneShimmer.react",["cx","ImageBlock.react","InlineBlock.react","LeftRight.react","joinClasses","react"],function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsxs("div",{className:"_2ve3 _2ve4",children:[i.jsxs("div",{children:[i.jsxs(c("LeftRight.react"),{children:[i.jsx(j,{width:320}),i.jsxs("span",{children:[i.jsx(l,{}),i.jsx(l,{}),i.jsx(l,{})]})]}),i.jsx(j,{width:222}),i.jsx("div",{className:"_2vev",children:i.jsxs(c("ImageBlock.react"),{children:[i.jsx("span",{className:"_2vew"}),i.jsx(c("InlineBlock.react"),{alignv:"middle",height:36,fullWidth:!0,children:i.jsx(m,{width:90,height:16})})]})})]}),i.jsxs("div",{className:"_2vex",children:[i.jsx(k,{width:132}),i.jsx(k,{width:780}),i.jsx(k,{width:460})]})]})};return b}(i.Component);var j=function(a){return i.jsx(m,{width:a.width,height:16,className:"_2vey"})},k=function(a){return i.jsx(m,{className:"_2vez",height:8,width:a.width})},l=function(){return i.jsx(m,{width:60,height:16,display:"inline-block",className:"_2ve-"})},m=function(a){var b=c("joinClasses")(a.className,"_2ve_");return i.jsx("div",{className:b,style:{width:a.width,height:a.height,display:a.display}})};m.defaultProps={display:"block"};g["default"]=a},98);
__d("VodPncSeeAllReactionsClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744489");c=b("FalcoLoggerInternal").create("vod_pnc_see_all_reactions_click",a);e.exports=c},null);
__d("XTahoeAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/{id}/",{privacy_mutation_token:{type:"String"},id:{type:"FBID",required:!0},externallogid:{type:"String"},sponsoreddata:{type:"String"},originalmediaid:{type:"String"},preload:{type:"Bool",defaultValue:!1},playerorigin:{type:"Enum",enumType:1},playersuborigin:{type:"String"},videolistid:{type:"String"},reactionvideochanneltype:{type:"Enum",enumType:1},reactionvideochannelsubtype:{type:"String"},upstreamplayersource:{type:"Enum",enumType:1},ispermalink:{type:"Bool",defaultValue:!1},feedtracking:{type:"StringVector",defaultValue:[]},storyidentifier:{type:"String"},numcopyrightmatchedvideoplayedconsecutively:{type:"Int"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"},payloadtype:{type:"Enum",enumType:1},tahoeviewhasrendered:{type:"Bool",defaultValue:!1}})},null);
__d("XTahoeUpNextAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/upnext/async/{media_id}/",{channel_id:{type:"String"},media_id:{type:"FBID",required:!0},viewed_videos:{type:"FBIDSet"},caller:{type:"Enum",enumType:1},chainingindex:{type:"Int"},cursor:{type:"String"},search_keywords:{type:"String"},ispermalink:{type:"Bool",defaultValue:!1}})},null);
__d("upNextVideoStateActionTypes",[],function(a,b,c,d,e,f){"use strict";a="APPEND_TO_BUFFER";b="REMOVE_BUFFER_HEADS";c="RETRIEVE_FROM_BUFFER";d="SET_CHAINING_CURSOR";f.APPEND_TO_BUFFER=a;f.REMOVE_BUFFER_HEADS=b;f.RETRIEVE_FROM_BUFFER=c;f.SET_CHAINING_CURSOR=d},66);
__d("upNextVideoStateReducer",["TahoeConstants","upNextVideoStateActionTypes"],function(a,b,c,d,e,f,g){"use strict";var h={upNextVideoBuffer:[],retrievedUnits:[],chainingCursor:null},i=20;function a(a,b){a===void 0&&(a=h);switch(b.type){case d("upNextVideoStateActionTypes").APPEND_TO_BUFFER:var c=b.payload;if(Array.isArray(c))return{upNextVideoBuffer:a.upNextVideoBuffer.concat(c),retrievedUnits:a.retrievedUnits,chainingCursor:a.chainingCursor};else return a;case d("upNextVideoStateActionTypes").REMOVE_BUFFER_HEADS:c=b.payload;if(typeof c==="string"){c=d("TahoeConstants").UP_NEXT_UNIT_ID_PREFIX+c;while(a.upNextVideoBuffer.length>0&&a.upNextVideoBuffer[0].id!==c)a.upNextVideoBuffer.shift();a.upNextVideoBuffer.length>0&&a.upNextVideoBuffer.shift();return{upNextVideoBuffer:a.upNextVideoBuffer,retrievedUnits:a.retrievedUnits,chainingCursor:a.chainingCursor}}else return a;case d("upNextVideoStateActionTypes").RETRIEVE_FROM_BUFFER:c=b.payload;if(typeof c==="number"){var e=Math.min(i,a.upNextVideoBuffer.length);c=a.upNextVideoBuffer.slice(c,e);return{upNextVideoBuffer:a.upNextVideoBuffer,retrievedUnits:c,chainingCursor:a.chainingCursor}}else return a;case d("upNextVideoStateActionTypes").SET_CHAINING_CURSOR:if(typeof b.payload==="string")return{upNextVideoBuffer:a.upNextVideoBuffer,retrievedUnits:a.retrievedUnits,chainingCursor:b.payload};else return a;default:return a}}g["default"]=a},98);
__d("upNextVideoStateStore",["redux","upNextVideoStateReducer"],function(a,b,c,d,e,f,g){"use strict";a=d("redux").createStore(c("upNextVideoStateReducer"));b=a;g["default"]=b},98);
__d("TahoeVideoView",["csx","cx","ActorURI","Arbiter","AsyncRequest","Bootloader","CSS","DOM","DOMQuery","Event","HTML","Keys","LiveVideoInteractiveAlertSidePaneView.react","ReactDOM","ReactRenderer","Run","StreamingReactionsTrayEvents","SubscriptionsHandler","TabBar","Tahoe","TahoeConstants","TahoeCopyrightMessage.react","TahoeMainPlayerViewportTracking","TahoeSidePanePlaceholder.react","TahoeUpNextViewportTracking","TahoeUpNextWatchEntryPoint.react","TahoeV2Config","TahoeVideoStore","TimeSlice","UFISharedDispatcher","URI","VideoInfoBottomPaneShimmer.react","VideoPermalinkURI","VodPncSeeAllReactionsClickFalcoEvent","XTahoeAsyncController","XTahoeUpNextAsyncController","ge","gkx","react","upNextVideoStateStore","uuid"],function(a,b,c,d,e,f,g,h,i){var j=d("react"),k=4,l=c("TahoeV2Config").maximizeEndScreenVideoCount?16:9,m=/^[1-9]\d*$/,n=15,o="tahoe-preloaded-video",p=7,q="video-up-next-",r=4,s=97,t=7;a=function(){function a(a,b,e,f){var g=this;this.$7=null;this.$19=!1;this.$39=function(){g.$44()};this.$37=function(){d("CSS").hide(g.$18),g.$6.setFullWidth(!0),g.$44()};this.$38=function(){d("CSS").show(g.$18),g.$6.setFullWidth(!1),g.$25&&g.$25.setup()};this.$74=function(){g.$10!=null&&d("CSS").hide(g.$10)};this.$6=a;this.$8=!1;this.$14=this.$6.getID();this.$31=b;this.$32=e;this.$30=this.$6.getVideoListID();this.$33=new Set([this.$14]);this.$3=c("uuid")();this.$27=!1;this.$28=[];this.$26=null;this.$6.addEvent(c("Event").listen(document,"keydown",this.$35.bind(this)));this.$22=d("CSS").setClass(c("DOM").create("div"),"_1e8c _2b-0");this.$18=d("CSS").setClass(c("DOM").create("div"),"_5-lm _3aw0 _6j1g _6j1h");this.$5=d("CSS").setClass(c("DOM").create("div"),"_17am");this.$11=d("CSS").setClass(c("DOM").create("div"),"_76-1");this.$15=d("CSS").setClass(c("DOM").create("div"),"hidden_elem");this.$16=d("TahoeConstants").DEFAULT_BROWSER_TITLE;this.$20=c("DOM").create("div");d("ReactDOM").render(j.jsx(c("TahoeSidePanePlaceholder.react"),{}),this.$18);c("gkx")("732464")&&d("ReactDOM").render(j.jsx(c("LiveVideoInteractiveAlertSidePaneView.react"),{videoID:a.getID()}),this.$11);c("TahoeV2Config").showTahoe2UI&&(this.$23=d("CSS").setClass(c("DOM").create("div"),"_437j"),d("CSS").hide(this.$22),c("DOM").appendContent(this.$6.getContent(),this.$23),d("ReactDOM").render([j.jsx(c("VideoInfoBottomPaneShimmer.react"),{},"shimmer"),j.jsx("div",{className:"_3l-q"},"inner")],this.$23));this.$22&&c("DOM").appendContent(this.$6.getContent(),this.$22);c("DOM").appendContent(this.$6.getSideContent(),this.$18);c("DOM").appendContent(this.$18,this.$5);c("DOM").appendContent(this.$18,this.$11);c("DOM").appendContent(this.$6.getContent(),this.$15);c("DOM").appendContent(this.$6.getContent(),this.$20);b=this.$6.getChannelID();e=this.$6.getCaller();this.$6.getMediaController()?(this.$36(this.$6.getID(),!1,b,e,null,f),this.setUpEndScreen(),this.setUpUFI(),this.setCopyrightMessage()):this.updateView(this.$6.getID(),b,e,null,f,!0);this.$1=new(c("SubscriptionsHandler"))();this.$1.addSubscriptions(c("Arbiter").subscribe("UFIAddComment/focus",function(a,b){a=c("TahoeVideoStore").getState().toObject();a=a.ufiInstanceID;a===b.instanceid&&g.selectCommentTab()}),c("Arbiter").subscribe("quiet-mode-on",this.$37),c("Arbiter").subscribe("quiet-mode-off",this.$38),c("Arbiter").subscribe("watch-and-scroll-on",this.$39),c("Arbiter").subscribe("quick-comments-visible-changed",function(a,b){return g.$40(b)}));c("UFISharedDispatcher").register(function(a){a.type==="story_show_comments"&&g.selectCommentTab()});this.$41();d("Run").onCleanupOrLeave(this.$6.getContent(),this.$42);d("Run").onUnload(this.$42)}var b=a.prototype;b.$42=function(){window.history.replaceState(window.history.state,"",new(c("URI"))(location.href).addQueryData({redirect:!1}).toString())};b.$41=function(){window.history.replaceState(window.history.state,"",new(c("URI"))(location.href).removeQueryData(["redirect"]).toString())};b.$40=function(a){var b=this.$43();if(b==null)return;a?d("CSS").addClass(b,"_4j8y"):d("CSS").removeClass(b,"_4j8y")};b.setUpUFI=function(){var a=this,b=this.$6.getMediaController();this.$45();b&&(this.$6.addEvent(b.addListener("commercialBreak/hideUFI",function(){return a.$46(!0)})),this.$6.addEvent(b.addListener("commercialBreak/showUFI",function(){return a.$46(!1)})))};b.$46=function(a){c("gkx")("678266")||d("CSS").conditionClass(this.$5,"_17an",a),this.$22&&d("CSS").conditionClass(this.$22,"_3qt9",a)};b.setCopyrightMessage=function(){if(this.$7)return;var a=this.$6.getMediaController();a=a;if(!a)return;var b=c("DOM").create("div",{className:"_6ukq"});this.$7=b;c("DOM").appendContent(this.$6.getMediaContent(),b);d("ReactDOM").render(j.jsx(c("TahoeCopyrightMessage.react"),{videoController:a}),b)};b.$47=function(){this.$7&&(d("ReactDOM").unmountComponentAtNode(this.$7),this.$7=null)};b.setUpEndScreen=function(){var a=this;this.$19=!1;var b=this.$6.getMediaController();this.$6.addEvent(b.addListener("stateChange",this.$48.bind(this)));if(b.isLiveVideo())return;this.$6.addEvent(b.addListener("toggleFullscreen",this.$48.bind(this)));var c=b;if(!c)return;c.addListener("updateStatus",function(b){var d=c.getPlaybackDuration();b=d-b.position;if(b>k){a.$26&&a.$49();return}b=c.getState();if(a.$26||b==="paused")return;a.$50(!1,!0,d>n,p)})};b.$50=function(a,b,e,f){var g=this;if(this.$26)return;var h=this.$6.getMediaController(),i=h;if(!i)return;var j=c("DOM").create("div",{className:"_4n-p"});h=c("upNextVideoStateStore").getState().upNextVideoBuffer;var k=this.$51(h);c("Bootloader").loadModules(["TahoeUpNextOverlayAndEndScreen.react"],function(h){d("ReactRenderer").constructAndRenderComponent(h,{currentVideoID:g.$6.getID(),videoIDs:c("TahoeV2Config").showMoreUpNext?k:g.$28.slice(0,l),shouldShowUpNextOverlay:e&&!g.$19,countdownTimeoutSec:f,vpc:i,logEvent:function(a){g.$6.logEvent(a)},tahoeController:g.$6,hasCustomBackgroundForUpNextOverlay:a,isCurrentVideoReplayable:b,viewportTrackingConfig:g.$34},j,function(){g.$19=!0})},"TahoeVideoView");h=i.getRootNode();h=h&&h.firstChild;h&&(h.appendChild(j),this.$26=j,this.$44())};b.$48=function(){var a=this.$6.getMediaController();a=a;!a.isLiveVideo()?this.$22&&d("CSS").conditionClass(this.$22,"_65dt",a.isState("finished")):a.isState("finished")&&!a.isGaming()&&this.$50(!0,!1,!0,p)};b.$49=function(){var a=this.$26;a&&(d("ReactDOM").unmountComponentAtNode(a),c("DOM").remove(a),this.$26=null)};b.$52=function(){d("CSS").addClass(this.$6.getContent(),"_29du"),d("CSS").addClass(this.$18,"_4f4w"),this.$23&&d("CSS").addClass(this.$23,"_1udj"),this.$22&&c("DOM").empty(this.$22)};b.$53=function(){var a=this;d("CSS").removeClass(this.$6.getContent(),"_29du");d("CSS").removeClass(this.$18,"_4f4w");this.$23&&d("CSS").removeClass(this.$23,"_1udj");var b=d("DOMQuery").find(this.$18,"._3dj6"),e=this.$34;e&&(this.$29=d("TahoeUpNextViewportTracking").setup(e,b,s),this.$24=d("TahoeUpNextViewportTracking").setup(e,b,r));if(this.$27){b=d("CSS").removeClass(b,"_3dj6");e=c("DOM").find(this.$15,"._3dj7");c("DOM").setContent(b,e);var f=d("DOMQuery").scry(this.$18,"._8fyn");if(f.length>0&&this.$28.length>=t){f=c("DOM").create("div",{className:"_8fym"});d("ReactDOM").render(j.jsx(c("TahoeUpNextWatchEntryPoint.react"),{sidepaneElement:this.$43()}),f);c("DOM").appendContent(b,f)}this.$27=!1;e.childNodes&&e.childNodes[0]&&this.$54(e.childNodes[0],function(){c("TimeSlice").guard(a.$55.bind(a),"Tahoe preload next video",{propagationType:c("TimeSlice").PropagationType.ORPHAN})()},function(){return a.selectCommentTab()})}c("TahoeV2Config").showTahoe2UI&&this.$6.resizeMedia()};b.$35=function(a){a.keyCode===c("Keys").ESC&&!a.cancelBubble&&!a.defaultPrevented&&!this.$6.getIsPermalink()&&(this.$6.logEvent("exit_with_esc"),this.$6.onExit())};b.$56=function(a,b){c("TahoeV2Config").showTahoe2UI&&(a&&this.$57(),b&&this.$58())};b.$59=function(b,e,f,g){if(!c("TahoeV2Config").showMoreUpNext){b=this.$60(b,f,g);b&&b.send()}f=d("DOMQuery").scry(this.$6.getContent(),"._1c_u");f[0]&&c("DOM").replace(f[0],d("DOMQuery").scry(e,"._5-yb")[0]);g=d("DOMQuery").scry(e,"._1w6j");b=d("DOMQuery").scry(e,"._3l-q");this.$56(g[0],b[0]);this.$22&&g[0]&&c("DOM").setContent(this.$22,g[0]);this.$23&&b[0]&&c("DOM").setContent(this.$23,b[0]);f=this.$43();f?c("DOM").replace(f,d("DOMQuery").find(e,"._1rgu")):c("DOM").appendContent(this.$18,d("DOMQuery").find(e,"._1rgu"));document.title=this.$16;a.registerPendingController(this.$17);this.$53();g=c("Tahoe").get();g&&g.emit("insertPreloadedElements")};b.$36=function(a,b,d,e,f,g,h){g===void 0&&(g=null);h===void 0&&(h=!1);this.$2=null;f=this.$61(a,b,f,h);g&&(g.commentID!=="0"&&f.setInt("comment_id",g.commentID),g.replyCommentID!=="0"&&f.setInt("reply_comment_id",g.replyCommentID));h=this.$6.getStoryIdentifier();h&&f.setString("storyidentifier",h);b&&this.$62(this.$63(f.setEnum("payloadtype","primary")));this.$64(this.$63(f.setEnum("payloadtype","secondary")),b);if(!c("TahoeV2Config").showMoreUpNext){g=this.$60(a,d,e);g&&g.send()}this.$52()};b.$65=function(a){a.disablePreload&&(this.$9=!0);a.viewportTrackingConfig&&(this.$34=a.viewportTrackingConfig);this.$8=!!a.hasNearlyCompleteLicensedMusicTag;document.title=a.videoTitle||d("TahoeConstants").DEFAULT_BROWSER_TITLE;a=this.$6.getContent();var b=this.$34;if(a&&b){var c=d("DOMQuery").scry(a,"._5-yb")[0];c&&(this.$13=d("TahoeMainPlayerViewportTracking").setup(b,a,s))}this.$53()};b.$66=function(a,b,e){e===void 0&&(e=null);if(!a)return;var f=d("DOMQuery").scry(this.$6.getContent(),"._1c_u");f[0]&&(c("DOM").replace(f[0],a),this.$67(this.$6.getContent(),e));this.$6.setAutoplayAllowed(b)};b.$68=function(a,b,d,e){if(e){d&&c("DOM").setContent(this.$22,d);if(a){e=this.$43();e?c("DOM").replace(e,a):c("DOM").appendContent(this.$18,a)}}else d&&c("DOM").appendContent(this.$22,d),a&&c("DOM").appendContent(this.$18,a);b&&c("DOM").replace(this.$23.lastChild,b)};b.$43=function(){return d("DOMQuery").scry(this.$18,"._1rgu")[0]};b.$61=function(a,b,d,e){e===void 0&&(e=!1);var f=[JSON.stringify(this.$6.getFeedTracking())];e=e||!b?f:this.$69(a);return c("XTahoeAsyncController").getURIBuilder().setFBID("id",a).setString("originalmediaid",this.$14).setEnum("playerorigin",this.$31).setString("playersuborigin",this.$32).setString("videolistid",this.$30).setString("sponsoreddata",d).setString("externallogid",this.$6.getExternalLogID()).setEnum("reactionvideochanneltype",this.$6.getReactionVideoChannelType()).setString("reactionvideochannelsubtype",this.$6.getReactionVideoChannelSubtype()).setEnum("upstreamplayersource",this.$6.getUpstreamPlayerSource()).setBool("ispermalink",this.$6.getIsPermalink()).setStringVector("feedtracking",e).setInt("numcopyrightmatchedvideoplayedconsecutively",this.$6.getNumCopyrightMatchedVideosPlayedConsecutively())};b.$63=function(a){var b=this.$6.getUserID();if(b)return d("ActorURI").create(a.getURI(),b);else return a.getURI()};b.$57=function(){d("CSS").show(this.$22),d("CSS").hide(this.$23),d("CSS").removeClass(this.$6.getContent(),"_-pb")};b.$58=function(){d("CSS").show(this.$23),d("CSS").hide(this.$22),d("CSS").addClass(this.$6.getContent(),"_-pb")};b.$54=function(a,b,c){a=d("DOMQuery").scry(a,"a")[0];a?(this.$2=a.getAttribute("href"),b&&b()):c&&c()};b.setUpNextChainingInfoFromReactElement=function(a){var b=this;this.$54(a,function(){c("TimeSlice").guard(b.$55.bind(b),"Tahoe preload next video",{propagationType:c("TimeSlice").PropagationType.ORPHAN})()},function(){return b.selectCommentTab()})};b.$60=function(a,b,e){var f=this,g=c("ge")(q+a);if(g){var h=g.parentNode,i=Array.from(h.children);i.some(function(b){if(b.id!==q+a){c("DOM").remove(b);return!1}else return!0});c("DOM").remove(h.firstChild);c("DOM").appendContent(this.$15,h);if(h.children.length>=10){this.$70(Array.from(h.children));this.$27=!0;return null}}else!g&&a!==this.$14&&(this.$6.resetChannelData(),this.$4=null,b=null,e=null);i=c("XTahoeUpNextAsyncController").getURIBuilder().setFBID("media_id",a).setFBIDSet("viewed_videos",Array.from(this.$33)).setString("channel_id",b).setEnum("caller",e).setString("cursor",this.$4).setString("search_keywords",this.$6.getSearchKeywordsForVideoChaining()).setBool("ispermalink",this.$6.getIsPermalink());h=new(c("AsyncRequest"))(i.getURI()).setHandler(function(a){a=a.getPayload();f.$4=a.chainingCursor;a.viewportTrackingConfig&&(f.$34=a.viewportTrackingConfig);a=c("HTML").replaceJSONWrapper(a.upNextUnit.markup);f.$27=!0;var b=d("DOMQuery").scry(f.$18,"._3dj6"),e=d("DOMQuery").scry(f.$15,"._3dj7");if(e[0]){c("DOM").appendContent(f.$15,a);e=d("DOMQuery").scry(f.$15,"._3dj7");var g=Array.from(e[1].children);g.forEach(function(a){c("DOM").appendContent(e[0],a)});c("DOM").remove(e[1]);a=e[0];var h={};Array.from(a.children).forEach(function(a){h[a.id]?c("DOM").remove(a):h[a.id]=!0});c("DOM").remove(e[0])}g=null;if(b[0]){b=d("CSS").removeClass(b[0],"_3dj6");c("DOM").setContent(b,a);var i=d("DOMQuery").scry(f.$18,"._8fyn"),k=d("DOMQuery").scry(f.$18,"._bne");if(i.length>0&&k.length>t){i=c("DOM").create("div",{className:"_8fym"});d("ReactDOM").render(j.jsx(c("TahoeUpNextWatchEntryPoint.react"),{sidepaneElement:f.$43()}),i);c("DOM").appendContent(b,i)}f.$27=!1;g=b}else c("DOM").appendContent(f.$15,a),g=f.$15;e=d("DOMQuery").scry(g,"._3dj7");e[0]&&f.$70(Array.from(e[0].children));k=d("DOMQuery").scry(f.$18,"._bne");k.childNodes&&k.childNodes[0]&&f.$54(k.childNodes[0],function(){c("TimeSlice").guard(f.$55.bind(f),"Tahoe preload next video",{propagationType:c("TimeSlice").PropagationType.ORPHAN})()},function(){return f.selectCommentTab()})});return h};b.$62=function(a){var b=this;new(c("AsyncRequest"))(a).setHandler(function(a){a=a.getPayload();var d=a.video,e=a.autoplayAllowed;a=a.trackingData;b.$66(c("HTML").replaceJSONWrapper(d&&d.markup),e,a)}).send()};b.$64=function(a,b){var d=this;new(c("AsyncRequest"))(a).setHandler(function(a){a=a.getPayload();var e=a.ufiTray,f=a.infoBottomPane,g=a.sidePane;d.$56(e,f);d.$68(c("HTML").replaceJSONWrapper(g&&g.markup),c("HTML").replaceJSONWrapper(f&&f.markup),c("HTML").replaceJSONWrapper(e&&e.markup),b);d.$65(a)}).send()};b.$51=function(a){var b=this;return a.map(function(a){return a.id&&a.id.substring(q.length)}).filter(function(a){return b.$71(a)})};b.$71=function(a){return!a?!1:m.test(a)};b.$44=function(){this.$25&&this.$25.cleanup()};b.$45=function(){var a=this.$6.getMediaController();if(a==null||!a.isLiveVideo())return;a=d("DOMQuery").scry(this.$6.getContent(),"._170l");if(!a.length)return;this.$12&&c("DOM").remove(this.$12);if(!this.$28||this.$28.length===0)return;return};b.$70=function(a){this.$28=this.$51(a),this.$45()};b.getCurrentVideoHasCopyrightMusicMatch=function(){return this.$8};b.setUpNextVideoIDs=function(a){this.$28=this.$51(a)};b.getUpNextVideoIDs=function(){return this.$28};b.$55=function(){var a=this;if(this.$9)return;var b=new(c("URI"))(this.$2),e=d("VideoPermalinkURI").parse(b);if(e===null)return;var f=e.video_id;if(!f)return;e=b.getQueryData().sp;b=this.$61(f,!0,e).setEnum("payloadtype","all").setBool("preload",!0);e=new(c("AsyncRequest"))(b.getURI()).setHandler(function(b){b=b.getPayload();var e=c("DOM").create("div",{id:"preload-"+f,"class":o});c("DOM").appendContent(e,c("HTML").replaceJSONWrapper(b.video.markup));b.ufiTray&&c("DOM").appendContent(e,c("HTML").replaceJSONWrapper(b.ufiTray.markup));b.infoBottomPane&&c("DOM").appendContent(e,c("HTML").replaceJSONWrapper(b.infoBottomPane.markup));c("DOM").appendContent(e,c("HTML").replaceJSONWrapper(b.sidePane.markup));c("DOM").appendContent(a.$15,e);a.$67(e,b.trackingData);e=typeof b.autoplayAllowed==="boolean"?b.autoplayAllowed:!0;a.$16=b.videoTitle||d("TahoeConstants").DEFAULT_BROWSER_TITLE;a.$6.setAutoplayAllowed(e);a.$8=!!b.hasNearlyCompleteLicensedMusicTag});e.send()};b.$69=function(a){var b=null;a=c("ge")(q+a);a&&a.getAttribute("data-ft")&&(b=['{"ft":'+a.getAttribute("data-ft")+"}"]);return b};b.selectAddComment=function(){var a=d("DOMQuery").scry(this.$18,".UFIAddCommentInput");a[0]&&a[0].click();this.selectCommentTab()};b.selectCommentTab=function(){var a=this.$43();a&&(d("CSS").addClass(a,"_7r9y"),d("CSS").removeClass(a,"_601i"),d("CSS").removeClass(a,"_6yny"),c("Arbiter").inform("TahoeView/selectCommentTab"))};b.selectUpNextTab=function(){var a=this.$43();a&&(d("CSS").addClass(a,"_601i"),d("CSS").removeClass(a,"_7r9y"),d("CSS").removeClass(a,"_6yny"))};b.selectFriendPresenceTab=function(){var a=this.$43();a&&(d("CSS").addClass(a,"_6yny"),d("CSS").removeClass(a,"_601i"))};b.setCommentOverlayActive=function(a){var b=this.$43();if(!b)return;a?d("CSS").addClass(b,"_2l-1"):d("CSS").removeClass(b,"_2l-1")};b.updateView=function(a,b,c,e,f,g){e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=!1);this.$49();this.$33.add(a);var h=d("DOMQuery").scry(this.$15,"#preload-"+a);h[0]&&this.$17?(this.$59(a,h[0],b,c),this.$72()):(this.$72(),this.$29&&this.$29.cleanup(),this.$24&&this.$24.cleanup(),this.$13&&this.$13.cleanup(),this.$36(a,!0,b,c,e,f,g));this.$46(!1)};b.$72=function(){this.$17=null;var a=d("DOMQuery").scry(this.$15,"."+o);Array.from(a).forEach(function(a){c("DOM").remove(a)})};b.toggleNativeSupportFlyout=function(){var a=d("DOMQuery").scry(this.$18,".UFICommentSupportButton");a.length>0&&(a[0].dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),a[0].dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),a[0].click())};b.loadStickerGallery=function(a){var b=this;c("Bootloader").loadModules(["TahoeStickerGallery"],function(c){c.loadStickerGallery(b.$20,a)},"TahoeVideoView")};b.$73=function(a,b){var e=this;this.$10==null?(this.$10=c("DOM").create("div"),c("DOM").prependContent(this.$18,this.$10),c("Bootloader").loadModules(["TahoeWoodhengeSignupViewRenderer"],function(c){c.render(a,b,e.$10,e.$74)},"TahoeVideoView")):this.$10!=null&&d("CSS").show(this.$10)};b.$67=function(a,b){a=d("DOMQuery").scry(a,"._1c_u");a.length>0&&b!=null&&a[0].setAttribute("data-ft",b)};b.getBottomTrayHeight=function(){return this.isRenderingBottomInfoPane()?this.$23&&this.$23.clientHeight:this.$22.clientHeight};b.isRenderingBottomInfoPane=function(){return!d("CSS").shown(this.$22)};b.getLiveAlertSidePaneOverlayNode=function(){return this.$11};b.onExit=function(){this.$1.release(),this.$44(),this.$49(),this.$47()};a.registerCommentLink=function(a){var b=c("Tahoe").get();b&&b.addEvent(c("Event").listen(a,"click",function(){c("Arbiter").inform(d("StreamingReactionsTrayEvents").EnableReactions),c("Arbiter").inform("quiet-mode-off"),b.getView().selectAddComment()}))};a.registerBecomeSupporterLink=function(b,d){var e=c("Tahoe").get();if(e==null)return;var f=e.getView();if(!(f instanceof a))return;var g=e.getMediaController().getMediaID();e.addEvent(c("Event").listen(b,"click",function(){f.$73(d,g)}))};a.registerPendingController=function(a){var b=c("Tahoe").get();b&&a&&(b.updateMedia(a),b.emit("TahoeController/mediaControllerRegistered"))};a.registerPreloadController=function(a){var b=c("Tahoe").get();b&&(b.getView().$17=a)};a.registerSidepaneTabbar=function(b){var d=c("Tahoe").get();if(d!=null){var e=d.getView();e instanceof a&&b.subscribe(c("TabBar").TAB_CLICK,function(a,b){switch(b){case"up-next":e.selectUpNextTab();break;case"comments":e.selectCommentTab()}})}};a.registerSupportLink=function(b){var d=c("Tahoe").get();if(d==null)return;var e=d.getView();if(!(e instanceof a))return;e.$21=b;d.addEvent(c("Event").listen(b,"click",function(){e.toggleNativeSupportFlyout()}))};a.registerShowCommentsTabLink=function(a){var b=c("Tahoe").get(),d=b&&b.getView();b&&d&&b.addEvent(c("Event").listen(a,"click",function(){return d.selectCommentTab()}))};a.registerShowMainTabLink=function(a){var b=c("Tahoe").get(),d=b&&b.getView();b&&d&&b.addEvent(c("Event").listen(a,"click",function(){return d.selectUpNextTab()}))};a.registerShowFriendPresenceTabLink=function(a,b,d,e,f,g){var h=c("Tahoe").get(),i=h&&h.getView(),j=function(){i&&i.selectFriendPresenceTab(),c("VodPncSeeAllReactionsClickFalcoEvent").log(function(){return{video_id:b,number_of_friends:d,friend_presence_type_first:e,friend_presence_type_second:f,friend_presence_type_third:g}})};h&&i&&h.addEvent(c("Event").listen(a,"click",j))};a.loadView=function(b,c,d,e){return new a(b,c,d,e)};return a}();g["default"]=a},98);
__d("XTahoeReactionsTrayAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/reactions/",{video_id:{type:"FBID",required:!0}})},null);
__d("TahoeController",["cx","Arbiter","AsyncRequest","BlueBar","Bootloader","CSS","Env","EventEmitter","FantaTabActions","LiveVideoStreamingReactionEligibleLocations","PageTransitions","ResizeListener","ScriptPath","Tahoe","TahoeActions","TahoeConstants","TahoeDOM","TahoeDispatcher","TahoeTypedLogger","TahoeV2Config","TahoeVideoResizingController","TahoeVideoStore","TahoeVideoView","URI","VideoAutoplayControllerX","VideoChannelCallerToPlayerOriginMap","VideoPermalinkURI","XTahoeReactionsTrayAsyncController","collectDataAttributes","ge","gkx","prevNextControlActions","prevNextControlStore","requireWeak","shouldWNSRenderToRHC"],function(a,b,c,d,e,f,g,h){"use strict";var i;c("requireWeak")("VideoProgressPreviewBar.react",function(a){i=a});var j;c("requireWeak")("VideoWatchAndScrollController",function(a){j=a});var k=48,l=0;a=1040;var m=a-d("TahoeConstants").SIDE_PANE_WIDTH,n=4,o=560,p=350;e=function(a){babelHelpers.inheritsLoose(e,a);function e(e){var f;f=a.call(this)||this;f.$TahoeController1=!1;f.$TahoeController3=!0;f.$TahoeController20=!1;f.$TahoeController21=!1;f.$TahoeController25="user_initiated";f.$TahoeController31=null;f.$TahoeController37=!1;f.$TahoeController39=0;f.$TahoeController52=function(){f.$TahoeController50()};c("TahoeDispatcher").explicitlyRegisterStores([b("TahoeVideoStore")]);f.$TahoeController12=[];f.$TahoeController20=e.isPermalink;f.$TahoeController23=0;f.$TahoeController36=e.storyIdentifier;f.$TahoeController40=o-d("TahoeConstants").BLUE_BAR_HEIGHT-f.$TahoeController43();f.$TahoeController31=e.userID;f.$TahoeController33=e.origin;f.$TahoeController34=e.suborigin;f.$TahoeController5=e.channelID;f.$TahoeController32=e.videoListID;f.$TahoeController4=e.caller;f.$TahoeController26=e.reactionVideoChannelType;f.$TahoeController27=e.reactionVideoChannelSubtype;f.$TahoeController30=e.upstreamPlayerSource;f.$TahoeController28=e.searchKeywordsForVideoChaining;f.$TahoeController11=e.externalLogID;f.$TahoeController41=e.feedLocation;f.$TahoeController42=!0;f.$TahoeController8=new(c("TahoeDOM"))(babelHelpers.assertThisInitialized(f));f.$TahoeController10=c("URI").getNextURI();f.$TahoeController24=f.$TahoeController44.bind(babelHelpers.assertThisInitialized(f));e.landingPage&&(f.$TahoeController38=new(c("URI"))(e.landingPage));e.landingPageType&&(f.$TahoeController39=e.landingPageType);f.$TahoeController7=f.$TahoeController8.createDialog();if(e.mediaController)f.$TahoeController45(e.mediaController.video),f.$TahoeController14=f.$TahoeController22.getMediaID(),f.$TahoeController46(),f.$TahoeController8.setInitialMediaContent(f.getMediaContent());else{f.$TahoeController47();var g=d("VideoPermalinkURI").parse(e.uri);f.$TahoeController14=(g==null?void 0:g.video_id)||""}f.$TahoeController9=e.entryDocumentTitle;c("PageTransitions").registerHandler(f.$TahoeController24,n);!c("Env").isCQuick&&e.uri!==window.location&&c("PageTransitions").go(e.uri);d("FantaTabActions").minimizeAllTabs();c("Arbiter").inform("chat/option-changed",{name:"hide_buddylist",value:!0});f.$TahoeController13=e.feedTracking;f.$TahoeController35=c("TahoeVideoView").loadView(babelHelpers.assertThisInitialized(f),f.$TahoeController33,f.$TahoeController34,{commentID:e.uri.getQueryData().comment_id,replyCommentID:e.uri.getQueryData().reply_comment_id});return f}var f=e.prototype;f.go=function(a){c("PageTransitions").go(a)};f.onExit=function(a){this.$TahoeController1?this.$TahoeController48():a=="wns"?(this.logEvent("exit_with_wns_control"),c("PageTransitions").go(this.$TahoeController10)):c("PageTransitions").go(this.$TahoeController10)};f.getVideoPlayerOrigin=function(){return this.$TahoeController33};f.getReactionVideoChannelType=function(){return this.$TahoeController26};f.getReactionVideoChannelSubtype=function(){return this.$TahoeController27};f.getUpstreamPlayerSource=function(){return this.$TahoeController30};f.getSearchKeywordsForVideoChaining=function(){return this.$TahoeController28};f.getFeedTracking=function(){return this.$TahoeController13};f.getStoryIdentifier=function(){return this.$TahoeController36};f.getNumCopyrightMatchedVideosPlayedConsecutively=function(){return this.$TahoeController23};f.$TahoeController49=function(){var a=this.$TahoeController38?this.$TahoeController38:this.$TahoeController10;this.$TahoeController8.placeBackAffordance(a,this.$TahoeController20,this.$TahoeController22,this.$TahoeController39)};f.$TahoeController45=function(a){d("TahoeActions").setMediaController(a);this.$TahoeController22=a;a=a;var b=a.isBroadcast();b&&document.body&&d("CSS").addClass(document.body,"_3yn5");this.emit("TahoeController/mediaController",{videoController:a})};f.$TahoeController47=function(){this.$TahoeController49(),this.$TahoeController8.insertPlaceholderMedia(),this.$TahoeController50()};f.$TahoeController46=function(){this.$TahoeController49();var a=this.$TahoeController22,b=a.getRootNode();this.$TahoeController15=this.$TahoeController22;a=a.getSource();this.$TahoeController17=a?a:"inline";b&&(this.$TahoeController18=b.clientWidth);b&&(this.$TahoeController16=b.clientHeight);this.$TahoeController29=!0;b&&this.$TahoeController8.insertMedia(b)};f.setMediaState=function(){this.$TahoeController2=parseFloat(this.getMediaContent().getAttribute("data-original-aspect-ratio"));this.$TahoeController51();var a=this.$TahoeController22;a.updateSource("tahoe");c("VideoAutoplayControllerX").setShouldAutoplay(!1);this.$TahoeController19||a.unmute();this.$TahoeController6!=null&&a.setVolume(this.$TahoeController6);(this.$TahoeController3||this.$TahoeController25==="user_initiated")&&(a.play(this.$TahoeController25),this.$TahoeController19&&a.mute());this.setNumCopyrightMatchedVideosPlayedConsecutively();this.$TahoeController22.emit("TahoeController/enterTahoe");this.$TahoeController22.getRootNode().focus();i&&i.destroyComponentIfAvailable(this.$TahoeController22);this.$TahoeController50();this.$TahoeController12.push(c("ResizeListener").add(this.$TahoeController52))};f.setPlayReason=function(a){this.$TahoeController25=a};f.addEvent=function(a){this.$TahoeController12.push(a)};f.getMediaController=function(){return this.$TahoeController22};f.setNumCopyrightMatchedVideosPlayedConsecutively=function(){this.$TahoeController3&&this.$TahoeController25!=="user_initiated"&&this.$TahoeController35&&this.$TahoeController35.getCurrentVideoHasCopyrightMusicMatch()?this.$TahoeController23++:this.$TahoeController23=0};f.setFullWidth=function(a){this.$TahoeController37=a,this.$TahoeController50()};f.resizeMedia=function(){this.$TahoeController50()};f.$TahoeController51=function(){var a=this.$TahoeController15;if(!a)return;a=c("LiveVideoStreamingReactionEligibleLocations").locations.includes(a.getSource());if(a)return;var b=c("ge")("fbVideoStreamingReactionsTray");if(!b)return;var d=this.$TahoeController22;a=c("XTahoeReactionsTrayAsyncController").getURIBuilder().setFBID("video_id",d.getVideoID());var e=function(a){var e=a.payload;if(!e)return;c("Bootloader").loadModules(["StreamingReactionsTray"],function(a){new a(b,d,"tahoe",e.feedbackID,e.broadcastID,e.profilePicUri,e.actorProfilePics,!0,!0,!0)},"TahoeController")};new(c("AsyncRequest"))().setURI(a.getURI()).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).setHandler(e).send()};f.$TahoeController50=function(){if(this.$TahoeController21)return;var a=this.$TahoeController35;if(c("TahoeV2Config").showTahoe2UI&&!(a instanceof c("TahoeVideoView")&&!a.isRenderingBottomInfoPane())){a=d("TahoeVideoResizingController").getPlayerSize(window.innerWidth,window.innerHeight);var b=a.width;a=a.height;this.$TahoeController8.setMediaSizeForTahoeV2(b,a);this.$TahoeController22&&this.$TahoeController22.setDimensions(b,a)}else{b=this.$TahoeController37?window.innerWidth:window.innerWidth-d("TahoeConstants").SIDE_PANE_WIDTH;b=Math.max(b,m);a=window.innerHeight-this.$TahoeController43();d("BlueBar").hasFixedBlueBar()&&(a-=d("TahoeConstants").BLUE_BAR_HEIGHT);a=Math.max(a,this.$TahoeController40);this.$TahoeController8.setMediaContentSize(b+"px",a+"px");var e=this.$TahoeController22;e&&e.removeOffsetStylings();this.$TahoeController22&&this.$TahoeController22.setDimensions(b,a)}};f.$TahoeController44=function(a){var b;this.$TahoeController42?(b=this.$TahoeController10,this.$TahoeController42=!1):b=c("URI").getRequestURI();if(a.getPath()===this.$TahoeController10.getPath()&&a.getQueryData().ref!=="tahoe"&&!this.getIsPermalink())this.$TahoeController17==="watch_scroll"?(this.$TahoeController1=!0,c("shouldWNSRenderToRHC")()?this.$TahoeController22.emit("crossfadeWatchAndScroll"):this.$TahoeController22.emit("enterWatchAndScroll")):this.$TahoeController48();else if(!this.$TahoeController53(a)){this.$TahoeController48();return!1}else if((this.$TahoeController10.getPath()!=b.getPath()||b.getQueryData().ref==="tahoe")&&b.getPath()!=a.getPath())this.$TahoeController54(a);else if(b.getPath()===a.getPath()){b=this.$TahoeController22;b&&b.isState("fallback")&&this.$TahoeController54(a)}else this.getIsPermalink()&&this.$TahoeController54(a);c("PageTransitions").transitionComplete();return!0};f.$TahoeController53=function(a){return d("VideoPermalinkURI").isValid(a)};f.$TahoeController54=function(a){this.$TahoeController21=!0;var b=this.$TahoeController22;b.pause();this.$TahoeController8.returnFeedElement();var e=d("VideoPermalinkURI").parse(a),f=e.video_id;this.$TahoeController36=e.story_id;e=c("prevNextControlStore").getState().videoIdQueue;e.length!==0&&e[e.length-1]===f?c("prevNextControlStore").dispatch(d("prevNextControlActions").popID()):c("prevNextControlStore").dispatch(d("prevNextControlActions").addID(this.$TahoeController14));e=a.getQueryData().sp;b.emit("tahoeController/displayNewMedia");this.$TahoeController35.updateView(f,this.$TahoeController5,this.$TahoeController4,e)};f.resetChannelData=function(){this.$TahoeController5=null,this.$TahoeController4=null};f.$TahoeController43=function(){if(c("TahoeV2Config").showTahoe2UI)return k;var a=null,b=this.$TahoeController35;b instanceof c("TahoeVideoView")&&(a=b.getBottomTrayHeight());return Math.min(a||l,p)};f.$TahoeController48=function(){this.emit("TahoeController/beforeExit");this.$TahoeController35&&this.$TahoeController35.onExit();c("PageTransitions").removeHandler(this.$TahoeController24,n);this.$TahoeController12.forEach(function(a){return a.remove()});this.$TahoeController12=[];this.$TahoeController8.setMediaContentSize("","");this.$TahoeController8.returnFeedElement();var a=this.$TahoeController15;c("VideoAutoplayControllerX").setShouldAutoplay(!0);this.$TahoeController15&&(this.$TahoeController17==="watch_scroll"&&this.$TahoeController15!==this.$TahoeController22||(a.addOffsetStylings(),a.setDimensions(this.$TahoeController18,this.$TahoeController16),a.updateSource(this.$TahoeController17)),a.pause("autoplay_initiated"),a.mute(),a.getState()!=="finished"&&this.$TahoeController15.emit("resumeAutoplay"),this.$TahoeController15.emit("TahoeController/exitTahoe"));c("Arbiter").inform("TahoeController/exitTahoe");this.$TahoeController22&&this.$TahoeController22.emit("TahoeController/exitTahoe");d("ScriptPath").closeOverlayView("tahoe");if(this.$TahoeController22!==this.$TahoeController15){a=this.$TahoeController22;a.pause("user_initiated")}this.$TahoeController8.cleanup();this.$TahoeController7!=null&&(this.$TahoeController7.destroy(),this.$TahoeController7=null);this.$TahoeController9&&(document.title=this.$TahoeController9);d("TahoeActions").exit();c("Tahoe").set(null);this.$TahoeController20&&c("PageTransitions").go("/")};f.getID=function(){return this.$TahoeController14};f.getDialogContent=function(){return this.$TahoeController8.getDialogContent()};f.getContent=function(){return this.$TahoeController8.getContent()};f.getMediaContent=function(){return this.$TahoeController8.getMediaContent()};f.getSideContent=function(){return this.$TahoeController8.getSideContent()};f.getUserID=function(){return this.$TahoeController31};f.getChannelID=function(){return this.$TahoeController5};f.getVideoListID=function(){return this.$TahoeController32};f.getCaller=function(){return this.$TahoeController4};f.getExternalLogID=function(){return this.$TahoeController11};f.getIsPermalink=function(){return this.$TahoeController20};f.updateMedia=function(a){var b=this.$TahoeController22;b&&typeof b.getVolume==="function"&&typeof b.isMuted==="function"&&(this.$TahoeController6=b.getVolume(),this.$TahoeController19=b.isMuted());this.$TahoeController45(a);this.$TahoeController8.setMediaContent(this.$TahoeController22.getRootNode());this.$TahoeController14=this.$TahoeController22.getMediaID();this.$TahoeController21=!1;this.setMediaState();b=this.$TahoeController35;b.setUpEndScreen();this.$TahoeController35.setUpUFI();this.$TahoeController25="user_initiated"};f.getView=function(){return this.$TahoeController35};f.setAutoplayAllowed=function(a){this.$TahoeController3=a};f.logEvent=function(a){new(c("TahoeTypedLogger"))().setEvent(a).setMediaID(this.$TahoeController14).log()};f.getFeedLocation=function(){return this.$TahoeController41};e.openFromVideoPlayer=function(a,b,f,g,h,i,j,k,l,m,n,o,p,q){if(c("gkx")("1526988")){var r=d("ScriptPath").getScriptPath();if(a.isLiveVideo()&&r==="/groups/profile.php:feed"){c("URI").go(b);return}}d("ScriptPath").openOverlayView("tahoe");r=c("collectDataAttributes")(a.getRootNode(),["ft"]);a=new e({mediaController:{video:a},uri:b,userID:n,channelID:f,caller:g,origin:i,suborigin:j,feedTracking:r,storyIdentifier:k,feedLocation:l,entryDocumentTitle:document.title,reactionVideoChannelType:m,reactionVideoChannelSubtype:q,externalLogID:o,searchKeywordsForVideoChaining:p});c("Tahoe").set(a);switch(h){case"player_click":a.logEvent("enter_with_player_click");break;case"control_click":a.logEvent("enter_with_control_click");break;case"live_video_reply_click":a.logEvent("enter_with_live_video_reply_click");break}};e.openFromVideoLink=function(a,b){b===void 0&&(b={channelID:null,caller:null});b=b;var f=b.channelID,g=b.caller,h=b.origin,i=b.suborigin,k=b.userID,l=b.reactionVideoChannelType,m=b.reactionVideoChannelSubtype,n=b.externalLogID,o=b.searchKeywordsForVideoChaining,p=b.feedLocation,q=b.upstreamPlayerSource,r=b.videoListID;b=b.feedTracking;d("ScriptPath").openOverlayView("tahoe");j&&j.pauseActiveVideo();var s=c("Tahoe").get();if(s){document.title=d("TahoeConstants").DEFAULT_BROWSER_TITLE;c("PageTransitions").go(a);return s}h||(h=g&&g in c("VideoChannelCallerToPlayerOriginMap")?c("VideoChannelCallerToPlayerOriginMap")[g]:"unknown");s=new e({uri:a,channelID:f,caller:g,origin:h,suborigin:i,userID:k,reactionVideoChannelType:l,reactionVideoChannelSubtype:m,externalLogID:n,searchKeywordsForVideoChaining:o,feedLocation:p,entryDocumentTitle:document.title,upstreamPlayerSource:q,videoListID:r,feedTracking:b});c("Tahoe").set(s);return s};e.openFromVideoLinkHelper=function(a,b,d,f,g,h){var i=a.getAttribute("data-channel-caller");i=i;var j=a.getAttribute("data-external-log-id")||void 0;b=a.getAttribute("data-player-origin")||b;e.openFromVideoLink(new(c("URI"))(a.getAttribute("href")).addQueryData("ref","tahoe"),{channelID:a.getAttribute("data-video-channel-id"),caller:i,origin:b,suborigin:d,userID:h,externalLogID:j,searchKeywordsForVideoChaining:a.getAttribute("data-search-keyword"),reactionVideoChannelType:f||void 0,feedLocation:g})};return e}(c("EventEmitter"));g["default"]=e},98);