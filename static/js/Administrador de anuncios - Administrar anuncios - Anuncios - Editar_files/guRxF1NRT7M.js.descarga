if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("AdsUnifiedCreationSetMessagingPreviewDestinationProviderPlugin",["AdCampaignDestination"],function(a,b,c,d,e,f,g){"use strict";a={initialState:{messagingPreviewDestination:c("AdCampaignDestination").MESSENGER}};b=a;g["default"]=b},98);
__d("AdsUnifiedCreationSetMessagingPreviewDestinationProvider",["AdsUnifiedCreationSetMessagingPreviewDestinationProviderPlugin","Laminar"],function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsUnifiedCreationSetMessagingPreviewDestinationProviderPlugin"),"AdsUnifiedCreationSetMessagingPreviewDestinationProviderPlugin")},null);
__d("AdsUnifiedCreationSetMessagingPreviewDestinationReducerPlugin",[],function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{messagingPreviewDestination:b.messagingPreviewDestination}}};b=a;f["default"]=b},66);
__d("AdsUnifiedCreationSetMessagingPreviewDestinationAction",["AdsUnifiedCreationSetMessagingPreviewDestinationProvider","AdsUnifiedCreationSetMessagingPreviewDestinationReducerPlugin","Laminar"],function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsUnifiedCreationSetMessagingPreviewDestinationReducerPlugin"),b("AdsUnifiedCreationSetMessagingPreviewDestinationProvider"),{},"")]},function(){return[]},"UNIFIED_CREATION.SET_MESSAGING_PREVIEW_DESTINATION");e.exports=a},null);
__d("AdsUEditorAdgroupMessengerContentPreviewType",[],function(a,b,c,d,e,f){"use strict";a=Object.freeze({CONVERSATION:"conversation",INBOX:"inbox"});f["default"]=a},66);
__d("DestinationPreviewSidebar.react",["fbt","ix","AdCampaignDestination","AdsMessengerUtils","GeoSidebarItem.react","GeoSidebarNavigation.react","GeoSidebarSection.react","Image.react","react","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("AdsMessengerUtils").getMessengerLabel(),l=h._("WhatsApp"),m=h._("Instagram Direct");function a(a){return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"om3e55n1",children:j.jsx(c("GeoSidebarNavigation.react"),{footer:null,isCollapsed:!0,value:a.selectedMessagingPreviewDestination,onChange:a.onSelectedMessagingPreviewDestinationChange,children:j.jsxs(c("GeoSidebarSection.react"),{isLabelHidden:!0,label:"Destinations",children:[a.showMessengerTab?j.jsx(c("GeoSidebarItem.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:i("505621")}),iconActive:j.jsx(c("Image.react"),{src:i("516658")}),label:k,value:c("AdCampaignDestination").MESSENGER}):null,a.showWhatsAppTab?j.jsx(c("GeoSidebarItem.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:i("497242")}),iconActive:j.jsx(c("Image.react"),{src:i("783295")}),label:l,value:c("AdCampaignDestination").WHATSAPP}):null,a.showInstagramDirectTab?j.jsx(c("GeoSidebarItem.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:i("547776")}),iconActive:j.jsx(c("Image.react"),{src:i("783274")}),label:m,value:c("AdCampaignDestination").INSTAGRAM_DIRECT}):null]})})}),a.disableWAAndIGDTabs&&a.showWhatsAppTab&&j.jsx("div",{className:"s8sjc6am irqyet0w"+(a.showMessengerTab?" ft03quu3":""),children:j.jsx(c("Image.react"),{src:i("489534")})}),a.disableWAAndIGDTabs&&a.showInstagramDirectTab&&j.jsx("div",{className:c("stylex")({"margin-start-1":"irqyet0w","position-1":"s8sjc6am"},a.showMessengerTab?{"margin-top-1":"kfsfp7tv"}:null,!a.showMessengerTab&&a.showWhatsAppTab||a.showMessengerTab&&!a.showWhatsAppTab?{"margin-top-1":"ft03quu3"}:null),children:j.jsx(c("Image.react"),{src:i("489534")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("MessengerBotWelcomePreview.react",["cx","fbt","AdsInterfacesLogger","AdsMessengerVisualEditorLoggerEvents","Image.react","LeftRight.react","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect;function a(a){k(function(){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_RENDER_GET_STARTED_PREVIEW})},[]);var b=a.ctaTitle.toString().toUpperCase();return j.jsxs("div",{className:a.className,children:[j.jsx(c("Image.react"),{className:"_86xz",src:a.coverSrc}),j.jsx("div",{className:"_86x-",children:j.jsxs(c("LeftRight.react"),{children:[j.jsx(c("Image.react"),{className:"_86x_",src:a.profileSrc}),j.jsxs("div",{className:"_86w-",children:[j.jsx("div",{className:"_86w_",children:a.pageName}),j.jsx("div",{className:"_86x0",children:a.responsiveness}),j.jsx("div",{className:"_86x0",children:a.pageType}),j.jsx("div",{className:"_86x1",children:a.likeDesc})]})]})}),j.jsxs("div",{className:"_86x4",children:[j.jsx("div",{className:"_86x2",children:i._("About")}),j.jsx("div",{className:"_86x3",children:a.greeting})]}),j.jsx("div",{className:"_86x5",children:i._("Si tocas \"{cta action}\", {page name} ver\u00e1 tu informaci\u00f3n p\u00fablica.",[i._param("cta action",b),i._param("page name",a.pageName)])}),j.jsx("div",{className:"_86x6",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("PreviewContainerFeedHeader.react",["fbt","AdCampaignDestination","AdsAdBuilderPreviewMetadataUtils","AdsSbsPlatformIcon.react","GeoBaseText.react","GeoFlexbox.react","geoMargin","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={feedHeader:{marginEnd:"tpvapw4o",marginStart:"j0k7ypqs",marginTop:"gmvq99xn",marginBottom:"c0v9jzqx"}};function a(a){a=a.isCTDLeadGen||a.selectedMessagingPreviewDestination===c("AdCampaignDestination").INSTAGRAM_DIRECT?"instagram":"facebook";var b=d("AdsAdBuilderPreviewMetadataUtils").platformKeyToNameMap.get(a);return i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",xstyle:j.feedHeader,children:[i.jsx(c("AdsSbsPlatformIcon.react"),{platform:a}),i.jsxs(c("GeoFlexbox.react"),{direction:"column",xstyle:c("geoMargin").start8,children:[i.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"truncate",size:"valueDescription",weight:"bold",children:b}),i.jsx(c("GeoBaseText.react"),{color:"value",display:"truncate",size:"header4",weight:"bold",children:h._("Secci\u00f3n de noticias")})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("PreviewContainerMessengerPreviewHeader.react",["fbt","ix","AdsAdgroupPreviewsV2NavigationSection.react","AdsMessengerVisualEditorLandingScreenType","AdsPreviewSharingMenu.react","AdsUEditorAdgroupMessengerContentPreviewType","GeoHeading.react","GeoSelector.react","GeoSelectorItem.react","SUIBusinessThemeContainer.react","geoMargin","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=function(a){var b=[{key:"preview",section:"messenger",sortPosition:0,title:h._("Vista previa en Messenger"),icon:i("372643"),onClick:a.onPreviewSend}],d=a.tooltipContent==null||a.tooltipContent===""?h._("Corrige el error antes de obtener una vista previa de tu anuncio."):a.tooltipContent;d=a.landingScreenType===c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED?h._("Actualmente la vista previa no est\u00e1 disponible para la pantalla de bienvenida \"Empezar\"."):d;var e=a.style==null||a.style===""?"ov5gjlzi sl27f92c alzwoclg i85zmo3j jbg88c62 h07fizzr d2w125t7":a.style;return j.jsx(c("SUIBusinessThemeContainer.react"),{children:j.jsxs("div",{className:e,children:[j.jsx(c("GeoHeading.react"),{level:3,xstyle:c("geoMargin").start4,children:h._("Vista previa de Messenger")}),j.jsx(c("AdsPreviewSharingMenu.react"),{disabled:a.disabled,disabledMessage:d,links:b})]})})},l=function(a){if(a.isPreviewSelectorHidden===!0)return j.jsx("div",{});var b=function(){a.onPreviewTypeChange(c("AdsUEditorAdgroupMessengerContentPreviewType").CONVERSATION)},d=function(){a.onPreviewTypeChange(c("AdsUEditorAdgroupMessengerContentPreviewType").INBOX)},e=a.previewType===c("AdsUEditorAdgroupMessengerContentPreviewType").CONVERSATION?0:1;return j.jsx(c("SUIBusinessThemeContainer.react"),{children:j.jsxs("div",{className:"ov5gjlzi sl27f92c alzwoclg i85zmo3j fwlpnqze aesu6q9g",children:[j.jsx("div",{children:j.jsx(m,{isPreviewSelectorHidden:a.isPreviewSelectorHidden,previewType:a.previewType,onPreviewTypeChange:a.onPreviewTypeChange})}),j.jsx(c("AdsAdgroupPreviewsV2NavigationSection.react"),{className:"siu44isn alzwoclg",handleDecrementClick:b,handleIncrementClick:d,index:e,maxIndex:1,minIndex:0,nextLabel:h._("Vista previa siguiente"),previousLabel:h._("Vista previa anterior")})]})})},m=function(a){var b=h._("Conversaci\u00f3n de Messenger"),d=h._("Bandeja de entrada de Messenger");b=[j.jsx(c("GeoSelectorItem.react"),{label:b,value:c("AdsUEditorAdgroupMessengerContentPreviewType").CONVERSATION}),j.jsx(c("GeoSelectorItem.react"),{label:d,value:c("AdsUEditorAdgroupMessengerContentPreviewType").INBOX})];return j.jsx(c("GeoSelector.react"),{"data-testid":void 0,isLabelHidden:!0,label:"Messenger Preview Type",value:a.previewType,onChange:a.onPreviewTypeChange,children:b})};function a(a){return j.jsxs("div",{className:"d2w125t7",children:[j.jsx(k,{disabled:a.disabled,labelText:a.labelText,landingScreenType:a.landingScreenType,style:a.style,tooltipContent:a.tooltipContent,onPreviewSend:a.onPreviewSend}),j.jsx(l,{isPreviewSelectorHidden:a.isPreviewSelectorHidden,previewType:a.previewType,onPreviewTypeChange:a.onPreviewTypeChange})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("AdsUEditorAdgroupMessageDestinationPreviewContainer.react",["cx","fbt","AdCampaignDestination","AdsFluxContainer","AdsHeroPagelet.react","AdsInterfacesLogger","AdsMessagesObjectiveLoggerEvents","AdsMessengerInThreadMultiphotoCarousel","AdsMessengerJSONMediaFormatType","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","AdsPageStore","AdsSelectorUtils","AdsStaticGuidanceCard.react","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorAdgroupMessengerContentPreviewType","AdsUEditorContextType","AdsUEditorMessagesObjectiveUnifiedCreationSelectors","AdsUEditorMessengerContentEditorSelectors","AdsUEditorUnifiedCreationUtils","AdsUnifiedCreationSetMessagingPreviewDestinationAction","AdsUnifiedCreationSetMessagingPreviewDestinationProvider","AdsUtils","AdsWhatsAppUtils","ClickToMessageFeatureGating","ClickToMessageGuidanceCards.react","DestinationPreviewSidebar.react","GeoSpinner.react","MessageDestinationPreviewContainer.react","MessengerAdPreviewThreadList.react","MessengerAdsPartialAutomatedFormDataManager","MessengerBotWelcomePreview.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","PreviewContainerFeedHeader.react","PreviewContainerMessengerPreviewHeader.react","adsMessengerDataModelGetAttachmentText","adsMessengerDataModelGetGenericTitle","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetImageID","adsMessengerDataModelGetImageURL","adsMessengerDataModelGetJSONPayload","adsMessengerDataModelGetLandingScreenType","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetPayload","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelGetSecondText","adsMessengerDataModelGetSurface","adsMessengerDataModelGetTemplateType","adsMessengerDataModelGetWelcomeMessage","adsMessengerDataModelIsTextWithQR","react","setByPath"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k="MessengerJSONPreview";function l(){return j.jsx("div",{className:"_9aye",children:j.jsx(c("GeoSpinner.react"),{})})}l.displayName=l.name+" [from "+f.id+"]";var m=c("AdsUnifiedCreationSetMessagingPreviewDestinationProvider").toFluxStore();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$8=function(){e.setState({showJSONPreview:!1})},e.$9=function(){e.setState({previewBubble:null})},e.$10=function(a){e.setState({previewBubble:j.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{category:"ERROR",messageID:"messenger_preview_error",textData:[{type:"PARAGRAPH",data:{text:a}}]},onCustomizedClose:e.$9}),previewLoading:!1})},e.$4=function(){var a=e.state.pageID.getValueForIndex(0);if(!a)return;var b=e.$1();b===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN||b===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW?d("MessengerAdsPartialAutomatedFormDataManager").sendCTMLeadGenPreview(JSON.stringify(e.state.json),a,function(){e.setState({showPreviewSuccessDialog:!0})},e.$10):d("AdsMessengerVisualEditorUtils").getJSONSend(e.state.json,a,function(){},function(){e.setState({showPreviewSuccessDialog:!0})},function(){})},e.$5=function(a){e.setState({previewType:a})},e.$11=function(a){c("AdsUnifiedCreationSetMessagingPreviewDestinationAction").dispatch({messagingPreviewDestination:a},{line:"522",module:"AdsUEditorAdgroupMessageDestinationPreviewContainer.react.js"});e.setState({selectedMessagingPreviewDestination:a});var b="";switch(a){case c("AdCampaignDestination").MESSENGER:b=c("AdsMessagesObjectiveLoggerEvents").SELECT_MESSENGER_PREVIEW_ICON;break;case c("AdCampaignDestination").WHATSAPP:b=c("AdsMessagesObjectiveLoggerEvents").SELECT_WHATSAPP_PREVIEW_ICON;break;case c("AdCampaignDestination").INSTAGRAM_DIRECT:b=c("AdsMessagesObjectiveLoggerEvents").SELECT_INSTAGRAM_DIRECT_PREVIEW_ICON}c("AdsInterfacesLogger").log({eventName:b})},b)||babelHelpers.assertThisInitialized(e)}b.getStores=function(a,b){a=b.adgroupEditorContext;return[].concat(d("AdsSelectorUtils").getStores([d("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerVisualEditorSelector,d("AdsUEditorMessagesObjectiveUnifiedCreationSelectors").adsUEditorCampaignMessagesUnifiedCreationSelector,d("AdsUEditorAdgroupExistingPostCTACommonSelectors").inThreadMultiphotoCarouselSourceSelector],a),[c("AdsPageStore"),m])};b.calculateState=function(a,b,e){var f;b=e.adgroupEditorContext;e=d("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerVisualEditorSelector(b);var g=c("adsMessengerDataModelGetMediaFormat")(e.json),h=c("adsMessengerDataModelGetQuickReplies")(e.json);h=h&&h.filter(function(a){return!!a});h=h&&h.length?(f={},f.quick_replies=h,f.message_classification="ad_message",f):null;f=e.pageID.getValueForIndex(0);var i=f?c("AdsPageStore").get(f):null,j=null,l=null,n=null,o=null,p=null,q=null,r=null,s=null,t=null;if(i){j=i.name;if(i.is_messenger_bot_get_started_enabled){var u=i.get_started_nullstate;u&&(l=u.responsiveness,o=u.cta_title,p=u.processed_greeting);i.engagement&&(n=i.engagement.social_sentence);i.picture&&i.picture.data&&(q=i.picture.data.url);i.cover&&(s=i.cover.source);r=i.category}u=d("AdsWhatsAppUtils").getPageWhatsAppData(i);t=u.hasWhatsAppNumber?u.whatsAppNumber:null}i=a?a.previewType:c("AdsUEditorAdgroupMessengerContentPreviewType").CONVERSATION;u=c("PagesReplyComposerStore").getByKey(k).getState();c("PagesReplyComposerDispatcher").getByKey(k).explicitlyRegisterStore(c("PagesReplyComposerStore").getByKey(k));c("PagesReplyComposerActions").getActionsByKey(k).initializeStoreWithConfig({composerKey:k,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!0,pageID:f||"",placeholderText:""});a=e.destinationType;f=e.isCTDOnFBFeedEnabled;var v=m.getState().messagingPreviewDestination;a===c("AdCampaignDestination").MESSENGER||d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithMessenger(a)||f&&e.noIGPlacement&&d("ClickToMessageFeatureGating").inCTDOnFBPlacementsGK(e.account)?v=c("AdCampaignDestination").MESSENGER:a===c("AdCampaignDestination").WHATSAPP||d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithWhatsApp(a)?v=c("AdCampaignDestination").WHATSAPP:(a===c("AdCampaignDestination").INSTAGRAM_DIRECT||d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithInstagram(a))&&(v=c("AdCampaignDestination").INSTAGRAM_DIRECT);a=d("AdsUEditorMessagesObjectiveUnifiedCreationSelectors").adsUEditorCampaignMessagesUnifiedCreationSelector(b);var w=null;if(g===c("AdsMessengerJSONMediaFormatType").TEXT){b=d("AdsUEditorAdgroupExistingPostCTACommonSelectors").inThreadMultiphotoCarouselSourceSelector(b);w=b.hasValueWithoutError()?b.getValue():null}return babelHelpers["extends"]({},e,{composerState:u,pageName:j,responsiveness:l,likeDesc:n,ctaTitle:o,greeting:p,mediaType:g,profileSrc:q,pageType:r,coverSrc:s,platformXMD:h,previewBubble:null,previewLoading:!1,previewType:i,selectedMessagingPreviewDestination:v,showJSONPreview:!0,showPreviewSuccessDialog:!1,whatsAppNumber:t,isUnifiedCreationEnabledForMessages:a,inThreadMultiphotoCarouselSource:w,isCTDOnFBFeedEnabled:f,noIGPlacement:e.noIGPlacement})};var e=b.prototype;e.componentDidMount=function(){d("AdsMessengerVisualEditorUtils").isJSONData(this.state.json)&&c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_RENDER_JSON_PREVIEW})};e.render=function(){var a=this.state.isUnifiedCreationEnabledForMessages,b=this.$1(),e=d("AdsMessengerVisualEditorUtils").getWelcomeMessageDataType(this.state.json)==="VISUAL_EDITOR"&&b===c("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE?this.state.previewType===c("AdsUEditorAdgroupMessengerContentPreviewType").INBOX?this.$2():this.$3(a,!1,!1):j.jsx(d("ClickToMessageGuidanceCards.react").PreviewNotice,{landingScreenType:b,onPreviewSend:this.$4}),f=this.state.questionItems;b=this.state.isSponsoredMessage?j.jsxs(j.Fragment,{children:[j.jsx(c("PreviewContainerMessengerPreviewHeader.react"),{account:this.state.account,disabled:!!this.state.errorSpec||b===c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED,landingScreenType:b,previewType:this.state.previewType,onPreviewSend:this.$4,onPreviewTypeChange:this.$5}),this.state.previewLoading&&j.jsx(l,{}),this.state.previewBubble&&j.jsx("div",{className:"_9aya",children:this.state.previewBubble}),this.state.pageName?e:j.jsx(d("ClickToMessageGuidanceCards.react").PageNotice,{})]}):this.$6(this.state.account,a,f);return j.jsx(c("AdsHeroPagelet.react"),{fallback:j.jsx(c("GeoSpinner.react"),{}),name:"AdsUEditorAdgroupMessageDestinationPreviewContainer",children:b})};e.$1=function(){return c("adsMessengerDataModelGetLandingScreenType")(this.state.json)};e.$7=function(a,b){b===void 0&&(b=!1);return d("PagesReplyComposerTextUtilities").processMessage(a||"",this.state.composerState.supportedMacros,b)};e.$2=function(){var a=this.state.pageName||"",b="";switch(this.state.mediaType){case c("AdsMessengerJSONMediaFormatType").TEXT:b=this.$7(c("adsMessengerDataModelGetWelcomeMessage")(this.state.json)||c("adsMessengerDataModelGetAttachmentText")(this.state.json))||"";break;case c("AdsMessengerJSONMediaFormatType").IMAGE:b=c("adsMessengerDataModelGetGenericTitle")(this.state.json)||"";break;case c("AdsMessengerJSONMediaFormatType").VIDEO:b=i._("{sender name} ha enviado un v\u00eddeo.",[i._param("sender name",a)])}return j.jsx("div",{className:"_9ayn",children:j.jsx(c("MessengerAdPreviewThreadList.react"),{className:"_5z1b",message:b,pageID:this.state.pageID.getValueForIndex(0),pageName:a})})};e.$6=function(a,b,e){var f=this,g=this.$1(),h=g===c("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE,i=g===c("AdsMessengerVisualEditorLandingScreenType").MARKETING_MESSAGES,k=g===c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED,m=(g===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW||g===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN)&&e!=null,n=this.state.destinationType===c("AdCampaignDestination").LEAD_FROM_IG_DIRECT,o=d("AdsMessengerVisualEditorUtils").isJSONData(this.state.json),p=d("AdsMessengerVisualEditorUtils").isVisualEditorData(this.state.json),q=m&&!n||o;a=this.state.destinationType===c("AdCampaignDestination").MESSENGER||d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithMessenger(this.state.destinationType)||this.state.isCTDOnFBFeedEnabled&&d("ClickToMessageFeatureGating").inCTDOnFBPlacementsGK(a);var r=this.state.destinationType===c("AdCampaignDestination").WHATSAPP||d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithWhatsApp(this.state.destinationType),s=this.state.destinationType===c("AdCampaignDestination").INSTAGRAM_DIRECT&&!this.state.noIGPlacement||n||d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithInstagram(this.state.destinationType);return j.jsxs("div",{className:"_9ayh",children:[j.jsxs("div",{className:(this.props.isDialog?"_9ayi":"")+(this.props.isDialog?"":" _9ss4"),children:[(b||n)&&j.jsx(c("PreviewContainerFeedHeader.react"),{isCTDLeadGen:n,selectedMessagingPreviewDestination:this.state.selectedMessagingPreviewDestination}),!m&&this.state.previewLoading&&j.jsx(l,{}),!m&&this.state.previewBubble&&j.jsx("div",{className:"_9aya",children:this.state.previewBubble}),(p||o)&&h||m||i?this.$3(b,m,i,e):k&&this.state.ctaTitle?j.jsxs(j.Fragment,{children:[j.jsx(c("MessengerBotWelcomePreview.react"),{className:"_9ayf",coverSrc:this.state.coverSrc||"",ctaTitle:this.state.ctaTitle||"",greeting:this.state.greeting||"",likeDesc:this.state.likeDesc||"",pageName:this.state.pageName||"",pageType:this.state.pageType||"",profileSrc:this.state.profileSrc||"",responsiveness:this.state.responsiveness||""}),j.jsx("div",{className:"_89e9",children:d("AdsMessengerUtils").getPreviewDisclaimer(this.state.destinationType)})]}):j.jsx(d("ClickToMessageGuidanceCards.react").PreviewNotice,{landingScreenType:g,onPreviewSend:this.$4}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(this.state.showPreviewSuccessDialog,this.state.pageName,function(){f.setState({showPreviewSuccessDialog:!1})})]}),(b||n)&&j.jsx(c("DestinationPreviewSidebar.react"),{disableWAAndIGDTabs:q,selectedMessagingPreviewDestination:this.state.selectedMessagingPreviewDestination,showInstagramDirectTab:s,showMessengerTab:a,showWhatsAppTab:r,onSelectedMessagingPreviewDestinationChange:this.$11})]})};e.$3=function(a,b,e,f){var g=d("AdsMessengerVisualEditorUtils").isJSONData(this.state.json),h=c("adsMessengerDataModelGetIceBreakers")(this.state.json),k=d("AdsMessengerInThreadMultiphotoCarousel").getMaybeInThreadMultiphotoCarousel(this.state.inThreadMultiphotoCarouselSource,this.state.json),l=g?d("AdsUtils").clone(c("adsMessengerDataModelGetJSONPayload")(this.state.json)):d("AdsUtils").clone(c("adsMessengerDataModelGetPayload")(this.state.json)),m=c("adsMessengerDataModelGetWelcomeMessage")(this.state.json);if(this.state.pageID&&this.state.pageID.getValueForIndex(0)){var n=this.state.selectedMessagingPreviewDestination===c("AdCampaignDestination").WHATSAPP;m=this.$7(m,n)}l&&this.state.mediaType===c("AdsMessengerJSONMediaFormatType").TEXT&&!c("adsMessengerDataModelIsTextWithQR")(this.state.json)&&(c("setByPath")(l,["text"],m),m=null);n=this.state.phoneNumberSectionData.phoneNumberData;var o=n.phoneNumberView;n=n.isPhoneNumberSwitchEnabled&&o!=null&&o.getError()==null;n=n?o==null?void 0:(n=o.getValue())==null?void 0:(o=n.phoneNumber)==null?void 0:o.getDisplayNumber():null;o=this.state.ordersData.isOrdersSwitchEnabled?i._("Ver producto"):null;if(!this.state.showJSONPreview||m==null&&l==null)return j.jsx(d("ClickToMessageGuidanceCards.react").PreviewNotice,{JSONFormat:!0,landingScreenType:this.$1(),onPreviewSend:this.$4});else return j.jsx(c("MessageDestinationPreviewContainer.react"),{accountID:this.state.accountID,adBannerCtaText:o,adPrimaryText:this.state.phoneNumberSectionData.adPrimaryText,className:"_9ayb"+(this.state.isSponsoredMessage?" _9ss5":""),destinationType:a?this.state.selectedMessagingPreviewDestination:this.state.destinationType,hideJSONPreview:this.$8,iceBreakers:h,imageID:c("adsMessengerDataModelGetImageID")(this.state.json),imageURL:c("adsMessengerDataModelGetImageURL")(this.state.json),inThreadMultiphotoCarousel:k,introMessage:this.state.introMessage,introVideoPreview:this.state.introVideoPreview,isJSONPreview:g,isLeadGen:b,isMarketingMessages:e,isMultiDestination:d("AdsUEditorUnifiedCreationUtils").isMultiDestination(this.state.destinationType),isSponsoredMessage:this.state.isSponsoredMessage,isTextWithQR:c("adsMessengerDataModelIsTextWithQR")(this.state.json),message:m,pageID:this.state.pageID.getValueForIndex(0),payload:l,phoneNumber:n,platformXMD:this.state.platformXMD,questionItems:f,surface:c("adsMessengerDataModelGetSurface")(this.state.json),textSecondMessage:c("adsMessengerDataModelGetSecondText")(this.state.json),type:c("adsMessengerDataModelGetTemplateType")(this.state.json),videoURL:this.state.videoURL,whatsAppNumber:this.state.whatsAppNumber})};return b}(j.Component);a.contextTypes=c("AdsUEditorContextType").adgroup;b=c("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:f.id});g["default"]=b},98);