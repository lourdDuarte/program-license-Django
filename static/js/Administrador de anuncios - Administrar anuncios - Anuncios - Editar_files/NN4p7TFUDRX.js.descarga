if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("AugmentedLoggerImplementation",["FBLogger","Random"],function(a,b,c,d,e,f,g){"use strict";var h="augl";function i(){return Math.floor(d("Random").random()*1e16)}function j(a){return a+1}function k(a){return Array.from(a.values())}a=function(){function a(a){var b=a.name,c=a.contextGetter,e=a.falcoLoggerGetter,f=a.options;a=a.samplingRate;this.activeSessions=new Map();this.appExperienceSessionInfo={session_id:i(),time:Date.now()};this.contextGetter=c;this.disableServerLogging=!!f.disableServerLogging;this.falcoLoggerGetter=e;this.hasInitialized=!1;this.isSampled=d("Random").random()<(a==null?1:a);this.name=b;this.sequence=0;this.sequenceGenerator=(c=f.sequenceGenerator)!=null?c:j;this.logHook=f.logHook;this.logThrottler=(e=f.logSuppressor)==null?void 0:e.throttler;this.logUnthrottler=(a=f.logSuppressor)==null?void 0:a.unthrottler;this.userInteractionSessionInfo={session_id:i(),time:Date.now()}}var b=a.prototype;b.$1=function(){this.sequence=this.sequenceGenerator(this.sequence);return this.sequence};b.init=function(){if(this.hasInitialized)return;this.hasInitialized=!0;var a=Date.now();this.$2("CoreUserInteraction",{core:{active_sessions:[],app_experience_id:null,event_core_type:"Session",event_name:"CoreUserInteraction",event_type:"CoreUserInteraction",session_id:this.userInteractionSessionInfo.session_id,sequence:this.$1(),user_interaction_id:this.userInteractionSessionInfo.session_id},context:this.contextGetter(),props:{}});this.userInteractionSessionInfo=babelHelpers["extends"]({},this.userInteractionSessionInfo,{time:a});this.$2("CoreAppExperience",{core:{active_sessions:[],app_experience_id:this.appExperienceSessionInfo.session_id,event_core_type:"Session",event_name:"CoreAppExperience",event_type:"CoreAppExperience",session_id:this.appExperienceSessionInfo.session_id,sequence:this.$1(),user_interaction_id:this.userInteractionSessionInfo.session_id},context:this.contextGetter(),props:{}});this.appExperienceSessionInfo=babelHelpers["extends"]({},this.appExperienceSessionInfo,{time:a});this.logUnthrottler&&this.logUnthrottler.init()};b.destroy=function(){if(!this.hasInitialized)return;var a=Date.now();this.$2("CoreAppExperienceEnded",{core:{active_sessions:k(this.activeSessions),app_experience_id:this.appExperienceSessionInfo.session_id,duration:a-this.appExperienceSessionInfo.time,event_core_type:"SessionEnded",event_name:"CoreAppExperienceEnded",event_type:"CoreAppExperienceEnded",session_id:this.appExperienceSessionInfo.session_id,sequence:this.$1(),user_interaction_id:this.userInteractionSessionInfo.session_id},context:this.contextGetter(),props:{}});this.$2("CoreUserInteractionEnded",{core:{active_sessions:k(this.activeSessions),app_experience_id:this.appExperienceSessionInfo.session_id,duration:a-this.userInteractionSessionInfo.time,event_core_type:"SessionEnded",event_name:"CoreUserInteractionEnded",event_type:"CoreUserInteractionEnded",session_id:this.userInteractionSessionInfo.session_id,sequence:this.$1(),user_interaction_id:this.userInteractionSessionInfo.session_id},context:this.contextGetter(),props:{}});this.logUnthrottler&&this.logUnthrottler.destroy();this.sequence=0;this.hasInitialized=!1;this.activeSessions=new Map()};b.$2=function(a,b,d){d===void 0&&(d=[]);if(!this.hasInitialized){c("FBLogger")(h).info("Logging %s without initializing logger for %s",a,this.name);return}if(this.logThrottler){var e=b.core.event_type+"-"+b.core.event_name,f=this.logThrottler(e);if(f.type==="begin-throttle"){c("FBLogger")(h).info("Throttling %s in %s: %s",e,this.name,f.avgCallsPerSecond);return}else if(f.type==="throttled")return}e=this.falcoLoggerGetter(a);if(!e){c("FBLogger")(h).mustfix("Unable to find falco logger for %s in %s",a,this.name);return}!this.disableServerLogging&&this.isSampled&&e.log(function(){return b});if(this.logHook)try{this.logHook({name:this.name,disableServerLogging:this.disableServerLogging,isSampled:this.isSampled},babelHelpers["extends"]({},b,{type_hierarchy:d}))}catch(a){c("FBLogger")(h).mustfix("Exception running logHook for %s for event %s: %s",this.name,b.core.event_name,a.message)}};b.logDiscreteEvent=function(a,b){b===void 0&&(b={});var c=babelHelpers["extends"]({},a.core,{active_sessions:k(this.activeSessions),app_experience_id:this.appExperienceSessionInfo.session_id,sequence:this.$1(),user_interaction_id:this.userInteractionSessionInfo.session_id});this.$2(a.identifier,{core:c,context:babelHelpers["extends"]({},this.contextGetter(),b),props:a.props},a.__getTypeHierarchy())};b.logSessionEvent=function(a,b){b===void 0&&(b={});var c=Date.now(),d=i(),e=babelHelpers["extends"]({},a.core,{active_sessions:k(this.activeSessions),app_experience_id:this.appExperienceSessionInfo.session_id,session_id:d,sequence:this.$1(),user_interaction_id:this.userInteractionSessionInfo.session_id});this.$2(a.identifier,{core:e,context:babelHelpers["extends"]({},this.contextGetter(),b),props:a.props},a.__getTypeHierarchy());e={session_id:d,event_name:a.core.event_name,event_type:a.core.event_type,time:c};this.activeSessions.set(d,e);return e};b.logSessionEndedEvent=function(a,b,d){d===void 0&&(d={});if(!this.activeSessions["delete"](b.session_id)){c("FBLogger")(h).mustfix("Trying to close invalid session id in %s: (%s, %s)",this.name,b.event_type,b.session_id);return}var e=Date.now();e=babelHelpers["extends"]({},a.core,{active_sessions:k(this.activeSessions),app_experience_id:this.appExperienceSessionInfo.session_id,duration:e-b.time,session_id:b.session_id,sequence:this.$1(),user_interaction_id:this.userInteractionSessionInfo.session_id});this.$2(a.identifier,{core:e,context:babelHelpers["extends"]({},this.contextGetter(),d),props:a.props},a.__getTypeHierarchy())};return a}();g["default"]=a},98);
__d("AugmentedLogger",["AugmentedLoggerImplementation"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){return new(c("AugmentedLoggerImplementation"))({name:a,contextGetter:b,falcoLoggerGetter:d,options:e})}function b(a,b,d){return new(c("AugmentedLoggerImplementation"))({name:a.name,contextGetter:b,falcoLoggerGetter:a.falcoLoggerGetter,options:d,samplingRate:a.samplingRate})}g.createLogger=a;g.createLoggerV2=b},98);
__d("XAdsBugReportSubmitController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ajax/bugs/submit/",{account_id:{type:"Int"},ad_object_identifier:{type:"String"},ad_objective:{type:"String"},attached_files:{type:"StringVector"},audience_id:{type:"String"},biz_site_page_type:{type:"String"},business_id:{type:"Int"},business_emails:{type:"StringVector"},category:{type:"String",required:!0},conversion_pixel_id:{type:"String"},description:{type:"String",defaultValue:""},page_id:{type:"Int"},permission_to_login_as:{type:"Bool",defaultValue:!1},post_id:{type:"Int"},post_url:{type:"String"},product:{type:"String"},session_id:{type:"String"},source:{type:"Enum",defaultValue:"unknown",enumType:1},sub_category:{type:"String"},third_category:{type:"Enum",enumType:1},url_tag_or_view_tag:{type:"String"},screenshot_data_uris:{type:"StringVector"}})},null);