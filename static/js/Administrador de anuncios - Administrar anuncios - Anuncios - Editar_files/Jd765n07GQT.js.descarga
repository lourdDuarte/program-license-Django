if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("apng-js-1.1.0",[],function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(a,b){typeof g==="object"&&typeof h==="object"?h.exports=b():typeof i==="function"&&i.amd?i([],b):typeof g==="object"?g["apng-js"]=b():a["apng-js"]=b()})(this,function(){return function(a){var b={};function c(f){if(b[f])return b[f].exports;var d=b[f]={exports:{},id:f,loaded:!1};a[f].call(d.exports,d,d.exports,c);d.loaded=!0;return d.exports}c.m=a;c.c=b;c.p="";return c(0)}([function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.isNotPNG=j;b.isNotAPNG=k;b["default"]=m;j=c(1);var d=a(j),g=c(2);function a(a){return a&&a.__esModule?a:{"default":a}}var h=new Error("Not a PNG"),i=new Error("Not an animated PNG");function j(a){return a===h}function k(a){return a===i}var l=new Uint8Array([137,80,78,71,13,10,26,10]);function m(a){var b=new Uint8Array(a);if(Array.prototype.some.call(l,function(a,c){return a!==b[c]}))return h;a=!1;n(b,function(b){return!(a=b==="acTL")});if(!a)return i;var c=[],d=[],e=null,f=null,j=0,k=new g.APNG();n(b,function(b,a,h,i){var l=new DataView(a.buffer);switch(b){case"IHDR":e=a.subarray(h+8,h+8+i);k.width=l.getUint32(h+8);k.height=l.getUint32(h+12);break;case"acTL":k.numPlays=l.getUint32(h+8+4);break;case"fcTL":f&&(k.frames.push(f),j++);f=new g.Frame();f.width=l.getUint32(h+8+4);f.height=l.getUint32(h+8+8);f.left=l.getUint32(h+8+12);f.top=l.getUint32(h+8+16);b=l.getUint16(h+8+20);var m=l.getUint16(h+8+22);m===0&&(m=100);f.delay=1e3*b/m;f.delay<=10&&(f.delay=100);k.playTime+=f.delay;f.disposeOp=l.getUint8(h+8+24);f.blendOp=l.getUint8(h+8+25);f.dataParts=[];j===0&&f.disposeOp===2&&(f.disposeOp=1);break;case"fdAT":f&&f.dataParts.push(a.subarray(h+8+4,h+8+i));break;case"IDAT":f&&f.dataParts.push(a.subarray(h+8,h+8+i));break;case"IEND":d.push(q(a,h,12+i));break;default:c.push(q(a,h,12+i))}});f&&k.frames.push(f);if(k.frames.length==0)return i;var m=new Blob(c),o=new Blob(d);k.frames.forEach(function(a){var b=[];b.push(l);e.set(s(a.width),0);e.set(s(a.height),4);b.push(r("IHDR",e));b.push(m);a.dataParts.forEach(function(a){return b.push(r("IDAT",a))});b.push(o);a.imageData=new Blob(b,{type:"image/png"});delete a.dataParts;b=null});return k}function n(a,b){var c=new DataView(a.buffer),d=8,e=void 0,f=void 0,g;do f=c.getUint32(d),e=o(a,d+4,4),g=b(e,a,d,f),d+=12+f;while(g!==!1&&e!="IEND"&&d<a.length)}function o(a,b,c){a=Array.prototype.slice.call(a.subarray(b,b+c));return String.fromCharCode.apply(String,a)}function p(a){var b=new Uint8Array(a.length);for(var c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}function q(a,b,c){var d=new Uint8Array(c);d.set(a.subarray(b,b+c));return d}var r=function(a,b){var c=a.length+b.length,e=new Uint8Array(c+8),f=new DataView(e.buffer);f.setUint32(0,b.length);e.set(p(a),4);e.set(b,8);a=d["default"](e,4,c);f.setUint32(c+4,a);return e},s=function(a){return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255])}},function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.length-b,e=-1;for(var f=b,g=b+d;f<g;f++)e=e>>>8^c[(e^a[f])&255];return e^-1};var c=new Uint32Array(256);for(var a=0;a<256;a++){b=a;for(var d=0;d<8;d++)b=(b&1)!==0?3988292384^b>>>1:b>>>1;c[a]=b}},function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.Frame=b.APNG=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();c=c(3);var g=a(c);function a(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}b.APNG=function(){function a(){h(this,a),this.width=0,this.height=0,this.numPlays=0,this.playTime=0,this.frames=[]}d(a,[{key:"createImages",value:function(){return Promise.all(this.frames.map(function(a){return a.createImage()}))}},{key:"getPlayer",value:function(a){var b=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.createImages().then(function(){return new g["default"](b,a,c)})}}]);return a}();b.Frame=function(){function a(){h(this,a),this.left=0,this.top=0,this.width=0,this.height=0,this.delay=0,this.disposeOp=0,this.blendOp=0,this.imageData=null,this.imageElement=null}d(a,[{key:"createImage",value:function(){var a=this;return this.imageElement?Promise.resolve():new Promise(function(b,c){var d=URL.createObjectURL(a.imageData);a.imageElement=document.createElement("img");a.imageElement.onload=function(){URL.revokeObjectURL(d),b()};a.imageElement.onerror=function(){URL.revokeObjectURL(d),a.imageElement=null,c(new Error("Image creation error"))};a.imageElement.src=d})}}]);return a}()},function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();c=c(4);a=a(c);function a(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function i(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){i(b,a);function b(a,c,d){g(this,b);var e=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));e.playbackRate=1;e._currentFrameNumber=0;e._ended=!1;e._paused=!0;e._numPlays=0;e._apng=a;e.context=c;e.stop();d&&e.play();return e}d(b,[{key:"renderNextFrame",value:function(){this._currentFrameNumber=(this._currentFrameNumber+1)%this._apng.frames.length;this._currentFrameNumber===this._apng.frames.length-1&&(this._numPlays++,this._apng.numPlays!==0&&this._numPlays>=this._apng.numPlays&&(this._ended=!0,this._paused=!0));this._prevFrame&&this._prevFrame.disposeOp==1?this.context.clearRect(this._prevFrame.left,this._prevFrame.top,this._prevFrame.width,this._prevFrame.height):this._prevFrame&&this._prevFrame.disposeOp==2&&this.context.putImageData(this._prevFrameData,this._prevFrame.left,this._prevFrame.top);var a=this.currentFrame;this._prevFrame=a;this._prevFrameData=null;a.disposeOp==2&&(this._prevFrameData=this.context.getImageData(a.left,a.top,a.width,a.height));a.blendOp==0&&this.context.clearRect(a.left,a.top,a.width,a.height);this.context.drawImage(a.imageElement,a.left,a.top);this.emit("frame",this._currentFrameNumber);this._ended&&this.emit("end")}},{key:"play",value:function(){var a=this;this.emit("play");this._ended&&this.stop();this._paused=!1;var b=performance.now()+this.currentFrame.delay/this.playbackRate,c=function c(d){if(a._ended||a._paused)return;if(d>=b){while(d-b>=a._apng.playTime/a.playbackRate)b+=a._apng.playTime/a.playbackRate,a._numPlays++;do a.renderNextFrame(),b+=a.currentFrame.delay/a.playbackRate;while(!a._ended&&d>b)}requestAnimationFrame(c)};requestAnimationFrame(c)}},{key:"pause",value:function(){this._paused||(this.emit("pause"),this._paused=!0)}},{key:"stop",value:function(){this.emit("stop"),this._numPlays=0,this._ended=!1,this._paused=!0,this._currentFrameNumber=-1,this.context.clearRect(0,0,this._apng.width,this._apng.height),this.renderNextFrame()}},{key:"currentFrameNumber",get:function(){return this._currentFrameNumber}},{key:"currentFrame",get:function(){return this._apng.frames[this._currentFrameNumber]}},{key:"paused",get:function(){return this._paused}},{key:"ended",get:function(){return this._ended}}]);return b}(a["default"]);b["default"]=c},function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}a.exports=c;c.EventEmitter=c;c.prototype._events=void 0;c.prototype._maxListeners=void 0;c.defaultMaxListeners=10;c.prototype.setMaxListeners=function(a){if(!g(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};c.prototype.emit=function(a){var b,c,e,f,g,j;this._events||(this._events={});if(a==="error"&&(!this._events.error||h(this._events.error)&&!this._events.error.length)){b=arguments[1];if(b instanceof Error)throw b;else{var k=new Error('Uncaught, unspecified "error" event. ('+b+")");k.context=b;throw k}}c=this._events[a];if(i(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(h(c)){f=Array.prototype.slice.call(arguments,1);j=c.slice();e=j.length;for(g=0;g<e;g++)j[g].apply(this,f)}return!0};c.prototype.addListener=function(a,b){if(!d(b))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b);!this._events[a]?this._events[a]=b:h(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b];h(this._events[a])&&!this._events[a].warned&&(!i(this._maxListeners)?b=this._maxListeners:b=c.defaultMaxListeners,b&&b>0&&this._events[a].length>b&&(this._events[a].warned=!0,typeof console.trace==="function"&&console.trace()));return this};c.prototype.on=c.prototype.addListener;c.prototype.once=function(a,b){if(!d(b))throw TypeError("listener must be a function");var c=!1;function e(){this.removeListener(a,e),c||(c=!0,b.apply(this,arguments))}e.listener=b;this.on(a,e);return this};c.prototype.removeListener=function(a,b){var c,e,f;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;c=this._events[a];f=c.length;e=-1;if(c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(h(c)){for(f=f;f-->0;)if(c[f]===b||c[f].listener&&c[f].listener===b){e=f;break}if(e<0)return this;c.length===1?(c.length=0,delete this._events[a]):c.splice(e,1);this._events.removeListener&&this.emit("removeListener",a,b)}return this};c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener){arguments.length===0?this._events={}:this._events[a]&&delete this._events[a];return this}if(arguments.length===0){for(b in this._events){if(b==="removeListener")continue;this.removeAllListeners(b)}this.removeAllListeners("removeListener");this._events={};return this}c=this._events[a];if(d(c))this.removeListener(a,c);else if(c)while(c.length)this.removeListener(a,c[c.length-1]);delete this._events[a];return this};c.prototype.listeners=function(a){var b;!this._events||!this._events[a]?b=[]:d(this._events[a])?b=[this._events[a]]:b=this._events[a].slice();return b};c.prototype.listenerCount=function(a){if(this._events){a=this._events[a];if(d(a))return 1;else if(a)return a.length}return 0};c.listenerCount=function(a,b){return a.listenerCount(b)};function d(a){return typeof a==="function"}function g(a){return typeof a==="number"}function h(a){return typeof a==="object"&&a!==null}function i(a){return a===void 0}}])})}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a},null);
__d("apng-js",["apng-js-1.1.0"],function(a,b,c,d,e,f){e.exports=b("apng-js-1.1.0")()},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("bit-twiddle-1.0.2",[],function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a=32;g.INT_BITS=a;g.INT_MAX=2147483647;g.INT_MIN=-1<<a-1;g.sign=function(a){return(a>0)-(a<0)};g.abs=function(b){var c=b>>a-1;return(b^c)-c};g.min=function(a,b){return b^(a^b)&-(a<b)};g.max=function(a,b){return a^(a^b)&-(a<b)};g.isPow2=function(a){return!(a&a-1)&&!!a};g.log2=function(a){var b,c;b=(a>65535)<<4;a>>>=b;c=(a>255)<<3;a>>>=c;b|=c;c=(a>15)<<2;a>>>=c;b|=c;c=(a>3)<<1;a>>>=c;b|=c;return b|a>>1};g.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0};g.popCount=function(a){a=a-(a>>>1&1431655765);a=(a&858993459)+(a>>>2&858993459);return(a+(a>>>4)&252645135)*16843009>>>24};function b(a){var b=32;a&=-a;a&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&(b-=1);return b}g.countTrailingZeros=b;g.nextPow2=function(a){a+=a===0;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a+1};g.prevPow2=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1)};g.parity=function(a){a^=a>>>16;a^=a>>>8;a^=a>>>4;a&=15;return 27030>>>a&1};var c=new Array(256);(function(a){for(var b=0;b<256;++b){var c=b,d=b,e=7;for(c>>>=1;c;c>>>=1)d<<=1,d|=c&1,--e;a[b]=d<<e&255}})(c);g.reverse=function(a){return c[a&255]<<24|c[a>>>8&255]<<16|c[a>>>16&255]<<8|c[a>>>24&255]};g.interleave2=function(a,b){a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;a=(a|a<<1)&1431655765;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;b=(b|b<<1)&1431655765;return a|b<<1};g.deinterleave2=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;a=(a|a>>>16)&65535;return a<<16>>16};g.interleave3=function(a,b,c){a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;a=(a|a<<2)&1227133513;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;b=(b|b<<2)&1227133513;a|=b<<1;c&=1023;c=(c|c<<16)&4278190335;c=(c|c<<8)&251719695;c=(c|c<<4)&3272356035;c=(c|c<<2)&1227133513;return a|c<<2};g.deinterleave3=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;a=(a|a>>>16)&1023;return a<<22>>22};g.nextCombination=function(a){var c=a|a-1;return c+1|(~c&-~c)-1>>>b(a)+1}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("color-name-1.1.3",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("color-convert-1.9.1",["color-name-1.1.3"],function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("color-name-1.1.3"));d={};var h={exports:d};function i(){var a=g(),b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);var d=h.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var c in d)if(d.hasOwnProperty(c)){if(!("channels"in d[c]))throw new Error("missing channels property: "+c);if(!("labels"in d[c]))throw new Error("missing channel labels property: "+c);if(d[c].labels.length!==d[c].channels)throw new Error("channel and label counts mismatch: "+c);var e=d[c].channels,f=d[c].labels;delete d[c].channels;delete d[c].labels;Object.defineProperty(d[c],"channels",{value:e});Object.defineProperty(d[c],"labels",{value:f})}d.rgb.hsl=function(a){var b=a[0]/255,c=a[1]/255;a=a[2]/255;var d=Math.min(b,c,a),e=Math.max(b,c,a),f=e-d,g;e===d?g=0:b===e?g=(c-a)/f:c===e?g=2+(a-b)/f:a===e&&(g=4+(b-c)/f);g=Math.min(g*60,360);g<0&&(g+=360);a=(d+e)/2;e===d?b=0:a<=.5?b=f/(e+d):b=f/(2-e-d);return[g,b*100,a*100]};d.rgb.hsv=function(a){var b=a[0],c=a[1];a=a[2];var d=Math.min(b,c,a),e=Math.max(b,c,a),f=e-d,g,h;e===0?h=0:h=f/e*1e3/10;e===d?g=0:b===e?g=(c-a)/f:c===e?g=2+(a-b)/f:a===e&&(g=4+(b-c)/f);g=Math.min(g*60,360);g<0&&(g+=360);d=e/255*1e3/10;return[g,h,d]};d.rgb.hwb=function(a){var b=a[0],c=a[1],e=a[2];a=d.rgb.hsl(a)[0];var f=1/255*Math.min(b,Math.min(c,e));e=1-1/255*Math.max(b,Math.max(c,e));return[a,f*100,e*100]};d.rgb.cmyk=function(a){var b=a[0]/255,c=a[1]/255;a=a[2]/255;var d;d=Math.min(1-b,1-c,1-a);b=(1-b-d)/(1-d)||0;c=(1-c-d)/(1-d)||0;a=(1-a-d)/(1-d)||0;return[b*100,c*100,a*100,d*100]};function i(a,b){return Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2)+Math.pow(a[2]-b[2],2)}d.rgb.keyword=function(c){var d=b[c];if(d)return d;d=Infinity;var e;for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];g=i(c,g);g<d&&(d=g,e=f)}return e};d.keyword.rgb=function(b){return a[b]};d.rgb.xyz=function(a){var b=a[0]/255,c=a[1]/255;a=a[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92;a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;var d=b*.4124+c*.3576+a*.1805,e=b*.2126+c*.7152+a*.0722;b=b*.0193+c*.1192+a*.9505;return[d*100,e*100,b*100]};d.rgb.lab=function(a){a=d.rgb.xyz(a);var b=a[0],c=a[1];a=a[2];var e;b/=95.047;c/=100;a/=108.883;b=b>.008856?Math.pow(b,1/3):7.787*b+16/116;c=c>.008856?Math.pow(c,1/3):7.787*c+16/116;a=a>.008856?Math.pow(a,1/3):7.787*a+16/116;e=116*c-16;b=500*(b-c);c=200*(c-a);return[e,b,c]};d.hsl.rgb=function(a){var b=a[0]/360,c=a[1]/100;a=a[2]/100;var d,e,f;if(c===0){f=a*255;return[f,f,f]}a<.5?d=a*(1+c):d=a+c-a*c;c=2*a-d;a=[0,0,0];for(var g=0;g<3;g++)e=b+1/3*-(g-1),e<0&&e++,e>1&&e--,6*e<1?f=c+(d-c)*6*e:2*e<1?f=d:3*e<2?f=c+(d-c)*(2/3-e)*6:f=c,a[g]=f*255;return a};d.hsl.hsv=function(a){var b=a[0],c=a[1]/100;a=a[2]/100;var d=c,e=Math.max(a,.01),f;a*=2;c*=a<=1?a:2-a;d*=e<=1?e:2-e;f=(a+c)/2;e=a===0?2*d/(e+d):2*c/(a+c);return[b,e*100,f*100]};d.hsv.rgb=function(a){var b=a[0]/60,c=a[1]/100;a=a[2]/100;var d=Math.floor(b)%6;b=b-Math.floor(b);var e=255*a*(1-c),f=255*a*(1-c*b);c=255*a*(1-c*(1-b));a*=255;switch(d){case 0:return[a,c,e];case 1:return[f,a,e];case 2:return[e,a,c];case 3:return[e,f,a];case 4:return[c,e,a];case 5:return[a,e,f]}};d.hsv.hsl=function(a){var b=a[0],c=a[1]/100;a=a[2]/100;var d=Math.max(a,.01),e;a=(2-c)*a;e=(2-c)*d;c=c*d;c/=e<=1?e:2-e;c=c||0;a/=2;return[b,c*100,a*100]};d.hwb.rgb=function(a){var b=a[0]/360,c=a[1]/100;a=a[2]/100;var d=c+a;d>1&&(c/=d,a/=d);d=Math.floor(6*b);a=1-a;b=6*b-d;(d&1)!==0&&(b=1-b);b=c+b*(a-c);var e,f,g;switch(d){default:case 6:case 0:e=a;f=b;g=c;break;case 1:e=b;f=a;g=c;break;case 2:e=c;f=a;g=b;break;case 3:e=c;f=b;g=a;break;case 4:e=b;f=c;g=a;break;case 5:e=a;f=c;g=b;break}return[e*255,f*255,g*255]};d.cmyk.rgb=function(a){var b=a[0]/100,c=a[1]/100,d=a[2]/100;a=a[3]/100;b=1-Math.min(1,b*(1-a)+a);c=1-Math.min(1,c*(1-a)+a);d=1-Math.min(1,d*(1-a)+a);return[b*255,c*255,d*255]};d.xyz.rgb=function(a){var b=a[0]/100,c=a[1]/100;a=a[2]/100;var d,e;d=b*3.2406+c*-1.5372+a*-.4986;e=b*-.9689+c*1.8758+a*.0415;b=b*.0557+c*-.204+a*1.057;d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d*12.92;e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*12.92;b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b*12.92;d=Math.min(Math.max(0,d),1);e=Math.min(Math.max(0,e),1);b=Math.min(Math.max(0,b),1);return[d*255,e*255,b*255]};d.xyz.lab=function(a){var b=a[0],c=a[1];a=a[2];var d;b/=95.047;c/=100;a/=108.883;b=b>.008856?Math.pow(b,1/3):7.787*b+16/116;c=c>.008856?Math.pow(c,1/3):7.787*c+16/116;a=a>.008856?Math.pow(a,1/3):7.787*a+16/116;d=116*c-16;b=500*(b-c);c=200*(c-a);return[d,b,c]};d.lab.xyz=function(a){var b=a[0],c=a[1];a=a[2];b=(b+16)/116;c=c/500+b;a=b-a/200;var d=Math.pow(b,3),e=Math.pow(c,3),f=Math.pow(a,3);b=d>.008856?d:(b-16/116)/7.787;c=e>.008856?e:(c-16/116)/7.787;a=f>.008856?f:(a-16/116)/7.787;c*=95.047;b*=100;a*=108.883;return[c,b,a]};d.lab.lch=function(a){var b=a[0],c=a[1];a=a[2];var d;d=Math.atan2(a,c);d=d*360/2/Math.PI;d<0&&(d+=360);c=Math.sqrt(c*c+a*a);return[b,c,d]};d.lch.lab=function(a){var b=a[0],c=a[1];a=a[2];var d;a=a/360*2*Math.PI;d=c*Math.cos(a);c=c*Math.sin(a);return[b,d,c]};d.rgb.ansi16=function(a){var b=a[0],c=a[1],e=a[2],f=1 in arguments?arguments[1]:d.rgb.hsv(a)[2];f=Math.round(f/50);if(f===0)return 30;var g=30+(Math.round(e/255)<<2|Math.round(c/255)<<1|Math.round(b/255));f===2&&(g+=60);return g};d.hsv.ansi16=function(a){return d.rgb.ansi16(d.hsv.rgb(a),a[2])};d.rgb.ansi256=function(a){var b=a[0],c=a[1];a=a[2];if(b===c&&c===a){if(b<8)return 16;return b>248?231:Math.round((b-8)/247*24)+232}b=16+36*Math.round(b/255*5)+6*Math.round(c/255*5)+Math.round(a/255*5);return b};d.ansi16.rgb=function(a){var b=a%10;if(b===0||b===7){a>50&&(b+=3.5);b=b/10.5*255;return[b,b,b]}a=(~~(a>50)+1)*.5;var c=(b&1)*a*255,d=(b>>1&1)*a*255;b=(b>>2&1)*a*255;return[c,d,b]};d.ansi256.rgb=function(a){if(a>=232){var b=(a-232)*10+8;return[b,b,b]}a-=16;b=Math.floor(a/36)/5*255;var c=Math.floor((a=a%36)/6)/5*255;a=a%6/5*255;return[b,c,a]};d.rgb.hex=function(a){a=((Math.round(a[0])&255)<<16)+((Math.round(a[1])&255)<<8)+(Math.round(a[2])&255);a=a.toString(16).toUpperCase();return"000000".substring(a.length)+a};d.hex.rgb=function(a){a=a.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!a)return[0,0,0];var b=a[0];a[0].length===3&&(b=b.split("").map(function(a){return a+a}).join(""));a=parseInt(b,16);b=a>>16&255;var c=a>>8&255;a=a&255;return[b,c,a]};d.rgb.hcg=function(a){var b=a[0]/255,c=a[1]/255;a=a[2]/255;var d=Math.max(Math.max(b,c),a),e=Math.min(Math.min(b,c),a),f=d-e,g;f<1?e=e/(1-f):e=0;f<=0?g=0:d===b?g=(c-a)/f%6:d===c?g=2+(a-b)/f:g=4+(b-c)/f+4;g/=6;g%=1;return[g*360,f*100,e*100]};d.hsl.hcg=function(a){var b=a[1]/100,c=a[2]/100,d,e=0;c<.5?d=2*b*c:d=2*b*(1-c);d<1&&(e=(c-.5*d)/(1-d));return[a[0],d*100,e*100]};d.hsv.hcg=function(a){var b=a[1]/100,c=a[2]/100;b=b*c;var d=0;b<1&&(d=(c-b)/(1-b));return[a[0],b*100,d*100]};d.hcg.rgb=function(a){var b=a[0]/360,c=a[1]/100;a=a[2]/100;if(c===0)return[a*255,a*255,a*255];var d=[0,0,0];b=b%1*6;var e=b%1,f=1-e;switch(Math.floor(b)){case 0:d[0]=1;d[1]=e;d[2]=0;break;case 1:d[0]=f;d[1]=1;d[2]=0;break;case 2:d[0]=0;d[1]=1;d[2]=e;break;case 3:d[0]=0;d[1]=f;d[2]=1;break;case 4:d[0]=e;d[1]=0;d[2]=1;break;default:d[0]=1,d[1]=0,d[2]=f}b=(1-c)*a;return[(c*d[0]+b)*255,(c*d[1]+b)*255,(c*d[2]+b)*255]};d.hcg.hsv=function(a){var b=a[1]/100,c=a[2]/100;c=b+c*(1-b);var d=0;c>0&&(d=b/c);return[a[0],d*100,c*100]};d.hcg.hsl=function(a){var b=a[1]/100,c=a[2]/100;c=c*(1-b)+.5*b;var d=0;c>0&&c<.5?d=b/(2*c):c>=.5&&c<1&&(d=b/(2*(1-c)));return[a[0],d*100,c*100]};d.hcg.hwb=function(a){var b=a[1]/100,c=a[2]/100;c=b+c*(1-b);return[a[0],(c-b)*100,(1-c)*100]};d.hwb.hcg=function(a){var b=a[1]/100,c=a[2]/100;c=1-c;b=c-b;var d=0;b<1&&(d=(c-b)/(1-b));return[a[0],b*100,d*100]};d.apple.rgb=function(a){return[a[0]/65535*255,a[1]/65535*255,a[2]/65535*255]};d.rgb.apple=function(a){return[a[0]/255*65535,a[1]/255*65535,a[2]/255*65535]};d.gray.rgb=function(a){return[a[0]/100*255,a[0]/100*255,a[0]/100*255]};d.gray.hsl=d.gray.hsv=function(a){return[0,0,a[0]]};d.gray.hwb=function(a){return[0,100,a[0]]};d.gray.cmyk=function(a){return[0,0,0,a[0]]};d.gray.lab=function(a){return[a[0],0,0]};d.gray.hex=function(a){a=Math.round(a[0]/100*255)&255;a=(a<<16)+(a<<8)+a;a=a.toString(16).toUpperCase();return"000000".substring(a.length)+a};d.rgb.gray=function(a){a=(a[0]+a[1]+a[2])/3;return[a/255*100]}}var j=!1;function k(){j||(j=!0,i());return h.exports}f={};var l={exports:f};function m(){var a=k();function b(){var b={},c=Object.keys(a);for(var d=c.length,e=0;e<d;e++)b[c[e]]={distance:-1,parent:null};return b}function c(c){var d=b(),e=[c];d[c].distance=0;while(e.length){c=e.pop();var f=Object.keys(a[c]);for(var g=f.length,h=0;h<g;h++){var i=f[h],j=d[i];j.distance===-1&&(j.distance=d[c].distance+1,j.parent=c,e.unshift(i))}}return d}function d(a,b){return function(c){return b(a(c))}}function e(b,c){var e=[c[b].parent,b],f=a[c[b].parent][b];b=c[b].parent;while(c[b].parent)e.unshift(c[b].parent),f=d(a[c[b].parent][b],f),b=c[b].parent;f.conversion=e;return f}l.exports=function(a){a=c(a);var b={},d=Object.keys(a);for(var f=d.length,g=0;g<f;g++){var h=d[g],i=a[h];if(i.parent===null)continue;b[h]=e(h,a)}return b}}var n=!1;function o(){n||(n=!0,m());return l.exports}a={};var p={exports:a};function q(){var a=k(),b=o(),c={},d=Object.keys(a);function e(a){var b=function(b){if(b===void 0||b===null)return b;arguments.length>1&&(b=Array.prototype.slice.call(arguments));return a(b)};"conversion"in a&&(b.conversion=a.conversion);return b}function f(a){var b=function(b){if(b===void 0||b===null)return b;arguments.length>1&&(b=Array.prototype.slice.call(arguments));var c=a(b);if(typeof c==="object")for(var d=c.length,e=0;e<d;e++)c[e]=Math.round(c[e]);return c};"conversion"in a&&(b.conversion=a.conversion);return b}d.forEach(function(d){c[d]={};Object.defineProperty(c[d],"channels",{value:a[d].channels});Object.defineProperty(c[d],"labels",{value:a[d].labels});var g=b(d),h=Object.keys(g);h.forEach(function(a){var b=g[a];c[d][a]=f(b);c[d][a].raw=e(b)})});p.exports=c}var r=!1;function s(){r||(r=!0,q());return p.exports}function c(a){switch(a){case void 0:return s()}}e.exports=c},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("is-arrayish-0.3.1",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=function(a){return!a||typeof a==="string"?!1:a instanceof Array||Array.isArray(a)||a.length>=0&&(a.splice instanceof Function||Object.getOwnPropertyDescriptor(a,a.length-1)&&a.constructor.name!=="String")}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("simple-swizzle-0.2.2",["is-arrayish-0.3.1"],function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("is-arrayish-0.3.1"));d={};var h={exports:d};function i(){var a=g(),b=Array.prototype.concat,c=Array.prototype.slice,d=h.exports=function(d){var e=[];for(var f=0,g=d.length;f<g;f++){var h=d[f];a(h)?e=b.call(e,c.call(h)):e.push(h)}return e};d.wrap=function(a){return function(){return a(d(arguments))}}}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("color-string-1.5.2",["color-name-1.1.3","simple-swizzle-0.2.2"],function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("color-name-1.1.3")),h=a(b("simple-swizzle-0.2.2"));d={};var i={exports:d};function j(){var a=g(),b=h(),c={};for(var d in a)a.hasOwnProperty(d)&&(c[a[d]]=d);var e=i.exports={to:{}};e.get=function(a){var b=a.substring(0,3).toLowerCase(),c,d;switch(b){case"hsl":c=e.get.hsl(a);d="hsl";break;case"hwb":c=e.get.hwb(a);d="hwb";break;default:c=e.get.rgb(a);d="rgb";break}return!c?null:{model:d,value:c}};e.get.rgb=function(b){if(!b)return null;var c=/^#([a-f0-9]{3,4})$/i,d=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,e=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,g=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,h=/(\D+)/,i=[0,0,0,1],j,k;if(d=b.match(d)){k=d[2];d=d[1];for(j=0;j<3;j++){var l=j*2;i[j]=parseInt(d.slice(l,l+2),16)}k&&(i[3]=Math.round(parseInt(k,16)/255*100)/100)}else if(d=b.match(c)){d=d[1];k=d[3];for(j=0;j<3;j++)i[j]=parseInt(d[j]+d[j],16);k&&(i[3]=Math.round(parseInt(k+k,16)/255*100)/100)}else if(d=b.match(e)){for(j=0;j<3;j++)i[j]=parseInt(d[j+1],0);d[4]&&(i[3]=parseFloat(d[4]))}else if(d=b.match(g)){for(j=0;j<3;j++)i[j]=Math.round(parseFloat(d[j+1])*2.55);d[4]&&(i[3]=parseFloat(d[4]))}else if(d=b.match(h)){if(d[1]==="transparent")return[0,0,0,0];i=a[d[1]];if(!i)return null;i[3]=1;return i}else return null;for(j=0;j<3;j++)i[j]=f(i[j],0,255);i[3]=f(i[3],0,1);return i};e.get.hsl=function(a){if(!a)return null;var b=/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;a=a.match(b);if(a){b=parseFloat(a[4]);var c=(parseFloat(a[1])%360+360)%360,d=f(parseFloat(a[2]),0,100);a=f(parseFloat(a[3]),0,100);b=f(isNaN(b)?1:b,0,1);return[c,d,a,b]}return null};e.get.hwb=function(a){if(!a)return null;var b=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;a=a.match(b);if(a){b=parseFloat(a[4]);var c=(parseFloat(a[1])%360+360)%360,d=f(parseFloat(a[2]),0,100);a=f(parseFloat(a[3]),0,100);b=f(isNaN(b)?1:b,0,1);return[c,d,a,b]}return null};e.to.hex=function(){var a=b(arguments);return"#"+j(a[0])+j(a[1])+j(a[2])+(a[3]<1?j(Math.round(a[3]*255)):"")};e.to.rgb=function(){var a=b(arguments);return a.length<4||a[3]===1?"rgb("+Math.round(a[0])+", "+Math.round(a[1])+", "+Math.round(a[2])+")":"rgba("+Math.round(a[0])+", "+Math.round(a[1])+", "+Math.round(a[2])+", "+a[3]+")"};e.to.rgb.percent=function(){var a=b(arguments),c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return a.length<4||a[3]===1?"rgb("+c+"%, "+d+"%, "+e+"%)":"rgba("+c+"%, "+d+"%, "+e+"%, "+a[3]+")"};e.to.hsl=function(){var a=b(arguments);return a.length<4||a[3]===1?"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)":"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+a[3]+")"};e.to.hwb=function(){var a=b(arguments),c="";a.length>=4&&a[3]!==1&&(c=", "+a[3]);return"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+c+")"};e.to.keyword=function(a){return c[a.slice(0,3)]};function f(a,b,c){return Math.min(Math.max(b,a),c)}function j(a){a=a.toString(16).toUpperCase();return a.length<2?"0"+a:a}}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("color-3.0.0",["color-string-1.5.2","color-convert-1.9.1"],function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("color-string-1.5.2")),h=a(b("color-convert-1.9.1"));d={};var i={exports:d};function j(){var a=g(),b=h(),c=[].slice,d=["keyword","gray","hex"],e={};Object.keys(b).forEach(function(a){e[c.call(b[a].labels).sort().join("")]=a});var f={};function j(g,h){if(!(this instanceof j))return new j(g,h);h&&h in d&&(h=null);if(h&&!(h in b))throw new Error("Unknown model: "+h);var i,k;if(!g)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(g instanceof j)this.model=g.model,this.color=g.color.slice(),this.valpha=g.valpha;else if(typeof g==="string"){var l=a.get(g);if(l===null)throw new Error("Unable to parse color from string: "+g);this.model=l.model;k=b[this.model].channels;this.color=l.value.slice(0,k);this.valpha=typeof l.value[k]==="number"?l.value[k]:1}else if(g.length){this.model=h||"rgb";k=b[this.model].channels;l=c.call(g,0,k);this.color=p(l,k);this.valpha=typeof g[k]==="number"?g[k]:1}else if(typeof g==="number")g&=16777215,this.model="rgb",this.color=[g>>16&255,g>>8&255,g&255],this.valpha=1;else{this.valpha=1;h=Object.keys(g);"alpha"in g&&(h.splice(h.indexOf("alpha"),1),this.valpha=typeof g.alpha==="number"?g.alpha:0);l=h.sort().join("");if(!(l in e))throw new Error("Unable to parse color from object: "+JSON.stringify(g));this.model=e[l];h=b[this.model].labels;l=[];for(i=0;i<h.length;i++)l.push(g[h[i]]);this.color=p(l)}if(f[this.model]){k=b[this.model].channels;for(i=0;i<k;i++){h=f[this.model][i];h&&(this.color[i]=h(this.color[i]))}}this.valpha=Math.max(0,Math.min(1,this.valpha));Object.freeze&&Object.freeze(this)}j.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(b){var c=this.model in a.to?this:this.rgb();c=c.round(typeof b==="number"?b:1);b=c.valpha===1?c.color:c.color.concat(this.valpha);return a.to[c.model](b)},percentString:function(b){b=this.rgb().round(typeof b==="number"?b:1);b=b.valpha===1?b.color:b.color.concat(this.valpha);return a.to.rgb.percent(b)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){var a={},c=b[this.model].channels,d=b[this.model].labels;for(var e=0;e<c;e++)a[d[e]]=this.color[e];this.valpha!==1&&(a.alpha=this.valpha);return a},unitArray:function(){var a=this.rgb().color;a[0]/=255;a[1]/=255;a[2]/=255;this.valpha!==1&&a.push(this.valpha);return a},unitObject:function(){var a=this.rgb().object();a.r/=255;a.g/=255;a.b/=255;this.valpha!==1&&(a.alpha=this.valpha);return a},round:function(a){a=Math.max(a||0,0);return new j(this.color.map(l(a)).concat(this.valpha),this.model)},alpha:function(a){return arguments.length?new j(this.color.concat(Math.max(0,Math.min(1,a))),this.model):this.valpha},red:m("rgb",0,n(255)),green:m("rgb",1,n(255)),blue:m("rgb",2,n(255)),hue:m(["hsl","hsv","hsl","hwb","hcg"],0,function(a){return(a%360+360)%360}),saturationl:m("hsl",1,n(100)),lightness:m("hsl",2,n(100)),saturationv:m("hsv",1,n(100)),value:m("hsv",2,n(100)),chroma:m("hcg",1,n(100)),gray:m("hcg",2,n(100)),white:m("hwb",1,n(100)),wblack:m("hwb",2,n(100)),cyan:m("cmyk",0,n(100)),magenta:m("cmyk",1,n(100)),yellow:m("cmyk",2,n(100)),black:m("cmyk",3,n(100)),x:m("xyz",0,n(100)),y:m("xyz",1,n(100)),z:m("xyz",2,n(100)),l:m("lab",0,n(100)),a:m("lab",1),b:m("lab",2),keyword:function(a){return arguments.length?new j(a):b[this.model].keyword(this.color)},hex:function(b){return arguments.length?new j(b):a.to.hex(this.rgb().round().color)},rgbNumber:function(){var a=this.rgb().color;return(a[0]&255)<<16|(a[1]&255)<<8|a[2]&255},luminosity:function(){var a=this.rgb().color,b=[];for(var c=0;c<a.length;c++){var d=a[c]/255;b[c]=d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)}return.2126*b[0]+.7152*b[1]+.0722*b[2]},contrast:function(a){var b=this.luminosity();a=a.luminosity();return b>a?(b+.05)/(a+.05):(a+.05)/(b+.05)},level:function(a){a=this.contrast(a);return a>=7.1?"AAA":a>=4.5?"AA":""},isDark:function(){var a=this.rgb().color;a=(a[0]*299+a[1]*587+a[2]*114)/1e3;return a<128},isLight:function(){return!this.isDark()},negate:function(){var a=this.rgb();for(var b=0;b<3;b++)a.color[b]=255-a.color[b];return a},lighten:function(a){var b=this.hsl();b.color[2]+=b.color[2]*a;return b},darken:function(a){var b=this.hsl();b.color[2]-=b.color[2]*a;return b},saturate:function(a){var b=this.hsl();b.color[1]+=b.color[1]*a;return b},desaturate:function(a){var b=this.hsl();b.color[1]-=b.color[1]*a;return b},whiten:function(a){var b=this.hwb();b.color[1]+=b.color[1]*a;return b},blacken:function(a){var b=this.hwb();b.color[2]+=b.color[2]*a;return b},grayscale:function(){var a=this.rgb().color;a=a[0]*.3+a[1]*.59+a[2]*.11;return j.rgb(a,a,a)},fade:function(a){return this.alpha(this.valpha-this.valpha*a)},opaquer:function(a){return this.alpha(this.valpha+this.valpha*a)},rotate:function(a){var b=this.hsl(),c=b.color[0];c=(c+a)%360;c=c<0?360+c:c;b.color[0]=c;return b},mix:function(a,b){a=a.rgb();var c=this.rgb();b=b===void 0?.5:b;var d=2*b-1,e=a.alpha()-c.alpha();d=((d*e===-1?d:(d+e)/(1+d*e))+1)/2;e=1-d;return j.rgb(d*a.red()+e*c.red(),d*a.green()+e*c.green(),d*a.blue()+e*c.blue(),a.alpha()*b+c.alpha()*(1-b))}};Object.keys(b).forEach(function(a){if(d.indexOf(a)!==-1)return;var e=b[a].channels;j.prototype[a]=function(){if(this.model===a)return new j(this);if(arguments.length)return new j(arguments,a);var c=typeof arguments[e]==="number"?e:this.valpha;return new j(o(b[this.model][a].raw(this.color)).concat(c),a)};j[a]=function(b){typeof b==="number"&&(b=p(c.call(arguments),e));return new j(b,a)}});function k(a,b){return Number(a.toFixed(b))}function l(a){return function(b){return k(b,a)}}function m(a,b,c){a=Array.isArray(a)?a:[a];a.forEach(function(a){(f[a]||(f[a]=[]))[b]=c});a=a[0];return function(d){var e;if(arguments.length){c&&(d=c(d));e=this[a]();e.color[b]=d;return e}e=this[a]().color[b];c&&(e=c(e));return e}}function n(a){return function(b){return Math.max(0,Math.min(a,b))}}function o(a){return Array.isArray(a)?a:[a]}function p(a,b){for(var c=0;c<b;c++)typeof a[c]!=="number"&&(a[c]=0);return a}i.exports=j}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c},null);
__d("color",["color-3.0.0"],function(a,b,c,d,e,f){e.exports=b("color-3.0.0")()},null);
/**
 * License: https://www.facebook.com/legal/license/yfmK3YA3_Vc/
 */
__d("earcut-2.1.3",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=a;g.exports["default"]=a;function a(a,c,e){e=e||2;var f=c&&c.length,g=f?c[0]*e:a.length,h=b(a,0,g,e,!0),i=[];if(!h)return i;var k,l,m,n,o;f&&(h=j(a,c,h,e));if(a.length>80*e){k=f=a[0];l=c=a[1];for(var p=e;p<g;p+=e)m=a[p],n=a[p+1],m<k&&(k=m),n<l&&(l=n),m>f&&(f=m),n>c&&(c=n);o=Math.max(f-k,c-l);o=o!==0?1/o:0}d(h,i,e,k,l,o);return i}function b(a,b,c,d,e){var f;if(e===D(a,b,c,d)>0)for(e=b;e<c;e+=d)f=A(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=A(e,a[e],a[e+1],f);f&&u(f,f.next)&&(B(f),f=f.next);return f}function c(a,b){if(!a)return a;b||(b=a);a=a;var c;do{c=!1;if(!a.steiner&&(u(a,a.next)||t(a.prev,a,a.next)===0)){B(a);a=b=a.prev;if(a===a.next)break;c=!0}else a=a.next}while(c||a!==b);return b}function d(a,b,g,j,k,l,m){if(!a)return;!m&&l&&n(a,j,k,l);var o=a,p,q;while(a.prev!==a.next){p=a.prev;q=a.next;if(l?f(a,j,k,l):e(a)){b.push(p.i/g);b.push(a.i/g);b.push(q.i/g);B(a);a=q.next;o=q.next;continue}a=q;if(a===o){!m?d(c(a),b,g,j,k,l,1):m===1?(a=h(a,b,g),d(a,b,g,j,k,l,2)):m===2&&i(a,b,g,j,k,l);break}}}function e(a){var b=a.prev,c=a,d=a.next;if(t(b,c,d)>=0)return!1;var e=a.next.next;while(e!==a.prev){if(r(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&t(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function f(a,b,c,d){var e=a.prev,f=a,g=a.next;if(t(e,f,g)>=0)return!1;var h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y;h=p(h,i,b,c,d);i=p(j,k,b,c,d);j=a.prevZ;k=a.nextZ;while(j&&j.z>=h&&k&&k.z<=i){if(j!==a.prev&&j!==a.next&&r(e.x,e.y,f.x,f.y,g.x,g.y,j.x,j.y)&&t(j.prev,j,j.next)>=0)return!1;j=j.prevZ;if(k!==a.prev&&k!==a.next&&r(e.x,e.y,f.x,f.y,g.x,g.y,k.x,k.y)&&t(k.prev,k,k.next)>=0)return!1;k=k.nextZ}while(j&&j.z>=h){if(j!==a.prev&&j!==a.next&&r(e.x,e.y,f.x,f.y,g.x,g.y,j.x,j.y)&&t(j.prev,j,j.next)>=0)return!1;j=j.prevZ}while(k&&k.z<=i){if(k!==a.prev&&k!==a.next&&r(e.x,e.y,f.x,f.y,g.x,g.y,k.x,k.y)&&t(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function h(a,b,c){var d=a;do{var e=d.prev,f=d.next.next;!u(e,f)&&v(e,d,d.next,f)&&x(e,f)&&x(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),B(d),B(d.next),d=a=f);d=d.next}while(d!==a);return d}function i(a,b,e,f,g,h){var i=a;do{var j=i.next.next;while(j!==i.prev){if(i.i!==j.i&&s(i,j)){var k=z(i,j);i=c(i,i.next);k=c(k,k.next);d(i,b,e,f,g,h);d(k,b,e,f,g,h);return}j=j.next}i=i.next}while(i!==a)}function j(a,d,e,f){var g=[],h,i,j,m;for(h=0,i=d.length;h<i;h++)j=d[h]*f,m=h<i-1?d[h+1]*f:a.length,j=b(a,j,m,f,!1),j===j.next&&(j.steiner=!0),g.push(q(j));g.sort(k);for(h=0;h<g.length;h++)l(g[h],e),e=c(e,e.next);return e}function k(a,b){return a.x-b.x}function l(a,b){b=m(a,b);if(b){b=z(b,a);c(b,b.next)}}function m(a,b){var c=b,d=a.x,e=a.y,f=-Infinity,g;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var h=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(h<=d&&h>f){f=h;if(h===d){if(e===c.y)return c;if(e===c.next.y)return c.next}g=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!g)return null;if(d===f)return g.prev;h=g;b=g.x;var i=g.y,j=Infinity,k;c=g.next;while(c!==h)d>=c.x&&c.x>=b&&d!==c.x&&r(e<i?d:f,e,b,i,e<i?f:d,e,c.x,c.y)&&(k=Math.abs(e-c.y)/(d-c.x),(k<j||k===j&&c.x>g.x)&&x(c,a)&&(g=c,j=k)),c=c.next;return g}function n(a,b,c,d){var e=a;do e.z===null&&(e.z=p(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next;while(e!==a);e.prevZ.nextZ=null;e.prevZ=null;o(e)}function o(a){var b,c,d,e,f,g,h,i=1;do{c=a;a=null;f=null;g=0;while(c){g++;d=c;h=0;for(b=0;b<i;b++){h++;d=d.nextZ;if(!d)break}b=i;while(h>0||b>0&&d)h!==0&&(b===0||!d||c.z<=d.z)?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,b--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null;i*=2}while(g>1);return a}function p(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;a=(a|a<<1)&1431655765;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;b=(b|b<<1)&1431655765;return a|b<<1}function q(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function r(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function s(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!w(a,b)&&x(a,b)&&x(b,a)&&y(a,b)}function t(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function u(a,b){return a.x===b.x&&a.y===b.y}function v(a,b,c,d){return u(a,b)&&u(c,d)||u(a,d)&&u(c,b)?!0:t(a,b,c)>0!==t(a,b,d)>0&&t(c,d,a)>0!==t(c,d,b)>0}function w(a,b){var c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&v(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}function x(a,b){return t(a.prev,a,a.next)<0?t(a,b,a.next)>=0&&t(a,a.prev,b)>=0:t(a,b,a.prev)<0||t(a,a.next,b)<0}function y(a,b){var c=a,d=!1,e=(a.x+b.x)/2;b=(a.y+b.y)/2;do c.y>b!==c.next.y>b&&c.next.y!==c.y&&e<(c.next.x-c.x)*(b-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}function z(a,b){var c=new C(a.i,a.x,a.y),d=new C(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function A(a,b,c,d){a=new C(a,b,c);!d?(a.prev=a,a.next=a):(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a);return a}function B(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function C(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}a.deviation=function(a,b,c,d){var e=b&&b.length,f=e?b[0]*c:a.length;f=Math.abs(D(a,0,f,c));if(e)for(var e=0,g=b.length;e<g;e++){var h=b[e]*c,i=e<g-1?b[e+1]*c:a.length;f-=Math.abs(D(a,h,i,c))}h=0;for(e=0;e<d.length;e+=3){i=d[e]*c;b=d[e+1]*c;g=d[e+2]*c;h+=Math.abs((a[i]-a[g])*(a[b+1]-a[i+1])-(a[i]-a[b])*(a[g+1]-a[i+1]))}return f===0&&h===0?0:Math.abs((h-f)/f)};function D(a,b,c,d){var e=0;for(var b=b,f=c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}a.flatten=function(a){var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0;for(var e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);e>0&&(d+=a[e-1].length,c.holes.push(d))}return c}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("eventemitter3-2.0.3",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=Object.prototype.hasOwnProperty,b="~";function c(){}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(b=!1));function d(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function e(){this._events=new c(),this._eventsCount=0}e.prototype.eventNames=function(){var c=[],d,e;if(this._eventsCount===0)return c;for(e in d=this._events)a.call(d,e)&&c.push(b?e.slice(1):e);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c};e.prototype.listeners=function(a,c){a=b?b+a:a;a=this._events[a];if(c)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var c=0,d=a.length,e=new Array(d);c<d;c++)e[c]=a[c].fn;return e};e.prototype.emit=function(a,c,d,e,f,g){var h=b?b+a:a;if(!this._events[h])return!1;var i=this._events[h],j=arguments.length,k,l;if(i.fn){i.once&&this.removeListener(a,i.fn,void 0,!0);switch(j){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,c),!0;case 3:return i.fn.call(i.context,c,d),!0;case 4:return i.fn.call(i.context,c,d,e),!0;case 5:return i.fn.call(i.context,c,d,e,f),!0;case 6:return i.fn.call(i.context,c,d,e,f,g),!0}for(l=1,k=new Array(j-1);l<j;l++)k[l-1]=arguments[l];i.fn.apply(i.context,k)}else{var m=i.length,n;for(l=0;l<m;l++){i[l].once&&this.removeListener(a,i[l].fn,void 0,!0);switch(j){case 1:i[l].fn.call(i[l].context);break;case 2:i[l].fn.call(i[l].context,c);break;case 3:i[l].fn.call(i[l].context,c,d);break;case 4:i[l].fn.call(i[l].context,c,d,e);break;default:if(!k)for(n=1,k=new Array(j-1);n<j;n++)k[n-1]=arguments[n];i[l].fn.apply(i[l].context,k)}}}return!0};e.prototype.on=function(a,c,e){c=new d(c,e||this);e=b?b+a:a;!this._events[e]?(this._events[e]=c,this._eventsCount++):!this._events[e].fn?this._events[e].push(c):this._events[e]=[this._events[e],c];return this};e.prototype.once=function(a,c,e){c=new d(c,e||this,!0);e=b?b+a:a;!this._events[e]?(this._events[e]=c,this._eventsCount++):!this._events[e].fn?this._events[e].push(c):this._events[e]=[this._events[e],c];return this};e.prototype.removeListener=function(a,d,e,f){a=b?b+a:a;if(!this._events[a])return this;if(!d){--this._eventsCount===0?this._events=new c():delete this._events[a];return this}var g=this._events[a];if(g.fn)g.fn===d&&(!f||g.once)&&(!e||g.context===e)&&(--this._eventsCount===0?this._events=new c():delete this._events[a]);else{for(var h=0,i=[],j=g.length;h<j;h++)(g[h].fn!==d||f&&!g[h].once||e&&g[h].context!==e)&&i.push(g[h]);i.length?this._events[a]=i.length===1?i[0]:i:--this._eventsCount===0?this._events=new c():delete this._events[a]}return this};e.prototype.removeAllListeners=function(a){a?(a=b?b+a:a,this._events[a]&&(--this._eventsCount===0?this._events=new c():delete this._events[a])):(this._events=new c(),this._eventsCount=0);return this};e.prototype.off=e.prototype.removeListener;e.prototype.addListener=e.prototype.on;e.prototype.setMaxListeners=function(){return this};e.prefixed=b;e.EventEmitter=e;"undefined"!==typeof g&&(g.exports=e)}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
__d("immer",["immer-5.3.6"],function(a,b,c,d,e,f){e.exports=b("immer-5.3.6")()},null);
/**
 * License: https://www.facebook.com/legal/license/e1uPfGqT9n9/
 */
__d("ismobilejs-0.4.1",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b},h;function i(){(function(b){var c=/iPhone/i,d=/iPod/i,e=/iPad/i,f=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,i=/Android/i,j=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,k=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/Windows Phone/i,m=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,n=/BlackBerry/i,o=/BB10/i,p=/Opera Mini/i,q=/(CriOS|Chrome)(?=.*\bMobile\b)/i,r=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,s=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),t=function(a,b){return a.test(b)},u=function(a){a=a||navigator.userAgent;var b=a.split("[FBAN");typeof b[1]!=="undefined"&&(a=b[0]);b=a.split("Twitter");typeof b[1]!=="undefined"&&(a=b[0]);this.apple={phone:t(c,a),ipod:t(d,a),tablet:!t(c,a)&&t(e,a),device:t(c,a)||t(d,a)||t(e,a)};this.amazon={phone:t(j,a),tablet:!t(j,a)&&t(k,a),device:t(j,a)||t(k,a)};this.android={phone:t(j,a)||t(f,a),tablet:!t(j,a)&&!t(f,a)&&(t(k,a)||t(i,a)),device:t(j,a)||t(k,a)||t(f,a)||t(i,a)};this.windows={phone:t(l,a),tablet:t(m,a),device:t(l,a)||t(m,a)};this.other={blackberry:t(n,a),blackberry10:t(o,a),opera:t(p,a),firefox:t(r,a),chrome:t(q,a),device:t(n,a)||t(o,a)||t(p,a)||t(r,a)||t(q,a)};this.seven_inch=t(s,a);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined")return this},v=function(){var a=new u();a.Class=u;return a};typeof g!=="undefined"&&g.exports&&typeof window==="undefined"?g.exports=u:typeof g!=="undefined"&&g.exports&&typeof window!=="undefined"?g.exports=v():typeof h==="function"&&h.amd?h("isMobile",[],b.isMobile=v()):b.isMobile=v()})(this)}var j=!1;function k(){j||(j=!0,i());return g.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("mini-signals-1.2.0",[],function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(a,d,e){d===void 0&&(d=!1),b(this,c),this._fn=a,this._once=d,this._thisArg=e,this._next=this._prev=this._owner=null}a(c,[{key:"detach",value:function(){if(this._owner===null)return!1;this._owner.detach(this);return!0}}]);return c}();function d(a,b){!a._head?(a._head=b,a._tail=b):(a._tail._next=b,b._prev=a._tail,a._tail=b);b._owner=a;return b}var e=function(){function e(){b(this,e),this._head=this._tail=void 0}a(e,[{key:"handlers",value:function(){var a=arguments.length<=0||arguments[0]===void 0?!1:arguments[0],b=this._head;if(a)return!!b;var c=[];while(b)c.push(b),b=b._next;return c}},{key:"has",value:function(a){if(!(a instanceof c))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=this._head;if(!a)return!1;while(a)a._once&&this.detach(a),a._fn.apply(a._thisArg,arguments),a=a._next;return!0}},{key:"add",value:function(a){var b=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof a!=="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return d(this,new c(a,!1,b))}},{key:"once",value:function(a){var b=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof a!=="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return d(this,new c(a,!0,b))}},{key:"detach",value:function(a){if(!(a instanceof c))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(a._owner!==this)return this;a._prev&&(a._prev._next=a._next);a._next&&(a._next._prev=a._prev);a===this._head?(this._head=a._next,a._next===null&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null);a._owner=null;return this}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;this._head=this._tail=null;while(a)a._owner=null,a=a._next;return this}}]);return e}();e.MiniSignalBinding=c;g["default"]=e;h.exports=g["default"]}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("parse-uri-1.0.0",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=function(a,b){b=b||{};var c={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};b=c.parser[b.strictMode?"strict":"loose"].exec(a);var d={};a=14;while(a--)d[c.key[a]]=b[a]||"";d[c.q.name]={};d[c.key[12]].replace(c.q.parser,function(a,b,e){b&&(d[c.q.name][b]=e)});return d}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("pixi-gl-core-1.1.4",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(a,b){a=a.getContext("webgl",b)||a.getContext("experimental-webgl",b);if(!a)throw new Error("This browser does not support webGL. Try using the canvas renderer");return a};g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){var a=function(a,b,c){var d;if(c){var e=c.tempAttribState,f=c.attribState;for(d=0;d<e.length;d++)e[d]=!1;for(d=0;d<b.length;d++)e[b[d].attribute.location]=!0;for(d=0;d<f.length;d++)f[d]!==e[d]&&(f[d]=e[d],c.attribState[d]?a.enableVertexAttribArray(d):a.disableVertexAttribArray(d))}else for(d=0;d<b.length;d++){f=b[d];a.enableVertexAttribArray(f.attribute.location)}};k.exports=a}var m=!1;function n(){m||(m=!0,l());return k.exports}d={};var o={exports:d};function aa(){var a=new ArrayBuffer(0),b=function(b,c,d,e){this.gl=b,this.buffer=b.createBuffer(),this.type=c||b.ARRAY_BUFFER,this.drawType=e||b.STATIC_DRAW,this.data=a,d&&this.upload(d),this._updateID=0};b.prototype.upload=function(a,b,c){c||this.bind();c=this.gl;a=a||this.data;b=b||0;this.data.byteLength>=a.byteLength?c.bufferSubData(this.type,b,a):c.bufferData(this.type,a,this.drawType);this.data=a};b.prototype.bind=function(){var a=this.gl;a.bindBuffer(this.type,this.buffer)};b.createVertexBuffer=function(a,c,d){return new b(a,a.ARRAY_BUFFER,c,d)};b.createIndexBuffer=function(a,c,d){return new b(a,a.ELEMENT_ARRAY_BUFFER,c,d)};b.create=function(a,c,d,e){return new b(a,c,d,e)};b.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};o.exports=b}var p=!1;function ba(){p||(p=!0,aa());return o.exports}f={};var q={exports:f};function ca(){var a=function(a,b,c,d,e){this.gl=a,this.texture=a.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=b||-1,this.height=c||-1,this.format=d||a.RGBA,this.type=e||a.UNSIGNED_BYTE};a.prototype.upload=function(a){this.bind();var b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var c=a.videoWidth||a.width,d=a.videoHeight||a.height;d!==this.height||c!==this.width?b.texImage2D(b.TEXTURE_2D,0,this.format,this.format,this.type,a):b.texSubImage2D(b.TEXTURE_2D,0,0,0,this.format,this.type,a);this.width=c;this.height=d};var b=!1;a.prototype.uploadData=function(a,c,d){this.bind();var e=this.gl;if(a instanceof Float32Array){if(!b){var f=e.getExtension("OES_texture_float");if(f)b=!0;else throw new Error("floating point textures not available")}this.type=e.FLOAT}else this.type=this.type||e.UNSIGNED_BYTE;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);c!==this.width||d!==this.height?e.texImage2D(e.TEXTURE_2D,0,this.format,c,d,0,this.format,this.type,a||null):e.texSubImage2D(e.TEXTURE_2D,0,0,0,c,d,this.format,this.type,a||null);this.width=c;this.height=d};a.prototype.bind=function(a){var b=this.gl;a!==void 0&&b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_2D,this.texture)};a.prototype.unbind=function(){var a=this.gl;a.bindTexture(a.TEXTURE_2D,null)};a.prototype.minFilter=function(a){var b=this.gl;this.bind();this.mipmap?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR_MIPMAP_LINEAR:b.NEAREST_MIPMAP_NEAREST):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR:b.NEAREST)};a.prototype.magFilter=function(a){var b=this.gl;this.bind();b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a?b.LINEAR:b.NEAREST)};a.prototype.enableMipmap=function(){var a=this.gl;this.bind();this.mipmap=!0;a.generateMipmap(a.TEXTURE_2D)};a.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)};a.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)};a.prototype.enableWrapClamp=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)};a.prototype.enableWrapRepeat=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)};a.prototype.enableWrapMirrorRepeat=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.MIRRORED_REPEAT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.MIRRORED_REPEAT)};a.prototype.destroy=function(){var a=this.gl;a.deleteTexture(this.texture)};a.fromSource=function(b,c,d){b=new a(b);b.premultiplyAlpha=d||!1;b.upload(c);return b};a.fromData=function(b,c,d,e){b=new a(b);b.uploadData(c,d,e);return b};q.exports=a}var r=!1;function s(){r||(r=!0,ca());return q.exports}b={};var t={exports:b};function da(){var a=s(),b=function(a,b,c){this.gl=a,this.framebuffer=a.createFramebuffer(),this.stencil=null,this.texture=null,this.width=b||100,this.height=c||100};b.prototype.enableTexture=function(b){var c=this.gl;this.texture=b||new a(c);this.texture.bind();this.bind();c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.texture.texture,0)};b.prototype.enableStencil=function(){if(this.stencil)return;var a=this.gl;this.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,this.stencil);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.stencil);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height)};b.prototype.clear=function(a,b,c,d){this.bind();var e=this.gl;e.clearColor(a,b,c,d);e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)};b.prototype.bind=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer)};b.prototype.unbind=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,null)};b.prototype.resize=function(a,b){var c=this.gl;this.width=a;this.height=b;this.texture&&this.texture.uploadData(null,a,b);this.stencil&&(c.bindRenderbuffer(c.RENDERBUFFER,this.stencil),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,a,b))};b.prototype.destroy=function(){var a=this.gl;this.texture&&this.texture.destroy();a.deleteFramebuffer(this.framebuffer);this.gl=null;this.stencil=null;this.texture=null};b.createRGBA=function(c,d,e,f){f=a.fromData(c,null,d,e);f.enableNearestScaling();f.enableWrapClamp();c=new b(c,d,e);c.enableTexture(f);c.unbind();return c};b.createFloat32=function(c,d,e,f){f=new a.fromData(c,f,d,e);f.enableNearestScaling();f.enableWrapClamp();c=new b(c,d,e);c.enableTexture(f);c.unbind();return c};t.exports=b}var u=!1;function ea(){u||(u=!0,da());return t.exports}c={};var v={exports:c};function fa(){var a=function(a,c,d,e){c=b(a,a.VERTEX_SHADER,c);d=b(a,a.FRAGMENT_SHADER,d);var f=a.createProgram();a.attachShader(f,c);a.attachShader(f,d);if(e)for(var g in e)a.bindAttribLocation(f,e[g],g);a.linkProgram(f);a.getProgramParameter(f,a.LINK_STATUS)||(a.getProgramInfoLog(f)!=="",a.deleteProgram(f),f=null);a.deleteShader(c);a.deleteShader(d);return f},b=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return!a.getShaderParameter(b,a.COMPILE_STATUS)?null:b};v.exports=a}var w=!1;function x(){w||(w=!0,fa());return v.exports}d={};var y={exports:d};function ga(){var a=function(a,d){if(!b){var e=Object.keys(c);b={};for(var f=0;f<e.length;++f){var g=e[f];b[a[g]]=c[g]}}return b[d]},b=null,c={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};y.exports=a}var z=!1;function A(){z||(z=!0,ga());return y.exports}f={};var B={exports:f};function ha(){var a=function(a){return b[a]},b={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};B.exports=a}var C=!1;function D(){C||(C=!0,ha());return B.exports}b={};var E={exports:b};function ia(){var a=A(),b=D(),c=function(c,e){var f={},g=c.getProgramParameter(e,c.ACTIVE_ATTRIBUTES);for(var h=0;h<g;h++){var i=c.getActiveAttrib(e,h),j=a(c,i.type);f[i.name]={type:j,size:b(j),location:c.getAttribLocation(e,i.name),pointer:d}}return f},d=function(a,b,c,d){gl.vertexAttribPointer(this.location,this.size,a||gl.FLOAT,b||!1,c||0,d||0)};E.exports=c}var F=!1;function G(){F||(F=!0,ia());return E.exports}c={};var H={exports:c};function ja(){var a=function(a,c){switch(a){case"float":return 0;case"vec2":return new Float32Array(2*c);case"vec3":return new Float32Array(3*c);case"vec4":return new Float32Array(4*c);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*c);case"ivec3":return new Int32Array(3*c);case"ivec4":return new Int32Array(4*c);case"bool":return!1;case"bvec2":return b(2*c);case"bvec3":return b(3*c);case"bvec4":return b(4*c);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},b=function(a){a=new Array(a);for(var b=0;b<a.length;b++)a[b]=!1;return a};H.exports=a}var I=!1;function J(){I||(I=!0,ja());return H.exports}d={};var K={exports:d};function ka(){var a=A(),b=J(),c=function(c,d){var e={},f=c.getProgramParameter(d,c.ACTIVE_UNIFORMS);for(var g=0;g<f;g++){var h=c.getActiveUniform(d,g),i=h.name.replace(/\[.*?\]/,""),j=a(c,h.type);e[i]={type:j,size:h.size,location:c.getUniformLocation(d,i),value:b(j,h.size)}}return e};K.exports=c}var L=!1;function M(){L||(L=!0,ka());return K.exports}f={};var N={exports:f};function la(){var a=function(a,b){return a.substring(0,9)!=="precision"?"precision "+b+" float;\n"+a:a};N.exports=a}var O=!1;function P(){O||(O=!0,la());return N.exports}b={};var Q={exports:b};function ma(){var a=function(a,c){var d={data:{}};d.gl=a;var g=Object.keys(c);for(var h=0;h<g.length;h++){var i=g[h],j=i.split("."),k=j[j.length-1];j=f(j,d);i=c[i];j.data[k]=i;j.gl=a;Object.defineProperty(j,k,{get:b(k),set:e(k,i)})}return d},b=function(a){return function(){return this.data[a].value}},c={"float":function(a,b,c){a.uniform1f(b,c)},vec2:function(a,b,c){a.uniform2f(b,c[0],c[1])},vec3:function(a,b,c){a.uniform3f(b,c[0],c[1],c[2])},vec4:function(a,b,c){a.uniform4f(b,c[0],c[1],c[2],c[3])},"int":function(a,b,c){a.uniform1i(b,c)},ivec2:function(a,b,c){a.uniform2i(b,c[0],c[1])},ivec3:function(a,b,c){a.uniform3i(b,c[0],c[1],c[2])},ivec4:function(a,b,c){a.uniform4i(b,c[0],c[1],c[2],c[3])},bool:function(a,b,c){a.uniform1i(b,c)},bvec2:function(a,b,c){a.uniform2i(b,c[0],c[1])},bvec3:function(a,b,c){a.uniform3i(b,c[0],c[1],c[2])},bvec4:function(a,b,c){a.uniform4i(b,c[0],c[1],c[2],c[3])},mat2:function(a,b,c){a.uniformMatrix2fv(b,!1,c)},mat3:function(a,b,c){a.uniformMatrix3fv(b,!1,c)},mat4:function(a,b,c){a.uniformMatrix4fv(b,!1,c)},sampler2D:function(a,b,c){a.uniform1i(b,c)}},d={"float":function(a,b,c){a.uniform1fv(b,c)},vec2:function(a,b,c){a.uniform2fv(b,c)},vec3:function(a,b,c){a.uniform3fv(b,c)},vec4:function(a,b,c){a.uniform4fv(b,c)},"int":function(a,b,c){a.uniform1iv(b,c)},ivec2:function(a,b,c){a.uniform2iv(b,c)},ivec3:function(a,b,c){a.uniform3iv(b,c)},ivec4:function(a,b,c){a.uniform4iv(b,c)},bool:function(a,b,c){a.uniform1iv(b,c)},bvec2:function(a,b,c){a.uniform2iv(b,c)},bvec3:function(a,b,c){a.uniform3iv(b,c)},bvec4:function(a,b,c){a.uniform4iv(b,c)},sampler2D:function(a,b,c){a.uniform1iv(b,c)}};function e(a,b){return function(e){this.data[a].value=e;var f=this.data[a].location;b.size===1?c[b.type](this.gl,f,e):d[b.type](this.gl,f,e)}}function f(a,b){b=b;for(var c=0;c<a.length-1;c++){var d=b[a[c]]||{data:{}};b[a[c]]=d;b=d}return b}Q.exports=a}var R=!1;function S(){R||(R=!0,ma());return Q.exports}c={};var T={exports:c};function na(){var a=x(),b=G(),c=M(),d=P(),e=S(),f=function(f,g,h,i,j){this.gl=f,i&&(g=d(g,i),h=d(h,i)),this.program=a(f,g,h,j),this.attributes=b(f,this.program),this.uniformData=c(f,this.program),this.uniforms=e(f,this.uniformData)};f.prototype.bind=function(){this.gl.useProgram(this.program);return this};f.prototype.destroy=function(){this.attributes=null;this.uniformData=null;this.uniforms=null;var a=this.gl;a.deleteProgram(this.program)};T.exports=f}var U=!1;function oa(){U||(U=!0,na());return T.exports}d={};var V={exports:d};function pa(){var a=n();function b(a,c){this.nativeVaoExtension=null;b.FORCE_NATIVE||(this.nativeVaoExtension=a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=c;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();c=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(c),attribState:new Array(c)}}this.gl=a;this.attributes=[];this.indexBuffer=null;this.dirty=!1}b.prototype.constructor=b;V.exports=b;b.FORCE_NATIVE=!1;b.prototype.bind=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);if(this.dirty){this.dirty=!1;this.activate();return this}this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this};b.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};b.prototype.activate=function(){var b=this.gl,c=null;for(var d=0;d<this.attributes.length;d++){var e=this.attributes[d];c!==e.buffer&&(e.buffer.bind(),c=e.buffer);b.vertexAttribPointer(e.attribute.location,e.attribute.size,e.type||b.FLOAT,e.normalized||!1,e.stride||0,e.start||0)}a(b,this.attributes,this.nativeState);this.indexBuffer&&this.indexBuffer.bind();return this};b.prototype.addAttribute=function(a,b,c,d,e,f){this.attributes.push({buffer:a,attribute:b,location:b.location,type:c||this.gl.FLOAT,normalized:d||!1,stride:e||0,start:f||0});this.dirty=!0;return this};b.prototype.addIndex=function(a){this.indexBuffer=a;this.dirty=!0;return this};b.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=0;this.indexBuffer=null;return this};b.prototype.draw=function(a,b,c){var d=this.gl;this.indexBuffer?d.drawElements(a,b||this.indexBuffer.data.length,d.UNSIGNED_SHORT,(c||0)*2):d.drawArrays(a,c,b||this.getSize());return this};b.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null};b.prototype.getSize=function(){var a=this.attributes[0];return a.buffer.data.length/(a.stride/4||a.attribute.size)}}var W=!1;function qa(){W||(W=!0,pa());return V.exports}f={};var X={exports:f};function ra(){X.exports={compileProgram:x(),defaultValue:J(),extractAttributes:G(),extractUniforms:M(),generateUniformAccessObject:S(),setPrecision:P(),mapSize:D(),mapType:A()}}var Y=!1;function sa(){Y||(Y=!0,ra());return X.exports}b={};var Z={exports:b};function ta(){var a={createContext:j(),setVertexAttribArrays:n(),GLBuffer:ba(),GLFramebuffer:ea(),GLShader:oa(),GLTexture:s(),VertexArrayObject:qa(),shader:sa()};typeof Z!=="undefined"&&Z.exports&&(Z.exports=a);typeof window!=="undefined"&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=a)}var $=!1;function ua(){$||($=!0,ta());return Z.exports}function a(a){switch(a){case void 0:return ua()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("remove-array-items-1.0.0",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=function(a,b,c){var d=a.length;if(b>=d||c===0)return;c=b+c>d?d-b:c;d=d-c;for(b=b;b<d;++b)a[b]=a[b+c];a.length=d}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("resource-loader-2.1.1",["parse-uri-1.0.0","mini-signals-1.2.0"],function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("parse-uri-1.0.0")),h=a(b("mini-signals-1.2.0")),i={},j={exports:i};function k(){i.__esModule=!0;i.eachSeries=b;i.queue=d;function a(){}function b(a,b,c,d){var e=0,f=a.length;(function g(h){if(h||e===f){c&&c(h);return}d?setTimeout(function(){b(a[e++],g)},1):b(a[e++],g)})()}function c(a){return function(){if(a===null)throw new Error("Callback was already called.");var b=a;a=null;b.apply(this,arguments)}}function d(b,d){if(d==null)d=1;else if(d===0)throw new Error("Concurrency must not be zero");var e=0,f={_tasks:[],concurrency:d,saturated:a,unsaturated:a,buffer:d/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(a,b){g(a,!1,b)},kill:function(){e=0,f.drain=a,f.started=!1,f._tasks=[]},unshift:function(a,b){g(a,!0,b)},process:function(){while(!f.paused&&e<f.concurrency&&f._tasks.length){var a=f._tasks.shift();f._tasks.length===0&&f.empty();e+=1;e===f.concurrency&&f.saturated();b(a.data,c(h(a)))}},length:function(){return f._tasks.length},running:function(){return e},idle:function(){return f._tasks.length+e===0},pause:function(){if(f.paused===!0)return;f.paused=!0},resume:function(){if(f.paused===!1)return;f.paused=!1;for(var a=1;a<=f.concurrency;a++)f.process()}};function g(b,c,d){if(d!=null&&typeof d!=="function")throw new Error("task callback must be a function");f.started=!0;if(b==null&&f.idle()){setTimeout(function(){return f.drain()},1);return}b={data:b,callback:typeof d==="function"?d:a};c?f._tasks.unshift(b):f._tasks.push(b);setTimeout(function(){return f.process()},1)}function h(a){return function(){e-=1,a.callback.apply(a,arguments),arguments[0]!=null&&f.error(arguments[0],a.data),e<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}return f}}var l=!1;function m(){l||(l=!0,k());return j.exports}var n={},o={exports:n};function p(){n.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=g(),c=e(b);b=h();var d=e(b);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var i=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest())),j=null,k=0,l=200,m=204,o=1223,p=2;function q(){}e=function(){b.setExtensionLoadType=function(a,c){r(b._loadTypeMap,a,c)};b.setExtensionXhrType=function(a,c){r(b._xhrTypeMap,a,c)};function b(a,c,e){f(this,b);if(typeof a!=="string"||typeof c!=="string")throw new Error("Both name and url are required for constructing a resource.");e=e||{};this._flags=0;this._setFlag(b.STATUS_FLAGS.DATA_URL,c.indexOf("data:")===0);this.name=a;this.url=c;this.extension=this._getExtension();this.data=null;this.crossOrigin=e.crossOrigin===!0?"anonymous":e.crossOrigin;this.loadType=e.loadType||this._determineLoadType();this.xhrType=e.xhrType;this.metadata=e.metadata||{};this.error=null;this.xhr=null;this.children=[];this.type=b.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=q;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new d["default"]();this.onProgress=new d["default"]();this.onComplete=new d["default"]();this.onAfterMiddleware=new d["default"]()}b.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(b.STATUS_FLAGS.COMPLETE,!0);this._setFlag(b.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};b.prototype.abort=function(a){if(this.error)return;this.error=new Error(a);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=b.EMPTY_GIF;else while(this.data.firstChild)this.data.removeChild(this.data.firstChild);this.complete()};b.prototype.load=function(a){var c=this;if(this.isLoading)return;if(this.isComplete){a&&setTimeout(function(){return a(c)},1);return}else a&&this.onComplete.once(a);this._setFlag(b.STATUS_FLAGS.LOADING,!0);this.onStart.dispatch(this);(this.crossOrigin===!1||typeof this.crossOrigin!=="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url));switch(this.loadType){case b.LOAD_TYPE.IMAGE:this.type=b.TYPE.IMAGE;this._loadElement("image");break;case b.LOAD_TYPE.AUDIO:this.type=b.TYPE.AUDIO;this._loadSourceElement("audio");break;case b.LOAD_TYPE.VIDEO:this.type=b.TYPE.VIDEO;this._loadSourceElement("video");break;case b.LOAD_TYPE.XHR:default:i&&this.crossOrigin?this._loadXdr():this._loadXhr();break}};b.prototype._hasFlag=function(a){return!!(this._flags&a)};b.prototype._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a};b.prototype._loadElement=function(a){this.metadata.loadElement?this.data=this.metadata.loadElement:a==="image"&&typeof window.Image!=="undefined"?this.data=new Image():this.data=document.createElement(a),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)};b.prototype._loadSourceElement=function(a){this.metadata.loadElement?this.data=this.metadata.loadElement:a==="audio"&&typeof window.Audio!=="undefined"?this.data=new Audio():this.data=document.createElement(a);if(this.data===null){this.abort("Unsupported element: "+a);return}if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url)){var b=this.metadata.mimeType;for(var c=0;c<this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c],Array.isArray(b)?b[c]:b))}else{c=this.metadata.mimeType;this.data.appendChild(this._createSource(a,this.url,Array.isArray(c)?c[0]:c))}this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()};b.prototype._loadXhr=function(){typeof this.xhrType!=="string"&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest();a.open("GET",this.url,!0);this.xhrType===b.XHR_RESPONSE_TYPE.JSON||this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT?a.responseType=b.XHR_RESPONSE_TYPE.TEXT:a.responseType=this.xhrType;a.addEventListener("error",this._boundXhrOnError,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};b.prototype._loadXdr=function(){typeof this.xhrType!=="string"&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest();a.timeout=5e3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXdrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,!0);setTimeout(function(){return a.send()},1)};b.prototype._createSource=function(a,b,c){c||(c=a+"/"+this._getExtension(b));a=document.createElement("source");a.src=b;a.type=c;return a};b.prototype._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)};b.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};b.prototype._xhrOnError=function(){var a=this.xhr;this.abort(s(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')};b.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+" Request was aborted by the user.")};b.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+" Request timed out.")};b.prototype._xhrOnLoad=function(){var a=this.xhr,c="",d=typeof a.status==="undefined"?l:a.status;(a.responseType===""||a.responseType==="text"||typeof a.responseType==="undefined")&&(c=a.responseText);d===k&&(c.length>0||a.responseType===b.XHR_RESPONSE_TYPE.BUFFER)?d=l:d===o&&(d=m);d=d/100|0;if(d===p)if(this.xhrType===b.XHR_RESPONSE_TYPE.TEXT)this.data=c,this.type=b.TYPE.TEXT;else if(this.xhrType===b.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(c),this.type=b.TYPE.JSON}catch(a){this.abort("Error trying to parse loaded json: "+a);return}else if(this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){d=new DOMParser();this.data=d.parseFromString(c,"text/xml")}else{d=document.createElement("div");d.innerHTML=c;this.data=d}this.type=b.TYPE.XML}catch(a){this.abort("Error trying to parse loaded xml: "+a);return}else this.data=a.response||c;else{this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL);return}this.complete()};b.prototype._determineCrossOrigin=function(a,b){if(a.indexOf("data:")===0)return"";b=b||window.location;j||(j=document.createElement("a"));j.href=a;a=c["default"](j.href,{strictMode:!0});var d=!a.port&&b.port===""||a.port===b.port,e=a.protocol?a.protocol+":":"";return a.host!==b.hostname||!d||e!==b.protocol?"anonymous":""};b.prototype._determineXhrType=function(){return b._xhrTypeMap[this.extension]||b.XHR_RESPONSE_TYPE.TEXT};b.prototype._determineLoadType=function(){return b._loadTypeMap[this.extension]||b.LOAD_TYPE.XHR};b.prototype._getExtension=function(){var a=this.url;if(this.isDataUrl){var b=a.indexOf("/");b=a.substring(b+1,a.indexOf(";",b))}else{var c=a.indexOf("?"),d=a.indexOf("#");c=Math.min(c>-1?c:a.length,d>-1?d:a.length);a=a.substring(0,c);b=a.substring(a.lastIndexOf(".")+1)}return b.toLowerCase()};b.prototype._getMimeFromXhrType=function(a){switch(a){case b.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case b.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case b.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case b.XHR_RESPONSE_TYPE.JSON:return"application/json";case b.XHR_RESPONSE_TYPE.DEFAULT:case b.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}};a(b,[{key:"isDataUrl",get:function(){return this._hasFlag(b.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(b.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(b.STATUS_FLAGS.LOADING)}}]);return b}();n["default"]=e;e.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};e.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};e.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};e.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO};e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER};e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function r(a,b,c){b&&b.indexOf(".")===0&&(b=b.substring(1));if(!b)return;a[b]=c}function s(a){return a.toString().replace("object ","")}}var q=!1;function r(){q||(q=!0,p());return o.exports}var s={},t={exports:s};function u(){s.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),c=h(),d=k(c);c=g();var e=k(c);c=m();var f=j(c);j=r();var i=k(j);function j(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var n=100,o=/(#[\w-]+)?$/;c=function(){function c(){var a=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;l(this,c);this.baseUrl=b;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(b,c){return a._loadResource(b,c)};this._queue=f.queue(this._boundLoadResource,e);this._queue.pause();this.resources={};this.onProgress=new d["default"]();this.onError=new d["default"]();this.onLoad=new d["default"]();this.onStart=new d["default"]();this.onComplete=new d["default"]()}c.prototype.add=function(b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;++f)this.add(b[f]);return this}(typeof b==="undefined"?"undefined":a(b))==="object"&&(e=c||b.callback||b.onComplete,d=b,c=b.url,b=b.name||b.key||b.url);typeof c!=="string"&&(e=d,d=c,c=b);if(typeof c!=="string")throw new Error("No url passed to add resource to loader.");typeof d==="function"&&(e=d,d=null);if(this.loading&&(!d||!d.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[b])throw new Error('Resource named "'+b+'" already exists.');c=this._prepareUrl(c);this.resources[b]=new i["default"](b,c,d);typeof e==="function"&&this.resources[b].onAfterMiddleware.once(e);if(this.loading){f=d.parentResource;c=[];for(var e=0;e<f.children.length;++e)f.children[e].isComplete||c.push(f.children[e]);d=f.progressChunk*(c.length+1);e=d/(c.length+2);f.children.push(this.resources[b]);f.progressChunk=e;for(var d=0;d<c.length;++d)c[d].progressChunk=e;this.resources[b].progressChunk=e}this._queue.push(this.resources[b]);return this};c.prototype.pre=function(a){this._beforeMiddleware.push(a);return this};c.prototype.use=function(a){this._afterMiddleware.push(a);return this};c.prototype.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach();b.isLoading&&b.abort()}this.resources={};return this};c.prototype.load=function(a){typeof a==="function"&&this.onComplete.once(a);if(this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{a=this._queue._tasks.length;a=100/a;for(var b=0;b<this._queue._tasks.length;++b)this._queue._tasks[b].data.progressChunk=a;this._onStart();this._queue.resume()}return this};c.prototype._prepareUrl=function(a){var b=e["default"](a,{strictMode:!0}),c=void 0;b.protocol||!b.path||a.indexOf("//")===0?c=a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&a.charAt(0)!=="/"?c=this.baseUrl+"/"+a:c=this.baseUrl+a;if(this.defaultQueryString){b=o.exec(c)[0];c=c.substr(0,c.length-b.length);c.indexOf("?")!==-1?c+="&"+this.defaultQueryString:c+="?"+this.defaultQueryString;c+=b}return c};c.prototype._loadResource=function(a,b){var c=this;a._dequeue=b;f.eachSeries(this._beforeMiddleware,function(b,d){b.call(c,a,function(){d(a.isComplete?{}:null)})},function(){a.isComplete?c._onLoad(a):(a._onLoadBinding=a.onComplete.once(c._onLoad,c),a.load())},!0)};c.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)};c.prototype._onComplete=function(){this.progress=n,this.loading=!1,this.onComplete.dispatch(this,this.resources)};c.prototype._onLoad=function(a){var b=this;a._onLoadBinding=null;this._resourcesParsing.push(a);a._dequeue();f.eachSeries(this._afterMiddleware,function(c,d){c.call(b,a,d)},function(){a.onAfterMiddleware.dispatch(a),b.progress+=a.progressChunk,b.onProgress.dispatch(b,a),a.error?b.onError.dispatch(a.error,b,a):b.onLoad.dispatch(b,a),b._resourcesParsing.splice(b._resourcesParsing.indexOf(a),1),b._queue.idle()&&b._resourcesParsing.length===0&&b._onComplete()},!0)};b(c,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(a){this._queue.concurrency=a}}]);return c}();s["default"]=c}var v=!1;function w(){v||(v=!0,u());return t.exports}var x={},y={exports:x};function z(){x.__esModule=!0;x.encodeBinary=b;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(b){var c="",d=0;while(d<b.length){var e=[0,0,0],f=[0,0,0,0];for(var g=0;g<e.length;++g)d<b.length?e[g]=b.charCodeAt(d++)&255:e[g]=0;f[0]=e[0]>>2;f[1]=(e[0]&3)<<4|e[1]>>4;f[2]=(e[1]&15)<<2|e[2]>>6;f[3]=e[2]&63;g=d-(b.length-1);switch(g){case 2:f[3]=64;f[2]=64;break;case 1:f[3]=64;break;default:break}for(var e=0;e<f.length;++e)c+=a.charAt(f[e])}return c}}var A=!1;function B(){A||(A=!0,z());return y.exports}d={};var C={exports:d};function D(){var a=w()["default"],b=r()["default"],c=m(),d=B();a.Resource=b;a.async=c;a.base64=d;C.exports=a;C.exports["default"]=a}var E=!1;function F(){E||(E=!0,D());return C.exports}var G={},H={exports:G};function I(){G.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};G.blobMiddlewareFactory=f;f=r();var b=d(f);f=B();var c=d(f);function d(a){return a&&a.__esModule?a:{"default":a}}var e=window.URL||window.webkitURL;function f(){return function(d,f){if(!d.data){f();return}if(d.xhr&&d.xhrType===b["default"].XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||typeof d.data==="string"){var g=d.xhr.getResponseHeader("content-type");if(g&&g.indexOf("image")===0){d.data=new Image();d.data.src="data:"+g+";base64,"+c["default"].encodeBinary(d.xhr.responseText);d.type=b["default"].TYPE.IMAGE;d.data.onload=function(){d.data.onload=null,f()};return}}else if(d.data.type.indexOf("image")===0){g=function(){var a=e.createObjectURL(d.data);d.blob=d.data;d.data=new Image();d.data.src=a;d.type=b["default"].TYPE.IMAGE;d.data.onload=function(){e.revokeObjectURL(a),d.data.onload=null,f()};return{v:void 0}}();if((typeof g==="undefined"?"undefined":a(g))==="object")return g.v}f()}}}var J=!1;function K(){J||(J=!0,I());return H.exports}function c(a){switch(a){case void 0:return F();case"/lib/middlewares/parsing/blob":return K()}}e.exports=c},null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("pixi-js-4.8.1",["object-assign-4.1.1","ismobilejs-0.4.1","eventemitter3-2.0.3","remove-array-items-1.0.0","earcut-2.1.3","bit-twiddle-1.0.2","pixi-gl-core-1.1.4","resource-loader-2.1.1"],function(a,b,c,d,e,f){"use strict";function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("object-assign-4.1.1")),h=c(b("ismobilejs-0.4.1")),i=c(b("eventemitter3-2.0.3")),j=c(b("remove-array-items-1.0.0")),k=c(b("earcut-2.1.3")),l=c(b("bit-twiddle-1.0.2")),m=c(b("pixi-gl-core-1.1.4")),n=c(b("resource-loader-2.1.1"));f={};var o={exports:f};function p(){var a=g();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}Object.assign||(Object.assign=b["default"])}var q=!1;function r(){q||(q=!0,p());return o.exports}c={};var s={exports:c};function t(){var b=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(a.performance&&a.performance.now)){var c=Date.now();a.performance||(a.performance={});a.performance.now=function(){return Date.now()-c}}var d=Date.now(),e=["ms","moz","webkit","o"];for(var f=0;f<e.length&&!a.requestAnimationFrame;++f){var g=e[f];a.requestAnimationFrame=a[g+"RequestAnimationFrame"];a.cancelAnimationFrame=a[g+"CancelAnimationFrame"]||a[g+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(a){if(typeof a!=="function")throw new TypeError(a+"is not a function");var c=Date.now(),e=b+d-c;e<0&&(e=0);d=c;return setTimeout(function(){d=Date.now(),a(performance.now())},e)});a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){return clearTimeout(a)})}var u=!1;function v(){u||(u=!0,t());return s.exports}b={};var w={exports:b};function x(){Math.sign||(Math.sign=function(a){a=Number(a);return a===0||isNaN(a)?a:a>0?1:-1})}var y=!1;function z(){y||(y=!0,x());return w.exports}f={};var A={exports:f};function B(){Number.isInteger||(Number.isInteger=function(a){return typeof a==="number"&&isFinite(a)&&Math.floor(a)===a})}var C=!1;function D(){C||(C=!0,B());return A.exports}c={};var E={exports:c};function F(){r(),v(),z(),D(),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)}var G=!1;function H(){G||(G=!0,F());return E.exports}var I={},J={exports:I};function aa(){I.__esModule=!0,I.VERSION="4.8.1",I.PI_2=Math.PI*2,I.RAD_TO_DEG=180/Math.PI,I.DEG_TO_RAD=Math.PI/180,I.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},I.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},I.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},I.SCALE_MODES={LINEAR:0,NEAREST:1},I.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},I.GC_MODES={AUTO:0,MANUAL:1},I.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,I.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,I.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,I.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},I.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},I.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},I.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},I.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}}var ba=!1;function K(){ba||(ba=!0,aa());return J.exports}var ca={},da={exports:ca};function L(){ca.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;a(this,b);this.x=c;this.y=d}b.prototype.clone=function(){return new b(this.x,this.y)};b.prototype.copy=function(a){this.set(a.x,a.y)};b.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};b.prototype.set=function(a,b){this.x=a||0,this.y=b||(b!==0?this.x:0)};return b}();ca["default"]=b}var ea=!1;function fa(){ea||(ea=!0,L());return da.exports}var M={},N={exports:M};function ga(){M.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(a,d){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;b(this,c);this._x=e;this._y=f;this.cb=a;this.scope=d}c.prototype.set=function(a,b){a=a||0;b=b||(b!==0?a:0);(this._x!==a||this._y!==b)&&(this._x=a,this._y=b,this.cb.call(this.scope))};c.prototype.copy=function(a){(this._x!==a.x||this._y!==a.y)&&(this._x=a.x,this._y=a.y,this.cb.call(this.scope))};a(c,[{key:"x",get:function(){return this._x},set:function(a){this._x!==a&&(this._x=a,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(a){this._y!==a&&(this._y=a,this.cb.call(this.scope))}}]);return c}();M["default"]=c}var ha=!1;function ia(){ha||(ha=!0,ga());return N.exports}var ja={},ka={exports:ja};function la(){ja.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=fa(),c=e(b),d=K();function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}e=function(){function b(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;f(this,b);this.a=a;this.b=c;this.c=d;this.d=e;this.tx=g;this.ty=h;this.array=null}b.prototype.fromArray=function(a){this.a=a[0],this.b=a[1],this.c=a[3],this.d=a[4],this.tx=a[2],this.ty=a[5]};b.prototype.set=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f;return this};b.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));b=b||this.array;a?(b[0]=this.a,b[1]=this.b,b[2]=0,b[3]=this.c,b[4]=this.d,b[5]=0,b[6]=this.tx,b[7]=this.ty,b[8]=1):(b[0]=this.a,b[1]=this.c,b[2]=this.tx,b[3]=this.b,b[4]=this.d,b[5]=this.ty,b[6]=0,b[7]=0,b[8]=1);return b};b.prototype.apply=function(a,b){b=b||new c["default"]();var d=a.x;a=a.y;b.x=this.a*d+this.c*a+this.tx;b.y=this.b*d+this.d*a+this.ty;return b};b.prototype.applyInverse=function(a,b){b=b||new c["default"]();var d=1/(this.a*this.d+this.c*-this.b),e=a.x;a=a.y;b.x=this.d*d*e+-this.c*d*a+(this.ty*this.c-this.tx*this.d)*d;b.y=this.a*d*a+-this.b*d*e+(-this.ty*this.a+this.tx*this.b)*d;return b};b.prototype.translate=function(a,b){this.tx+=a;this.ty+=b;return this};b.prototype.scale=function(a,b){this.a*=a;this.d*=b;this.c*=a;this.b*=b;this.tx*=a;this.ty*=b;return this};b.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.a,d=this.c,e=this.tx;this.a=c*b-this.b*a;this.b=c*a+this.b*b;this.c=d*b-this.d*a;this.d=d*a+this.d*b;this.tx=e*b-this.ty*a;this.ty=e*a+this.ty*b;return this};b.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d;this.a=a.a*b+a.b*d;this.b=a.a*c+a.b*e;this.c=a.c*b+a.d*d;this.d=a.c*c+a.d*e;this.tx=a.tx*b+a.ty*d+this.tx;this.ty=a.tx*c+a.ty*e+this.ty;return this};b.prototype.setTransform=function(a,b,c,d,e,f,g,h,i){this.a=Math.cos(g+i)*e;this.b=Math.sin(g+i)*e;this.c=-Math.sin(g-h)*f;this.d=Math.cos(g-h)*f;this.tx=a-(c*this.a+d*this.c);this.ty=b-(c*this.b+d*this.d);return this};b.prototype.prepend=function(a){var b=this.tx;if(a.a!==1||a.b!==0||a.c!==0||a.d!==1){var c=this.a,d=this.c;this.a=c*a.a+this.b*a.c;this.b=c*a.b+this.b*a.d;this.c=d*a.a+this.d*a.c;this.d=d*a.b+this.d*a.d}this.tx=b*a.a+this.ty*a.c+a.tx;this.ty=b*a.b+this.ty*a.d+a.ty;return this};b.prototype.decompose=function(a){var b=this.a,c=this.b,e=this.c,f=this.d,g=-Math.atan2(-e,f),h=Math.atan2(c,b),i=Math.abs(g+h);i<1e-5||Math.abs(d.PI_2-i)<1e-5?(a.rotation=h,b<0&&f>=0&&(a.rotation+=a.rotation<=0?Math.PI:-Math.PI),a.skew.x=a.skew.y=0):(a.rotation=0,a.skew.x=g,a.skew.y=h);a.scale.x=Math.sqrt(b*b+c*c);a.scale.y=Math.sqrt(e*e+f*f);a.position.x=this.tx;a.position.y=this.ty;return a};b.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;this.a=d/f;this.b=-b/f;this.c=-c/f;this.d=a/f;this.tx=(c*this.ty-d*e)/f;this.ty=-(a*this.ty-b*e)/f;return this};b.prototype.identity=function(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;return this};b.prototype.clone=function(){var a=new b();a.a=this.a;a.b=this.b;a.c=this.c;a.d=this.d;a.tx=this.tx;a.ty=this.ty;return a};b.prototype.copy=function(a){a.a=this.a;a.b=this.b;a.c=this.c;a.d=this.d;a.tx=this.tx;a.ty=this.ty;return a};a(b,null,[{key:"IDENTITY",get:function(){return new b()}},{key:"TEMP_MATRIX",get:function(){return new b()}}]);return b}();ja["default"]=e}var ma=!1;function na(){ma||(ma=!0,la());return ka.exports}var oa={},pa={exports:oa};function qa(){oa.__esModule=!0;var a=na(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}var d=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],e=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],f=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],g=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],i=[];function j(a){if(a<0)return-1;return a>0?1:0}function k(){for(var a=0;a<16;a++){var c=[];i.push(c);for(var k=0;k<16;k++){var l=j(d[a]*d[k]+f[a]*e[k]),m=j(e[a]*d[k]+g[a]*e[k]),n=j(d[a]*f[k]+f[a]*g[k]),o=j(e[a]*f[k]+g[a]*g[k]);for(var p=0;p<16;p++)if(d[p]===l&&e[p]===m&&f[p]===n&&g[p]===o){c.push(p);break}}}for(var l=0;l<16;l++){m=new b["default"]();m.set(d[l],e[l],f[l],g[l],0,0);h.push(m)}}k();var l={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return d[a]},uY:function(a){return e[a]},vX:function(a){return f[a]},vY:function(a){return g[a]},inv:function(a){return a&8?a&15:-a&7},add:function(a,b){return i[a][b]},sub:function(a,b){return i[a][l.inv(b)]},rotate180:function(a){return a^4},isVertical:function(a){return(a&3)===2},byDirection:function(a,b){if(Math.abs(a)*2<=Math.abs(b))return b>=0?l.S:l.N;else if(Math.abs(b)*2<=Math.abs(a))return a>0?l.E:l.W;else if(b>0)return a>0?l.SE:l.SW;else if(a>0)return l.NE;return l.NW},matrixAppendRotationInv:function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,e=h[l.inv(b)];e.tx=c;e.ty=d;a.append(e)}};oa["default"]=l}var ra=!1;function sa(){ra||(ra=!0,qa());return pa.exports}var ta={},ua={exports:ta};function va(){ta.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=K();function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function d(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;c(this,d);this.x=Number(a);this.y=Number(e);this.width=Number(f);this.height=Number(g);this.type=b.SHAPES.RECT}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this};d.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;return a>=this.x&&a<this.x+this.width&&(b>=this.y&&b<this.y+this.height)?!0:!1};d.prototype.pad=function(a,b){a=a||0,b=b||(b!==0?a:0),this.x-=a,this.y-=b,this.width+=a*2,this.height+=b*2};d.prototype.fit=function(a){this.x<a.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=a.x),this.y<a.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=a.y),this.x+this.width>a.x+a.width&&(this.width=a.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>a.y+a.height&&(this.height=a.height-this.y,this.height<0&&(this.height=0))};d.prototype.enlarge=function(a){var b=Math.min(this.x,a.x),c=Math.max(this.x+this.width,a.x+a.width),d=Math.min(this.y,a.y);a=Math.max(this.y+this.height,a.y+a.height);this.x=b;this.width=c-b;this.y=d;this.height=a-d};a(d,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new d(0,0,0,0)}}]);return d}();ta["default"]=d}var wa=!1;function xa(){wa||(wa=!0,va());return ua.exports}var ya={},za={exports:ya};function Aa(){ya.__esModule=!0;var a=xa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e(this,a);this.x=b;this.y=d;this.radius=f;this.type=c.SHAPES.CIRC}a.prototype.clone=function(){return new a(this.x,this.y,this.radius)};a.prototype.contains=function(a,b){if(this.radius<=0)return!1;var c=this.radius*this.radius;a=this.x-a;b=this.y-b;a*=a;b*=b;return a+b<=c};a.prototype.getBounds=function(){return new b["default"](this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};return a}();ya["default"]=d}var Ba=!1;function Ca(){Ba||(Ba=!0,Aa());return za.exports}var Da={},Ea={exports:Da};function Fa(){Da.__esModule=!0;var a=xa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;e(this,a);this.x=b;this.y=d;this.width=f;this.height=g;this.type=c.SHAPES.ELIP}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;a=(a-this.x)/this.width;b=(b-this.y)/this.height;a*=a;b*=b;return a+b<=1};a.prototype.getBounds=function(){return new b["default"](this.x-this.width,this.y-this.height,this.width,this.height)};return a}();Da["default"]=d}var Ga=!1;function Ha(){Ga||(Ga=!0,Fa());return Ea.exports}var Ia={},Ja={exports:Ia};function Ka(){Ia.__esModule=!0;var a=fa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(){for(var d=arguments.length,f=Array(d),g=0;g<d;g++)f[g]=arguments[g];e(this,a);Array.isArray(f[0])&&(f=f[0]);if(f[0]instanceof b["default"]){var h=[];for(var i=0,j=f.length;i<j;i++)h.push(f[i].x,f[i].y);f=h}this.closed=!0;this.points=f;this.type=c.SHAPES.POLY}a.prototype.clone=function(){return new a(this.points.slice())};a.prototype.close=function(){var a=this.points;(a[0]!==a[a.length-2]||a[1]!==a[a.length-1])&&a.push(a[0],a[1])};a.prototype.contains=function(a,b){var c=!1,d=this.points.length/2;for(var e=0,f=d-1;e<d;f=e++){var g=this.points[e*2],h=this.points[e*2+1],i=this.points[f*2],j=this.points[f*2+1];i=h>b!==j>b&&a<(i-g)*((b-h)/(j-h))+g;i&&(c=!c)}return c};return a}();Ia["default"]=d}var La=!1;function Ma(){La||(La=!0,Ka());return Ja.exports}var Na={},Oa={exports:Na};function Pa(){Na.__esModule=!0;var a=K();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20;b(this,c);this.x=d;this.y=e;this.width=f;this.height=g;this.radius=h;this.type=a.SHAPES.RREC}c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.radius)};c.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;if(a>=this.x&&a<=this.x+this.width&&(b>=this.y&&b<=this.y+this.height)){if(b>=this.y+this.radius&&b<=this.y+this.height-this.radius||a>=this.x+this.radius&&a<=this.x+this.width-this.radius)return!0;var c=a-(this.x+this.radius),d=b-(this.y+this.radius),e=this.radius*this.radius;if(c*c+d*d<=e)return!0;c=a-(this.x+this.width-this.radius);if(c*c+d*d<=e)return!0;d=b-(this.y+this.height-this.radius);if(c*c+d*d<=e)return!0;c=a-(this.x+this.radius);if(c*c+d*d<=e)return!0}return!1};return c}();Na["default"]=c}var Qa=!1;function Ra(){Qa||(Qa=!0,Pa());return Oa.exports}var O={},Sa={exports:O};function Ta(){O.__esModule=!0;var a=fa();Object.defineProperty(O,"Point",{enumerable:!0,get:function(){return j(a)["default"]}});var b=ia();Object.defineProperty(O,"ObservablePoint",{enumerable:!0,get:function(){return j(b)["default"]}});var c=na();Object.defineProperty(O,"Matrix",{enumerable:!0,get:function(){return j(c)["default"]}});var d=sa();Object.defineProperty(O,"GroupD8",{enumerable:!0,get:function(){return j(d)["default"]}});var e=Ca();Object.defineProperty(O,"Circle",{enumerable:!0,get:function(){return j(e)["default"]}});var f=Ha();Object.defineProperty(O,"Ellipse",{enumerable:!0,get:function(){return j(f)["default"]}});var g=Ma();Object.defineProperty(O,"Polygon",{enumerable:!0,get:function(){return j(g)["default"]}});var h=xa();Object.defineProperty(O,"Rectangle",{enumerable:!0,get:function(){return j(h)["default"]}});var i=Ra();Object.defineProperty(O,"RoundedRectangle",{enumerable:!0,get:function(){return j(i)["default"]}});function j(a){return a&&a.__esModule?a:{"default":a}}}var Ua=!1;function P(){Ua||(Ua=!0,Ta());return Sa.exports}var Va={},Wa={exports:Va};function Xa(){Va.__esModule=!0;var a=P();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(){b(this,c),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}c.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};c.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity};c.prototype.getRectangle=function(b){if(this.minX>this.maxX||this.minY>this.maxY)return a.Rectangle.EMPTY;b=b||new a.Rectangle(0,0,1,1);b.x=this.minX;b.y=this.minY;b.width=this.maxX-this.minX;b.height=this.maxY-this.minY;return b};c.prototype.addPoint=function(a){this.minX=Math.min(this.minX,a.x),this.maxX=Math.max(this.maxX,a.x),this.minY=Math.min(this.minY,a.y),this.maxY=Math.max(this.maxY,a.y)};c.prototype.addQuad=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY,f=a[0],g=a[1];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[2];g=a[3];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[4];g=a[5];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[6];g=a[7];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;this.minX=b;this.minY=c;this.maxX=d;this.maxY=e};c.prototype.addFrame=function(a,b,c,d,e){a=a.worldTransform;var f=a.a,g=a.b,h=a.c,i=a.d,j=a.tx;a=a.ty;var k=this.minX,l=this.minY,m=this.maxX,n=this.maxY,o=f*b+h*c+j,p=g*b+i*c+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*d+h*c+j;p=g*d+i*c+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*b+h*e+j;p=g*b+i*e+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*d+h*e+j;p=g*d+i*e+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;this.minX=k;this.minY=l;this.maxX=m;this.maxY=n};c.prototype.addVertices=function(a,b,c,d){a=a.worldTransform;var e=a.a,f=a.b,g=a.c,h=a.d,i=a.tx;a=a.ty;var j=this.minX,k=this.minY,l=this.maxX,m=this.maxY;for(var c=c;c<d;c+=2){var n=b[c],o=b[c+1],p=e*n+g*o+i;o=h*o+f*n+a;j=p<j?p:j;k=o<k?o:k;l=p>l?p:l;m=o>m?o:m}this.minX=j;this.minY=k;this.maxX=l;this.maxY=m};c.prototype.addBounds=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY;this.minX=a.minX<b?a.minX:b;this.minY=a.minY<c?a.minY:c;this.maxX=a.maxX>d?a.maxX:d;this.maxY=a.maxY>e?a.maxY:e};c.prototype.addBoundsMask=function(a,b){var c=a.minX>b.minX?a.minX:b.minX,d=a.minY>b.minY?a.minY:b.minY,e=a.maxX<b.maxX?a.maxX:b.maxX;a=a.maxY<b.maxY?a.maxY:b.maxY;if(c<=e&&d<=a){b=this.minX;var f=this.minY,g=this.maxX,h=this.maxY;this.minX=c<b?c:b;this.minY=d<f?d:f;this.maxX=e>g?e:g;this.maxY=a>h?a:h}};c.prototype.addBoundsArea=function(a,b){var c=a.minX>b.x?a.minX:b.x,d=a.minY>b.y?a.minY:b.y,e=a.maxX<b.x+b.width?a.maxX:b.x+b.width;a=a.maxY<b.y+b.height?a.maxY:b.y+b.height;if(c<=e&&d<=a){b=this.minX;var f=this.minY,g=this.maxX,h=this.maxY;this.minX=c<b?c:b;this.minY=d<f?d:f;this.maxX=e>g?e:g;this.maxY=a>h?a:h}};return c}();Va["default"]=c}var Ya=!1;function Za(){Ya||(Ya=!0,Xa());return Wa.exports}var $a={},ab={exports:$a};function bb(){$a.__esModule=!0;$a["default"]=c;c=h();var a=b(c);function b(a){return a&&a.__esModule?a:{"default":a}}function c(b){return a["default"].tablet||a["default"].phone?4:b}}var cb=!1;function db(){cb||(cb=!0,bb());return ab.exports}var eb={},fb={exports:eb};function gb(){eb.__esModule=!0;eb["default"]=a;function a(){var a=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!a}}var hb=!1;function ib(){hb||(hb=!0,gb());return fb.exports}var jb={},kb={exports:jb};function lb(){jb.__esModule=!0;var a=db();a=c(a);var b=ib();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}jb["default"]={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:a["default"](32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:c["default"](),MESH_CANVAS_PADDING:0}}var mb=!1;function Q(){mb||(mb=!0,lb());return kb.exports}var nb={},ob={exports:nb};function pb(){nb.__esModule=!0;var a=P();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(){b(this,c),this.worldTransform=new a.Matrix(),this.localTransform=new a.Matrix(),this._worldID=0,this._parentID=0}c.prototype.updateLocalTransform=function(){};c.prototype.updateTransform=function(a){a=a.worldTransform;var b=this.worldTransform,c=this.localTransform;b.a=c.a*a.a+c.b*a.c;b.b=c.a*a.b+c.b*a.d;b.c=c.c*a.a+c.d*a.c;b.d=c.c*a.b+c.d*a.d;b.tx=c.tx*a.a+c.ty*a.c+a.tx;b.ty=c.tx*a.b+c.ty*a.d+a.ty;this._worldID++};return c}();nb["default"]=c;c.prototype.updateWorldTransform=c.prototype.updateTransform;c.IDENTITY=new c()}var qb=!1;function rb(){qb||(qb=!0,pb());return ob.exports}var sb={},tb={exports:sb};function ub(){sb.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=rb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){g(d,c);function d(){e(this,d);var a=f(this,c.call(this));a.position=new b.ObservablePoint(a.onChange,a,0,0);a.scale=new b.ObservablePoint(a.onChange,a,1,1);a.pivot=new b.ObservablePoint(a.onChange,a,0,0);a.skew=new b.ObservablePoint(a.updateSkew,a,0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;a._localID=0;a._currentLocalID=0;return a}d.prototype.onChange=function(){this._localID++};d.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++};d.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)};d.prototype.updateTransform=function(a){var b=this.localTransform;this._localID!==this._currentLocalID&&(b.a=this._cx*this.scale._x,b.b=this._sx*this.scale._x,b.c=this._cy*this.scale._y,b.d=this._sy*this.scale._y,b.tx=this.position._x-(this.pivot._x*b.a+this.pivot._y*b.c),b.ty=this.position._y-(this.pivot._x*b.b+this.pivot._y*b.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==a._worldID){var c=a.worldTransform,d=this.worldTransform;d.a=b.a*c.a+b.b*c.c;d.b=b.a*c.b+b.b*c.d;d.c=b.c*c.a+b.d*c.c;d.d=b.c*c.b+b.d*c.d;d.tx=b.tx*c.a+b.ty*c.c+c.tx;d.ty=b.tx*c.b+b.ty*c.d+c.ty;this._parentID=a._worldID;this._worldID++}};d.prototype.setFromMatrix=function(a){a.decompose(this),this._localID++};a(d,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]);return d}(d["default"]);sb["default"]=c}var vb=!1;function wb(){vb||(vb=!0,ub());return tb.exports}var xb={},yb={exports:xb};function zb(){xb.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=rb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){g(d,c);function d(){e(this,d);var a=f(this,c.call(this));a.position=new b.Point(0,0);a.scale=new b.Point(1,1);a.skew=new b.ObservablePoint(a.updateSkew,a,0,0);a.pivot=new b.Point(0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;return a}d.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)};d.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x;a.b=this._sx*this.scale.x;a.c=this._cy*this.scale.y;a.d=this._sy*this.scale.y;a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c);a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)};d.prototype.updateTransform=function(a){var b=this.localTransform;b.a=this._cx*this.scale.x;b.b=this._sx*this.scale.x;b.c=this._cy*this.scale.y;b.d=this._sy*this.scale.y;b.tx=this.position.x-(this.pivot.x*b.a+this.pivot.y*b.c);b.ty=this.position.y-(this.pivot.x*b.b+this.pivot.y*b.d);a=a.worldTransform;var c=this.worldTransform;c.a=b.a*a.a+b.b*a.c;c.b=b.a*a.b+b.b*a.d;c.c=b.c*a.a+b.d*a.c;c.d=b.c*a.b+b.d*a.d;c.tx=b.tx*a.a+b.ty*a.c+a.tx;c.ty=b.tx*a.b+b.ty*a.d+a.ty;this._worldID++};d.prototype.setFromMatrix=function(a){a.decompose(this)};a(d,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]);return d}(d["default"]);xb["default"]=c}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return yb.exports}var Cb={},Db={exports:Cb};function Eb(){Cb.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=i();b=k(b);var c=K(),d=Q(),e=k(d);d=wb();var f=k(d);d=Bb();var g=k(d);d=Za();var h=k(d),j=P();function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function n(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}k=function(b){n(d,b);function d(){l(this,d);var a=m(this,b.call(this)),i=e["default"].TRANSFORM_MODE===c.TRANSFORM_MODE.STATIC?f["default"]:g["default"];a.tempDisplayObjectParent=null;a.transform=new i();a.alpha=1;a.visible=!0;a.renderable=!0;a.parent=null;a.worldAlpha=1;a.filterArea=null;a._filters=null;a._enabledFilters=null;a._bounds=new h["default"]();a._boundsID=0;a._lastBoundsID=-1;a._boundsRect=null;a._localBoundsRect=null;a._mask=null;a._destroyed=!1;return a}d.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++};d.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};d.prototype.getBounds=function(a,b){a||(!this.parent?(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null):(this._recursivePostUpdateTransform(),this.updateTransform()));this._boundsID!==this._lastBoundsID&&this.calculateBounds();b||(this._boundsRect||(this._boundsRect=new j.Rectangle()),b=this._boundsRect);return this._bounds.getRectangle(b)};d.prototype.getLocalBounds=function(a){var b=this.transform,c=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;a||(this._localBoundsRect||(this._localBoundsRect=new j.Rectangle()),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=c;this.transform=b;return a};d.prototype.toGlobal=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;c||(this._recursivePostUpdateTransform(),!this.parent?(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null):this.displayObjectUpdateTransform());return this.worldTransform.apply(a,b)};d.prototype.toLocal=function(a,b,c,d){b&&(a=b.toGlobal(a,c,d));d||(this._recursivePostUpdateTransform(),!this.parent?(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null):this.displayObjectUpdateTransform());return this.worldTransform.applyInverse(a,c)};d.prototype.renderWebGL=function(a){};d.prototype.renderCanvas=function(a){};d.prototype.setParent=function(a){if(!a||!a.addChild)throw new Error("setParent: Argument must be a Container");a.addChild(this);return a};d.prototype.setTransform=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,i=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0;this.position.x=a;this.position.y=b;this.scale.x=c?c:1;this.scale.y=d?d:1;this.rotation=e;this.skew.x=f;this.skew.y=g;this.pivot.x=h;this.pivot.y=i;return this};d.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0};a(d,[{key:"_tempDisplayObjectParent",get:function(){this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new d());return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",get:function(){return this.position.y},set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copy(a)}},{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=a,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]);return d}(b["default"]);Cb["default"]=k;k.prototype.displayObjectUpdateTransform=k.prototype.updateTransform}var Fb=!1;function Gb(){Fb||(Fb=!0,Eb());return Db.exports}var Hb={},Ib={exports:Hb};function Jb(){Hb.__esModule=!0;function a(a){a.__plugins={},a.registerPlugin=function(b,c){a.__plugins[b]=c},a.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var b in a.__plugins)this.plugins[b]=new a.__plugins[b](this)},a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}Hb["default"]={mixin:function(b){a(b)}}}var Kb=!1;function Lb(){Kb||(Kb=!0,Jb());return Ib.exports}var Mb={},Nb={exports:Mb};function Ob(){Mb.__esModule=!0;Mb.mixin=a;Mb.delayMixin=c;Mb.performMixins=d;function a(a,b){if(!a||!b)return;var c=Object.keys(b);for(var d=0;d<c.length;++d){var e=c[d];Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e))}}var b=[];function c(a,c){b.push(a,c)}function d(){for(var c=0;c<b.length;c+=2)a(b[c],b[c+1]);b.length=0}}var Pb=!1;function Qb(){Pb||(Pb=!0,Ob());return Nb.exports}var Rb={},Sb={exports:Rb};function Tb(){Rb.__esModule=!0;Rb["default"]=b;var a=K();function b(){var b=[],c=[];for(var d=0;d<32;d++)b[d]=d,c[d]=d;b[a.BLEND_MODES.NORMAL_NPM]=a.BLEND_MODES.NORMAL;b[a.BLEND_MODES.ADD_NPM]=a.BLEND_MODES.ADD;b[a.BLEND_MODES.SCREEN_NPM]=a.BLEND_MODES.SCREEN;c[a.BLEND_MODES.NORMAL]=a.BLEND_MODES.NORMAL_NPM;c[a.BLEND_MODES.ADD]=a.BLEND_MODES.ADD_NPM;c[a.BLEND_MODES.SCREEN]=a.BLEND_MODES.SCREEN_NPM;d=[];d.push(c);d.push(b);return d}}var Ub=!1;function Vb(){Ub||(Ub=!0,Tb());return Sb.exports}var R={},Wb={exports:R};function Xb(){R.__esModule=!0;R.premultiplyBlendMode=R.BaseTextureCache=R.TextureCache=R.earcut=R.mixins=R.pluginTarget=R.EventEmitter=R.removeItems=R.isMobile=void 0;R.uid=g;R.hex2rgb=l;R.hex2string=m;R.rgb2hex=n;R.getResolutionOfUrl=o;R.decomposeDataUri=p;R.getUrlFileExtension=q;R.getSvgSize=r;R.skipHello=s;R.sayHello=t;R.isWebGLSupported=u;R.sign=v;R.destroyTextureCache=y;R.clearTextureCache=z;R.correctBlendMode=B;R.premultiplyTint=C;R.premultiplyRgba=D;R.premultiplyTintToRgba=E;var a=K();g=Q();var b=d(g);l=i();m=d(l);n=Lb();o=d(n);p=Qb();q=c(p);r=h();s=c(r);t=j();u=d(t);v=Vb();y=d(v);z=k();B=d(z);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a){return a&&a.__esModule?a:{"default":a}}var e=0,f=!1;R.isMobile=s;R.removeItems=u["default"];R.EventEmitter=m["default"];R.pluginTarget=o["default"];R.mixins=q;R.earcut=B["default"];function g(){return++e}function l(a,b){b=b||[];b[0]=(a>>16&255)/255;b[1]=(a>>8&255)/255;b[2]=(a&255)/255;return b}function m(a){a=a.toString(16);a="000000".substr(0,6-a.length)+a;return"#"+a}function n(a){return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)}function o(a,c){a=b["default"].RETINA_PREFIX.exec(a);return a?parseFloat(a[1]):c!==void 0?c:1}function p(b){b=a.DATA_URI.exec(b);return b?{mediaType:b[1]?b[1].toLowerCase():void 0,subType:b[2]?b[2].toLowerCase():void 0,charset:b[3]?b[3].toLowerCase():void 0,encoding:b[4]?b[4].toLowerCase():void 0,data:b[5]}:void 0}function q(b){b=a.URL_FILE_EXTENSION.exec(b);return b?b[1].toLowerCase():void 0}function r(b){b=a.SVG_SIZE.exec(b);var c={};b&&(c[b[1]]=Math.round(parseFloat(b[3])),c[b[5]]=Math.round(parseFloat(b[7])));return c}function s(){f=!0}function t(b){if(f)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var c=["\n %c %c %c PixiJS "+a.VERSION+" - \u2730 "+b+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,c)}else window.console&&window.console.log("PixiJS "+a.VERSION+" - "+b+" - http://www.pixijs.com/");f=!0}function u(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas");b=b.getContext("webgl",a)||b.getContext("experimental-webgl",a);a=!!(b&&b.getContextAttributes().stencil);if(b){var c=b.getExtension("WEBGL_lose_context");c&&c.loseContext()}b=null;return a}catch(a){return!1}}function v(a){return a===0?0:a<0?-1:1}var w=R.TextureCache=Object.create(null),x=R.BaseTextureCache=Object.create(null);function y(){var a;for(a in w)w[a].destroy();for(a in x)x[a].destroy()}function z(){var a;for(a in w)delete w[a];for(a in x)delete x[a]}var A=R.premultiplyBlendMode=y["default"]();function B(a,b){return A[b?1:0][a]}function C(a,b){if(b===1)return(b*255<<24)+a;if(b===0)return 0;var c=a>>16&255,d=a>>8&255;a=a&255;c=c*b+.5|0;d=d*b+.5|0;a=a*b+.5|0;return(b*255<<24)+(c<<16)+(d<<8)+a}function D(a,b,c,d){c=c||new Float32Array(4);d||d===void 0?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b):(c[0]=a[0],c[1]=a[1],c[2]=a[2]);c[3]=b;return c}function E(a,b,c,d){c=c||new Float32Array(4);c[0]=(a>>16&255)/255;c[1]=(a>>8&255)/255;c[2]=(a&255)/255;(d||d===void 0)&&(c[0]*=b,c[1]*=b,c[2]*=b);c[3]=b;return c}}var Yb=!1;function S(){Yb||(Yb=!0,Xb());return Wb.exports}var Zb={},$b={exports:Zb};function ac(){Zb.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=S(),c=Gb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){g(d,c);function d(){e(this,d);var a=f(this,c.call(this));a.children=[];return a}d.prototype.onChildrenChange=function(){};d.prototype.addChild=function(a){var b=arguments.length;if(b>1)for(var c=0;c<b;c++)this.addChild(arguments[c]);else a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),a.emit("added",this);return a};d.prototype.addChildAt=function(a,b){if(b<0||b>this.children.length)throw new Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;a.transform._parentID=-1;this.children.splice(b,0,a);this._boundsID++;this.onChildrenChange(b);a.emit("added",this);return a};d.prototype.swapChildren=function(a,b){if(a===b)return;var c=this.getChildIndex(a),d=this.getChildIndex(b);this.children[c]=b;this.children[d]=a;this.onChildrenChange(c<d?c:d)};d.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(a===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return a};d.prototype.setChildIndex=function(a,c){if(c<0||c>=this.children.length)throw new Error("The index "+c+" supplied is out of bounds "+this.children.length);var d=this.getChildIndex(a);b.removeItems(this.children,d,1);this.children.splice(c,0,a);this.onChildrenChange(c)};d.prototype.getChildAt=function(a){if(a<0||a>=this.children.length)throw new Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};d.prototype.removeChild=function(a){var c=arguments.length;if(c>1)for(var d=0;d<c;d++)this.removeChild(arguments[d]);else{var e=this.children.indexOf(a);if(e===-1)return null;a.parent=null;a.transform._parentID=-1;b.removeItems(this.children,e,1);this._boundsID++;this.onChildrenChange(e);a.emit("removed",this)}return a};d.prototype.removeChildAt=function(a){var c=this.getChildAt(a);c.parent=null;c.transform._parentID=-1;b.removeItems(this.children,a,1);this._boundsID++;this.onChildrenChange(a);c.emit("removed",this);return c};d.prototype.removeChildren=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments[1],c=a,d=typeof b==="number"?b:this.children.length,e=d-c,f=void 0;if(e>0&&e<=d){f=this.children.splice(c,e);for(var g=0;g<f.length;++g)f[g].parent=null,f[g].transform&&(f[g].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);for(var h=0;h<f.length;++h)f[h].emit("removed",this);return f}else if(e===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")};d.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,b=this.children.length;a<b;++a){var c=this.children[a];c.visible&&c.updateTransform()}};d.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var a=0;a<this.children.length;a++){var b=this.children[a];if(!b.visible||!b.renderable)continue;b.calculateBounds();b._mask?(b._mask.calculateBounds(),this._bounds.addBoundsMask(b._bounds,b._mask._bounds)):b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds)}this._lastBoundsID=this._boundsID};d.prototype._calculateBounds=function(){};d.prototype.renderWebGL=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderWebGL(a)}};d.prototype.renderAdvancedWebGL=function(a){a.flush();var b=this._filters,c=this._mask;if(b){this._enabledFilters||(this._enabledFilters=[]);this._enabledFilters.length=0;for(var d=0;d<b.length;d++)b[d].enabled&&this._enabledFilters.push(b[d]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}c&&a.maskManager.pushMask(this,this._mask);this._renderWebGL(a);for(var d=0,e=this.children.length;d<e;d++)this.children[d].renderWebGL(a);a.flush();c&&a.maskManager.popMask(this,this._mask);b&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()};d.prototype._renderWebGL=function(a){};d.prototype._renderCanvas=function(a){};d.prototype.renderCanvas=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._mask&&a.maskManager.pushMask(this._mask);this._renderCanvas(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderCanvas(a);this._mask&&a.maskManager.popMask(a)};d.prototype.destroy=function(a){c.prototype.destroy.call(this);var b=typeof a==="boolean"?a:a&&a.children,d=this.removeChildren(0,this.children.length);if(b)for(var b=0;b<d.length;++b)d[b].destroy(a)};a(d,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var b=this.getLocalBounds().width;b!==0?this.scale.x=a/b:this.scale.x=1;this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;b!==0?this.scale.y=a/b:this.scale.y=1;this._height=a}}]);return d}(d["default"]);Zb["default"]=c;c.prototype.containerUpdateTransform=c.prototype.updateTransform}var bc=!1;function cc(){bc||(bc=!0,ac());return $b.exports}var dc={},ec={exports:dc};function fc(){dc.__esModule=!0;dc["default"]=d;d={};var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=void 0;function d(b){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location;if(b.indexOf("data:")===0)return"";d=d||window.location;c||(c=document.createElement("a"));c.href=b;b=a["default"].parse(c.href);var e=!b.port&&d.port===""||b.port===d.port;return b.hostname!==d.hostname||!e||b.protocol!==d.protocol?"anonymous":""}}var gc=!1;function hc(){gc||(gc=!0,fc());return ec.exports}var ic={},jc={exports:ic};function kc(){ic.__esModule=!0;var a=S(),b=Q(),c=g(b);b=i();b=g(b);var d=hc(),e=g(d);d=l();var f=g(d);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(b){k(d,b);function d(e,f,g){h(this,d);var i=j(this,b.call(this));i.uid=a.uid();i.touched=0;i.resolution=g||c["default"].RESOLUTION;i.width=100;i.height=100;i.realWidth=100;i.realHeight=100;i.scaleMode=f!==void 0?f:c["default"].SCALE_MODE;i.hasLoaded=!1;i.isLoading=!1;i.source=null;i.origSource=null;i.imageType=null;i.sourceScale=1;i.premultipliedAlpha=!0;i.imageUrl=null;i.isPowerOfTwo=!1;i.mipmap=c["default"].MIPMAP_TEXTURES;i.wrapMode=c["default"].WRAP_MODE;i._glTextures={};i._enabled=0;i._virtalBoundId=-1;i._destroyed=!1;i.textureCacheIds=[];e&&i.loadSource(e);return i}d.prototype.update=function(){this.imageType!=="svg"&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)};d.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=f["default"].isPow2(this.realWidth)&&f["default"].isPow2(this.realHeight)};d.prototype.loadSource=function(a){var b=this.isLoading;this.hasLoaded=!1;this.isLoading=!1;b&&this.source&&(this.source.onload=null,this.source.onerror=null);var c=!this.source;this.source=a;if((a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),this.imageType==="svg"?this._loadSvgSource():this._sourceLoaded(),c&&this.emit("loaded",this);else if(!a.getContext){this.isLoading=!0;var d=this;a.onload=function(){d._updateImageType();a.onload=null;a.onerror=null;if(!d.isLoading)return;d.isLoading=!1;d._sourceLoaded();if(d.imageType==="svg"){d._loadSvgSource();return}d.emit("loaded",d)};a.onerror=function(){a.onload=null;a.onerror=null;if(!d.isLoading)return;d.isLoading=!1;d.emit("error",d)};if(a.complete&&a.src){a.onload=null;a.onerror=null;if(d.imageType==="svg"){d._loadSvgSource();return}this.isLoading=!1;a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this)}}};d.prototype._updateImageType=function(){if(!this.imageUrl)return;var b=a.decomposeDataUri(this.imageUrl);if(b&&b.mediaType==="image"){b=b.subType.split("+")[0];b=a.getUrlFileExtension("."+b);if(!b)throw new Error("Invalid image type in data URI.")}else b=a.getUrlFileExtension(this.imageUrl),b||(b="png");this.imageType=b};d.prototype._loadSvgSource=function(){if(this.imageType!=="svg")return;var b=a.decomposeDataUri(this.imageUrl);b?this._loadSvgSourceUsingDataUri(b):this._loadSvgSourceUsingXhr()};d.prototype._loadSvgSourceUsingDataUri=function(a){var b;if(a.encoding==="base64"){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");b=atob(a.data)}else b=a.data;this._loadSvgSourceUsingString(b)};d.prototype._loadSvgSourceUsingXhr=function(){var a=this,b=new XMLHttpRequest();b.onload=function(){if(b.readyState!==b.DONE||b.status!==200)throw new Error("Failed to load SVG using XHR.");a._loadSvgSourceUsingString(b.response)};b.onerror=function(){return a.emit("error",a)};b.open("GET",this.imageUrl,!0);b.send()};d.prototype._loadSvgSourceUsingString=function(b){b=a.getSvgSize(b);var c=b.width;b=b.height;if(!c||!b)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(c*this.sourceScale);this.realHeight=Math.round(b*this.sourceScale);this._updateDimensions();var e=document.createElement("canvas");e.width=this.realWidth;e.height=this.realHeight;e._pixiId="canvas_"+a.uid();e.getContext("2d").drawImage(this.source,0,0,c,b,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=e;d.addToCache(this,e._pixiId);this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};d.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()};d.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),d.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0};d.prototype.dispose=function(){this.emit("dispose",this)};d.prototype.updateSourceImage=function(a){this.source.src=a,this.loadSource(this.source)};d.fromImage=function(b,c,f,g){var h=a.BaseTextureCache[b];if(!h){var i=new Image();c===void 0&&b.indexOf("data:")!==0?i.crossOrigin=e["default"](b):c&&(i.crossOrigin=typeof c==="string"?c:"anonymous");h=new d(i,f);h.imageUrl=b;g&&(h.sourceScale=g);h.resolution=a.getResolutionOfUrl(b);i.src=b;d.addToCache(h,b)}return h};d.fromCanvas=function(b,c){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";b._pixiId||(b._pixiId=e+"_"+a.uid());var f=a.BaseTextureCache[b._pixiId];f||(f=new d(b,c),d.addToCache(f,b._pixiId));return f};d.from=function(b,c,e){if(typeof b==="string")return d.fromImage(b,void 0,c,e);else if(b instanceof HTMLImageElement){var f=b.src,g=a.BaseTextureCache[f];g||(g=new d(b,c),g.imageUrl=f,e&&(g.sourceScale=e),g.resolution=a.getResolutionOfUrl(f),d.addToCache(g,f));return g}else if(b instanceof HTMLCanvasElement)return d.fromCanvas(b,c);return b};d.addToCache=function(b,c){c&&(b.textureCacheIds.indexOf(c)===-1&&b.textureCacheIds.push(c),a.BaseTextureCache[c],a.BaseTextureCache[c]=b)};d.removeFromCache=function(b){if(typeof b==="string"){var c=a.BaseTextureCache[b];if(c){var d=c.textureCacheIds.indexOf(b);d>-1&&c.textureCacheIds.splice(d,1);delete a.BaseTextureCache[b];return c}}else if(b&&b.textureCacheIds){for(var d=0;d<b.textureCacheIds.length;++d)delete a.BaseTextureCache[b.textureCacheIds[d]];b.textureCacheIds.length=0;return b}return null};return d}(b["default"]);ic["default"]=g}var lc=!1;function mc(){lc||(lc=!0,kc());return jc.exports}var nc={},oc={exports:nc};function pc(){nc.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;a(this,b);this.fn=c;this.context=d;this.priority=e;this.once=f;this.next=null;this.previous=null;this._destroyed=!1}b.prototype.match=function(a,b){b=b||null;return this.fn===a&&this.context===b};b.prototype.emit=function(a){this.fn&&(this.context?this.fn.call(this.context,a):this.fn(a));a=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return a};b.prototype.connect=function(a){this.previous=a,a.next&&(a.next.previous=this),this.next=a.next,a.next=this};b.prototype.destroy=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._destroyed=!0;this.fn=null;this.context=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var b=this.next;this.next=a?null:b;this.previous=null;return b};return b}();nc["default"]=b}var qc=!1;function rc(){qc||(qc=!0,pc());return oc.exports}var sc={},tc={exports:sc};function uc(){sc.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Q(),c=f(b),d=K();b=rc();var e=f(b);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){function b(){var a=this;g(this,b);this._head=new e["default"](null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/c["default"].TARGET_FPMS;this.lastTime=-1;this.speed=1;this.started=!1;this._tick=function(b){a._requestId=null,a.started&&(a.update(b),a.started&&a._requestId===null&&a._head.next&&(a._requestId=requestAnimationFrame(a._tick)))}}b.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};b.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)};b.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};b.prototype.add=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new e["default"](a,b,c))};b.prototype.addOnce=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new e["default"](a,b,c,!0))};b.prototype._addListener=function(a){var b=this._head.next,c=this._head;if(!b)a.connect(c);else{while(b){if(a.priority>b.priority){a.connect(c);break}c=b;b=b.next}a.previous||a.connect(c)}this._startIfPossible();return this};b.prototype.remove=function(a,b){var c=this._head.next;while(c)c.match(a,b)?c=c.destroy():c=c.next;this._head.next||this._cancelIfNeeded();return this};b.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};b.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};b.prototype.destroy=function(){this.stop();var a=this._head.next;while(a)a=a.destroy(!0);this._head.destroy();this._head=null};b.prototype.update=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:performance.now(),b;if(a>this.lastTime){b=this.elapsedMS=a-this.lastTime;b>this._maxElapsedMS&&(b=this._maxElapsedMS);this.deltaTime=b*c["default"].TARGET_FPMS*this.speed;var d=this._head,e=d.next;while(e)e=e.emit(this.deltaTime);d.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=a};a(b,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(a){a=Math.min(Math.max(0,a)/1e3,c["default"].TARGET_FPMS);this._maxElapsedMS=1/a}}]);return b}();sc["default"]=f}var vc=!1;function wc(){vc||(vc=!0,uc());return tc.exports}var xc={},yc={exports:xc};function zc(){xc.__esModule=!0;xc.Ticker=xc.shared=void 0;var a=wc();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}a=new b["default"]();a.autoStart=!0;a.destroy=function(){};xc.shared=a;xc.Ticker=b["default"]}var Ac=!1;function Bc(){Ac||(Ac=!0,zc());return yc.exports}var Cc={},Dc={exports:Cc};function Ec(){Cc.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=mc(),c=h(b),d=S(),e=Bc(),f=K();b=hc();var g=h(b);function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h=function(b){k(h,b);function h(a,c){i(this,h);if(!a)throw new Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0);c=j(this,b.call(this,a,c));c.width=a.videoWidth;c.height=a.videoHeight;c._autoUpdate=!0;c._isAutoUpdating=!1;c.autoPlay=!0;c.update=c.update.bind(c);c._onCanPlay=c._onCanPlay.bind(c);a.addEventListener("play",c._onPlayStart.bind(c));a.addEventListener("pause",c._onPlayStop.bind(c));c.hasLoaded=!1;c.__loaded=!1;!c._isSourceReady()?(a.addEventListener("canplay",c._onCanPlay),a.addEventListener("canplaythrough",c._onCanPlay)):c._onCanPlay();return c}h.prototype._isSourcePlaying=function(){var a=this.source;return a.currentTime>0&&a.paused===!1&&a.ended===!1&&a.readyState>2};h.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4};h.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(e.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)};h.prototype._onPlayStop=function(){this._isAutoUpdating&&(e.shared.remove(this.update,this),this._isAutoUpdating=!1)};h.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())};h.prototype.destroy=function(){this._isAutoUpdating&&e.shared.remove(this.update,this),this.source&&this.source._pixiId&&(c["default"].removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),b.prototype.destroy.call(this)};h.fromVideo=function(a,b){a._pixiId||(a._pixiId="video_"+d.uid());var e=d.BaseTextureCache[a._pixiId];e||(e=new h(a,b),c["default"].addToCache(e,a._pixiId));return e};h.fromUrl=function(a,b,c){var d=document.createElement("video");d.setAttribute("webkit-playsinline","");d.setAttribute("playsinline","");var e=Array.isArray(a)?a[0].src||a[0]:a.src||a;c===void 0&&e.indexOf("data:")!==0?d.crossOrigin=g["default"](e):c&&(d.crossOrigin=typeof c==="string"?c:"anonymous");if(Array.isArray(a))for(var c=0;c<a.length;++c)d.appendChild(l(a[c].src||a[c],a[c].mime));else d.appendChild(l(e,a.mime));d.load();return h.fromVideo(d,b)};a(h,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isAutoUpdating?(e.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(e.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]);return h}(c["default"]);Cc["default"]=h;h.fromUrls=h.fromUrl;function l(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var c=document.createElement("source");c.src=a;c.type=b;return c}}var Fc=!1;function Gc(){Fc||(Fc=!0,Ec());return Dc.exports}var Hc={},Ic={exports:Hc};function Jc(){Hc.__esModule=!0;var a=sa(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){function a(){d(this,a),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}a.prototype.set=function(a,c,d){var e=c.width;c=c.height;if(d){var f=a.width/2/e,g=a.height/2/c,h=a.x/e+f,i=a.y/c+g;d=b["default"].add(d,b["default"].NW);this.x0=h+f*b["default"].uX(d);this.y0=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x1=h+f*b["default"].uX(d);this.y1=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x2=h+f*b["default"].uX(d);this.y2=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x3=h+f*b["default"].uX(d);this.y3=i+g*b["default"].uY(d)}else this.x0=a.x/e,this.y0=a.y/c,this.x1=(a.x+a.width)/e,this.y1=a.y/c,this.x2=(a.x+a.width)/e,this.y2=(a.y+a.height)/c,this.x3=a.x/e,this.y3=(a.y+a.height)/c;this.uvsUint32[0]=(this.y0*65535&65535)<<16|this.x0*65535&65535;this.uvsUint32[1]=(this.y1*65535&65535)<<16|this.x1*65535&65535;this.uvsUint32[2]=(this.y2*65535&65535)<<16|this.x2*65535&65535;this.uvsUint32[3]=(this.y3*65535&65535)<<16|this.x3*65535&65535};return a}();Hc["default"]=c}var Kc=!1;function Lc(){Kc||(Kc=!0,Jc());return Ic.exports}var Mc={},Nc={exports:Mc};function Oc(){Mc.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=mc(),c=k(b);b=Gc();var d=k(b);b=Lc();var e=k(b);b=i();b=k(b);var f=P(),g=S(),h=Q(),j=k(h);function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function n(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var o=function(h){n(b,h);function b(a,c,d,e,g){l(this,b);var i=m(this,h.call(this));i.noFrame=!1;c||(i.noFrame=!0,c=new f.Rectangle(0,0,1,1));a instanceof b&&(a=a.baseTexture);i.baseTexture=a;i._frame=c;i.trim=e;i.valid=!1;i.requiresUpdate=!1;i._uvs=null;i.orig=d||c;i._rotate=Number(g||0);if(g===!0)i._rotate=2;else if(i._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");a.hasLoaded?(i.noFrame&&(c=new f.Rectangle(0,0,a.width,a.height),a.on("update",i.onBaseTextureUpdated,i)),i.frame=c):a.once("loaded",i.onBaseTextureLoaded,i);i._updateID=0;i.transform=null;i.textureCacheIds=[];return i}b.prototype.update=function(){this.baseTexture.update()};b.prototype.onBaseTextureLoaded=function(a){this._updateID++,this.noFrame?this.frame=new f.Rectangle(0,0,a.width,a.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)};b.prototype.onBaseTextureUpdated=function(a){this._updateID++,this._frame.width=a.width,this._frame.height=a.height,this.emit("update",this)};b.prototype.destroy=function(a){this.baseTexture&&(a&&(g.TextureCache[this.baseTexture.imageUrl]&&b.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,b.removeFromCache(this),this.textureCacheIds=null};b.prototype.clone=function(){return new b(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};b.prototype._updateUvs=function(){this._uvs||(this._uvs=new e["default"]()),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++};b.fromImage=function(a,d,e,f){var h=g.TextureCache[a];h||(h=new b(c["default"].fromImage(a,d,e,f)),b.addToCache(h,a));return h};b.fromFrame=function(a){var b=g.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return b};b.fromCanvas=function(a,d){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";return new b(c["default"].fromCanvas(a,d,e))};b.fromVideo=function(a,c){return typeof a==="string"?b.fromVideoUrl(a,c):new b(d["default"].fromVideo(a,c))};b.fromVideoUrl=function(a,c){return new b(d["default"].fromUrl(a,c))};b.from=function(a){if(typeof a==="string"){var d=g.TextureCache[a];if(!d){var e=a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;return e?b.fromVideoUrl(a):b.fromImage(a)}return d}else if(a instanceof HTMLImageElement)return new b(c["default"].from(a));else if(a instanceof HTMLCanvasElement)return b.fromCanvas(a,j["default"].SCALE_MODE,"HTMLCanvasElement");else if(a instanceof HTMLVideoElement)return b.fromVideo(a);else if(a instanceof c["default"])return new b(a);return a};b.fromLoader=function(a,d,e){a=new c["default"](a,void 0,g.getResolutionOfUrl(d));var f=new b(a);a.imageUrl=d;e||(e=d);c["default"].addToCache(f.baseTexture,e);b.addToCache(f,e);e!==d&&(c["default"].addToCache(f.baseTexture,d),b.addToCache(f,d));return f};b.addToCache=function(a,b){b&&(a.textureCacheIds.indexOf(b)===-1&&a.textureCacheIds.push(b),g.TextureCache[b],g.TextureCache[b]=a)};b.removeFromCache=function(a){if(typeof a==="string"){var b=g.TextureCache[a];if(b){var c=b.textureCacheIds.indexOf(a);c>-1&&b.textureCacheIds.splice(c,1);delete g.TextureCache[a];return b}}else if(a&&a.textureCacheIds){for(var c=0;c<a.textureCacheIds.length;++c)g.TextureCache[a.textureCacheIds[c]]===a&&delete g.TextureCache[a.textureCacheIds[c]];a.textureCacheIds.length=0;return a}return null};a(b,[{key:"frame",get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;var b=a.x,c=a.y,d=a.width,e=a.height,f=b+d>this.baseTexture.width,g=c+e>this.baseTexture.height;if(f||g){f=f&&g?"and":"or";g="X: "+b+" + "+d+" = "+(b+d)+" > "+this.baseTexture.width;b="Y: "+c+" + "+e+" = "+(c+e)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(g+" "+f+" "+b))}this.valid=d&&e&&this.baseTexture.hasLoaded;!this.trim&&!this.rotate&&(this.orig=a);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]);return b}(b["default"]);Mc["default"]=o;function p(){var a=document.createElement("canvas");a.width=10;a.height=10;var b=a.getContext("2d");b.fillStyle="white";b.fillRect(0,0,10,10);return new o(new c["default"](a))}function q(a){a.destroy=function(){},a.on=function(){},a.once=function(){},a.emit=function(){}}o.EMPTY=new o(new c["default"]());q(o.EMPTY);q(o.EMPTY.baseTexture);o.WHITE=p();q(o.WHITE);q(o.WHITE.baseTexture)}var Pc=!1;function T(){Pc||(Pc=!0,Oc());return Nc.exports}var Qc={},Rc={exports:Qc};function Sc(){Qc.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=S(),d=K(),e=T(),f=g(e);e=cc();g=g(e);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var k=new b.Point();e=function(e){j(g,e);function g(a){h(this,g);var c=i(this,e.call(this));c._anchor=new b.ObservablePoint(c._onAnchorUpdate,c);c._texture=null;c._width=0;c._height=0;c._tint=null;c._tintRGB=null;c.tint=16777215;c.blendMode=d.BLEND_MODES.NORMAL;c.shader=null;c.cachedTint=16777215;c.texture=a||f["default"].EMPTY;c.vertexData=new Float32Array(8);c.vertexTrimmedData=null;c._transformID=-1;c._textureID=-1;c._transformTrimmedID=-1;c._textureTrimmedID=-1;c.pluginName="sprite";return c}g.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=c.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=c.sign(this.scale.y)*this._height/this._texture.orig.height)};g.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1};g.prototype.calculateVertices=function(){if(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID)return;this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var a=this._texture,b=this.transform.worldTransform,c=b.a,d=b.b,e=b.c,f=b.d,g=b.tx;b=b.ty;var h=this.vertexData,i=a.trim;a=a.orig;var j=this._anchor,k,l,m;i?(l=i.x-j._x*a.width,k=l+i.width,m=i.y-j._y*a.height,i=m+i.height):(l=-j._x*a.width,k=l+a.width,m=-j._y*a.height,i=m+a.height);h[0]=c*l+e*m+g;h[1]=f*m+d*l+b;h[2]=c*k+e*m+g;h[3]=f*m+d*k+b;h[4]=c*k+e*i+g;h[5]=f*i+d*k+b;h[6]=c*l+e*i+g;h[7]=f*i+d*l+b};g.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var a=this._texture,b=this.vertexTrimmedData;a=a.orig;var c=this._anchor,d=this.transform.worldTransform,e=d.a,f=d.b,g=d.c,h=d.d,i=d.tx;d=d.ty;var j=-c._x*a.width,k=j+a.width;c=-c._y*a.height;a=c+a.height;b[0]=e*j+g*c+i;b[1]=h*c+f*j+d;b[2]=e*k+g*c+i;b[3]=h*c+f*k+d;b[4]=e*k+g*a+i;b[5]=h*a+f*k+d;b[6]=e*j+g*a+i;b[7]=h*a+f*j+d};g.prototype._renderWebGL=function(a){this.calculateVertices(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)};g.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};g.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};g.prototype.getLocalBounds=function(a){if(this.children.length===0){this._bounds.minX=this._texture.orig.width*-this._anchor._x;this._bounds.minY=this._texture.orig.height*-this._anchor._y;this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x);this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y);a||(this._localBoundsRect||(this._localBoundsRect=new b.Rectangle()),a=this._localBoundsRect);return this._bounds.getRectangle(a)}return e.prototype.getLocalBounds.call(this,a)};g.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,k);a=this._texture.orig.width;var b=this._texture.orig.height,c=-a*this.anchor.x;if(k.x>=c&&k.x<c+a){c=-b*this.anchor.y;if(k.y>=c&&k.y<c+b)return!0}return!1};g.prototype.destroy=function(a){e.prototype.destroy.call(this,a);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;var b=typeof a==="boolean"?a:a&&a.texture;if(b){b=typeof a==="boolean"?a:a&&a.baseTexture;this._texture.destroy(!!b)}this._texture=null;this.shader=null};g.from=function(a){return new g(f["default"].from(a))};g.fromFrame=function(a){var b=c.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return new g(b)};g.fromImage=function(a,b,c){return new g(f["default"].fromImage(a,b,c))};a(g,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var b=c.sign(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var b=c.sign(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a,this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture===a)return;this._texture=a;this.cachedTint=16777215;this._textureID=-1;this._textureTrimmedID=-1;a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this))}}]);return g}(g["default"]);Qc["default"]=e}var Tc=!1;function Uc(){Tc||(Tc=!0,Sc());return Rc.exports}var Vc={},Wc={exports:Vc};function Xc(){Vc.__esModule=!0;var a=mc();a=d(a);var b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(a){g(b,a);function b(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,h=arguments[2],i=arguments[3];e(this,b);var j=f(this,a.call(this,null,h));j.resolution=i||c["default"].RESOLUTION;j.width=Math.ceil(d);j.height=Math.ceil(g);j.realWidth=j.width*j.resolution;j.realHeight=j.height*j.resolution;j.scaleMode=h!==void 0?h:c["default"].SCALE_MODE;j.hasLoaded=!0;j._glRenderTargets={};j._canvasRenderTarget=null;j.valid=!1;return j}b.prototype.resize=function(a,b){a=Math.ceil(a);b=Math.ceil(b);if(a===this.width&&b===this.height)return;this.valid=a>0&&b>0;this.width=a;this.height=b;this.realWidth=this.width*this.resolution;this.realHeight=this.height*this.resolution;if(!this.valid)return;this.emit("update",this)};b.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.renderer=null};return b}(a["default"]);Vc["default"]=d}var Yc=!1;function Zc(){Yc||(Yc=!0,Xc());return Wc.exports}var $c={},ad={exports:$c};function bd(){$c.__esModule=!0;var a=Zc(),b=c(a);a=T();c=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){f(c,a);function c(f,g){d(this,c);var h=null;if(!(f instanceof b["default"])){var i=arguments[1],j=arguments[2],k=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+i+", "+j+") instead of the ctor directly.");h=arguments[0];g=null;f=new b["default"](i,j,k,l)}var m=e(this,a.call(this,f,g));m.legacyRenderer=h;m.valid=!0;m._updateUvs();return m}c.prototype.resize=function(a,b,c){a=Math.ceil(a),b=Math.ceil(b),this.valid=a>0&&b>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=b,c||this.baseTexture.resize(a,b),this._updateUvs()};c.create=function(a,d,e,f){return new c(new b["default"](a,d,e,f))};return c}(c["default"]);$c["default"]=a}var cd=!1;function dd(){cd||(cd=!0,bd());return ad.exports}var ed={},fd={exports:ed};function gd(){ed.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=S(),c=P(),d=K(),e=Q(),f=j(e);e=cc();var g=j(e);e=dd();var h=j(e);e=i();j=j(e);function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function m(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var n=new c.Matrix();e=function(e){m(i,e);function i(a,h,j,m){k(this,i);var n=l(this,e.call(this));b.sayHello(a);typeof h==="number"&&(h=Object.assign({width:h,height:j||f["default"].RENDER_OPTIONS.height},m));h=Object.assign({},f["default"].RENDER_OPTIONS,h);n.options=h;n.type=d.RENDERER_TYPE.UNKNOWN;n.screen=new c.Rectangle(0,0,h.width,h.height);n.view=h.view||document.createElement("canvas");n.resolution=h.resolution||f["default"].RESOLUTION;n.transparent=h.transparent;n.autoResize=h.autoResize||!1;n.blendModes=null;n.preserveDrawingBuffer=h.preserveDrawingBuffer;n.clearBeforeRender=h.clearBeforeRender;n.roundPixels=h.roundPixels;n._backgroundColor=0;n._backgroundColorRgba=[0,0,0,0];n._backgroundColorString="#000000";n.backgroundColor=h.backgroundColor||n._backgroundColor;n._tempDisplayObjectParent=new g["default"]();n._lastObjectRendered=n._tempDisplayObjectParent;return n}i.prototype.resize=function(a,b){this.screen.width=a,this.screen.height=b,this.view.width=a*this.resolution,this.view.height=b*this.resolution,this.autoResize&&(this.view.style.width=a+"px",this.view.style.height=b+"px")};i.prototype.generateTexture=function(a,b,c,d){d=d||a.getLocalBounds();b=h["default"].create(d.width|0,d.height|0,b,c);n.tx=-d.x;n.ty=-d.y;this.render(a,b,!1,n,!0);return b};i.prototype.destroy=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=d.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null};a(i,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a,this._backgroundColorString=b.hex2string(a),b.hex2rgb(a,this._backgroundColorRgba)}}]);return i}(j["default"]);ed["default"]=e}var hd=!1;function id(){hd||(hd=!0,gd());return fd.exports}var jd={},kd={exports:jd};function ld(){jd.__esModule=!0;var a=K();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(a){b(this,c),this.renderer=a}c.prototype.pushMask=function(a){var b=this.renderer;b.context.save();var c=a.alpha,d=a.transform.worldTransform,e=b.resolution;b.context.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e);a._texture||(this.renderGraphicsShape(a),b.context.clip());a.worldAlpha=c};c.prototype.renderGraphicsShape=function(b){var c=this.renderer.context,d=b.graphicsData.length;if(d===0)return;c.beginPath();for(var e=0;e<d;e++){var f=b.graphicsData[e],g=f.shape;if(f.type===a.SHAPES.POLY){var h=g.points;c.moveTo(h[0],h[1]);for(var i=1;i<h.length/2;i++)c.lineTo(h[i*2],h[i*2+1]);h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&c.closePath()}else if(f.type===a.SHAPES.RECT)c.rect(g.x,g.y,g.width,g.height),c.closePath();else if(f.type===a.SHAPES.CIRC)c.arc(g.x,g.y,g.radius,0,2*Math.PI),c.closePath();else if(f.type===a.SHAPES.ELIP){i=g.width*2;h=g.height*2;var j=g.x-i/2,k=g.y-h/2,l=.5522848,m=i/2*l;l=h/2*l;var n=j+i,o=k+h;i=j+i/2;h=k+h/2;c.moveTo(j,h);c.bezierCurveTo(j,h-l,i-m,k,i,k);c.bezierCurveTo(i+m,k,n,h-l,n,h);c.bezierCurveTo(n,h+l,i+m,o,i,o);c.bezierCurveTo(i-m,o,j,h+l,j,h);c.closePath()}else if(f.type===a.SHAPES.RREC){k=g.x;n=g.y;i=g.width;m=g.height;o=g.radius;l=Math.min(i,m)/2|0;o=o>l?l:o;c.moveTo(k,n+o);c.lineTo(k,n+m-o);c.quadraticCurveTo(k,n+m,k+o,n+m);c.lineTo(k+i-o,n+m);c.quadraticCurveTo(k+i,n+m,k+i,n+m-o);c.lineTo(k+i,n+o);c.quadraticCurveTo(k+i,n,k+i-o,n);c.lineTo(k+o,n);c.quadraticCurveTo(k,n,k,n+o);c.closePath()}}};c.prototype.popMask=function(a){a.context.restore(),a.invalidateBlendMode()};c.prototype.destroy=function(){};return c}();jd["default"]=c}var md=!1;function nd(){md||(md=!0,ld());return kd.exports}var od={},pd={exports:od};function qd(){od.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function b(a,d,f){e(this,b),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=f||c["default"].RESOLUTION,this.resize(a,d)}b.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};b.prototype.resize=function(a,b){this.canvas.width=a*this.resolution,this.canvas.height=b*this.resolution};b.prototype.destroy=function(){this.context=null,this.canvas=null};a(b,[{key:"width",get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},{key:"height",get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}]);return b}();od["default"]=d}var rd=!1;function sd(){rd||(rd=!0,qd());return pd.exports}var td={},ud={exports:td};function vd(){td.__esModule=!0;td["default"]=b;function a(a){var b=document.createElement("canvas");b.width=6;b.height=1;var c=b.getContext("2d");c.fillStyle=a;c.fillRect(0,0,6,1);return b}function b(){if(typeof document==="undefined")return!1;var b=a("#ff00ff"),c=a("#ffff00"),d=document.createElement("canvas");d.width=6;d.height=1;d=d.getContext("2d");d.globalCompositeOperation="multiply";d.drawImage(b,0,0);d.drawImage(c,2,0);b=d.getImageData(2,0,1,1);if(!b)return!1;c=b.data;return c[0]===255&&c[1]===0&&c[2]===0}}var wd=!1;function xd(){wd||(wd=!0,vd());return ud.exports}var yd={},zd={exports:yd};function Ad(){yd.__esModule=!0;yd["default"]=d;var a=K();d=xd();var b=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];b["default"]()?(c[a.BLEND_MODES.NORMAL]="source-over",c[a.BLEND_MODES.ADD]="lighter",c[a.BLEND_MODES.MULTIPLY]="multiply",c[a.BLEND_MODES.SCREEN]="screen",c[a.BLEND_MODES.OVERLAY]="overlay",c[a.BLEND_MODES.DARKEN]="darken",c[a.BLEND_MODES.LIGHTEN]="lighten",c[a.BLEND_MODES.COLOR_DODGE]="color-dodge",c[a.BLEND_MODES.COLOR_BURN]="color-burn",c[a.BLEND_MODES.HARD_LIGHT]="hard-light",c[a.BLEND_MODES.SOFT_LIGHT]="soft-light",c[a.BLEND_MODES.DIFFERENCE]="difference",c[a.BLEND_MODES.EXCLUSION]="exclusion",c[a.BLEND_MODES.HUE]="hue",c[a.BLEND_MODES.SATURATION]="saturate",c[a.BLEND_MODES.COLOR]="color",c[a.BLEND_MODES.LUMINOSITY]="luminosity"):(c[a.BLEND_MODES.NORMAL]="source-over",c[a.BLEND_MODES.ADD]="lighter",c[a.BLEND_MODES.MULTIPLY]="source-over",c[a.BLEND_MODES.SCREEN]="source-over",c[a.BLEND_MODES.OVERLAY]="source-over",c[a.BLEND_MODES.DARKEN]="source-over",c[a.BLEND_MODES.LIGHTEN]="source-over",c[a.BLEND_MODES.COLOR_DODGE]="source-over",c[a.BLEND_MODES.COLOR_BURN]="source-over",c[a.BLEND_MODES.HARD_LIGHT]="source-over",c[a.BLEND_MODES.SOFT_LIGHT]="source-over",c[a.BLEND_MODES.DIFFERENCE]="source-over",c[a.BLEND_MODES.EXCLUSION]="source-over",c[a.BLEND_MODES.HUE]="source-over",c[a.BLEND_MODES.SATURATION]="source-over",c[a.BLEND_MODES.COLOR]="source-over",c[a.BLEND_MODES.LUMINOSITY]="source-over");c[a.BLEND_MODES.NORMAL_NPM]=c[a.BLEND_MODES.NORMAL];c[a.BLEND_MODES.ADD_NPM]=c[a.BLEND_MODES.ADD];c[a.BLEND_MODES.SCREEN_NPM]=c[a.BLEND_MODES.SCREEN];return c}}var Bd=!1;function Cd(){Bd||(Bd=!0,Ad());return zd.exports}var Dd={},Ed={exports:Dd};function Fd(){Dd.__esModule=!0;var a=id();a=i(a);var b=nd(),c=i(b);b=sd();var d=i(b);b=Cd();var e=i(b);b=S();var f=K(),g=Q(),h=i(g);function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function l(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}i=function(a){l(b,a);function b(d,g,h){j(this,b);d=k(this,a.call(this,"Canvas",d,g,h));d.type=f.RENDERER_TYPE.CANVAS;d.rootContext=d.view.getContext("2d",{alpha:d.transparent});d.context=d.rootContext;d.refresh=!0;d.maskManager=new c["default"](d);d.smoothProperty="imageSmoothingEnabled";d.rootContext.imageSmoothingEnabled||(d.rootContext.webkitImageSmoothingEnabled?d.smoothProperty="webkitImageSmoothingEnabled":d.rootContext.mozImageSmoothingEnabled?d.smoothProperty="mozImageSmoothingEnabled":d.rootContext.oImageSmoothingEnabled?d.smoothProperty="oImageSmoothingEnabled":d.rootContext.msImageSmoothingEnabled&&(d.smoothProperty="msImageSmoothingEnabled"));d.initPlugins();d.blendModes=e["default"]();d._activeBlendMode=null;d.renderingToScreen=!1;d.resize(d.options.width,d.options.height);return d}b.prototype.render=function(a,b,c,e,g){if(!this.view)return;this.renderingToScreen=!b;this.emit("prerender");var h=this.resolution;b?(b=b.baseTexture||b,b._canvasRenderTarget||(b._canvasRenderTarget=new d["default"](b.width,b.height,b.resolution),b.source=b._canvasRenderTarget.canvas,b.valid=!0),this.context=b._canvasRenderTarget.context,this.resolution=b._canvasRenderTarget.resolution):this.context=this.rootContext;var i=this.context;b||(this._lastObjectRendered=a);if(!g){b=a.parent;g=this._tempDisplayObjectParent.transform.worldTransform;e?(e.copy(g),this._tempDisplayObjectParent.transform._worldID=-1):g.identity();a.parent=this._tempDisplayObjectParent;a.updateTransform();a.parent=b}i.save();i.setTransform(1,0,0,1,0,0);i.globalAlpha=1;this._activeBlendMode=f.BLEND_MODES.NORMAL;i.globalCompositeOperation=this.blendModes[f.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&(i.fillStyle="black",i.clear());(c!==void 0?c:this.clearBeforeRender)&&(this.renderingToScreen&&(this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height))));e=this.context;this.context=i;a.renderCanvas(this);this.context=e;i.restore();this.resolution=h;this.emit("postrender")};b.prototype.clear=function(a){var b=this.context;a=a||this._backgroundColorString;!this.transparent&&a?(b.fillStyle=a,b.fillRect(0,0,this.width,this.height)):b.clearRect(0,0,this.width,this.height)};b.prototype.setBlendMode=function(a){if(this._activeBlendMode===a)return;this._activeBlendMode=a;this.context.globalCompositeOperation=this.blendModes[a]};b.prototype.destroy=function(b){this.destroyPlugins(),a.prototype.destroy.call(this,b),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null};b.prototype.resize=function(b,c){a.prototype.resize.call(this,b,c),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h["default"].SCALE_MODE===f.SCALE_MODES.LINEAR)};b.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)};return b}(a["default"]);Dd["default"]=i;b.pluginTarget.mixin(i)}var Gd=!1;function Hd(){Gd||(Gd=!0,Fd());return Ed.exports}var Id={},Jd={exports:Id};function Kd(){Id.__esModule=!0;var a=S(),b=xd();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}var d={getTintedTexture:function(a,b){a=a._texture;b=d.roundColor(b);var c="#"+("00000"+(b|0).toString(16)).substr(-6);a.tintCache=a.tintCache||{};var e=a.tintCache[c],f=void 0;if(e){if(e.tintId===a._updateID)return a.tintCache[c];f=a.tintCache[c]}else f=d.canvas||document.createElement("canvas");d.tintMethod(a,b,f);f.tintId=a._updateID;if(d.convertTintToImage){e=new Image();e.src=f.toDataURL();a.tintCache[c]=e}else a.tintCache[c]=f,d.canvas=null;return f},tintWithMultiply:function(a,b,c){var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);d.save();d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="multiply";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.restore()},tintWithOverlay:function(a,b,c){var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);d.save();d.globalCompositeOperation="copy";d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.restore()},tintWithPerPixel:function(b,c,d){var e=d.getContext("2d"),f=b._frame.clone(),g=b.baseTexture.resolution;f.x*=g;f.y*=g;f.width*=g;f.height*=g;d.width=Math.ceil(f.width);d.height=Math.ceil(f.height);e.save();e.globalCompositeOperation="copy";e.drawImage(b.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);e.restore();g=a.hex2rgb(c);d=g[0];b=g[1];c=g[2];g=e.getImageData(0,0,f.width,f.height);f=g.data;for(var h=0;h<f.length;h+=4)f[h+0]*=d,f[h+1]*=b,f[h+2]*=c;e.putImageData(g,0,0)},roundColor:function(b){var c=d.cacheStepsPerColorChannel;b=a.hex2rgb(b);b[0]=Math.min(255,b[0]/c*c);b[1]=Math.min(255,b[1]/c*c);b[2]=Math.min(255,b[2]/c*c);return a.rgb2hex(b)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:c["default"](),tintMethod:0};d.tintMethod=d.canUseMultiply?d.tintWithMultiply:d.tintWithPerPixel;Id["default"]=d}var Ld=!1;function Md(){Ld||(Ld=!0,Kd());return Jd.exports}var Nd={},Od={exports:Nd};function Pd(){Nd.__esModule=!0;var a=Hd();a=f(a);var b=K(),c=P(),d=Md(),e=f(d);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var h=new c.Matrix();f=function(){function a(b){g(this,a),this.renderer=b}a.prototype.render=function(a){var d=a._texture,f=this.renderer,g=d._frame.width,i=d._frame.height,j=a.transform.worldTransform,k=0,l=0;if(d.orig.width<=0||d.orig.height<=0||!d.baseTexture.source)return;f.setBlendMode(a.blendMode);if(d.valid){f.context.globalAlpha=a.worldAlpha;var m=d.baseTexture.scaleMode===b.SCALE_MODES.LINEAR;f.smoothProperty&&f.context[f.smoothProperty]!==m&&(f.context[f.smoothProperty]=m);d.trim?(k=d.trim.width/2+d.trim.x-a.anchor.x*d.orig.width,l=d.trim.height/2+d.trim.y-a.anchor.y*d.orig.height):(k=(.5-a.anchor.x)*d.orig.width,l=(.5-a.anchor.y)*d.orig.height);d.rotate&&(j.copy(h),j=h,c.GroupD8.matrixAppendRotationInv(j,d.rotate,k,l),k=0,l=0);k-=g/2;l-=i/2;f.roundPixels?(f.context.setTransform(j.a,j.b,j.c,j.d,j.tx*f.resolution|0,j.ty*f.resolution|0),k=k|0,l=l|0):f.context.setTransform(j.a,j.b,j.c,j.d,j.tx*f.resolution,j.ty*f.resolution);m=d.baseTexture.resolution;a.tint!==16777215?((a.cachedTint!==a.tint||a.tintedTexture.tintId!==a._texture._updateID)&&(a.cachedTint=a.tint,a.tintedTexture=e["default"].getTintedTexture(a,a.tint)),f.context.drawImage(a.tintedTexture,0,0,g*m,i*m,k*f.resolution,l*f.resolution,g*f.resolution,i*f.resolution)):f.context.drawImage(d.baseTexture.source,d._frame.x*m,d._frame.y*m,g*m,i*m,k*f.resolution,l*f.resolution,g*f.resolution,i*f.resolution)}};a.prototype.destroy=function(){this.renderer=null};return a}();Nd["default"]=f;a["default"].registerPlugin("sprite",f)}var Qd=!1;function Rd(){Qd||(Qd=!0,Pd());return Od.exports}var Sd={},Td={exports:Sd};function Ud(){Sd.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.renderer=c,this.renderer.on("context",this.onContextChange,this)}b.prototype.onContextChange=function(){};b.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null};return b}();Sd["default"]=b}var Vd=!1;function Wd(){Vd||(Vd=!0,Ud());return Td.exports}var Xd={},Yd={exports:Xd};function Zd(){Xd.__esModule=!0;var a=Wd();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(){c(this,b);return d(this,a.apply(this,arguments))}b.prototype.start=function(){};b.prototype.stop=function(){this.flush()};b.prototype.flush=function(){};b.prototype.render=function(a){};return b}(b["default"]);Xd["default"]=a}var $d=!1;function ae(){$d||($d=!0,Zd());return Yd.exports}var be={},ce={exports:be};function de(){be.__esModule=!0;be["default"]=c;c=m();a=a(c);function a(a){return a&&a.__esModule?a:{"default":a}}var b=a["default"].shader.defaultValue;function c(a,b,c){a=d(a,c);b=d(b,c);return Object.assign(a,b)}function d(a){var c=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),d={},e;a=a.replace(/\s+/g," ").split(/\s*;\s*/);for(var f=0;f<a.length;f++){var g=a[f].trim();if(g.indexOf("uniform")>-1){g=g.split(" ");var h=g[1];g=g[2];var i=1;g.indexOf("[")>-1&&(e=g.split(/\[|]/),g=e[0],i*=Number(e[1]));g.match(c)||(d[g]={value:b(h,i),name:g,type:h})}}return d}}var ee=!1;function fe(){ee||(ee=!0,de());return ce.exports}var ge={},he={exports:ge};function ie(){ge.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=fe(),c=g(b),d=S(),e=K();b=Q();var f=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var i={};g=function(){function b(a,g,j){h(this,b);this.vertexSrc=a||b.defaultVertexSrc;this.fragmentSrc=g||b.defaultFragmentSrc;this._blendMode=e.BLEND_MODES.NORMAL;this.uniformData=j||c["default"](this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var a in this.uniformData)this.uniforms[a]=this.uniformData[a].value,this.uniformData[a].type&&(this.uniformData[a].type=this.uniformData[a].type.toLowerCase());this.glShaders={};i[this.vertexSrc+this.fragmentSrc]||(i[this.vertexSrc+this.fragmentSrc]=d.uid());this.glShaderKey=i[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=f["default"].FILTER_RESOLUTION;this.enabled=!0;this.autoFit=!0}b.prototype.apply=function(a,b,c,d,e){a.applyFilter(this,b,c,d)};a(b,[{key:"blendMode",get:function(){return this._blendMode},set:function(a){this._blendMode=a}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]);return b}();ge["default"]=g}var je=!1;function ke(){je||(je=!0,ie());return he.exports}var le={},me={exports:le};function ne(){le.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=na(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=new c["default"]();d=function(){function b(a,d){e(this,b),this._texture=a,this.mapCoord=new c["default"](),this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=typeof d==="undefined"?.5:d}b.prototype.multiplyUvs=function(a,b){b===void 0&&(b=a);var c=this.mapCoord;for(var d=0;d<a.length;d+=2){var e=a[d],f=a[d+1];b[d]=e*c.a+f*c.c+c.tx;b[d+1]=e*c.b+f*c.d+c.ty}return b};b.prototype.update=function(a){var b=this._texture;if(!b||!b.valid)return!1;if(!a&&this._lastTextureID===b._updateID)return!1;this._lastTextureID=b._updateID;a=b._uvs;this.mapCoord.set(a.x1-a.x0,a.y1-a.y0,a.x3-a.x0,a.y3-a.y0,a.x0,a.y0);a=b.orig;var c=b.trim;c&&(f.set(a.width/c.width,0,0,a.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(f));a=b.baseTexture;c=this.uClampFrame;var d=this.clampMargin/a.resolution,e=this.clampOffset;c[0]=(b._frame.x+d+e)/a.width;c[1]=(b._frame.y+d+e)/a.height;c[2]=(b._frame.x+b._frame.width-d+e)/a.width;c[3]=(b._frame.y+b._frame.height-d+e)/a.height;this.uClampOffset[0]=e/a.realWidth;this.uClampOffset[1]=e/a.realHeight;return!0};a(b,[{key:"texture",get:function(){return this._texture},set:function(a){this._texture=a,this._lastTextureID=-1}}]);return b}();le["default"]=d}var oe=!1;function pe(){oe||(oe=!0,ne());return me.exports}var qe={},re={exports:qe};function se(){qe.__esModule=!0;var a=ke();a=e(a);var b=P(),c=pe(),d=e(c);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function h(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e=function(a){h(c,a);function c(d){f(this,c);var e=new b.Matrix(),h=g(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));d.renderable=!1;h.maskSprite=d;h.maskMatrix=e;return h}c.prototype.apply=function(a,b,c){var e=this.maskSprite,f=this.maskSprite.texture;if(!f.valid)return;f.transform||(f.transform=new d["default"](f,0));f.transform.update();this.uniforms.mask=f;this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,e).prepend(f.transform.mapCoord);this.uniforms.alpha=e.worldAlpha;this.uniforms.maskClamp=f.transform.uClampFrame;a.applyFilter(this,b,c)};return c}(a["default"]);qe["default"]=e}var te=!1;function ue(){te||(te=!0,se());return re.exports}var ve={},we={exports:ve};function xe(){ve.__esModule=!0;var a=Wd();a=d(a);var b=ue(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(a){g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.scissor=!1;c.scissorData=null;c.scissorRenderTarget=null;c.enableScissor=!0;c.alphaMaskPool=[];c.alphaMaskIndex=0;return c}b.prototype.pushMask=function(a,b){if(b.texture)this.pushSpriteMask(a,b);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&b.isFastRect()){var c=b.worldTransform;c=Math.atan2(c.b,c.a);c=Math.round(c*(180/Math.PI));c%90?this.pushStencilMask(b):this.pushScissorMask(a,b)}else this.pushStencilMask(b)};b.prototype.popMask=function(a,b){b.texture?this.popSpriteMask(a,b):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(a,b):this.popStencilMask(a,b)};b.prototype.pushSpriteMask=function(a,b){var d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new c["default"](b)]);d[0].resolution=this.renderer.resolution;d[0].maskSprite=b;a.filterArea=b.getBounds(!0);this.renderer.filterManager.pushFilter(a,d);this.alphaMaskIndex++};b.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--};b.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(a)};b.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()};b.prototype.pushScissorMask=function(a,b){b.renderable=!0;a=this.renderer._activeRenderTarget;var c=b.getBounds();c.fit(a.size);b.renderable=!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var d=this.renderer.resolution;this.renderer.gl.scissor(c.x*d,(a.root?a.size.height-c.y-c.height:c.y)*d,c.width*d,c.height*d);this.scissorRenderTarget=a;this.scissorData=b;this.scissor=!0};b.prototype.popScissorMask=function(){this.scissorRenderTarget=null;this.scissorData=null;this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)};return b}(a["default"]);ve["default"]=d}var ye=!1;function ze(){ye||(ye=!0,xe());return we.exports}var Ae={},Be={exports:Ae};function Ce(){Ae.__esModule=!0;var a=Wd(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){f(c,a);function c(b){d(this,c);b=e(this,a.call(this,b));b.stencilMaskStack=null;return b}c.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;a.length===0?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)};c.prototype.pushStencil=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var b=this.renderer.gl,c=this.stencilMaskStack.length;c===0&&b.enable(b.STENCIL_TEST);this.stencilMaskStack.push(a);b.colorMask(!1,!1,!1,!1);b.stencilFunc(b.EQUAL,c,this._getBitwiseMask());b.stencilOp(b.KEEP,b.KEEP,b.INCR);this.renderer.plugins.graphics.render(a);this._useCurrent()};c.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var a=this.renderer.gl,b=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(a.disable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),a.clearStencil(0)):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),this.renderer.plugins.graphics.render(b),this._useCurrent())};c.prototype._useCurrent=function(){var a=this.renderer.gl;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask());a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};c.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1};c.prototype.destroy=function(){b["default"].prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null};return c}(b["default"]);Ae["default"]=c}var De=!1;function Ee(){De||(De=!0,Ce());return Be.exports}var Fe={},Ge={exports:Fe};function He(){Fe.__esModule=!0;var a=P(),b=K(),c=Q(),d=f(c),e=m();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){function c(f,h,i,j,k,l){g(this,c),this.gl=f,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=k||d["default"].RESOLUTION,this.projectionMatrix=new a.Matrix(),this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle(),this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=j!==void 0?j:d["default"].SCALE_MODE,this.root=l,!this.root?(this.frameBuffer=e.GLFramebuffer.createRGBA(f,100,100),this.scaleMode===b.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture):(this.frameBuffer=new e.GLFramebuffer(f,100,100),this.frameBuffer.framebuffer=null),this.setFrame(),this.resize(h,i)}c.prototype.clear=function(a){a=a||this.clearColor;this.frameBuffer.clear(a[0],a[1],a[2],a[3])};c.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};c.prototype.setFrame=function(a,b){this.destinationFrame=a||this.destinationFrame||this.defaultFrame,this.sourceFrame=b||this.sourceFrame||this.destinationFrame};c.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):a.disable(a.SCISSOR_TEST);a.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};c.prototype.calculateProjection=function(a,b){var c=this.projectionMatrix;b=b||a;c.identity();!this.root?(c.a=1/a.width*2,c.d=1/a.height*2,c.tx=-1-b.x*c.a,c.ty=-1-b.y*c.d):(c.a=1/a.width*2,c.d=-1/a.height*2,c.tx=-1-b.x*c.a,c.ty=1-b.y*c.d)};c.prototype.resize=function(a,b){a=a|0;b=b|0;if(this.size.width===a&&this.size.height===b)return;this.size.width=a;this.size.height=b;this.defaultFrame.width=a;this.defaultFrame.height=b;this.frameBuffer.resize(a*this.resolution,b*this.resolution);a=this.frame||this.size;this.calculateProjection(a)};c.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null};return c}();Fe["default"]=f}var Ie=!1;function Je(){Ie||(Ie=!0,He());return Ge.exports}var Ke={},Le={exports:Ke};function Me(){Ke.__esModule=!0;Ke["default"]=a;function a(a){a=a*6;var b=new Uint16Array(a);for(var c=0,d=0;c<a;c+=6,d+=4)b[c+0]=d+0,b[c+1]=d+1,b[c+2]=d+2,b[c+3]=d+0,b[c+4]=d+2,b[c+5]=d+3;return b}}var Ne=!1;function Oe(){Ne||(Ne=!0,Me());return Le.exports}var Pe={},Qe={exports:Pe};function Re(){Pe.__esModule=!0;var a=m(),b=d(a);a=Oe();var c=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(d,f){e(this,a);this.gl=d;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(8*2);for(var g=0;g<4;g++)this.interleaved[g*4]=this.vertices[g*2],this.interleaved[g*4+1]=this.vertices[g*2+1],this.interleaved[g*4+2]=this.uvs[g*2],this.interleaved[g*4+3]=this.uvs[g*2+1];this.indices=c["default"](1);this.vertexBuffer=b["default"].GLBuffer.createVertexBuffer(d,this.interleaved,d.STATIC_DRAW);this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(d,this.indices,d.STATIC_DRAW);this.vao=new b["default"].VertexArrayObject(d,f)}a.prototype.initVao=function(a){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,a.attributes.aVertexPosition,this.gl.FLOAT,!1,4*4,0).addAttribute(this.vertexBuffer,a.attributes.aTextureCoord,this.gl.FLOAT,!1,4*4,2*4)};a.prototype.map=function(a,b){var c=0,d=0;this.uvs[0]=c;this.uvs[1]=d;this.uvs[2]=c+b.width/a.width;this.uvs[3]=d;this.uvs[4]=c+b.width/a.width;this.uvs[5]=d+b.height/a.height;this.uvs[6]=c;this.uvs[7]=d+b.height/a.height;c=b.x;d=b.y;this.vertices[0]=c;this.vertices[1]=d;this.vertices[2]=c+b.width;this.vertices[3]=d;this.vertices[4]=c+b.width;this.vertices[5]=d+b.height;this.vertices[6]=c;this.vertices[7]=d+b.height;return this};a.prototype.upload=function(){for(var a=0;a<4;a++)this.interleaved[a*4]=this.vertices[a*2],this.interleaved[a*4+1]=this.vertices[a*2+1],this.interleaved[a*4+2]=this.uvs[a*2],this.interleaved[a*4+3]=this.uvs[a*2+1];this.vertexBuffer.upload(this.interleaved);return this};a.prototype.destroy=function(){var a=this.gl;a.deleteBuffer(this.vertexBuffer);a.deleteBuffer(this.indexBuffer)};return a}();Pe["default"]=d}var Se=!1;function Te(){Se||(Se=!0,Re());return Qe.exports}var Ue={},Ve={exports:Ue};function We(){Ue.__esModule=!0;var a=m(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(a instanceof Array){if(a[0].substring(0,9)!=="precision"){var c=a.slice(0);c.unshift("precision "+b+" float;");return c}}else if(a.trim().substring(0,9)!=="precision")return"precision "+b+" float;\n"+a;return a}d=function(a){g(b,a);function b(d,g,i,j,k){e(this,b);return f(this,a.call(this,d,h(g,k||c["default"].PRECISION_VERTEX),h(i,k||c["default"].PRECISION_FRAGMENT),void 0,j))}return b}(a.GLShader);Ue["default"]=d}var Xe=!1;function Ye(){Xe||(Xe=!0,We());return Ve.exports}var Ze={},$e={exports:Ze};function af(){Ze.__esModule=!0;Ze.calculateScreenSpaceMatrix=b;Ze.calculateNormalizedScreenSpaceMatrix=c;Ze.calculateSpriteMatrix=d;var a=P();function b(a,b,c){a=a.identity();a.translate(b.x/c.width,b.y/c.height);a.scale(c.width,c.height);return a}function c(a,b,c){a=a.identity();a.translate(b.x/c.width,b.y/c.height);var d=c.width/b.width;c=c.height/b.height;a.scale(d,c);return a}function d(b,c,d,e){var f=e._texture.orig;b=b.set(d.width,0,0,d.height,c.x,c.y);d=e.worldTransform.copy(a.Matrix.TEMP_MATRIX);d.invert();b.prepend(d);b.scale(1/f.width,1/f.height);b.translate(e.anchor.x,e.anchor.y);return b}}var bf=!1;function cf(){bf||(bf=!0,af());return $e.exports}var df={},ef={exports:df};function ff(){df.__esModule=!0;var a=Wd();a=j(a);var b=Je(),c=j(b);b=Te();var d=j(b),e=P();b=Ye();var f=j(b);b=cf();var g=i(b);i=l();var h=j(i);function i(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function m(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var o=function(){function a(){n(this,a),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new e.Rectangle(),this.destinationFrame=new e.Rectangle(),this.filters=[]}a.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null};return a}(),p="screen";b=function(a){m(b,a);function b(c){n(this,b);var e=k(this,a.call(this,c));e.gl=e.renderer.gl;e.quad=new d["default"](e.gl,c.state.attribState);e.shaderCache={};e.pool={};e.filterData=null;e.managedFilters=[];e.renderer.on("prerender",e.onPrerender,e);e._screenWidth=c.view.width;e._screenHeight=c.view.height;return e}b.prototype.pushFilter=function(a,b){var c=this.renderer,d=this.filterData;if(!d){d=this.renderer._activeRenderTarget.filterStack;var e=new o();e.sourceFrame=e.destinationFrame=this.renderer._activeRenderTarget.size;e.renderTarget=c._activeRenderTarget;this.renderer._activeRenderTarget.filterData=d={index:0,stack:[e]};this.filterData=d}e=d.stack[++d.index];var f=d.stack[0].destinationFrame;e||(e=d.stack[d.index]=new o());var g=a.filterArea&&a.filterArea.x===0&&a.filterArea.y===0&&a.filterArea.width===c.screen.width&&a.filterArea.height===c.screen.height,h=b[0].resolution,i=b[0].padding|0,j=g?c.screen:a.filterArea||a.getBounds(!0),k=e.sourceFrame,l=e.destinationFrame;k.x=(j.x*h|0)/h;k.y=(j.y*h|0)/h;k.width=(j.width*h|0)/h;k.height=(j.height*h|0)/h;g||(d.stack[0].renderTarget.transform||b[0].autoFit&&k.fit(f),k.pad(i));l.width=k.width;l.height=k.height;j=this.getPotRenderTarget(c.gl,k.width,k.height,h);e.target=a;e.filters=b;e.resolution=h;e.renderTarget=j;j.setFrame(l,k);c.bindRenderTarget(j);j.clear()};b.prototype.popFilter=function(){var a=this.filterData,b=a.stack[a.index-1],c=a.stack[a.index];this.quad.map(c.renderTarget.size,c.sourceFrame).upload();var d=c.filters;if(d.length===1)d[0].apply(this,c.renderTarget,b.renderTarget,!1,c),this.freePotRenderTarget(c.renderTarget);else{var e=c.renderTarget,f=this.getPotRenderTarget(this.renderer.gl,c.sourceFrame.width,c.sourceFrame.height,c.resolution);f.setFrame(c.destinationFrame,c.sourceFrame);f.clear();var g=0;for(g=0;g<d.length-1;++g){d[g].apply(this,e,f,!0,c);var h=e;e=f;f=h}d[g].apply(this,e,b.renderTarget,!1,c);this.freePotRenderTarget(e);this.freePotRenderTarget(f)}c.clear();a.index--;a.index===0&&(this.filterData=null)};b.prototype.applyFilter=function(a,b,c,d){var e=this.renderer,g=e.gl,h=a.glShaders[e.CONTEXT_UID];h||(a.glShaderKey?(h=this.shaderCache[a.glShaderKey],h||(h=new f["default"](this.gl,a.vertexSrc,a.fragmentSrc),a.glShaders[e.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=h,this.managedFilters.push(a))):(h=a.glShaders[e.CONTEXT_UID]=new f["default"](this.gl,a.vertexSrc,a.fragmentSrc),this.managedFilters.push(a)),e.bindVao(null),this.quad.initVao(h));e.bindVao(this.quad.vao);e.bindRenderTarget(c);d&&(g.disable(g.SCISSOR_TEST),e.clear(),g.enable(g.SCISSOR_TEST));c===e.maskManager.scissorRenderTarget&&e.maskManager.pushScissorMask(null,e.maskManager.scissorData);e.bindShader(h);d=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=d;this.syncUniforms(h,a);e.state.setBlendMode(a.blendMode);g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,b.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);g.bindTexture(g.TEXTURE_2D,d._glTextures[this.renderer.CONTEXT_UID].texture)};b.prototype.syncUniforms=function(a,b){var c=b.uniformData;b=b.uniforms;var d=1,e=void 0;if(a.uniforms.filterArea){e=this.filterData.stack[this.filterData.index];var f=a.uniforms.filterArea;f[0]=e.renderTarget.size.width;f[1]=e.renderTarget.size.height;f[2]=e.sourceFrame.x;f[3]=e.sourceFrame.y;a.uniforms.filterArea=f}if(a.uniforms.filterClamp){e=e||this.filterData.stack[this.filterData.index];f=a.uniforms.filterClamp;f[0]=0;f[1]=0;f[2]=(e.sourceFrame.width-1)/e.renderTarget.size.width;f[3]=(e.sourceFrame.height-1)/e.renderTarget.size.height;a.uniforms.filterClamp=f}for(var e in c){f=c[e].type;if(f==="sampler2d"&&b[e]!==0){if(b[e].baseTexture)a.uniforms[e]=this.renderer.bindTexture(b[e].baseTexture,d);else{a.uniforms[e]=d;var g=this.renderer.gl;this.renderer.boundTextures[d]=this.renderer.emptyTextures[d];g.activeTexture(g.TEXTURE0+d);b[e].texture.bind()}d++}else if(f==="mat3")b[e].a!==void 0?a.uniforms[e]=b[e].toArray(!0):a.uniforms[e]=b[e];else if(f==="vec2")if(b[e].x!==void 0){g=a.uniforms[e]||new Float32Array(2);g[0]=b[e].x;g[1]=b[e].y;a.uniforms[e]=g}else a.uniforms[e]=b[e];else f==="float"?a.uniforms.data[e].value!==c[e]&&(a.uniforms[e]=b[e]):a.uniforms[e]=b[e]}};b.prototype.getRenderTarget=function(a,b){a=this.filterData.stack[this.filterData.index];b=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,b||a.resolution);b.setFrame(a.destinationFrame,a.sourceFrame);return b};b.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)};b.prototype.calculateScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return g.calculateScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size)};b.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return g.calculateNormalizedScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size,b.destinationFrame)};b.prototype.calculateSpriteMatrix=function(a,b){var c=this.filterData.stack[this.filterData.index];return g.calculateSpriteMatrix(a,c.sourceFrame,c.renderTarget.size,b)};b.prototype.destroy=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,b=this.renderer,c=this.managedFilters;b.off("prerender",this.onPrerender,this);for(var d=0;d<c.length;d++)a||c[d].glShaders[b.CONTEXT_UID].destroy(),delete c[d].glShaders[b.CONTEXT_UID];this.shaderCache={};!a?this.emptyPool():this.pool={}};b.prototype.getPotRenderTarget=function(a,b,d,e){var f=p;b*=e;d*=e;(b!==this._screenWidth||d!==this._screenHeight)&&(b=h["default"].nextPow2(b),d=h["default"].nextPow2(d),f=(b&65535)<<16|d&65535);this.pool[f]||(this.pool[f]=[]);var g=this.pool[f].pop();if(!g){var i=this.renderer.boundTextures[0];a.activeTexture(a.TEXTURE0);g=new c["default"](a,b,d,null,1);a.bindTexture(a.TEXTURE_2D,i._glTextures[this.renderer.CONTEXT_UID].texture)}g.resolution=e;g.defaultFrame.width=g.size.width=b/e;g.defaultFrame.height=g.size.height=d/e;g.filterPoolKey=f;return g};b.prototype.emptyPool=function(){for(var a in this.pool){var b=this.pool[a];if(b)for(var c=0;c<b.length;c++)b[c].destroy(!0)}this.pool={}};b.prototype.freePotRenderTarget=function(a){this.pool[a.filterPoolKey].push(a)};b.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width;this._screenHeight=this.renderer.view.height;var a=this.pool[p];if(a)for(var b=0;b<a.length;b++)a[b].destroy(!0);this.pool[p]=[]}};return b}(a["default"]);df["default"]=b}var gf=!1;function hf(){gf||(gf=!0,ff());return ef.exports}var jf={},kf={exports:jf};function lf(){jf.__esModule=!0;var a=m(),b=K(),c=Je(),d=f(c),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){function c(a){g(this,c),this.renderer=a,this.gl=a.gl,this._managedTextures=[]}c.prototype.bindTexture=function(){};c.prototype.getTexture=function(){};c.prototype.updateTexture=function(c,e){var f=this.gl,g=!!c._glRenderTargets;if(!c.hasLoaded)return null;var h=this.renderer.boundTextures;if(e===void 0){e=0;for(var i=0;i<h.length;++i)if(h[i]===c){e=i;break}}h[e]=c;f.activeTexture(f.TEXTURE0+e);i=c._glTextures[this.renderer.CONTEXT_UID];if(!i){if(g){h=new d["default"](this.gl,c.width,c.height,c.scaleMode,c.resolution);h.resize(c.width,c.height);c._glRenderTargets[this.renderer.CONTEXT_UID]=h;i=h.texture}else i=new a.GLTexture(this.gl,null,null,null,null),i.bind(e),i.premultiplyAlpha=!0,i.upload(c.source);c._glTextures[this.renderer.CONTEXT_UID]=i;c.on("update",this.updateTexture,this);c.on("dispose",this.destroyTexture,this);this._managedTextures.push(c);c.isPowerOfTwo?(c.mipmap&&i.enableMipmap(),c.wrapMode===b.WRAP_MODES.CLAMP?i.enableWrapClamp():c.wrapMode===b.WRAP_MODES.REPEAT?i.enableWrapRepeat():i.enableWrapMirrorRepeat()):i.enableWrapClamp();c.scaleMode===b.SCALE_MODES.NEAREST?i.enableNearestScaling():i.enableLinearScaling()}else g?c._glRenderTargets[this.renderer.CONTEXT_UID].resize(c.width,c.height):i.upload(c.source);return i};c.prototype.destroyTexture=function(a,b){a=a.baseTexture||a;if(!a.hasLoaded)return;var c=this.renderer.CONTEXT_UID,d=a._glTextures,f=a._glRenderTargets;if(d[c]){this.renderer.unbindTexture(a);d[c].destroy();a.off("update",this.updateTexture,this);a.off("dispose",this.destroyTexture,this);delete d[c];if(!b){d=this._managedTextures.indexOf(a);d!==-1&&e.removeItems(this._managedTextures,d,1)}}f&&f[c]&&(f[c].destroy(),delete f[c])};c.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];b._glTextures[this.renderer.CONTEXT_UID]&&delete b._glTextures[this.renderer.CONTEXT_UID]}};c.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];this.destroyTexture(b,!0);b.off("update",this.updateTexture,this);b.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return c}();jf["default"]=f}var mf=!1;function nf(){mf||(mf=!0,lf());return kf.exports}var of={},pf={exports:of};function qf(){of.__esModule=!0;var a=K(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function b(a){e(this,b),this.renderer=a,this.count=0,this.checkCount=0,this.maxIdle=c["default"].GC_MAX_IDLE,this.checkCountMax=c["default"].GC_MAX_CHECK_COUNT,this.mode=c["default"].GC_MODE}b.prototype.update=function(){this.count++;if(this.mode===a.GC_MODES.MANUAL)return;this.checkCount++;this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())};b.prototype.run=function(){var a=this.renderer.textureManager,b=a._managedTextures,c=!1;for(var d=0;d<b.length;d++){var e=b[d];!e._glRenderTargets&&this.count-e.touched>this.maxIdle&&(a.destroyTexture(e,!0),b[d]=null,c=!0)}if(c){e=0;for(var d=0;d<b.length;d++)b[d]!==null&&(b[e++]=b[d]);b.length=e}};b.prototype.unload=function(a){var b=this.renderer.textureManager;a._texture&&a._texture._glRenderTargets&&b.destroyTexture(a._texture,!0);for(var b=a.children.length-1;b>=0;b--)this.unload(a.children[b])};return b}();of["default"]=d}var rf=!1;function sf(){rf||(rf=!0,qf());return pf.exports}var tf={},uf={exports:tf};function vf(){tf.__esModule=!0;tf["default"]=b;var a=K();function b(b){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c[a.BLEND_MODES.NORMAL]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.ADD]=[b.ONE,b.DST_ALPHA];c[a.BLEND_MODES.MULTIPLY]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SCREEN]=[b.ONE,b.ONE_MINUS_SRC_COLOR];c[a.BLEND_MODES.OVERLAY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.DARKEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.LIGHTEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR_DODGE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR_BURN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.HARD_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SOFT_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.DIFFERENCE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.EXCLUSION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.HUE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SATURATION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.LUMINOSITY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.NORMAL_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.ADD_NPM]=[b.SRC_ALPHA,b.DST_ALPHA,b.ONE,b.DST_ALPHA];c[a.BLEND_MODES.SCREEN_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_COLOR,b.ONE,b.ONE_MINUS_SRC_COLOR];return c}}var wf=!1;function xf(){wf||(wf=!0,vf());return uf.exports}var yf={},zf={exports:yf};function Af(){yf.__esModule=!0;var a=xf(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=0,f=1,g=2,h=3,i=4;c=function(){function a(c){d(this,a),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=c,this.maxAttribs=c.getParameter(c.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=b["default"](c),this.nativeVaoExtension=c.getExtension("OES_vertex_array_object")||c.getExtension("MOZ_OES_vertex_array_object")||c.getExtension("WEBKIT_OES_vertex_array_object")}a.prototype.push=function(){var a=this.stack[this.stackIndex];a||(a=this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var b=0;b<this.activeState.length;b++)a[b]=this.activeState[b]};a.prototype.pop=function(){var a=this.stack[--this.stackIndex];this.setState(a)};a.prototype.setState=function(a){this.setBlend(a[e]),this.setDepthTest(a[f]),this.setFrontFace(a[g]),this.setCullFace(a[h]),this.setBlendMode(a[i])};a.prototype.setBlend=function(a){a=a?1:0;if(this.activeState[e]===a)return;this.activeState[e]=a;this.gl[a?"enable":"disable"](this.gl.BLEND)};a.prototype.setBlendMode=function(a){if(a===this.activeState[i])return;this.activeState[i]=a;a=this.blendModes[a];a.length===2?this.gl.blendFunc(a[0],a[1]):this.gl.blendFuncSeparate(a[0],a[1],a[2],a[3])};a.prototype.setDepthTest=function(a){a=a?1:0;if(this.activeState[f]===a)return;this.activeState[f]=a;this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST)};a.prototype.setCullFace=function(a){a=a?1:0;if(this.activeState[h]===a)return;this.activeState[h]=a;this.gl[a?"enable":"disable"](this.gl.CULL_FACE)};a.prototype.setFrontFace=function(a){a=a?1:0;if(this.activeState[g]===a)return;this.activeState[g]=a;this.gl.frontFace(this.gl[a?"CW":"CCW"])};a.prototype.resetAttributes=function(){for(var a=0;a<this.attribState.tempAttribState.length;a++)this.attribState.tempAttribState[a]=0;for(var a=0;a<this.attribState.attribState.length;a++)this.attribState.attribState[a]=0;for(var a=1;a<this.maxAttribs;a++)this.gl.disableVertexAttribArray(a)};a.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var a=0;a<this.activeState.length;++a)this.activeState[a]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};return a}();yf["default"]=c}var Bf=!1;function Cf(){Bf||(Bf=!0,Af());return zf.exports}var Df={},Ef={exports:Df};function Ff(){Df.__esModule=!0;Df["default"]=b;var a=K();function b(b){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c[a.DRAW_MODES.POINTS]=b.POINTS;c[a.DRAW_MODES.LINES]=b.LINES;c[a.DRAW_MODES.LINE_LOOP]=b.LINE_LOOP;c[a.DRAW_MODES.LINE_STRIP]=b.LINE_STRIP;c[a.DRAW_MODES.TRIANGLES]=b.TRIANGLES;c[a.DRAW_MODES.TRIANGLE_STRIP]=b.TRIANGLE_STRIP;c[a.DRAW_MODES.TRIANGLE_FAN]=b.TRIANGLE_FAN;return c}}var Gf=!1;function Hf(){Gf||(Gf=!0,Ff());return Ef.exports}var If={},Jf={exports:If};function Kf(){If.__esModule=!0;If["default"]=a;function a(a){a=a.getContextAttributes();a.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}}var Lf=!1;function Mf(){Lf||(Lf=!0,Kf());return Jf.exports}var Nf={},Of={exports:Nf};function Pf(){Nf.__esModule=!0;var a=id(),b=r(a);a=ze();var c=r(a);a=Ee();var d=r(a);a=hf();var e=r(a);a=Je();var f=r(a);a=ae();var g=r(a);a=nf();var h=r(a);a=mc();var i=r(a);a=sf();var j=r(a);a=Cf();var k=r(a);a=Hf();var l=r(a);a=Mf();var n=r(a);a=S();var o=m(),p=r(o),q=K();function r(a){return a&&a.__esModule?a:{"default":a}}function s(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function t(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function u(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var v=0;r=function(a){u(m,a);function m(b,e,f){s(this,m);b=t(this,a.call(this,"WebGL",b,e,f));b.legacy=b.options.legacy;b.legacy&&(p["default"].VertexArrayObject.FORCE_NATIVE=!0);b.type=q.RENDERER_TYPE.WEBGL;b.handleContextLost=b.handleContextLost.bind(b);b.handleContextRestored=b.handleContextRestored.bind(b);b.view.addEventListener("webglcontextlost",b.handleContextLost,!1);b.view.addEventListener("webglcontextrestored",b.handleContextRestored,!1);b._contextOptions={alpha:b.transparent,antialias:b.options.antialias,premultipliedAlpha:b.transparent&&b.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:b.options.preserveDrawingBuffer,powerPreference:b.options.powerPreference};b._backgroundColorRgba[3]=b.transparent?0:1;b.maskManager=new c["default"](b);b.stencilManager=new d["default"](b);b.emptyRenderer=new g["default"](b);b.currentRenderer=b.emptyRenderer;b.textureManager=null;b.filterManager=null;b.initPlugins();b.options.context&&n["default"](b.options.context);b.gl=b.options.context||p["default"].createContext(b.view,b._contextOptions);b.CONTEXT_UID=v++;b.state=new k["default"](b.gl);b.renderingToScreen=!0;b.boundTextures=null;b._activeShader=null;b._activeVao=null;b._activeRenderTarget=null;b._initContext();b.drawModes=l["default"](b.gl);b._nextTextureLocation=0;b.setBlendMode(0);return b}m.prototype._initContext=function(){var a=this.gl;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext();var b=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null;this._activeVao=null;this.boundTextures=new Array(b);this.emptyTextures=new Array(b);this.textureManager=new h["default"](this);this.filterManager=new e["default"](this);this.textureGC=new j["default"](this);this.state.resetToDefault();this.rootRenderTarget=new f["default"](a,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var c=new p["default"].GLTexture.fromData(a,null,1,1),d={_glTextures:{}};d._glTextures[this.CONTEXT_UID]={};for(var g=0;g<b;g++){var k=new i["default"]();k._glTextures[this.CONTEXT_UID]=c;this.boundTextures[g]=d;this.emptyTextures[g]=k;this.bindTexture(null,g)}this.emit("context",a);this.resize(this.screen.width,this.screen.height)};m.prototype.render=function(a,b,c,d,e){this.renderingToScreen=!b;this.emit("prerender");if(!this.gl||this.gl.isContextLost())return;this._nextTextureLocation=0;b||(this._lastObjectRendered=a);if(!e){e=a.parent;a.parent=this._tempDisplayObjectParent;a.updateTransform();a.parent=e}this.bindRenderTexture(b,d);this.currentRenderer.start();(c!==void 0?c:this.clearBeforeRender)&&this._activeRenderTarget.clear();a.renderWebGL(this);this.currentRenderer.flush();this.textureGC.update();this.emit("postrender")};m.prototype.setObjectRenderer=function(a){if(this.currentRenderer===a)return;this.currentRenderer.stop();this.currentRenderer=a;this.currentRenderer.start()};m.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};m.prototype.resize=function(a,c){b["default"].prototype.resize.call(this,a,c),this.rootRenderTarget.resize(a,c),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};m.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};m.prototype.clear=function(a){this._activeRenderTarget.clear(a)};m.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};m.prototype.clearRenderTexture=function(a,b){a=a.baseTexture;a=a._glRenderTargets[this.CONTEXT_UID];a&&a.clear(b);return this};m.prototype.bindRenderTexture=function(a,b){var c=void 0;if(a){var d=a.baseTexture;d._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(d,0);this.unbindTexture(d);c=d._glRenderTargets[this.CONTEXT_UID];c.setFrame(a.frame)}else c=this.rootRenderTarget;c.transform=b;this.bindRenderTarget(c);return this};m.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));return this};m.prototype.bindShader=function(a,b){this._activeShader!==a&&(this._activeShader=a,a.bind(),b!==!1&&(a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)));return this};m.prototype.bindTexture=function(a,b,c){a=a||this.emptyTextures[b];a=a.baseTexture||a;a.touched=this.textureGC.count;if(!c){for(var c=0;c<this.boundTextures.length;c++)if(this.boundTextures[c]===a)return c;b===void 0&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,b=this.boundTextures.length-this._nextTextureLocation-1)}else b=b||0;c=this.gl;var d=a._glTextures[this.CONTEXT_UID];!d?this.textureManager.updateTexture(a,b):(this.boundTextures[b]=a,c.activeTexture(c.TEXTURE0+b),c.bindTexture(c.TEXTURE_2D,d.texture));return b};m.prototype.unbindTexture=function(a){var b=this.gl;a=a.baseTexture||a;for(var c=0;c<this.boundTextures.length;c++)this.boundTextures[c]===a&&(this.boundTextures[c]=this.emptyTextures[c],b.activeTexture(b.TEXTURE0+c),b.bindTexture(b.TEXTURE_2D,this.emptyTextures[c]._glTextures[this.CONTEXT_UID].texture));return this};m.prototype.createVao=function(){return new p["default"].VertexArrayObject(this.gl,this.state.attribState)};m.prototype.bindVao=function(a){if(this._activeVao===a)return this;a?a.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=a;return this};m.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this.bindVao(null);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.emptyTextures[a];this.rootRenderTarget.activate();this.state.resetToDefault();return this};m.prototype.handleContextLost=function(a){a.preventDefault()};m.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()};m.prototype.destroy=function(b){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),a.prototype.destroy.call(this,b),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null};return m}(b["default"]);Nf["default"]=r;a.pluginTarget.mixin(r)}var Qf=!1;function Rf(){Qf||(Qf=!0,Pf());return Of.exports}var Sf={},Tf={exports:Sf};function Uf(){Sf.__esModule=!0;Sf["default"]=d;d=Ye();var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");function d(b,d){var f="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",g=c;g=g.replace(/%count%/gi,d);g=g.replace(/%forloop%/gi,e(d));b=new a["default"](b,f,g);f=[];for(var g=0;g<d;g++)f[g]=g;b.bind();b.uniforms.uSamplers=f;return b}function e(a){var b="";b+="\n";b+="\n";for(var c=0;c<a;c++)c>0&&(b+="\nelse "),c<a-1&&(b+="if(textureId == "+c+".0)"),b+="\n{",b+="\n\tcolor = texture2D(uSamplers["+c+"], vTextureCoord);",b+="\n}";b+="\n";b+="\n";return b}}var Vf=!1;function Wf(){Vf||(Vf=!0,Uf());return Tf.exports}var Xf={},Yf={exports:Xf};function Zf(){Xf.__esModule=!0;Xf["default"]=d;d=m();var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function d(b,d){var f=!d;if(b===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(f){var g=document.createElement("canvas");g.width=1;g.height=1;d=a["default"].createContext(g)}g=d.createShader(d.FRAGMENT_SHADER);while(!0){var h=c.replace(/%forloop%/gi,e(b));d.shaderSource(g,h);d.compileShader(g);if(!d.getShaderParameter(g,d.COMPILE_STATUS))b=b/2|0;else break}f&&(d.getExtension("WEBGL_lose_context")&&d.getExtension("WEBGL_lose_context").loseContext());return b}function e(a){var b="";for(var c=0;c<a;++c)c>0&&(b+="\nelse "),c<a-1&&(b+="if(test == "+c+".0){}");return b}}var $f=!1;function ag(){$f||($f=!0,Zf());return Yf.exports}var bg={},cg={exports:bg};function dg(){bg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.vertices=new ArrayBuffer(c),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}b.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null};return b}();bg["default"]=b}var eg=!1;function fg(){eg||(eg=!0,dg());return cg.exports}var gg={},hg={exports:gg};function ig(){gg.__esModule=!0;var a=ae();a=n(a);var b=Rf();b=n(b);var c=Oe(),d=n(c);c=Wf();var e=n(c);c=ag();var f=n(c);c=fg();var g=n(c);c=Q();var h=n(c),i=S();c=m();var j=n(c);c=l();var k=n(c);function n(a){return a&&a.__esModule?a:{"default":a}}function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function p(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function q(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var r=0,s=0;n=function(a){q(b,a);function b(c){o(this,b);c=p(this,a.call(this,c));c.vertSize=5;c.vertByteSize=c.vertSize*4;c.size=h["default"].SPRITE_BATCH_SIZE;c.buffers=[];for(var e=1;e<=k["default"].nextPow2(c.size);e*=2)c.buffers.push(new g["default"](e*4*c.vertByteSize));c.indices=d["default"](c.size);c.shader=null;c.currentIndex=0;c.groups=[];for(var e=0;e<c.size;e++)c.groups[e]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};c.sprites=[];c.vertexBuffers=[];c.vaos=[];c.vaoMax=2;c.vertexCount=0;c.renderer.on("prerender",c.onPrerender,c);return c}b.prototype.onContextChange=function(){var a=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),h["default"].SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=f["default"](this.MAX_TEXTURES,a));this.shader=e["default"](a,this.MAX_TEXTURES);this.indexBuffer=j["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.renderer.bindVao(null);var b=this.shader.attributes;for(var c=0;c<this.vaoMax;c++){var d=this.vertexBuffers[c]=j["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),g=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(d,b.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(d,b.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(d,b.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);b.aTextureId&&g.addAttribute(d,b.aTextureId,a.FLOAT,!1,this.vertByteSize,4*4);this.vaos[c]=g}this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=new Array(this.MAX_TEXTURES)};b.prototype.onPrerender=function(){this.vertexCount=0};b.prototype.render=function(a){this.currentIndex>=this.size&&this.flush();if(!a._texture._uvs)return;this.sprites[this.currentIndex++]=a};b.prototype.flush=function(){if(this.currentIndex===0)return;var a=this.renderer.gl,b=this.MAX_TEXTURES,c=k["default"].nextPow2(this.currentIndex);c=k["default"].log2(c);c=this.buffers[c];var d=this.sprites,e=this.groups,f=c.float32View,g=c.uint32View,l=this.boundTextures,m=this.renderer.boundTextures,n=this.renderer.textureGC.count,o=0,p=void 0,q=void 0,t=1,u=0,v=e[0],w=i.premultiplyBlendMode[d[0]._texture.baseTexture.premultipliedAlpha?1:0][d[0].blendMode];v.textureCount=0;v.start=0;v.blend=w;r++;var x=void 0;for(x=0;x<b;++x){var y=m[x];if(y._enabled===r){l[x]=this.renderer.emptyTextures[x];continue}l[x]=y;y._virtalBoundId=x;y._enabled=r}r++;for(x=0;x<this.currentIndex;++x){y=d[x];d[x]=null;p=y._texture.baseTexture;var z=i.premultiplyBlendMode[Number(p.premultipliedAlpha)][y.blendMode];w!==z&&(w=z,q=null,u=b,r++);if(q!==p){q=p;if(p._enabled!==r){u===b&&(r++,v.size=x-v.start,u=0,v=e[t++],v.blend=w,v.textureCount=0,v.start=x);p.touched=n;if(p._virtalBoundId===-1)for(var z=0;z<b;++z){var A=(z+s)%b,B=l[A];if(B._enabled!==r){s++;B._virtalBoundId=-1;p._virtalBoundId=A;l[A]=p;break}}p._enabled=r;v.textureCount++;v.ids[u]=p._virtalBoundId;v.textures[u++]=p}}B=y.vertexData;A=y._texture._uvs.uvsUint32;if(this.renderer.roundPixels){z=this.renderer.resolution;f[o]=(B[0]*z|0)/z;f[o+1]=(B[1]*z|0)/z;f[o+5]=(B[2]*z|0)/z;f[o+6]=(B[3]*z|0)/z;f[o+10]=(B[4]*z|0)/z;f[o+11]=(B[5]*z|0)/z;f[o+15]=(B[6]*z|0)/z;f[o+16]=(B[7]*z|0)/z}else f[o]=B[0],f[o+1]=B[1],f[o+5]=B[2],f[o+6]=B[3],f[o+10]=B[4],f[o+11]=B[5],f[o+15]=B[6],f[o+16]=B[7];g[o+2]=A[0];g[o+7]=A[1];g[o+12]=A[2];g[o+17]=A[3];z=Math.min(y.worldAlpha,1);B=z<1&&p.premultipliedAlpha?i.premultiplyTint(y._tintRGB,z):y._tintRGB+(z*255<<24);g[o+3]=g[o+8]=g[o+13]=g[o+18]=B;f[o+4]=f[o+9]=f[o+14]=f[o+19]=p._virtalBoundId;o+=20}v.size=x-v.start;if(!h["default"].CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;A=this.shader.attributes;y=this.vertexBuffers[this.vertexCount]=j["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW);z=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(y,A.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(y,A.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(y,A.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);A.aTextureId&&z.addAttribute(y,A.aTextureId,a.FLOAT,!1,this.vertByteSize,4*4);this.vaos[this.vertexCount]=z}this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].upload(c.vertices,0,!1);this.vertexCount++}else this.vertexBuffers[this.vertexCount].upload(c.vertices,0,!0);for(x=0;x<b;++x)m[x]._virtalBoundId=-1;for(x=0;x<t;++x){B=e[x];w=B.textureCount;for(var l=0;l<w;l++)q=B.textures[l],m[B.ids[l]]!==q&&this.renderer.bindTexture(q,B.ids[l],!0),q._virtalBoundId=-1;this.renderer.state.setBlendMode(B.blend);a.drawElements(a.TRIANGLES,B.size*6,a.UNSIGNED_SHORT,B.start*6*2)}this.currentIndex=0};b.prototype.start=function(){this.renderer.bindShader(this.shader),h["default"].CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())};b.prototype.stop=function(){this.flush()};b.prototype.destroy=function(){for(var b=0;b<this.vaoMax;b++)this.vertexBuffers[b]&&this.vertexBuffers[b].destroy(),this.vaos[b]&&this.vaos[b].destroy();this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);a.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.vertexBuffers=null;this.vaos=null;this.indexBuffer=null;this.indices=null;this.sprites=null;for(var b=0;b<this.buffers.length;++b)this.buffers[b].destroy()};return b}(a["default"]);gg["default"]=n;b["default"].registerPlugin("sprite",n)}var jg=!1;function kg(){jg||(jg=!0,ig());return hg.exports}var lg={},mg={exports:lg};function ng(){lg.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=K(),c=S();function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:b.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0};b=function(){function b(a){d(this,b),this.styleID=0,this.reset(),i(this,a,a)}b.prototype.clone=function(){var a={};i(a,this,e);return new b(a)};b.prototype.reset=function(){i(this,e,e)};b.prototype.toFontString=function(){var a=typeof this.fontSize==="number"?this.fontSize+"px":this.fontSize,b=this.fontFamily;Array.isArray(this.fontFamily)||(b=this.fontFamily.split(","));for(var c=b.length-1;c>=0;c--){var d=b[c].trim();/([\"\'])[^\'\"]+\1/.test(d)||(d='"'+d+'"');b[c]=d}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+a+" "+b.join(",")};a(b,[{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(a){this._dropShadowAlpha!==a&&(this._dropShadowAlpha=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(a){a=g(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){a=g(a);this._fill!==a&&(this._fill=a,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(a){h(this._fillGradientStops,a)||(this._fillGradientStops=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(a){this._leading!==a&&(this._leading=a,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){a=g(a);this._stroke!==a&&(this._stroke=a,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(a){this._trim!==a&&(this._trim=a,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(a){this._whiteSpace!==a&&(this._whiteSpace=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)}}]);return b}();lg["default"]=b;function f(a){if(typeof a==="number")return c.hex2string(a);else typeof a==="string"&&(a.indexOf("0x")===0&&(a=a.replace("0x","#")));return a}function g(a){if(!Array.isArray(a))return f(a);else{for(var b=0;b<a.length;++b)a[b]=f(a[b]);return a}}function h(a,b){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}function i(a,b,c){for(var c in c)Array.isArray(b[c])?a[c]=b[c].slice():a[c]=b[c]}}var og=!1;function pg(){og||(og=!0,ng());return mg.exports}var qg={},rg={exports:qg};function sg(){qg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c,d,e,f,g,h,i,j,k){a(this,b),this.text=c,this.style=d,this.width=e,this.height=f,this.lines=g,this.lineWidths=h,this.lineHeight=i,this.maxLineWidth=j,this.fontProperties=k}b.measureText=function(c,d,e){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b._canvas;e=e||d.wordWrap;var f=d.toFontString(),g=b.measureFont(f),h=a.getContext("2d");h.font=f;var i=e?b.wordWrap(c,d,a):c,j=i.split(/(?:\r\n|\r|\n)/),k=new Array(j.length),l=0;for(var m=0;m<j.length;m++){var n=h.measureText(j[m]).width+(j[m].length-1)*d.letterSpacing;k[m]=n;l=Math.max(l,n)}var o=l+d.strokeThickness;d.dropShadow&&(o+=d.dropShadowDistance);var p=d.lineHeight||g.fontSize+d.strokeThickness,q=Math.max(p,g.fontSize+d.strokeThickness)+(j.length-1)*(p+d.leading);d.dropShadow&&(q+=d.dropShadowDistance);return new b(c,d,o,q,j,k,p+d.leading,l,g)};b.wordWrap=function(c,d){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b._canvas,e=a.getContext("2d"),f=0,g="",h="",i={},j=d.letterSpacing,k=d.whiteSpace,l=b.collapseSpaces(k),m=b.collapseNewlines(k),n=!l,o=d.wordWrapWidth+j,p=b.tokenize(c);for(var q=0;q<p.length;q++){var r=p[q];if(b.isNewline(r)){if(!m){h+=b.addLine(g);n=!l;g="";f=0;continue}r=" "}if(l){var s=b.isBreakingSpace(r),t=b.isBreakingSpace(g[g.length-1]);if(s&&t)continue}var u=b.getFromCache(r,j,i,e);if(u>o){g!==""&&(h+=b.addLine(g),g="",f=0);if(b.canBreakWords(r,d.breakWords)){var v=r.split("");for(var w=0;w<v.length;w++){var x=v[w],y=1;while(v[w+y]){var z=v[w+y],A=x[x.length-1];if(!b.canBreakChars(A,z,r,w,d.breakWords))x+=z;else break;y++}w+=x.length-1;var B=b.getFromCache(x,j,i,e);B+f>o&&(h+=b.addLine(g),n=!1,g="",f=0);g+=x;f+=B}}else{g.length>0&&(h+=b.addLine(g),g="",f=0);var C=q===p.length-1;h+=b.addLine(r,!C);n=!1;g="";f=0}}else u+f>o&&(n=!1,h+=b.addLine(g),g="",f=0),(g.length>0||!b.isBreakingSpace(r)||n)&&(g+=r,f+=u)}h+=b.addLine(g,!1);return h};b.addLine=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a=b.trimRight(a);a=c?a+"\n":a;return a};b.getFromCache=function(a,b,c,d){var e=c[a];if(e===void 0){b=a.length*b;e=d.measureText(a).width+b;c[a]=e}return e};b.collapseSpaces=function(a){return a==="normal"||a==="pre-line"};b.collapseNewlines=function(a){return a==="normal"};b.trimRight=function(a){if(typeof a!=="string")return"";for(var c=a.length-1;c>=0;c--){var d=a[c];if(!b.isBreakingSpace(d))break;a=a.slice(0,-1)}return a};b.isNewline=function(a){return typeof a!=="string"?!1:b._newlines.indexOf(a.charCodeAt(0))>=0};b.isBreakingSpace=function(a){return typeof a!=="string"?!1:b._breakingSpaces.indexOf(a.charCodeAt(0))>=0};b.tokenize=function(a){var c=[],d="";if(typeof a!=="string")return c;for(var e=0;e<a.length;e++){var f=a[e];if(b.isBreakingSpace(f)||b.isNewline(f)){d!==""&&(c.push(d),d="");c.push(f);continue}d+=f}d!==""&&c.push(d);return c};b.canBreakWords=function(a,b){return b};b.canBreakChars=function(a,b,c,d,e){return!0};b.measureFont=function(c){if(b._fonts[c])return b._fonts[c];var d={},a=b._canvas,e=b._context;e.font=c;var f=b.METRICS_STRING+b.BASELINE_SYMBOL,g=Math.ceil(e.measureText(f).width),h=Math.ceil(e.measureText(b.BASELINE_SYMBOL).width),i=2*h;h=h*b.BASELINE_MULTIPLIER|0;a.width=g;a.height=i;e.fillStyle="#f00";e.fillRect(0,0,g,i);e.font=c;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText(f,0,h);a=e.getImageData(0,0,g,i).data;f=a.length;e=g*4;var j;g=0;var k=!1;for(j=0;j<h;++j){for(var l=0;l<e;l+=4)if(a[g+l]!==255){k=!0;break}if(!k)g+=e;else break}d.ascent=h-j;g=f-e;k=!1;for(j=i;j>h;--j){for(var l=0;l<e;l+=4)if(a[g+l]!==255){k=!0;break}if(!k)g-=e;else break}d.descent=j-h;d.fontSize=d.ascent+d.descent;b._fonts[c]=d;return d};b.clearMetrics=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";a?delete b._fonts[a]:b._fonts={}};return b}();qg["default"]=b;var c=document.createElement("canvas");c.width=c.height=10;b._canvas=c;b._context=c.getContext("2d");b._fonts={};b.METRICS_STRING="|\xc9q";b.BASELINE_SYMBOL="M";b.BASELINE_MULTIPLIER=1.4;b._newlines=[10,13];b._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]}var tg=!1;function ug(){tg||(tg=!0,sg());return rg.exports}var vg={},wg={exports:vg};function xg(){vg.__esModule=!0;vg["default"]=a;function a(a){var b=a.width,c=a.height;a=a.getContext("2d");var d=a.getImageData(0,0,b,c);d=d.data;var e=d.length,f={top:null,left:null,right:null,bottom:null},g,h,i;for(g=0;g<e;g+=4)d[g+3]!==0&&(h=g/4%b,i=~~(g/4/b),f.top===null&&(f.top=i),f.left===null?f.left=h:h<f.left&&(f.left=h),f.right===null?f.right=h+1:f.right<h&&(f.right=h+1),f.bottom===null?f.bottom=i:f.bottom<i&&(f.bottom=i));b=f.right-f.left;c=f.bottom-f.top+1;h=a.getImageData(f.left,f.top,b,c);return{height:c,width:b,data:h}}}var yg=!1;function zg(){yg||(yg=!0,xg());return wg.exports}var Ag={},Bg={exports:Ag};function Cg(){Ag.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Uc();b=l(b);var c=T(),d=l(c),e=P(),f=S(),g=K();c=Q();var h=l(c);c=pg();var i=l(c);c=ug();var j=l(c);c=zg();var k=l(c);function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function o(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var p={texture:!0,children:!1,baseTexture:!0};l=function(b){o(c,b);function c(a,f,g){m(this,c);g=g||document.createElement("canvas");g.width=3;g.height=3;var i=d["default"].fromCanvas(g,h["default"].SCALE_MODE,"text");i.orig=new e.Rectangle();i.trim=new e.Rectangle();i=n(this,b.call(this,i));d["default"].addToCache(i._texture,i._texture.baseTexture.textureCacheIds[0]);i.canvas=g;i.context=i.canvas.getContext("2d");i.resolution=h["default"].RESOLUTION;i._text=null;i._style=null;i._styleListener=null;i._font="";i.text=a;i.style=f;i.localStyleID=-1;return i}c.prototype.updateText=function(a){var b=this._style;this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID);if(!this.dirty&&a)return;this._font=this._style.toFontString();a=this.context;var c=j["default"].measureText(this._text,this._style,this._style.wordWrap,this.canvas),d=c.width,e=c.height,f=c.lines,g=c.lineHeight,h=c.lineWidths,i=c.maxLineWidth;c=c.fontProperties;this.canvas.width=Math.ceil((Math.max(1,d)+b.padding*2)*this.resolution);this.canvas.height=Math.ceil((Math.max(1,e)+b.padding*2)*this.resolution);a.scale(this.resolution,this.resolution);a.clearRect(0,0,this.canvas.width,this.canvas.height);a.font=this._font;a.strokeStyle=b.stroke;a.lineWidth=b.strokeThickness;a.textBaseline=b.textBaseline;a.lineJoin=b.lineJoin;a.miterLimit=b.miterLimit;d=void 0;e=void 0;if(b.dropShadow){a.fillStyle=b.dropShadowColor;a.globalAlpha=b.dropShadowAlpha;a.shadowBlur=b.dropShadowBlur;b.dropShadowBlur>0&&(a.shadowColor=b.dropShadowColor);var k=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,l=Math.sin(b.dropShadowAngle)*b.dropShadowDistance;for(var m=0;m<f.length;m++)d=b.strokeThickness/2,e=b.strokeThickness/2+m*g+c.ascent,b.align==="right"?d+=i-h[m]:b.align==="center"&&(d+=(i-h[m])/2),b.fill&&(this.drawLetterSpacing(f[m],d+k+b.padding,e+l+b.padding),b.stroke&&b.strokeThickness&&(a.strokeStyle=b.dropShadowColor,this.drawLetterSpacing(f[m],d+k+b.padding,e+l+b.padding,!0),a.strokeStyle=b.stroke))}a.shadowBlur=0;a.globalAlpha=1;a.fillStyle=this._generateFillStyle(b,f);for(var m=0;m<f.length;m++)d=b.strokeThickness/2,e=b.strokeThickness/2+m*g+c.ascent,b.align==="right"?d+=i-h[m]:b.align==="center"&&(d+=(i-h[m])/2),b.stroke&&b.strokeThickness&&this.drawLetterSpacing(f[m],d+b.padding,e+b.padding,!0),b.fill&&this.drawLetterSpacing(f[m],d+b.padding,e+b.padding);this.updateTexture()};c.prototype.drawLetterSpacing=function(a,b,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,e=this._style,f=e.letterSpacing;if(f===0){d?this.context.strokeText(a,b,c):this.context.fillText(a,b,c);return}var g=String.prototype.split.call(a,""),h=b,i=0,j="";while(i<a.length)j=g[i++],d?this.context.strokeText(j,h,c):this.context.fillText(j,h,c),h+=this.context.measureText(j).width+f};c.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var b=k["default"](a);a.width=b.width;a.height=b.height;this.context.putImageData(b.data,0,0)}b=this._texture;var c=this._style;c=c.trim?0:c.padding;var d=b.baseTexture;d.hasLoaded=!0;d.resolution=this.resolution;d.realWidth=a.width;d.realHeight=a.height;d.width=a.width/this.resolution;d.height=a.height/this.resolution;b.trim.width=b._frame.width=a.width/this.resolution;b.trim.height=b._frame.height=a.height/this.resolution;b.trim.x=-c;b.trim.y=-c;b.orig.width=b._frame.width-c*2;b.orig.height=b._frame.height-c*2;this._onTextureUpdate();d.emit("update",d);this.dirty=!1};c.prototype.renderWebGL=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0),this.updateText(!0),b.prototype.renderWebGL.call(this,a)};c.prototype._renderCanvas=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0),this.updateText(!0),b.prototype._renderCanvas.call(this,a)};c.prototype.getLocalBounds=function(a){this.updateText(!0);return b.prototype.getLocalBounds.call(this,a)};c.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)};c.prototype._onStyleChange=function(){this.dirty=!0};c.prototype._generateFillStyle=function(a,b){if(!Array.isArray(a.fill))return a.fill;if(navigator.isCocoonJS)return a.fill[0];var c=void 0,d=void 0,e=void 0,f=this.canvas.width/this.resolution,h=this.canvas.height/this.resolution,i=a.fill.slice(),j=a.fillGradientStops.slice();if(!j.length){var k=i.length+1;for(var l=1;l<k;++l)j.push(l/k)}i.unshift(a.fill[0]);j.unshift(0);i.push(a.fill[a.fill.length-1]);j.push(1);if(a.fillGradientType===g.TEXT_GRADIENT.LINEAR_VERTICAL){c=this.context.createLinearGradient(f/2,0,f/2,h);d=(i.length+1)*b.length;e=0;for(var l=0;l<b.length;l++){e+=1;for(var k=0;k<i.length;k++)typeof j[k]==="number"?a=j[k]/b.length+l/b.length:a=e/d,c.addColorStop(a,i[k]),e++}}else{c=this.context.createLinearGradient(0,h/2,f,h/2);d=i.length+1;e=1;for(var k=0;k<i.length;k++)typeof j[k]==="number"?a=j[k]:a=e/d,c.addColorStop(a,i[k]),e++}return c};c.prototype.destroy=function(a){typeof a==="boolean"&&(a={children:a}),a=Object.assign({},p,a),b.prototype.destroy.call(this,a),this.context=null,this.canvas=null,this._style=null};a(c,[{key:"width",get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var b=f.sign(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var b=f.sign(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"style",get:function(){return this._style},set:function(a){a=a||{},a instanceof i["default"]?this._style=a:this._style=new i["default"](a),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=String(a===""||a===null||a===void 0?" ":a);if(this._text===a)return;this._text=a;this.dirty=!0}}]);return c}(b["default"]);Ag["default"]=l}var Dg=!1;function Eg(){Dg||(Dg=!0,Cg());return Bg.exports}var Fg={},Gg={exports:Fg};function Hg(){Fg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c,d,e,f,g,h,i,j,k){a(this,b),this.lineWidth=c,this.lineAlignment=k,this.nativeLines=i,this.lineColor=d,this.lineAlpha=e,this._lineTint=d,this.fillColor=f,this.fillAlpha=g,this._fillTint=f,this.fill=h,this.holes=[],this.shape=j,this.type=j.type}b.prototype.clone=function(){return new b(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)};b.prototype.addHole=function(a){this.holes.push(a)};b.prototype.destroy=function(){this.shape=null,this.holes=null};return b}();Fg["default"]=b}var Ig=!1;function Jg(){Ig||(Ig=!0,Hg());return Gg.exports}var Kg={},Lg={exports:Kg};function Mg(){Kg.__esModule=!0;Kg["default"]=a;function a(a,b,c,d,e,f,g,h,i){var j=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],k,l,m,n,o;j.push(a,b);for(var p=1,q=0;p<=i;++p)q=p/i,k=1-q,l=k*k,m=l*k,n=q*q,o=n*q,j.push(m*a+3*l*q*c+3*k*n*e+o*g,m*b+3*l*q*d+3*k*n*f+o*h);return j}}var Ng=!1;function Og(){Ng||(Ng=!0,Mg());return Lg.exports}var Pg={},Qg={exports:Pg};function Rg(){Pg.__esModule=!0;var a=cc();a=m(a);var b=dd(),c=m(b);b=T();var d=m(b);b=Jg();var e=m(b);b=Uc();var f=m(b),g=P(),h=S(),i=K();b=Za();var j=m(b);b=Og();var k=m(b);b=Hd();var l=m(b);function m(a){return a&&a.__esModule?a:{"default":a}}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function o(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function p(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var q=void 0,r=new g.Matrix(),s=new g.Point(),t=new Float32Array(4),u=new Float32Array(4);m=function(a){p(b,a);function b(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;n(this,b);var d=o(this,a.call(this));d.fillAlpha=1;d.lineWidth=0;d.nativeLines=c;d.lineColor=0;d.lineAlignment=.5;d.graphicsData=[];d.tint=16777215;d._prevTint=16777215;d.blendMode=i.BLEND_MODES.NORMAL;d.currentPath=null;d._webGL={};d.isMask=!1;d.boundsPadding=0;d._localBounds=new j["default"]();d.dirty=0;d.fastRectDirty=-1;d.clearDirty=0;d.boundsDirty=-1;d.cachedSpriteDirty=!1;d._spriteRect=null;d._fastRect=!1;return d}b.prototype.clone=function(){var a=new b();a.renderable=this.renderable;a.fillAlpha=this.fillAlpha;a.lineWidth=this.lineWidth;a.lineColor=this.lineColor;a.lineAlignment=this.lineAlignment;a.tint=this.tint;a.blendMode=this.blendMode;a.isMask=this.isMask;a.boundsPadding=this.boundsPadding;a.dirty=0;a.cachedSpriteDirty=this.cachedSpriteDirty;for(var c=0;c<this.graphicsData.length;++c)a.graphicsData.push(this.graphicsData[c].clone());a.currentPath=a.graphicsData[a.graphicsData.length-1];a.updateLocalBounds();return a};b.prototype._quadraticCurveLength=function(a,b,c,d,e,f){e=a-(2*c+e);f=b-(2*d+f);c=2*((c-2)*a);a=2*((d-2)*b);d=4*(e*e+f*f);b=4*(e*c+f*a);e=c*c+a*a;f=2*Math.sqrt(d+b+e);c=Math.sqrt(d);a=2*d*c;var g=2*Math.sqrt(e),h=b/c;return(a*f+c*b*(f-g)+(4*e*d-b*b)*Math.log((2*c+h+f)/(h+g)))/(4*a)};b.prototype._bezierCurveLength=function(a,b,c,d,e,f,g,h){var i=10,j=0,k,l,m,n,o,p,q,r=a,s=b;for(var t=1;t<=i;++t)k=t/i,l=k*k,m=l*k,n=1-k,o=n*n,p=o*n,q=p*a+3*o*k*c+3*n*l*e+m*g,p=p*b+3*o*k*d+3*n*l*f+m*h,o=r-q,k=s-p,r=q,s=p,j+=Math.sqrt(o*o+k*k);return j};b.prototype._segmentsCount=function(a){a=Math.ceil(a/b.CURVES.maxLength);a<b.CURVES.minSegments?a=b.CURVES.minSegments:a>b.CURVES.maxSegments&&(a=b.CURVES.maxSegments);return a};b.prototype.lineStyle=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;this.lineWidth=a;this.lineColor=b;this.lineAlpha=c;this.lineAlignment=d;if(this.currentPath)if(this.currentPath.shape.points.length){var e=new g.Polygon(this.currentPath.shape.points.slice(-2));e.closed=!1;this.drawShape(e)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this};b.prototype.moveTo=function(a,b){a=new g.Polygon([a,b]);a.closed=!1;this.drawShape(a);return this};b.prototype.lineTo=function(a,b){this.currentPath.shape.points.push(a,b);this.dirty++;return this};b.prototype.quadraticCurveTo=function(a,c,d,e){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var f=this.currentPath.shape.points,g,h;f.length===0&&this.moveTo(0,0);var i=f[f.length-2],j=f[f.length-1],k=b.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(i,j,a,c,d,e)):20;for(var l=1;l<=k;++l){var m=l/k;g=i+(a-i)*m;h=j+(c-j)*m;f.push(g+(a+(d-a)*m-g)*m,h+(c+(e-c)*m-h)*m)}this.dirty++;return this};b.prototype.bezierCurveTo=function(a,c,d,e,f,g){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var h=this.currentPath.shape.points,i=h[h.length-2],j=h[h.length-1];h.length-=2;var l=b.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(i,j,a,c,d,e,f,g)):20;k["default"](i,j,a,c,d,e,f,g,l,h);this.dirty++;return this};b.prototype.arcTo=function(a,b,c,d,e){this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var f=this.currentPath.shape.points,g=f[f.length-2],h=f[f.length-1];h=h-b;g=g-a;d=d-b;c=c-a;var i=Math.abs(h*c-g*d);if(i<1e-8||e===0)(f[f.length-2]!==a||f[f.length-1]!==b)&&f.push(a,b);else{f=h*h+g*g;var j=d*d+c*c,k=h*d+g*c,l=e*Math.sqrt(f)/i;i=e*Math.sqrt(j)/i;f=l*k/f;k=i*k/j;j=l*c+i*g;var m=l*d+i*h,n=g*(i+f);i=h*(i+f);f=c*(l+k);l=d*(l+k);k=Math.atan2(i-m,n-j);i=Math.atan2(l-m,f-j);this.arc(j+a,m+b,e,k,i,g*d>c*h)}this.dirty++;return this};b.prototype.arc=function(a,c,d,e,f){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(e===f)return this;!g&&f<=e?f+=i.PI_2:g&&e<=f&&(e+=i.PI_2);var h=f-e,j=b.CURVES.adaptive?this._segmentsCount(Math.abs(h)*d):Math.ceil(Math.abs(h)/i.PI_2)*40;if(h===0)return this;var k=a+Math.cos(e)*d,l=c+Math.sin(e)*d,m=this.currentPath?this.currentPath.shape.points:null;m?(m[m.length-2]!==k||m[m.length-1]!==l)&&m.push(k,l):(this.moveTo(k,l),m=this.currentPath.shape.points);var n=h/(j*2),o=n*2,p=Math.cos(n),q=Math.sin(n),r=j-1,s=r%1/r;for(var t=0;t<=r;++t){var u=t+s*t,v=n+e+o*u,w=Math.cos(v),x=-Math.sin(v);m.push((p*w+q*x)*d+a,(p*-x+q*w)*d+c)}this.dirty++;return this};b.prototype.beginFill=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.filling=!0;this.fillColor=a;this.fillAlpha=b;this.currentPath&&(this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha));return this};b.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};b.prototype.drawRect=function(a,b,c,d){this.drawShape(new g.Rectangle(a,b,c,d));return this};b.prototype.drawRoundedRect=function(a,b,c,d,e){this.drawShape(new g.RoundedRectangle(a,b,c,d,e));return this};b.prototype.drawCircle=function(a,b,c){this.drawShape(new g.Circle(a,b,c));return this};b.prototype.drawEllipse=function(a,b,c,d){this.drawShape(new g.Ellipse(a,b,c,d));return this};b.prototype.drawPolygon=function(a){var b=a,c=!0;b instanceof g.Polygon&&(c=b.closed,b=b.points);if(!Array.isArray(b)){b=new Array(arguments.length);for(var d=0;d<b.length;++d)b[d]=arguments[d]}var e=new g.Polygon(b);e.closed=c;this.drawShape(e);return this};b.prototype.drawStar=function(a,b,c,d,e){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;e=e||d/2;var g=-1*Math.PI/2+f,h=c*2,j=i.PI_2/h,k=[];for(var l=0;l<h;l++){var m=l%2?e:d,n=l*j+g;k.push(a+m*Math.cos(n),b+m*Math.sin(n))}return this.drawPolygon(k)};b.prototype.clear=function(){(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0);this.currentPath=null;this._spriteRect=null;return this};b.prototype.isFastRect=function(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===i.SHAPES.RECT&&!this.graphicsData[0].lineWidth};b.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))};b.prototype._renderSpriteRect=function(a){var b=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new f["default"](new d["default"](d["default"].WHITE)));var c=this._spriteRect;if(this.tint===16777215)c.tint=this.graphicsData[0].fillColor;else{var e=t,g=u;h.hex2rgb(this.graphicsData[0].fillColor,e);h.hex2rgb(this.tint,g);e[0]*=g[0];e[1]*=g[1];e[2]*=g[2];c.tint=h.rgb2hex(e)}c.alpha=this.graphicsData[0].fillAlpha;c.worldAlpha=this.worldAlpha*c.alpha;c.blendMode=this.blendMode;c._texture._frame.width=b.width;c._texture._frame.height=b.height;c.transform.worldTransform=this.transform.worldTransform;c.anchor.set(-b.x/b.width,-b.y/b.height);c._onAnchorUpdate();c._renderWebGL(a)};b.prototype._renderCanvas=function(a){if(this.isMask===!0)return;a.plugins.graphics.render(this)};b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,s);a=this.graphicsData;for(var b=0;b<a.length;++b){var c=a[b];if(!c.fill)continue;if(c.shape&&c.shape.contains(s.x,s.y)){if(c.holes)for(var d=0;d<c.holes.length;d++){var e=c.holes[d];if(e.contains(s.x,s.y))return!1}return!0}}return!1};b.prototype.updateLocalBounds=function(){var a=Infinity,b=-Infinity,c=Infinity,d=-Infinity;if(this.graphicsData.length){var e=0,f=0,g,h=0;for(var j=0;j<this.graphicsData.length;j++){var k=this.graphicsData[j],l=k.type,m=k.lineWidth;k=k.shape;if(l===i.SHAPES.RECT||l===i.SHAPES.RREC)e=k.x-m/2,f=k.y-m/2,g=k.width+m,h=k.height+m,a=e<a?e:a,b=e+g>b?e+g:b,c=f<c?f:c,d=f+h>d?f+h:d;else if(l===i.SHAPES.CIRC)e=k.x,f=k.y,g=k.radius+m/2,h=k.radius+m/2,a=e-g<a?e-g:a,b=e+g>b?e+g:b,c=f-h<c?f-h:c,d=f+h>d?f+h:d;else if(l===i.SHAPES.ELIP)e=k.x,f=k.y,g=k.width+m/2,h=k.height+m/2,a=e-g<a?e-g:a,b=e+g>b?e+g:b,c=f-h<c?f-h:c,d=f+h>d?f+h:d;else{l=k.points;k=0;var n=0,o=0,p=0,q,r,s;for(var t=0;t+2<l.length;t+=2){e=l[t];f=l[t+1];k=l[t+2];n=l[t+3];o=Math.abs(k-e);p=Math.abs(n-f);h=m;g=Math.sqrt(o*o+p*p);if(g<1e-9)continue;q=(h/g*p+o)/2;g=(h/g*o+p)/2;r=(k+e)/2;s=(n+f)/2;a=r-q<a?r-q:a;b=r+q>b?r+q:b;c=s-g<c?s-g:c;d=s+g>d?s+g:d}}}}else a=0,b=0,c=0,d=0;r=this.boundsPadding;this._localBounds.minX=a-r;this._localBounds.maxX=b+r;this._localBounds.minY=c-r;this._localBounds.maxY=d+r};b.prototype.drawShape=function(a){this.currentPath&&(this.currentPath.shape.points.length<=2&&this.graphicsData.pop());this.currentPath=null;a=new e["default"](this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,a,this.lineAlignment);this.graphicsData.push(a);a.type===i.SHAPES.POLY&&(a.shape.closed=a.shape.closed||this.filling,this.currentPath=a);this.dirty++;return a};b.prototype.generateCanvasTexture=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,e=this.getLocalBounds(),f=c["default"].create(e.width,e.height,a,b);q||(q=new l["default"]());this.transform.updateLocalTransform();this.transform.localTransform.copy(r);r.invert();r.tx-=e.x;r.ty-=e.y;q.render(this,f,!0,r);var g=d["default"].fromCanvas(f.baseTexture._canvasRenderTarget.canvas,a,"graphics");g.baseTexture.resolution=b;g.baseTexture.update();return g};b.prototype.closePath=function(){var a=this.currentPath;a&&a.shape&&a.shape.close();return this};b.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};b.prototype.destroy=function(b){a.prototype.destroy.call(this,b);for(var b=0;b<this.graphicsData.length;++b)this.graphicsData[b].destroy();for(var b in this._webGL)for(var c=0;c<this._webGL[b].data.length;++c)this._webGL[b].data[c].destroy();this._spriteRect&&this._spriteRect.destroy();this.graphicsData=null;this.currentPath=null;this._webGL=null;this._localBounds=null};return b}(a["default"]);Pg["default"]=m;m._SPRITE_TEXTURE=null;m.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}}var Sg=!1;function Tg(){Sg||(Sg=!0,Rg());return Qg.exports}var Ug={},Vg={exports:Ug};function Wg(){Ug.__esModule=!0;var a=m(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){function a(c,e,f){d(this,a),this.gl=c,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=b["default"].GLBuffer.createVertexBuffer(c),this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(c),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new b["default"].VertexArrayObject(c,f).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,c.FLOAT,!1,4*6,0).addAttribute(this.buffer,e.attributes.aColor,c.FLOAT,!1,4*6,2*4)}a.prototype.reset=function(){this.points.length=0,this.indices.length=0};a.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1};a.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null};return a}();Ug["default"]=c}var Xg=!1;function Yg(){Xg||(Xg=!0,Wg());return Vg.exports}var Zg={},$g={exports:Zg};function ah(){Zg.__esModule=!0;var a=Ye();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(e){c(this,b);return d(this,a.call(this,e,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return b}(b["default"]);Zg["default"]=a}var bh=!1;function ch(){bh||(bh=!0,ah());return $g.exports}var dh={},eh={exports:dh};function fh(){dh.__esModule=!0;dh["default"]=function(a,b,e){a.nativeLines?d(a,e):c(a,b)};var a=P(),b=S();function c(c,d){var e=c.points;if(e.length===0)return;var f=new a.Point(e[0],e[1]),g=new a.Point(e[e.length-2],e[e.length-1]);if(f.x===g.x&&f.y===g.y){e=e.slice();e.pop();e.pop();g=new a.Point(e[e.length-2],e[e.length-1]);var h=g.x+(f.x-g.x)*.5;f=g.y+(f.y-g.y)*.5;e.unshift(h,f);e.push(h,f)}g=d.points;h=d.indices;f=e.length/2;d=e.length;var i=g.length/6,j=c.lineWidth/2,k=b.hex2rgb(c.lineColor),l=c.lineAlpha,m=k[0]*l,n=k[1]*l;k=k[2]*l;var o=e[0],p=e[1],q=e[2],r=e[3],s=0,t=0,u=-(p-r),v=o-q,w=0,x=0,y=0,z=0,A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;c=c.lineAlignment;var B=(1-c)*2;c=c*2;g.push(o-u*B,p-v*B,m,n,k,l);g.push(o+u*c,p+v*c,m,n,k,l);for(var C=1;C<f-1;++C){o=e[(C-1)*2];p=e[(C-1)*2+1];q=e[C*2];r=e[C*2+1];s=e[(C+1)*2];t=e[(C+1)*2+1];u=-(p-r);v=o-q;A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;w=-(r-t);x=q-s;A=Math.sqrt(w*w+x*x);w/=A;x/=A;w*=j;x*=j;var D=-v+p-(-v+r),E=-u+q-(-u+o),F=(-u+o)*(-v+r)-(-u+q)*(-v+p),G=-x+t-(-x+r),H=-w+q-(-w+s),I=(-w+s)*(-x+r)-(-w+q)*(-x+t),J=D*H-G*E;if(Math.abs(J)<.1){J+=10.1;g.push(q-u*B,r-v*B,m,n,k,l);g.push(q+u*c,r+v*c,m,n,k,l);continue}E=(E*I-H*F)/J;H=(G*F-D*I)/J;G=(E-q)*(E-q)+(H-r)*(H-r);G>196*j*j?(y=u-w,z=v-x,A=Math.sqrt(y*y+z*z),y/=A,z/=A,y*=j,z*=j,g.push(q-y*B,r-z*B),g.push(m,n,k,l),g.push(q+y*c,r+z*c),g.push(m,n,k,l),g.push(q-y*c*B,r-z*B),g.push(m,n,k,l),d++):(g.push(q+(E-q)*B,r+(H-r)*B),g.push(m,n,k,l),g.push(q-(E-q)*c,r-(H-r)*c),g.push(m,n,k,l))}o=e[(f-2)*2];p=e[(f-2)*2+1];q=e[(f-1)*2];r=e[(f-1)*2+1];u=-(p-r);v=o-q;A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;g.push(q-u*B,r-v*B);g.push(m,n,k,l);g.push(q+u*c,r+v*c);g.push(m,n,k,l);h.push(i);for(var F=0;F<d;++F)h.push(i++);h.push(i-1)}function d(a,c){var d=0,e=a.points;if(e.length===0)return;c=c.points;var f=e.length/2,g=b.hex2rgb(a.lineColor);a=a.lineAlpha;var h=g[0]*a,i=g[1]*a;g=g[2]*a;for(d=1;d<f;d++){var j=e[(d-1)*2],k=e[(d-1)*2+1],l=e[d*2],m=e[d*2+1];c.push(j,k);c.push(h,i,g,a);c.push(l,m);c.push(h,i,g,a)}}}var gh=!1;function hh(){gh||(gh=!0,fh());return eh.exports}var ih={},jh={exports:ih};function kh(){ih.__esModule=!0;ih["default"]=e;e=hh();var a=d(e),b=S();e=k();var c=d(e);function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){d.points=d.shape.points.slice();var g=d.points;if(d.fill&&g.length>=6){var h=[],i=d.holes;for(var j=0;j<i.length;j++){var k=i[j];h.push(g.length/2);g=g.concat(k.points)}k=e.points;i=e.indices;j=g.length/2;var l=b.hex2rgb(d.fillColor),m=d.fillAlpha,n=l[0]*m,o=l[1]*m;l=l[2]*m;h=c["default"](g,h,2);if(!h)return;var p=k.length/6;for(var q=0;q<h.length;q+=3)i.push(h[q]+p),i.push(h[q]+p),i.push(h[q+1]+p),i.push(h[q+2]+p),i.push(h[q+2]+p);for(var q=0;q<j;q++)k.push(g[q*2],g[q*2+1],n,o,l,m)}d.lineWidth>0&&a["default"](d,e,f)}}var lh=!1;function mh(){lh||(lh=!0,kh());return jh.exports}var nh={},oh={exports:nh};function ph(){nh.__esModule=!0;nh["default"]=d;d=hh();var a=c(d),b=S();function c(a){return a&&a.__esModule?a:{"default":a}}function d(c,d,e){var f=c.shape,g=f.x,h=f.y,i=f.width;f=f.height;if(c.fill){var j=b.hex2rgb(c.fillColor),k=c.fillAlpha,l=j[0]*k,m=j[1]*k;j=j[2]*k;var n=d.points,o=d.indices,p=n.length/6;n.push(g,h);n.push(l,m,j,k);n.push(g+i,h);n.push(l,m,j,k);n.push(g,h+f);n.push(l,m,j,k);n.push(g+i,h+f);n.push(l,m,j,k);o.push(p,p,p+1,p+2,p+3,p+3)}if(c.lineWidth){n=c.points;c.points=[g,h,g+i,h,g+i,h+f,g,h+f,g,h];a["default"](c,d,e);c.points=n}}}var qh=!1;function rh(){qh||(qh=!0,ph());return oh.exports}var sh={},th={exports:sh};function uh(){sh.__esModule=!0;sh["default"]=e;e=k();var a=d(e);e=hh();var b=d(e),c=S();function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){var h=d.shape,i=h.x,j=h.y,k=h.width,l=h.height;h=h.radius;var m=[];m.push(i,j+h);g(i,j+l-h,i,j+l,i+h,j+l,m);g(i+k-h,j+l,i+k,j+l,i+k,j+l-h,m);g(i+k,j+h,i+k,j,i+k-h,j,m);g(i+h,j,i,j,i,j+h+1e-10,m);if(d.fill){l=c.hex2rgb(d.fillColor);k=d.fillAlpha;i=l[0]*k;j=l[1]*k;h=l[2]*k;l=e.points;var n=e.indices,o=l.length/6,p=a["default"](m,null,2);for(var q=0,r=p.length;q<r;q+=3)n.push(p[q]+o),n.push(p[q]+o),n.push(p[q+1]+o),n.push(p[q+2]+o),n.push(p[q+2]+o);for(var q=0,n=m.length;q<n;q++)l.push(m[q],m[++q],i,j,h,k)}if(d.lineWidth){r=d.points;d.points=m;b["default"](d,e,f);d.points=r}}function f(a,b,c){b=b-a;return a+b*c}function g(a,b,c,d,e,g){var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[],i=20,j=h,k=0,l=0,m=0,n=0,o=0,p;for(var q=0,r=0;q<=i;++q)r=q/i,k=f(a,c,r),l=f(b,d,r),m=f(c,e,r),n=f(d,g,r),o=f(k,m,r),p=f(l,n,r),j.push(o,p);return j}}var vh=!1;function wh(){vh||(vh=!0,uh());return th.exports}var xh={},yh={exports:xh};function zh(){xh.__esModule=!0;xh["default"]=e;e=hh();var a=d(e),b=K(),c=S();function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){var g=d.shape,h=g.x,i=g.y,j=void 0,k=void 0;d.type===b.SHAPES.CIRC?(j=g.radius,k=g.radius):(j=g.width,k=g.height);if(j===0||k===0)return;g=Math.floor(30*Math.sqrt(g.radius))||Math.floor(15*Math.sqrt(g.width+g.height));var l=Math.PI*2/g;if(d.fill){var m=c.hex2rgb(d.fillColor),n=d.fillAlpha,o=m[0]*n,p=m[1]*n;m=m[2]*n;var q=e.points,r=e.indices,s=q.length/6;r.push(s);for(var t=0;t<g+1;t++)q.push(h,i,o,p,m,n),q.push(h+Math.sin(l*t)*j,i+Math.cos(l*t)*k,o,p,m,n),r.push(s++,s++);r.push(s-1)}if(d.lineWidth){n=d.points;d.points=[];for(var m=0;m<g+1;m++)d.points.push(h+Math.sin(l*-m)*j,i+Math.cos(l*-m)*k);a["default"](d,e,f);d.points=n}}}var Ah=!1;function Bh(){Ah||(Ah=!0,zh());return yh.exports}var Ch={},Dh={exports:Ch};function Eh(){Ch.__esModule=!0;var a=S(),b=K(),c=ae(),d=l(c);c=Rf();c=l(c);var e=Yg(),f=l(e);e=ch();var g=l(e);e=mh();var h=l(e);e=rh();var i=l(e);e=wh();var j=l(e);e=Bh();var k=l(e);function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function o(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}l=function(c){o(e,c);function e(a){m(this,e);var b=n(this,c.call(this,a));b.graphicsDataPool=[];b.primitiveShader=null;b.gl=a.gl;b.CONTEXT_UID=0;return b}e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new g["default"](this.gl)};e.prototype.destroy=function(){d["default"].prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null};e.prototype.render=function(b){var c=this.renderer,d=c.gl,e=void 0,f=b._webGL[this.CONTEXT_UID];(!f||b.dirty!==f.dirty)&&(this.updateGraphics(b),f=b._webGL[this.CONTEXT_UID]);var g=this.primitiveShader;c.bindShader(g);c.state.setBlendMode(b.blendMode);for(var g=0,h=f.data.length;g<h;g++){e=f.data[g];var i=e.shader;c.bindShader(i);i.uniforms.translationMatrix=b.transform.worldTransform.toArray(!0);i.uniforms.tint=a.hex2rgb(b.tint);i.uniforms.alpha=b.worldAlpha;c.bindVao(e.vao);e.nativeLines?d.drawArrays(d.LINES,0,e.points.length/6):e.vao.draw(d.TRIANGLE_STRIP,e.indices.length)}};e.prototype.updateGraphics=function(a){var c=this.renderer.gl,d=a._webGL[this.CONTEXT_UID];d||(d=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:c,clearDirty:-1,dirty:-1});d.dirty=a.dirty;if(a.clearDirty!==d.clearDirty){d.clearDirty=a.clearDirty;for(var c=0;c<d.data.length;c++)this.graphicsDataPool.push(d.data[c]);d.data.length=0;d.lastIndex=0}c=void 0;var e=void 0;for(var f=d.lastIndex;f<a.graphicsData.length;f++){var g=a.graphicsData[f];c=this.getWebGLData(d,0);g.nativeLines&&g.lineWidth&&(e=this.getWebGLData(d,0,!0),d.lastIndex++);g.type===b.SHAPES.POLY&&h["default"](g,c,e);g.type===b.SHAPES.RECT?i["default"](g,c,e):g.type===b.SHAPES.CIRC||g.type===b.SHAPES.ELIP?k["default"](g,c,e):g.type===b.SHAPES.RREC&&j["default"](g,c,e);d.lastIndex++}this.renderer.bindVao(null);for(var g=0;g<d.data.length;g++)c=d.data[g],c.dirty&&c.upload()};e.prototype.getWebGLData=function(a,b,c){var d=a.data[a.data.length-1];(!d||d.nativeLines!==c||d.points.length>32e4)&&(d=this.graphicsDataPool.pop()||new f["default"](this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),d.nativeLines=c,d.reset(b),a.data.push(d));d.dirty=!0;return d};return e}(d["default"]);Ch["default"]=l;c["default"].registerPlugin("graphics",l)}var Fh=!1;function Gh(){Fh||(Fh=!0,Eh());return Dh.exports}var Hh={},Ih={exports:Hh};function Jh(){Hh.__esModule=!0;var a=Hd();c=c(a);var b=K();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}a=function(){function a(b){d(this,a),this.renderer=b}a.prototype.render=function(a){var c=this.renderer,d=c.context,e=a.worldAlpha,f=a.transform.worldTransform,g=c.resolution;this._prevTint!==this.tint&&(this.dirty=!0);d.setTransform(f.a*g,f.b*g,f.c*g,f.d*g,f.tx*g,f.ty*g);a.dirty&&(this.updateGraphicsTint(a),a.dirty=!1);c.setBlendMode(a.blendMode);for(var f=0;f<a.graphicsData.length;f++){g=a.graphicsData[f];c=g.shape;var h=g._fillTint,i=g._lineTint;d.lineWidth=g.lineWidth;if(g.type===b.SHAPES.POLY){d.beginPath();this.renderPolygon(c.points,c.closed,d);for(var j=0;j<g.holes.length;j++)this.renderPolygon(g.holes[j].points,!0,d);g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}else if(g.type===b.SHAPES.RECT)(g.fillColor||g.fillColor===0)&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fillRect(c.x,c.y,c.width,c.height)),g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.strokeRect(c.x,c.y,c.width,c.height));else if(g.type===b.SHAPES.CIRC)d.beginPath(),d.arc(c.x,c.y,c.radius,0,2*Math.PI),d.closePath(),g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill()),g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke());else if(g.type===b.SHAPES.ELIP){j=c.width*2;var k=c.height*2,l=c.x-j/2,m=c.y-k/2;d.beginPath();var n=.5522848,o=j/2*n;n=k/2*n;var p=l+j,q=m+k;j=l+j/2;k=m+k/2;d.moveTo(l,k);d.bezierCurveTo(l,k-n,j-o,m,j,m);d.bezierCurveTo(j+o,m,p,k-n,p,k);d.bezierCurveTo(p,k+n,j+o,q,j,q);d.bezierCurveTo(j-o,q,l,k+n,l,k);d.closePath();g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}else if(g.type===b.SHAPES.RREC){m=c.x;p=c.y;j=c.width;o=c.height;q=c.radius;n=Math.min(j,o)/2|0;q=q>n?n:q;d.beginPath();d.moveTo(m,p+q);d.lineTo(m,p+o-q);d.quadraticCurveTo(m,p+o,m+q,p+o);d.lineTo(m+j-q,p+o);d.quadraticCurveTo(m+j,p+o,m+j,p+o-q);d.lineTo(m+j,p+q);d.quadraticCurveTo(m+j,p,m+j-q,p);d.lineTo(m+q,p);d.quadraticCurveTo(m,p,m,p+q);d.closePath();(g.fillColor||g.fillColor===0)&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}}};a.prototype.updateGraphicsTint=function(a){a._prevTint=a.tint;var b=(a.tint>>16&255)/255,c=(a.tint>>8&255)/255,d=(a.tint&255)/255;for(var e=0;e<a.graphicsData.length;++e){var f=a.graphicsData[e],g=f.fillColor|0,h=f.lineColor|0;f._fillTint=((g>>16&255)/255*b*255<<16)+((g>>8&255)/255*c*255<<8)+(g&255)/255*d*255;f._lineTint=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*c*255<<8)+(h&255)/255*d*255}};a.prototype.renderPolygon=function(a,b,c){c.moveTo(a[0],a[1]);for(var d=1;d<a.length/2;++d)c.lineTo(a[d*2],a[d*2+1]);b&&c.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();Hh["default"]=a;c["default"].registerPlugin("graphics",a)}var Kh=!1;function Lh(){Kh||(Kh=!0,Jh());return Ih.exports}var Mh={},Nh={exports:Mh};function Oh(){Mh.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=S();function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){a(e,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]);function e(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;d(this,e);this.baseTexture=a;this.textures={};this.data=b;this.resolution=this._updateResolution(c||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}e.prototype._updateResolution=function(a){var b=this.data.meta.scale;a=c.getResolutionOfUrl(a,null);a===null&&(a=b!==void 0?parseFloat(b):1);a!==1&&(this.baseTexture.resolution=a,this.baseTexture.update());return a};e.prototype.parse=function(a){this._batchIndex=0,this._callback=a,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()};e.prototype._processFrames=function(a){var c=a,d=e.BATCH_SIZE,f=this.baseTexture.sourceScale;while(c-a<d&&c<this._frameKeys.length){var g=this._frameKeys[c],h=this._frames[g],i=h.frame;if(i){var j=null,k=null,l=h.trimmed!==!1&&h.sourceSize?h.sourceSize:h.frame;l=new b.Rectangle(0,0,Math.floor(l.w*f)/this.resolution,Math.floor(l.h*f)/this.resolution);h.rotated?j=new b.Rectangle(Math.floor(i.x*f)/this.resolution,Math.floor(i.y*f)/this.resolution,Math.floor(i.h*f)/this.resolution,Math.floor(i.w*f)/this.resolution):j=new b.Rectangle(Math.floor(i.x*f)/this.resolution,Math.floor(i.y*f)/this.resolution,Math.floor(i.w*f)/this.resolution,Math.floor(i.h*f)/this.resolution);h.trimmed!==!1&&h.spriteSourceSize&&(k=new b.Rectangle(Math.floor(h.spriteSourceSize.x*f)/this.resolution,Math.floor(h.spriteSourceSize.y*f)/this.resolution,Math.floor(i.w*f)/this.resolution,Math.floor(i.h*f)/this.resolution));this.textures[g]=new b.Texture(this.baseTexture,j,l,k,h.rotated?2:0);b.Texture.addToCache(this.textures[g],g)}c++}};e.prototype._parseComplete=function(){var a=this._callback;this._callback=null;this._batchIndex=0;a.call(this,this.textures)};e.prototype._nextBatch=function(){var a=this;this._processFrames(this._batchIndex*e.BATCH_SIZE);this._batchIndex++;setTimeout(function(){a._batchIndex*e.BATCH_SIZE<a._frameKeys.length?a._nextBatch():a._parseComplete()},0)};e.prototype.destroy=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;for(var b in this.textures)this.textures[b].destroy();this._frames=null;this._frameKeys=null;this.data=null;this.textures=null;a&&this.baseTexture.destroy();this.baseTexture=null};return e}();Mh["default"]=e}var Ph=!1;function Qh(){Ph||(Ph=!0,Oh());return Nh.exports}var Rh={},Sh={exports:Rh};function Th(){Rh.__esModule=!0;Rh.autoDetectRenderer=f;f=S();var a=e(f);e=Hd();var b=d(e);f=Rf();var c=d(f);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(d,e,f,g){var h=d&&d.forceCanvas;g!==void 0&&(h=g);return!h&&a.isWebGLSupported()?new c["default"](d,e,f):new b["default"](d,e,f)}}var Uh=!1;function Vh(){Uh||(Uh=!0,Th());return Sh.exports}var Wh={},Xh={exports:Wh};function Yh(){Wh.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Vh(),c=cc(),d=h(c),e=Bc();c=Q();var f=h(c),g=K();function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}h=function(){function c(a,g,h,j,k){i(this,c),typeof a==="number"&&(a=Object.assign({width:a,height:g||f["default"].RENDER_OPTIONS.height,forceCanvas:!!j,sharedTicker:!!k},h)),this._options=a=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},a),this.renderer=b.autoDetectRenderer(a),this.stage=new d["default"](),this._ticker=null,this.ticker=a.sharedTicker?e.shared:new e.Ticker(),a.autoStart&&this.start()}c.prototype.render=function(){this.renderer.render(this.stage)};c.prototype.stop=function(){this._ticker.stop()};c.prototype.start=function(){this._ticker.start()};c.prototype.destroy=function(a,b){if(this._ticker){var c=this._ticker;this.ticker=null;c.destroy()}this.stage.destroy(b);this.stage=null;this.renderer.destroy(a);this.renderer=null;this._options=null};a(c,[{key:"ticker",set:function(a){this._ticker&&this._ticker.remove(this.render,this),this._ticker=a,a&&a.add(this.render,this,g.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]);return c}();Wh["default"]=h}var Zh=!1;function $h(){Zh||(Zh=!0,Yh());return Xh.exports}var U={},ai={exports:U};function bi(){U.__esModule=!0;U.autoDetectRenderer=U.Application=U.Filter=U.SpriteMaskFilter=U.Quad=U.RenderTarget=U.ObjectRenderer=U.WebGLManager=U.Shader=U.CanvasRenderTarget=U.TextureUvs=U.VideoBaseTexture=U.BaseRenderTexture=U.RenderTexture=U.BaseTexture=U.TextureMatrix=U.Texture=U.Spritesheet=U.CanvasGraphicsRenderer=U.GraphicsRenderer=U.GraphicsData=U.Graphics=U.TextMetrics=U.TextStyle=U.Text=U.SpriteRenderer=U.CanvasTinter=U.CanvasSpriteRenderer=U.Sprite=U.TransformBase=U.TransformStatic=U.Transform=U.Container=U.DisplayObject=U.Bounds=U.glCore=U.WebGLRenderer=U.CanvasRenderer=U.ticker=U.utils=U.settings=void 0;var a=K();Object.keys(a).forEach(function(b){if(b==="default"||b==="__esModule")return;Object.defineProperty(U,b,{enumerable:!0,get:function(){return a[b]}})});var b=P();Object.keys(b).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty(U,a,{enumerable:!0,get:function(){return b[a]}})});var c=m();Object.defineProperty(U,"glCore",{enumerable:!0,get:function(){return N(c)["default"]}});var d=Za();Object.defineProperty(U,"Bounds",{enumerable:!0,get:function(){return N(d)["default"]}});var e=Gb();Object.defineProperty(U,"DisplayObject",{enumerable:!0,get:function(){return N(e)["default"]}});var f=cc();Object.defineProperty(U,"Container",{enumerable:!0,get:function(){return N(f)["default"]}});var g=Bb();Object.defineProperty(U,"Transform",{enumerable:!0,get:function(){return N(g)["default"]}});var h=wb();Object.defineProperty(U,"TransformStatic",{enumerable:!0,get:function(){return N(h)["default"]}});var i=rb();Object.defineProperty(U,"TransformBase",{enumerable:!0,get:function(){return N(i)["default"]}});var j=Uc();Object.defineProperty(U,"Sprite",{enumerable:!0,get:function(){return N(j)["default"]}});var k=Rd();Object.defineProperty(U,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return N(k)["default"]}});var l=Md();Object.defineProperty(U,"CanvasTinter",{enumerable:!0,get:function(){return N(l)["default"]}});var n=kg();Object.defineProperty(U,"SpriteRenderer",{enumerable:!0,get:function(){return N(n)["default"]}});var o=Eg();Object.defineProperty(U,"Text",{enumerable:!0,get:function(){return N(o)["default"]}});var p=pg();Object.defineProperty(U,"TextStyle",{enumerable:!0,get:function(){return N(p)["default"]}});var q=ug();Object.defineProperty(U,"TextMetrics",{enumerable:!0,get:function(){return N(q)["default"]}});var r=Tg();Object.defineProperty(U,"Graphics",{enumerable:!0,get:function(){return N(r)["default"]}});var s=Jg();Object.defineProperty(U,"GraphicsData",{enumerable:!0,get:function(){return N(s)["default"]}});var t=Gh();Object.defineProperty(U,"GraphicsRenderer",{enumerable:!0,get:function(){return N(t)["default"]}});var u=Lh();Object.defineProperty(U,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return N(u)["default"]}});var v=Qh();Object.defineProperty(U,"Spritesheet",{enumerable:!0,get:function(){return N(v)["default"]}});var w=T();Object.defineProperty(U,"Texture",{enumerable:!0,get:function(){return N(w)["default"]}});var x=pe();Object.defineProperty(U,"TextureMatrix",{enumerable:!0,get:function(){return N(x)["default"]}});var y=mc();Object.defineProperty(U,"BaseTexture",{enumerable:!0,get:function(){return N(y)["default"]}});var z=dd();Object.defineProperty(U,"RenderTexture",{enumerable:!0,get:function(){return N(z)["default"]}});var A=Zc();Object.defineProperty(U,"BaseRenderTexture",{enumerable:!0,get:function(){return N(A)["default"]}});var B=Gc();Object.defineProperty(U,"VideoBaseTexture",{enumerable:!0,get:function(){return N(B)["default"]}});var C=Lc();Object.defineProperty(U,"TextureUvs",{enumerable:!0,get:function(){return N(C)["default"]}});var D=sd();Object.defineProperty(U,"CanvasRenderTarget",{enumerable:!0,get:function(){return N(D)["default"]}});var E=Ye();Object.defineProperty(U,"Shader",{enumerable:!0,get:function(){return N(E)["default"]}});var F=Wd();Object.defineProperty(U,"WebGLManager",{enumerable:!0,get:function(){return N(F)["default"]}});var G=ae();Object.defineProperty(U,"ObjectRenderer",{enumerable:!0,get:function(){return N(G)["default"]}});var H=Je();Object.defineProperty(U,"RenderTarget",{enumerable:!0,get:function(){return N(H)["default"]}});var I=Te();Object.defineProperty(U,"Quad",{enumerable:!0,get:function(){return N(I)["default"]}});var J=ue();Object.defineProperty(U,"SpriteMaskFilter",{enumerable:!0,get:function(){return N(J)["default"]}});var aa=ke();Object.defineProperty(U,"Filter",{enumerable:!0,get:function(){return N(aa)["default"]}});var ba=$h();Object.defineProperty(U,"Application",{enumerable:!0,get:function(){return N(ba)["default"]}});var ca=Vh();Object.defineProperty(U,"autoDetectRenderer",{enumerable:!0,get:function(){return ca.autoDetectRenderer}});var da=S();da=M(da);var L=Bc();M=M(L);L=Q();L=N(L);var ea=Hd();ea=N(ea);var fa=Rf();fa=N(fa);function M(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function N(a){return a&&a.__esModule?a:{"default":a}}U.settings=L["default"];U.utils=da;U.ticker=M;U.CanvasRenderer=ea["default"];U.WebGLRenderer=fa["default"]}var ci=!1;function V(){ci||(ci=!0,bi());return ai.exports}var di={},ei={exports:di};function fi(){di.__esModule=!0;di["default"]=c;var a={};function b(b){if(a[b])return;var c=new Error().stack;typeof c==="undefined"||(c=c.split("\n").splice(3).join("\n"),console.groupCollapsed&&(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",b),console.groupEnd()));a[b]=!0}function c(a){var c=a.mesh,d=a.particles,e=a.extras,f=a.filters,g=a.prepare,h=a.loaders,i=a.interaction;Object.defineProperties(a,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){b("You do not need to use a PIXI Stage any more, you can simply render any container.");return a.Container}},DisplayObjectContainer:{get:function(){b("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return a.Container}},Strip:{get:function(){b("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return c.Mesh}},Rope:{get:function(){b("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return c.Rope}},ParticleContainer:{get:function(){b("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return d.ParticleContainer}},MovieClip:{get:function(){b("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return e.AnimatedSprite}},TilingSprite:{get:function(){b("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return e.TilingSprite}},BitmapText:{get:function(){b("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return e.BitmapText}},blendModes:{get:function(){b("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return a.BLEND_MODES}},scaleModes:{get:function(){b("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return a.SCALE_MODES}},BaseTextureCache:{get:function(){b("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return a.utils.BaseTextureCache}},TextureCache:{get:function(){b("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return a.utils.TextureCache}},math:{get:function(){b("The math namespace is deprecated, please access members already accessible on PIXI.");return a}},AbstractFilter:{get:function(){b("AstractFilter has been renamed to Filter, please use PIXI.Filter");return a.Filter}},TransformManual:{get:function(){b("TransformManual has been renamed to TransformBase, please update your pixi-spine");return a.TransformBase}},TARGET_FPMS:{get:function(){b("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return a.settings.TARGET_FPMS},set:function(c){b("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS=c}},FILTER_RESOLUTION:{get:function(){b("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return a.settings.FILTER_RESOLUTION},set:function(c){b("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION=c}},RESOLUTION:{get:function(){b("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return a.settings.RESOLUTION},set:function(c){b("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION=c}},MIPMAP_TEXTURES:{get:function(){b("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return a.settings.MIPMAP_TEXTURES},set:function(c){b("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES=c}},SPRITE_BATCH_SIZE:{get:function(){b("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return a.settings.SPRITE_BATCH_SIZE},set:function(c){b("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE=c}},SPRITE_MAX_TEXTURES:{get:function(){b("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return a.settings.SPRITE_MAX_TEXTURES},set:function(c){b("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES=c}},RETINA_PREFIX:{get:function(){b("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return a.settings.RETINA_PREFIX},set:function(c){b("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX=c}},DEFAULT_RENDER_OPTIONS:{get:function(){b("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");return a.settings.RENDER_OPTIONS}}});var j=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],k=function(d){var c=j[d];Object.defineProperty(a[c.parent],"DEFAULT",{get:function(){b("PIXI."+c.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+c.target));return a.settings[c.target]},set:function(d){b("PIXI."+c.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+c.target)),a.settings[c.target]=d}})};for(var l=0;l<j.length;l++)k(l);Object.defineProperties(a.settings,{PRECISION:{get:function(){b("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return a.settings.PRECISION_FRAGMENT},set:function(c){b("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),a.settings.PRECISION_FRAGMENT=c}}});e.AnimatedSprite&&Object.defineProperties(e,{MovieClip:{get:function(){b("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return e.AnimatedSprite}}});e&&Object.defineProperties(e,{TextureTransform:{get:function(){b("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.");return a.TextureMatrix}}});a.DisplayObject.prototype.generateTexture=function(a,c,d){b("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return a.generateTexture(this,c,d)};a.Graphics.prototype.generateTexture=function(a,c){b("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(a,c)};a.GroupD8.isSwapWidthHeight=function(c){b("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical");return a.GroupD8.isVertical(c)};a.RenderTexture.prototype.render=function(a,c,d,e){this.legacyRenderer.render(a,this,d,c,!e),b("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};a.RenderTexture.prototype.getImage=function(a){b("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(a)};a.RenderTexture.prototype.getBase64=function(a){b("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(a)};a.RenderTexture.prototype.getCanvas=function(a){b("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(a)};a.RenderTexture.prototype.getPixels=function(a){b("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(a)};a.Sprite.prototype.setTexture=function(a){this.texture=a,b("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};e.BitmapText&&(e.BitmapText.prototype.setText=function(a){this.text=a,b("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});a.Text.prototype.setText=function(a){this.text=a,b("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};a.Text.calculateFontProperties=function(c){b("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont");return a.TextMetrics.measureFont(c)};Object.defineProperties(a.Text,{fontPropertiesCache:{get:function(){b("Text.fontPropertiesCache is deprecated");return a.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){b("Text.fontPropertiesCanvas is deprecated");return a.TextMetrics._canvas}},fontPropertiesContext:{get:function(){b("Text.fontPropertiesContext is deprecated");return a.TextMetrics._context}}});a.Text.prototype.setStyle=function(a){this.style=a,b("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};a.Text.prototype.determineFontProperties=function(c){b("determineFontProperties is now deprecated, please use TextMetrics.measureFont method");return a.TextMetrics.measureFont(c)};a.Text.getFontStyle=function(c){b("getFontStyle is now deprecated, please use TextStyle.toFontString() instead");c=c||{};c instanceof a.TextStyle||(c=new a.TextStyle(c));return c.toFontString()};Object.defineProperties(a.TextStyle.prototype,{font:{get:function(){b("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var a=typeof this._fontSize==="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+a+" "+this._fontFamily},set:function(c){b("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");c.indexOf("italic")>1?this._fontStyle="italic":c.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal";c.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";c=c.split(" ");var d=-1;this._fontSize=26;for(var a=0;a<c.length;++a)if(c[a].match(/(px|pt|em|%)/)){d=a;this._fontSize=c[a];break}this._fontWeight="normal";for(var a=0;a<d;++a)if(c[a].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=c[a];break}if(d>-1&&d<c.length-1){this._fontFamily="";for(var a=d+1;a<c.length;++a)this._fontFamily+=c[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});a.Texture.prototype.setFrame=function(a){this.frame=a,b("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};a.Texture.addTextureToCache=function(c,d){a.Texture.addToCache(c,d),b("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")};a.Texture.removeTextureFromCache=function(c){b("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache");a.BaseTexture.removeFromCache(c);return a.Texture.removeFromCache(c)};Object.defineProperties(f,{AbstractFilter:{get:function(){b("AstractFilter has been renamed to Filter, please use PIXI.Filter");return a.AbstractFilter}},SpriteMaskFilter:{get:function(){b("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return a.SpriteMaskFilter}},VoidFilter:{get:function(){b("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter");return f.AlphaFilter}}});a.utils.uuid=function(){b("utils.uuid() is deprecated, please use utils.uid() from now on.");return a.utils.uid()};a.utils.canUseNewCanvasBlendModes=function(){b("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return a.CanvasTinter.canUseMultiply};var m=!0;Object.defineProperty(a.utils,"_saidHello",{set:function(a){a&&(b("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),m=a},get:function(){return m}});g.BasePrepare&&(g.BasePrepare.prototype.register=function(a,c){b("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook");a&&this.registerFindHook(a);c&&this.registerUploadHook(c);return this});g.canvas&&Object.defineProperty(g.canvas,"UPLOADS_PER_FRAME",{set:function(){b("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){b("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});g.webgl&&Object.defineProperty(g.webgl,"UPLOADS_PER_FRAME",{set:function(){b("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){b("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});if(h.Loader){var n=h.Resource;k=h.Loader;Object.defineProperties(n.prototype,{isJson:{get:function(){b("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===n.TYPE.JSON}},isXml:{get:function(){b("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===n.TYPE.XML}},isImage:{get:function(){b("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");return this.type===n.TYPE.IMAGE}},isAudio:{get:function(){b("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===n.TYPE.AUDIO}},isVideo:{get:function(){b("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===n.TYPE.VIDEO}}});Object.defineProperties(k.prototype,{before:{get:function(){b("The before() method is deprecated, please use pre().");return this.pre}},after:{get:function(){b("The after() method is deprecated, please use use().");return this.use}}})}i.interactiveTarget&&Object.defineProperty(i.interactiveTarget,"defaultCursor",{set:function(a){b("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=a},get:function(){b("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor}});i.InteractionManager&&(Object.defineProperty(i.InteractionManager,"defaultCursorStyle",{set:function(a){b("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles["default"]=a},get:function(){b("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles["default"]}}),Object.defineProperty(i.InteractionManager,"currentCursorStyle",{set:function(a){b("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=a},get:function(){b("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");return this.currentCursorMode}}))}}var gi=!1;function hi(){gi||(gi=!0,fi());return ei.exports}var ii={},ji={exports:ii};function ki(){ii.__esModule=!0,ii["default"]={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}}var li=!1;function mi(){li||(li=!0,ki());return ji.exports}var ni={},oi={exports:ni};function pi(){ni.__esModule=!0;var a=V(),b=e(a);e=h();var c=d(e);a=mi();e=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}b.utils.mixins.delayMixin(b.DisplayObject.prototype,e["default"]);var g=9,i=100,j=0,k=0,l=2,m=1,n=-1e3,o=-1e3,p=2;d=function(){function a(b){f(this,a);(c["default"].tablet||c["default"].phone)&&!navigator.isCocoonJS&&this.createTouchHook();var d=document.createElement("div");d.style.width=i+"px";d.style.height=i+"px";d.style.position="absolute";d.style.top=j+"px";d.style.left=k+"px";d.style.zIndex=l;this.div=d;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=b;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isActive=!1;this.isMobileAccessabillity=!1;window.addEventListener("keydown",this._onKeyDown,!1)}a.prototype.createTouchHook=function(){var a=this,b=document.createElement("button");b.style.width=m+"px";b.style.height=m+"px";b.style.position="absolute";b.style.top=n+"px";b.style.left=o+"px";b.style.zIndex=p;b.style.backgroundColor="#FF0000";b.title="HOOK DIV";b.addEventListener("focus",function(){a.isMobileAccessabillity=!0,a.activate(),document.body.removeChild(b)});document.body.appendChild(b)};a.prototype.activate=function(){if(this.isActive)return;this.isActive=!0;window.document.addEventListener("mousemove",this._onMouseMove,!0);window.removeEventListener("keydown",this._onKeyDown,!1);this.renderer.on("postrender",this.update,this);this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div)};a.prototype.deactivate=function(){if(!this.isActive||this.isMobileAccessabillity)return;this.isActive=!1;window.document.removeEventListener("mousemove",this._onMouseMove);window.addEventListener("keydown",this._onKeyDown,!1);this.renderer.off("postrender",this.update);this.div.parentNode&&this.div.parentNode.removeChild(this.div)};a.prototype.updateAccessibleObjects=function(a){if(!a.visible)return;a.accessible&&a.interactive&&(a._accessibleActive||this.addChild(a),a.renderId=this.renderId);a=a.children;for(var b=0;b<a.length;b++)this.updateAccessibleObjects(a[b])};a.prototype.update=function(){if(!this.renderer.renderingToScreen)return;this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),c=a.width/this.renderer.width,d=a.height/this.renderer.height,e=this.div;e.style.left=a.left+"px";e.style.top=a.top+"px";e.style.width=this.renderer.width+"px";e.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var f=this.children[a];if(f.renderId!==this.renderId)f._accessibleActive=!1,b.utils.removeItems(this.children,a,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,a--,this.children.length===0&&this.deactivate();else{e=f._accessibleDiv;var g=f.hitArea,h=f.worldTransform;f.hitArea?(e.style.left=(h.tx+g.x*h.a)*c+"px",e.style.top=(h.ty+g.y*h.d)*d+"px",e.style.width=g.width*h.a*c+"px",e.style.height=g.height*h.d*d+"px"):(g=f.getBounds(),this.capHitArea(g),e.style.left=g.x*c+"px",e.style.top=g.y*d+"px",e.style.width=g.width*c+"px",e.style.height=g.height*d+"px",e.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(e.title=f.accessibleTitle),e.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&e.setAttribute("aria-label",f.accessibleHint))}}this.renderId++};a.prototype.capHitArea=function(a){a.x<0&&(a.width+=a.x,a.x=0),a.y<0&&(a.height+=a.y,a.y=0),a.x+a.width>this.renderer.width&&(a.width=this.renderer.width-a.x),a.y+a.height>this.renderer.height&&(a.height=this.renderer.height-a.y)};a.prototype.addChild=function(a){var b=this.pool.pop();b||(b=document.createElement("button"),b.style.width=i+"px",b.style.height=i+"px",b.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",b.style.position="absolute",b.style.zIndex=l,b.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?b.setAttribute("aria-live","off"):b.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?b.setAttribute("aria-relevant","additions"):b.setAttribute("aria-relevant","text"),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("focus",this._onFocus.bind(this)),b.addEventListener("focusout",this._onFocusOut.bind(this)));a.accessibleTitle&&a.accessibleTitle!==null?b.title=a.accessibleTitle:(!a.accessibleHint||a.accessibleHint===null)&&(b.title="displayObject "+a.tabIndex);a.accessibleHint&&a.accessibleHint!==null&&b.setAttribute("aria-label",a.accessibleHint);a._accessibleActive=!0;a._accessibleDiv=b;b.displayObject=a;this.children.push(a);this.div.appendChild(a._accessibleDiv);a._accessibleDiv.tabIndex=a.tabIndex};a.prototype._onClick=function(a){var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"click",b.eventData)};a.prototype._onFocus=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","assertive");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseover",b.eventData)};a.prototype._onFocusOut=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","polite");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseout",b.eventData)};a.prototype._onKeyDown=function(a){if(a.keyCode!==g)return;this.activate()};a.prototype._onMouseMove=function(a){if(a.movementX===0&&a.movementY===0)return;this.deactivate()};a.prototype.destroy=function(){this.div=null;for(var a=0;a<this.children.length;a++)this.children[a].div=null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.pool=null;this.children=null;this.renderer=null};return a}();ni["default"]=d;b.WebGLRenderer.registerPlugin("accessibility",d);b.CanvasRenderer.registerPlugin("accessibility",d)}var qi=!1;function ri(){qi||(qi=!0,pi());return oi.exports}var si={},ti={exports:si};function ui(){si.__esModule=!0;var a=mi();Object.defineProperty(si,"accessibleTarget",{enumerable:!0,get:function(){return c(a)["default"]}});var b=ri();Object.defineProperty(si,"AccessibilityManager",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var vi=!1;function wi(){vi||(vi=!0,ui());return ti.exports}var xi={},yi={exports:xi};function zi(){xi.__esModule=!0;var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=new b.Rectangle(),f=4;c=function(){function a(b){d(this,a),this.renderer=b,b.extract=this}a.prototype.image=function(a){var b=new Image();b.src=this.base64(a);return b};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,d=void 0,g=void 0,h=void 0,i=!1,j=void 0,k=!1;a&&(a instanceof b.RenderTexture?j=a:(j=this.renderer.generateTexture(a),k=!0));j?(d=j.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],g=d.resolution,h=j.frame,i=!1):(d=this.renderer.rootRenderTarget,g=d.resolution,i=!0,h=e,h.width=d.size.width,h.height=d.size.height);a=h.width*g;var l=h.height*g,m=new b.CanvasRenderTarget(a,l);if(d){c.bindRenderTarget(d);d=new Uint8Array(f*a*l);c=c.gl;c.readPixels(h.x*g,h.y*g,a,l,c.RGBA,c.UNSIGNED_BYTE,d);h=m.context.getImageData(0,0,a,l);h.data.set(d);m.context.putImageData(h,0,0);i&&(m.context.scale(1,-1),m.context.drawImage(m.canvas,0,-l))}k&&j.destroy(!0);return m.canvas};a.prototype.pixels=function(a){var c=this.renderer,d=void 0,g=void 0,h=void 0,i=void 0,j=!1;a&&(a instanceof b.RenderTexture?i=a:(i=this.renderer.generateTexture(a),j=!0));i?(d=i.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],g=d.resolution,h=i.frame):(d=this.renderer.rootRenderTarget,g=d.resolution,h=e,h.width=d.size.width,h.height=d.size.height);a=h.width*g;var k=h.height*g,l=new Uint8Array(f*a*k);if(d){c.bindRenderTarget(d);d=c.gl;d.readPixels(h.x*g,h.y*g,a,k,d.RGBA,d.UNSIGNED_BYTE,l)}j&&i.destroy(!0);return l};a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};return a}();xi["default"]=c;b.WebGLRenderer.registerPlugin("extract",c)}var Ai=!1;function Bi(){Ai||(Ai=!0,zi());return yi.exports}var Ci={},Di={exports:Ci};function Ei(){Ci.__esModule=!0;var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=new b.Rectangle();c=function(){function a(b){d(this,a),this.renderer=b,b.extract=this}a.prototype.image=function(a){var b=new Image();b.src=this.base64(a);return b};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,d=void 0,f=void 0,g=void 0,h=void 0;a&&(a instanceof b.RenderTexture?h=a:h=c.generateTexture(a));h?(d=h.baseTexture._canvasRenderTarget.context,f=h.baseTexture._canvasRenderTarget.resolution,g=h.frame):(d=c.rootContext,g=e,g.width=this.renderer.width,g.height=this.renderer.height);a=g.width*f;h=g.height*f;c=new b.CanvasRenderTarget(a,h);d=d.getImageData(g.x*f,g.y*f,a,h);c.context.putImageData(d,0,0);return c.canvas};a.prototype.pixels=function(a){var c=this.renderer,d=void 0,f=void 0;a&&(a instanceof b.RenderTexture?f=a:f=c.generateTexture(a));f?(a=f.baseTexture._canvasRenderTarget.context,d=f.baseTexture._canvasRenderTarget.resolution,f=f.frame):(a=c.rootContext,f=e,f.width=c.width,f.height=c.height);return a.getImageData(0,0,f.width*d,f.height*d).data};a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};return a}();Ci["default"]=c;b.CanvasRenderer.registerPlugin("extract",c)}var Fi=!1;function Gi(){Fi||(Fi=!0,Ei());return Di.exports}var Hi={},Ii={exports:Hi};function Ji(){Hi.__esModule=!0;var a=Bi();Object.defineProperty(Hi,"webgl",{enumerable:!0,get:function(){return c(a)["default"]}});var b=Gi();Object.defineProperty(Hi,"canvas",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var Ki=!1;function Li(){Ki||(Ki=!0,Ji());return Ii.exports}var Mi={},Ni={exports:Mi};function Oi(){Mi.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(b){g(d,b);function d(a,g){e(this,d);var h=f(this,b.call(this,a[0]instanceof c.Texture?a[0]:a[0].texture));h._textures=null;h._durations=null;h.textures=a;h._autoUpdate=g!==!1;h.animationSpeed=1;h.loop=!0;h.onComplete=null;h.onFrameChange=null;h.onLoop=null;h._currentTime=0;h.playing=!1;return h}d.prototype.stop=function(){if(!this.playing)return;this.playing=!1;this._autoUpdate&&c.ticker.shared.remove(this.update,this)};d.prototype.play=function(){if(this.playing)return;this.playing=!0;this._autoUpdate&&c.ticker.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH)};d.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture()};d.prototype.gotoAndPlay=function(a){var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture();this.play()};d.prototype.update=function(a){var b=this.animationSpeed*a,c=this.currentFrame;if(this._durations!==null){var d=this._currentTime%1*this._durations[this.currentFrame];d+=b/60*1e3;while(d<0)this._currentTime--,d+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);this._currentTime=Math.floor(this._currentTime);while(d>=this._durations[this.currentFrame])d-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=b;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):c!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<c?this.onLoop():this.animationSpeed<0&&this.currentFrame>c&&this.onLoop()),this.updateTexture())};d.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)};d.prototype.destroy=function(a){this.stop(),b.prototype.destroy.call(this,a)};d.fromFrames=function(a){var b=[];for(var e=0;e<a.length;++e)b.push(c.Texture.fromFrame(a[e]));return new d(b)};d.fromImages=function(a){var b=[];for(var e=0;e<a.length;++e)b.push(c.Texture.fromImage(a[e]));return new d(b)};a(d,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(a){if(a[0]instanceof c.Texture)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this.gotoAndStop(0);this.updateTexture()}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;a<0&&(a+=this._textures.length);return a}}]);return d}(c.Sprite);Mi["default"]=d}var Pi=!1;function Qi(){Pi||(Pi=!0,Oi());return Ni.exports}var Ri={},Si={exports:Ri};function Ti(){Ri.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=f(b);f=Md();var d=e(f);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function i(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var j=new c.Point();b=function(b){i(e,b);function e(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100;g(this,e);var i=h(this,b.call(this,a));i.tileTransform=new c.TransformStatic();i._width=d;i._height=f;i._canvasPattern=null;i.uvTransform=a.transform||new c.TextureMatrix(a);i.pluginName="tilingSprite";i.uvRespectAnchor=!1;return i}e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215};e.prototype._renderWebGL=function(a){var b=this._texture;if(!b||!b.valid)return;this.tileTransform.updateLocalTransform();this.uvTransform.update();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function(a){var b=this._texture;if(!b.baseTexture.hasLoaded)return;var e=a.context,f=this.worldTransform,g=a.resolution,h=b.baseTexture,i=h.resolution,j=this.tilePosition.x/this.tileScale.x%b._frame.width*i,k=this.tilePosition.y/this.tileScale.y%b._frame.height*i;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new c.CanvasRenderTarget(b._frame.width,b._frame.height,i);this.tint!==16777215?(this.tintedTexture=d["default"].getTintedTexture(this,this.tint),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(h.source,-b._frame.x*i,-b._frame.y*i);this.cachedTint=this.tint;this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}e.globalAlpha=this.worldAlpha;e.setTransform(f.a*g,f.b*g,f.c*g,f.d*g,f.tx*g,f.ty*g);a.setBlendMode(this.blendMode);e.fillStyle=this._canvasPattern;e.scale(this.tileScale.x/i,this.tileScale.y/i);h=this.anchor.x*-this._width;b=this.anchor.y*-this._height;this.uvRespectAnchor?(e.translate(j,k),e.fillRect(-j+h,-k+b,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i)):(e.translate(j+h,k+b),e.fillRect(-j,-k,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i))};e.prototype._calculateBounds=function(){var a=this._width*-this._anchor._x,b=this._height*-this._anchor._y,c=this._width*(1-this._anchor._x),d=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,a,b,c,d)};e.prototype.getLocalBounds=function(a){if(this.children.length===0){this._bounds.minX=this._width*-this._anchor._x;this._bounds.minY=this._height*-this._anchor._y;this._bounds.maxX=this._width*(1-this._anchor._x);this._bounds.maxY=this._height*(1-this._anchor._y);a||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle()),a=this._localBoundsRect);return this._bounds.getRectangle(a)}return b.prototype.getLocalBounds.call(this,a)};e.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,j);a=this._width;var b=this._height,c=-a*this.anchor._x;if(j.x>=c&&j.x<c+a){c=-b*this.anchor._y;if(j.y>=c&&j.y<c+b)return!0}return!1};e.prototype.destroy=function(a){b.prototype.destroy.call(this,a),this.tileTransform=null,this.uvTransform=null};e.from=function(a,b,d){return new e(c.Texture.from(a),b,d)};e.fromFrame=function(a,b,d){var f=c.utils.TextureCache[a];if(!f)throw new Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new e(f,b,d)};e.fromImage=function(a,b,d,f,g){return new e(c.Texture.fromImage(a,f,g),b,d)};a(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copy(a)}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]);return e}(c.Sprite);Ri["default"]=b}var Ui=!1;function Vi(){Ui||(Ui=!0,Ti());return Si.exports}var Wi={},Xi={exports:Wi};function Yi(){Wi.__esModule=!0;var a=V(),b=d(a),c=K();function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=new b.Matrix();d=function(a){g(d,a);function d(b){e(this,d);b=f(this,a.call(this,b));b.shader=null;b.simpleShader=null;b.quad=null;return b}d.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");this.simpleShader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");this.renderer.bindVao(null);this.quad=new b.Quad(a,this.renderer.state.attribState);this.quad.initVao(this.shader)};d.prototype.render=function(a){var d=this.renderer,e=this.quad;d.bindVao(e.vao);var f=e.vertices;f[0]=f[6]=a._width*-a.anchor.x;f[1]=f[3]=a._height*-a.anchor.y;f[2]=f[4]=a._width*(1-a.anchor.x);f[5]=f[7]=a._height*(1-a.anchor.y);a.uvRespectAnchor&&(f=e.uvs,f[0]=f[6]=-a.anchor.x,f[1]=f[3]=-a.anchor.y,f[2]=f[4]=1-a.anchor.x,f[5]=f[7]=1-a.anchor.y);e.upload();f=a._texture;var g=f.baseTexture,i=a.tileTransform.localTransform,j=a.uvTransform,k=g.isPowerOfTwo&&f.frame.width===g.width&&f.frame.height===g.height;k&&(!g._glTextures[d.CONTEXT_UID]?g.wrapMode===c.WRAP_MODES.CLAMP&&(g.wrapMode=c.WRAP_MODES.REPEAT):k=g.wrapMode!==c.WRAP_MODES.CLAMP);var l=k?this.simpleShader:this.shader;d.bindShader(l);var m=f.width,n=f.height,o=a._width,p=a._height;h.set(i.a*m/o,i.b*m/p,i.c*n/o,i.d*n/p,i.tx/o,i.ty/p);h.invert();k?h.prepend(j.mapCoord):(l.uniforms.uMapCoord=j.mapCoord.toArray(!0),l.uniforms.uClampFrame=j.uClampFrame,l.uniforms.uClampOffset=j.uClampOffset);l.uniforms.uTransform=h.toArray(!0);l.uniforms.uColor=b.utils.premultiplyTintToRgba(a.tint,a.worldAlpha,l.uniforms.uColor,g.premultipliedAlpha);l.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);l.uniforms.uSampler=d.bindTexture(f);d.setBlendMode(b.utils.correctBlendMode(a.blendMode,g.premultipliedAlpha));e.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return d}(b.ObjectRenderer);Wi["default"]=d;b.WebGLRenderer.registerPlugin("tilingSprite",d)}var Zi=!1;function $i(){Zi||(Zi=!0,Yi());return Xi.exports}var aj={},bj={exports:aj};function cj(){aj.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=ia();var d=g(h),e=S();b=Q();var f=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h=function(b){k(g,b);function g(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,g);var e=j(this,b.call(this));e._textWidth=0;e._textHeight=0;e._glyphs=[];e._font={tint:c.tint!==void 0?c.tint:16777215,align:c.align||"left",name:null,size:0};e.font=c.font;e._text=a;e._maxWidth=0;e._maxLineHeight=0;e._letterSpacing=0;e._anchor=new d["default"](function(){e.dirty=!0},e,0,0);e.dirty=!1;e.updateText();return e}g.prototype.updateText=function(){var a=g.fonts[this._font.name],b=this._font.size/a.size,d=new c.Point(),e=[],f=[],h=this.text.replace(/(?:\r\n|\r)/g,"\n"),i=h.length,j=this._maxWidth*a.size/this._font.size,k=null,l=0,m=0,n=0,o=-1,p=0,q=0,r=0;for(var s=0;s<i;s++){var t=h.charCodeAt(s),u=h.charAt(s);/(?:\s)/.test(u)&&(o=s,p=l);if(u==="\r"||u==="\n"){f.push(l);m=Math.max(m,l);++n;++q;d.x=0;d.y+=a.lineHeight;k=null;continue}u=a.chars[t];if(!u)continue;k&&u.kerning[k]&&(d.x+=u.kerning[k]);e.push({texture:u.texture,line:n,charCode:t,position:new c.Point(d.x+u.xOffset+this._letterSpacing/2,d.y+u.yOffset)});d.x+=u.xAdvance+this._letterSpacing;l=d.x;r=Math.max(r,u.yOffset+u.texture.height);k=t;o!==-1&&j>0&&d.x>j&&(++q,c.utils.removeItems(e,1+o-q,1+s-o),s=o,o=-1,f.push(p),m=Math.max(m,p),n++,d.x=0,d.y+=a.lineHeight,k=null)}u=h.charAt(h.length-1);u!=="\r"&&u!=="\n"&&(/(?:\s)/.test(u)&&(l=p),f.push(l),m=Math.max(m,l));t=[];for(var s=0;s<=n;s++){o=0;this._font.align==="right"?o=m-f[s]:this._font.align==="center"&&(o=(m-f[s])/2);t.push(o)}j=e.length;k=this.tint;for(var q=0;q<j;q++){i=this._glyphs[q];i?i.texture=e[q].texture:(i=new c.Sprite(e[q].texture),this._glyphs.push(i));i.position.x=(e[q].position.x+t[e[q].line])*b;i.position.y=e[q].position.y*b;i.scale.x=i.scale.y=b;i.tint=k;i.parent||this.addChild(i)}for(var h=j;h<this._glyphs.length;++h)this.removeChild(this._glyphs[h]);this._textWidth=m*b;this._textHeight=(d.y+a.lineHeight)*b;if(this.anchor.x!==0||this.anchor.y!==0)for(var u=0;u<j;u++)this._glyphs[u].x-=this._textWidth*this.anchor.x,this._glyphs[u].y-=this._textHeight*this.anchor.y;this._maxLineHeight=r*b};g.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()};g.prototype.getLocalBounds=function(){this.validate();return b.prototype.getLocalBounds.call(this)};g.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};g.registerFont=function(a,b){var d={},h=a.getElementsByTagName("info")[0],i=a.getElementsByTagName("common")[0],j=a.getElementsByTagName("page"),k=e.getResolutionOfUrl(j[0].getAttribute("file"),f["default"].RESOLUTION),l={};d.font=h.getAttribute("face");d.size=parseInt(h.getAttribute("size"),10);d.lineHeight=parseInt(i.getAttribute("lineHeight"),10)/k;d.chars={};b instanceof c.Texture&&(b=[b]);for(var h=0;h<j.length;h++){i=j[h].getAttribute("id");var m=j[h].getAttribute("file");l[i]=b instanceof Array?b[h]:b[m]}i=a.getElementsByTagName("char");for(var m=0;m<i.length;m++){h=i[m];j=parseInt(h.getAttribute("id"),10);b=h.getAttribute("page")||0;var n=new c.Rectangle(parseInt(h.getAttribute("x"),10)/k+l[b].frame.x/k,parseInt(h.getAttribute("y"),10)/k+l[b].frame.y/k,parseInt(h.getAttribute("width"),10)/k,parseInt(h.getAttribute("height"),10)/k);d.chars[j]={xOffset:parseInt(h.getAttribute("xoffset"),10)/k,yOffset:parseInt(h.getAttribute("yoffset"),10)/k,xAdvance:parseInt(h.getAttribute("xadvance"),10)/k,kerning:{},texture:new c.Texture(l[b].baseTexture,n),page:b}}j=a.getElementsByTagName("kerning");for(var h=0;h<j.length;h++){n=j[h];b=parseInt(n.getAttribute("first"),10)/k;m=parseInt(n.getAttribute("second"),10)/k;i=parseInt(n.getAttribute("amount"),10)/k;d.chars[m]&&(d.chars[m].kerning[b]=i)}g.fonts[d.font]=d;return d};a(g,[{key:"tint",get:function(){return this._font.tint},set:function(a){this._font.tint=typeof a==="number"&&a>=0?a:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){typeof a==="number"?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){if(!a)return;typeof a==="string"?(a=a.split(" "),this._font.name=a.length===1?a[0]:a.slice(1).join(" "),this._font.size=a.length>=2?parseInt(a[0],10):g.fonts[this._font.name].size):(this._font.name=a.name,this._font.size=typeof a.size==="number"?a.size:parseInt(a.size,10));this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ";if(this._text===a)return;this._text=a;this.dirty=!0}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(a){if(this._maxWidth===a)return;this._maxWidth=a;this.dirty=!0}},{key:"maxLineHeight",get:function(){this.validate();return this._maxLineHeight}},{key:"textWidth",get:function(){this.validate();return this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)}},{key:"textHeight",get:function(){this.validate();return this._textHeight}}]);return g}(c.Container);aj["default"]=h;h.fonts={}}var dj=!1;function ej(){dj||(dj=!0,cj());return bj.exports}b={};var fj={exports:b};function gj(){var a=V(),b=g(a);g=T();var c=f(g);a=mc();var d=f(a),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}g=b.DisplayObject;var i=new b.Matrix();g.prototype._cacheAsBitmap=!1;g.prototype._cacheData=!1;var j=function a(){h(this,a),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(g.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){if(this._cacheAsBitmap===a)return;this._cacheAsBitmap=a;var b=void 0;a?(this._cacheData||(this._cacheData=new j()),b=this._cacheData,b.originalRenderWebGL=this.renderWebGL,b.originalRenderCanvas=this.renderCanvas,b.originalUpdateTransform=this.updateTransform,b.originalCalculateBounds=this._calculateBounds,b.originalGetLocalBounds=this.getLocalBounds,b.originalDestroy=this.destroy,b.originalContainsPoint=this.containsPoint,b.originalMask=this._mask,b.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(b=this._cacheData,b.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=b.originalRenderWebGL,this.renderCanvas=b.originalRenderCanvas,this._calculateBounds=b.originalCalculateBounds,this.getLocalBounds=b.originalGetLocalBounds,this.destroy=b.originalDestroy,this.updateTransform=b.originalUpdateTransform,this.containsPoint=b.originalContainsPoint,this._mask=b.originalMask,this.filterArea=b.originalFilterArea)}}});g.prototype._renderCachedWebGL=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._initCachedDisplayObject(a);this._cacheData.sprite._transformID=-1;this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._renderWebGL(a)};g.prototype._initCachedDisplayObject=function(a){if(this._cacheData&&this._cacheData.sprite)return;var f=this.alpha;this.alpha=1;a.currentRenderer.flush();var g=this.getLocalBounds().clone();if(this._filters){var h=this._filters[0].padding;g.pad(h)}h=a._activeRenderTarget;var j=a.filterManager.filterStack,k=b.RenderTexture.create(g.width|0,g.height|0),l="cacheAsBitmap_"+e.uid();this._cacheData.textureCacheId=l;d["default"].addToCache(k.baseTexture,l);c["default"].addToCache(k,l);l=i;l.tx=-g.x;l.ty=-g.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;a.render(this,k,!0,l,!0);a.bindRenderTarget(h);a.filterManager.filterStack=j;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this._mask=null;this.filterArea=null;l=new b.Sprite(k);l.transform.worldTransform=this.transform.worldTransform;l.anchor.x=-(g.x/g.width);l.anchor.y=-(g.y/g.height);l.alpha=f;l._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=l;this.transform._parentID=-1;!this.parent?(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null):this.updateTransform();this.containsPoint=l.containsPoint.bind(l)};g.prototype._renderCachedCanvas=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._initCachedDisplayObjectCanvas(a);this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite.renderCanvas(a)};g.prototype._initCachedDisplayObjectCanvas=function(a){if(this._cacheData&&this._cacheData.sprite)return;var f=this.getLocalBounds(),g=this.alpha;this.alpha=1;var h=a.context,j=b.RenderTexture.create(f.width|0,f.height|0),k="cacheAsBitmap_"+e.uid();this._cacheData.textureCacheId=k;d["default"].addToCache(j.baseTexture,k);c["default"].addToCache(j,k);k=i;this.transform.localTransform.copy(k);k.invert();k.tx-=f.x;k.ty-=f.y;this.renderCanvas=this._cacheData.originalRenderCanvas;a.render(this,j,!0,k,!1);a.context=h;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this._mask=null;this.filterArea=null;k=new b.Sprite(j);k.transform.worldTransform=this.transform.worldTransform;k.anchor.x=-(f.x/f.width);k.anchor.y=-(f.y/f.height);k._bounds=this._bounds;k.alpha=g;!this.parent?(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null):this.updateTransform();this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=k;this.containsPoint=k.containsPoint.bind(k)};g.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};g.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};g.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,d["default"].removeFromCache(this._cacheData.textureCacheId),c["default"].removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};g.prototype._cacheAsBitmapDestroy=function(a){this.cacheAsBitmap=!1,this.destroy(a)}}var hj=!1;function ij(){hj||(hj=!0,gj());return fj.exports}f={};var jj={exports:f};function kj(){var a=V();b=b(a);function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}b.DisplayObject.prototype.name=null;b.Container.prototype.getChildByName=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name===a)return this.children[b];return null}}var lj=!1;function mj(){lj||(lj=!0,kj());return jj.exports}c={};var nj={exports:c};function oj(){var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}b.DisplayObject.prototype.getGlobalPosition=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new b.Point(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,a,c):(a.x=this.position.x,a.y=this.position.y);return a}}var pj=!1;function qj(){pj||(pj=!0,oj());return nj.exports}var W={},rj={exports:W};function sj(){W.__esModule=!0;W.BitmapText=W.TilingSpriteRenderer=W.TilingSprite=W.AnimatedSprite=void 0;var a=Qi();Object.defineProperty(W,"AnimatedSprite",{enumerable:!0,get:function(){return e(a)["default"]}});var b=Vi();Object.defineProperty(W,"TilingSprite",{enumerable:!0,get:function(){return e(b)["default"]}});var c=$i();Object.defineProperty(W,"TilingSpriteRenderer",{enumerable:!0,get:function(){return e(c)["default"]}});var d=ej();Object.defineProperty(W,"BitmapText",{enumerable:!0,get:function(){return e(d)["default"]}});ij();mj();qj();function e(a){return a&&a.__esModule?a:{"default":a}}}var tj=!1;function uj(){tj||(tj=!0,sj());return rj.exports}var vj={},wj={exports:vj};function xj(){vj.__esModule=!0;var a=V();b=b(a);function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(){c(this,b);return d(this,a.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return b}(b.Filter);vj["default"]=a}var yj=!1;function zj(){yj||(yj=!0,xj());return wj.exports}var Aj={},Bj={exports:Aj};function Cj(){Aj.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){f(c,b);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.5,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random();d(this,c);var g=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));g.noise=a;g.seed=f;return g}a(c,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a}}]);return c}(c.Filter);Aj["default"]=b}var Dj=!1;function Ej(){Dj||(Dj=!0,Cj());return Bj.exports}var Fj={},Gj={exports:Fj};function Hj(){Fj.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(b){g(d,b);function d(a,g){e(this,d);var h=new c.Matrix();a.renderable=!1;var i=f(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));i.maskSprite=a;i.maskMatrix=h;i.uniforms.mapSampler=a._texture;i.uniforms.filterMatrix=h;i.uniforms.scale={x:1,y:1};(g===null||g===void 0)&&(g=20);i.scale=new c.Point(g,g);return i}d.prototype.apply=function(a,b,c){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,a.applyFilter(this,b,c)};a(d,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}]);return d}(c.Filter);Fj["default"]=d}var Ij=!1;function Jj(){Ij||(Ij=!0,Hj());return Gj.exports}var Kj={},Lj={exports:Kj};function Mj(){Kj.__esModule=!0;Kj["default"]=b;var a=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");function b(b,c){var d=Math.ceil(b/2),e=a,f="",g=void 0;c?g="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":g="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var c=0;c<b;c++){var h=g.replace("%index%",c);h=h.replace("%sampleIndex%",c-(d-1)+".0");f+=h;f+="\n"}e=e.replace("%blur%",f);e=e.replace("%size%",b);return e}}var Nj=!1;function Oj(){Nj||(Nj=!0,Mj());return Lj.exports}var Pj={},Qj={exports:Pj};function Rj(){Pj.__esModule=!0;Pj["default"]=c;var a={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},b=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function c(c){var d=a[c],e=d.length,f=b,g="",h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",i;for(var j=0;j<c;j++){var k=h.replace("%index%",j);i=j;j>=e&&(i=c-j-1);k=k.replace("%value%",d[i]);g+=k;g+="\n"}f=f.replace("%blur%",g);f=f.replace("%size%",c);return f}}var Sj=!1;function Tj(){Sj||(Sj=!0,Rj());return Qj.exports}var Uj={},Vj={exports:Uj};function Wj(){Uj.__esModule=!0;Uj["default"]=a;function a(a){a=a.getParameter(a.MAX_VARYING_VECTORS);var b=15;while(b>a)b-=2;return b}}var Xj=!1;function Yj(){Xj||(Xj=!0,Wj());return Vj.exports}var Zj={},$j={exports:Zj};function ak(){Zj.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=Oj();var d=g(h);b=Tj();var e=g(b);h=Yj();var f=g(h);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){k(g,b);function g(a,f,h,k){i(this,g);k=k||5;var l=d["default"](k,!0);k=e["default"](k);l=j(this,b.call(this,l,k));l.resolution=h||c.settings.RESOLUTION;l._quality=0;l.quality=f||4;l.strength=a||8;l.firstRun=!0;return l}g.prototype.apply=function(a,b,c,g){if(this.firstRun){var h=a.renderer.gl;h=f["default"](h);this.vertexSrc=d["default"](h,!0);this.fragmentSrc=e["default"](h);this.firstRun=!1}this.uniforms.strength=1/c.size.width*(c.size.width/b.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1)a.applyFilter(this,b,c,g);else{h=a.getRenderTarget(!0);b=b;var i=h;for(var j=0;j<this.passes-1;j++){a.applyFilter(this,b,i,!0);var k=i;i=b;b=k}a.applyFilter(this,b,c,g);a.returnRenderTarget(h)}};a(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=Math.abs(a)*2,this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a}}]);return g}(c.Filter);Zj["default"]=b}var bk=!1;function ck(){bk||(bk=!0,ak());return $j.exports}var dk={},ek={exports:dk};function fk(){dk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=Oj();var d=g(h);b=Tj();var e=g(b);h=Yj();var f=g(h);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){k(g,b);function g(a,f,h,k){i(this,g);k=k||5;var l=d["default"](k,!1);k=e["default"](k);l=j(this,b.call(this,l,k));l.resolution=h||c.settings.RESOLUTION;l._quality=0;l.quality=f||4;l.strength=a||8;l.firstRun=!0;return l}g.prototype.apply=function(a,b,c,g){if(this.firstRun){var h=a.renderer.gl;h=f["default"](h);this.vertexSrc=d["default"](h,!1);this.fragmentSrc=e["default"](h);this.firstRun=!1}this.uniforms.strength=1/c.size.height*(c.size.height/b.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1)a.applyFilter(this,b,c,g);else{h=a.getRenderTarget(!0);b=b;var i=h;for(var j=0;j<this.passes-1;j++){a.applyFilter(this,b,i,!0);var k=i;i=b;b=k}a.applyFilter(this,b,c,g);a.returnRenderTarget(h)}};a(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=Math.abs(a)*2,this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a}}]);return g}(c.Filter);dk["default"]=b}var gk=!1;function hk(){gk||(gk=!0,fk());return ek.exports}var ik={},jk={exports:ik};function kk(){ik.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=g(b);g=ck();var d=f(g);b=hk();var e=f(b);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(b){j(f,b);function f(a,g,j,k){h(this,f);var l=i(this,b.call(this));l.blurXFilter=new d["default"](a,g,j,k);l.blurYFilter=new e["default"](a,g,j,k);l.padding=0;l.resolution=j||c.settings.RESOLUTION;l.quality=g||4;l.blur=a||8;return l}f.prototype.apply=function(a,b,c){var d=a.getRenderTarget(!0);this.blurXFilter.apply(a,b,d,!0);this.blurYFilter.apply(a,d,c,!1);a.returnRenderTarget(d)};a(f,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(a){this.blurYFilter._blendMode=a}}]);return f}(c.Filter);ik["default"]=g}var lk=!1;function mk(){lk||(lk=!0,kk());return jk.exports}var nk={},ok={exports:nk};function pk(){nk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){f(c,b);function c(){d(this,c);var a=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));a.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];a.alpha=1;return a}c.prototype._loadMatrix=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=a;b&&(this._multiply(c,this.uniforms.m,a),c=this._colorMatrix(c));this.uniforms.m=c};c.prototype._multiply=function(a,b,c){a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15];a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16];a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17];a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18];a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19]+b[4];a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15];a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16];a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17];a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18];a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19]+b[9];a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15];a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16];a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17];a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18];a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19]+b[14];a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15];a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16];a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17];a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18];a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19]+b[19];return a};c.prototype._colorMatrix=function(a){a=new Float32Array(a);a[4]/=255;a[9]/=255;a[14]/=255;a[19]/=255;return a};c.prototype.brightness=function(a,b){a=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.greyscale=function(a,b){a=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.blackAndWhite=function(a){var b=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a);a=Math.sin(a);var d=Math.sqrt,e=1/3;d=d(e);var f=c+(1-c)*e,g=e*(1-c)-d*a,h=e*(1-c)+d*a,i=e*(1-c)+d*a,j=c+e*(1-c),k=e*(1-c)-d*a,l=e*(1-c)-d*a;d=e*(1-c)+d*a;a=c+e*(1-c);e=[f,g,h,0,0,i,j,k,0,0,l,d,a,0,0,0,0,0,1,0];this._loadMatrix(e,b)};c.prototype.contrast=function(a,b){a=(a||0)+1;var c=-.5*(a-1);a=[a,0,0,0,c,0,a,0,0,c,0,0,a,0,c,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.saturate=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments[1],c=a*2/3+1,d=(c-1)*-.5,e=[c,d,d,0,0,d,c,d,0,0,d,d,c,0,0,0,0,0,1,0];this._loadMatrix(e,b)};c.prototype.desaturate=function(){this.saturate(-1)};c.prototype.negative=function(a){var b=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.sepia=function(a){var b=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.technicolor=function(a){var b=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.polaroid=function(a){var b=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.toBGR=function(a){var b=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.kodachrome=function(a){var b=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.browni=function(a){var b=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.vintage=function(a){var b=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.colorTone=function(a,b,c,d,e){a=a||.2;b=b||.15;c=c||16770432;d=d||3375104;var f=(c>>16&255)/255,g=(c>>8&255)/255;c=(c&255)/255;var h=(d>>16&255)/255,i=(d>>8&255)/255;d=(d&255)/255;a=[.3,.59,.11,0,0,f,g,c,a,0,h,i,d,b,0,f-h,g-i,c-d,0,0];this._loadMatrix(a,e)};c.prototype.night=function(a,b){a=a||.1;a=[a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.predator=function(a,b){a=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.lsd=function(a){var b=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.reset=function(){var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(a,!1)};a(c,[{key:"matrix",get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]);return c}(c.Filter);nk["default"]=b;b.prototype.grayscale=b.prototype.greyscale}var qk=!1;function rk(){qk||(qk=!0,pk());return ok.exports}var sk={},tk={exports:sk};function uk(){sk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){f(c,b);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;d(this,c);var f=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));f.alpha=a;f.glShaderKey="alpha";return f}a(c,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]);return c}(c.Filter);sk["default"]=b}var vk=!1;function wk(){vk||(vk=!0,uk());return tk.exports}var X={},xk={exports:X};function yk(){X.__esModule=!0;var a=zj();Object.defineProperty(X,"FXAAFilter",{enumerable:!0,get:function(){return i(a)["default"]}});var b=Ej();Object.defineProperty(X,"NoiseFilter",{enumerable:!0,get:function(){return i(b)["default"]}});var c=Jj();Object.defineProperty(X,"DisplacementFilter",{enumerable:!0,get:function(){return i(c)["default"]}});var d=mk();Object.defineProperty(X,"BlurFilter",{enumerable:!0,get:function(){return i(d)["default"]}});var e=ck();Object.defineProperty(X,"BlurXFilter",{enumerable:!0,get:function(){return i(e)["default"]}});var f=hk();Object.defineProperty(X,"BlurYFilter",{enumerable:!0,get:function(){return i(f)["default"]}});var g=rk();Object.defineProperty(X,"ColorMatrixFilter",{enumerable:!0,get:function(){return i(g)["default"]}});var h=wk();Object.defineProperty(X,"AlphaFilter",{enumerable:!0,get:function(){return i(h)["default"]}});function i(a){return a&&a.__esModule?a:{"default":a}}}var zk=!1;function Ak(){zk||(zk=!0,yk());return xk.exports}var Bk={},Ck={exports:Bk};function Dk(){Bk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function b(){e(this,b),this.global=new c.Point(),this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}b.prototype.getLocalPosition=function(a,b,c){return a.worldTransform.applyInverse(c||this.global,b)};b.prototype.copyEvent=function(a){a.isPrimary&&(this.isPrimary=!0),this.button=a.button,this.buttons=Number.isInteger(a.buttons)?a.buttons:a.which,this.width=a.width,this.height=a.height,this.tiltX=a.tiltX,this.tiltY=a.tiltY,this.pointerType=a.pointerType,this.pressure=a.pressure,this.rotationAngle=a.rotationAngle,this.twist=a.twist||0,this.tangentialPressure=a.tangentialPressure||0};b.prototype.reset=function(){this.isPrimary=!1};a(b,[{key:"pointerId",get:function(){return this.identifier}}]);return b}();Bk["default"]=d}var Ek=!1;function Fk(){Ek||(Ek=!0,Dk());return Ck.exports}var Gk={},Hk={exports:Gk};function Ik(){Gk.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(){a(this,b),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}b.prototype.stopPropagation=function(){this.stopped=!0};b.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};return b}();Gk["default"]=b}var Jk=!1;function Kk(){Jk||(Jk=!0,Ik());return Hk.exports}var Lk={},Mk={exports:Lk};function Nk(){Lk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(a){b(this,c),this._pointerId=a,this._flags=c.FLAGS.NONE}c.prototype._doSet=function(a,b){b?this._flags=this._flags|a:this._flags=this._flags&~a};a(c,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(a){this._flags=a}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!==0},set:function(a){this._doSet(this.constructor.FLAGS.OVER,a)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0},set:function(a){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,a)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0},set:function(a){this._doSet(this.constructor.FLAGS.LEFT_DOWN,a)}}]);return c}();Lk["default"]=c;c.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})}var Ok=!1;function Pk(){Ok||(Ok=!0,Nk());return Mk.exports}var Qk={},Rk={exports:Qk};function Sk(){Qk.__esModule=!0,Qk["default"]={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(a){a?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){this._trackedPointers===void 0&&(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0}}var Tk=!1;function Uk(){Tk||(Tk=!0,Sk());return Rk.exports}var Vk={},Wk={exports:Vk};function Xk(){Vk.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=V(),c=h(b);h=Fk();var d=g(h);b=Kk();var e=g(b);h=Pk();var f=g(h);b=i();h=g(b);b=Uk();g=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function l(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.utils.mixins.delayMixin(c.DisplayObject.prototype,g["default"]);var m=1,n={target:null,data:{global:null}};b=function(b){l(g,b);function g(a,f){j(this,g);var h=k(this,b.call(this));f=f||{};h.renderer=a;h.autoPreventDefault=f.autoPreventDefault!==void 0?f.autoPreventDefault:!0;h.interactionFrequency=f.interactionFrequency||10;h.mouse=new d["default"]();h.mouse.identifier=m;h.mouse.global.set(-999999);h.activeInteractionData={};h.activeInteractionData[m]=h.mouse;h.interactionDataPool=[];h.eventData=new e["default"]();h.interactionDOMElement=null;h.moveWhenInside=!1;h.eventsAdded=!1;h.mouseOverRenderer=!1;h.supportsTouchEvents="ontouchstart"in window;h.supportsPointerEvents=!!window.PointerEvent;h.onPointerUp=h.onPointerUp.bind(h);h.processPointerUp=h.processPointerUp.bind(h);h.onPointerCancel=h.onPointerCancel.bind(h);h.processPointerCancel=h.processPointerCancel.bind(h);h.onPointerDown=h.onPointerDown.bind(h);h.processPointerDown=h.processPointerDown.bind(h);h.onPointerMove=h.onPointerMove.bind(h);h.processPointerMove=h.processPointerMove.bind(h);h.onPointerOut=h.onPointerOut.bind(h);h.processPointerOverOut=h.processPointerOverOut.bind(h);h.onPointerOver=h.onPointerOver.bind(h);h.cursorStyles={"default":"inherit",pointer:"pointer"};h.currentCursorMode=null;h.cursor=null;h._tempPoint=new c.Point();h.resolution=1;h.setTargetElement(h.renderer.view,h.renderer.resolution);return h}g.prototype.hitTest=function(a,b){n.target=null;n.data.global=a;b||(b=this.renderer._lastObjectRendered);this.processInteractive(n,b,null,!0);return n.target};g.prototype.setTargetElement=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents()};g.prototype.addEvents=function(){if(!this.interactionDOMElement)return;c.ticker.shared.add(this.update,this,c.UPDATE_PRIORITY.INTERACTION);window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none");this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0));this.eventsAdded=!0};g.prototype.removeEvents=function(){if(!this.interactionDOMElement)return;c.ticker.shared.remove(this.update,this);window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="");this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0));this.interactionDOMElement=null;this.eventsAdded=!1};g.prototype.update=function(a){this._deltaTime+=a;if(this._deltaTime<this.interactionFrequency)return;this._deltaTime=0;if(!this.interactionDOMElement)return;if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var a in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(a)){var b=this.activeInteractionData[a];if(b.originalEvent&&b.pointerType!=="touch"){b=this.configureInteractionEventForDOMEvent(this.eventData,b.originalEvent,b);this.processInteractive(b,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)};g.prototype.setCursorMode=function(b){b=b||"default";if(this.currentCursorMode===b)return;this.currentCursorMode=b;var c=this.cursorStyles[b];if(c)switch(typeof c==="undefined"?"undefined":a(c)){case"string":this.interactionDOMElement.style.cursor=c;break;case"function":c(b);break;case"object":Object.assign(this.interactionDOMElement.style,c);break}else typeof b==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,b)&&(this.interactionDOMElement.style.cursor=b)};g.prototype.dispatchEvent=function(a,b,c){c.stopped||(c.currentTarget=a,c.type=b,a.emit(b,c),a[b]&&a[b](c))};g.prototype.mapPositionToPoint=function(a,b,c){var d;!this.interactionDOMElement.parentElement?d={x:0,y:0,width:0,height:0}:d=this.interactionDOMElement.getBoundingClientRect();var e=navigator.isCocoonJS?this.resolution:1/this.resolution;a.x=(b-d.left)*(this.interactionDOMElement.width/d.width)*e;a.y=(c-d.top)*(this.interactionDOMElement.height/d.height)*e};g.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;var f=a.data.global;e=b.interactive||e;var g=!1,h=e,i=!0;b.hitArea?(d&&(b.worldTransform.applyInverse(f,this._tempPoint),!b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?(d=!1,i=!1):g=!0),h=!1):b._mask&&(d&&(b._mask.containsPoint(f)||(d=!1,i=!1)));if(i&&b.interactiveChildren&&b.children){i=b.children;for(var j=i.length-1;j>=0;j--){var k=i[j],l=this.processInteractive(a,k,c,d,h);if(l){if(!k.parent)continue;h=!1;l&&(a.target&&(d=!1),g=!0)}}}e&&(d&&!a.target&&(!b.hitArea&&b.containsPoint&&(b.containsPoint(f)&&(g=!0))),b.interactive&&(g&&!a.target&&(a.target=b),c&&c(a,b,!!g)));return g};g.prototype.onPointerDown=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&a.preventDefault();var c=b.length;for(var d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e);f=this.configureInteractionEventForDOMEvent(this.eventData,e,f);f.data.originalEvent=a;this.processInteractive(f,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",f);if(e.pointerType==="touch")this.emit("touchstart",f);else if(e.pointerType==="mouse"||e.pointerType==="pen"){f=e.button===2;this.emit(f?"rightdown":"mousedown",this.eventData)}}};g.prototype.processPointerDown=function(a,b,c){var d=a.data,e=a.data.identifier;if(c){b.trackedPointers[e]||(b.trackedPointers[e]=new f["default"](e));this.dispatchEvent(b,"pointerdown",a);if(d.pointerType==="touch")this.dispatchEvent(b,"touchstart",a);else if(d.pointerType==="mouse"||d.pointerType==="pen"){c=d.button===2;c?b.trackedPointers[e].rightDown=!0:b.trackedPointers[e].leftDown=!0;this.dispatchEvent(b,c?"rightdown":"mousedown",a)}}};g.prototype.onPointerComplete=function(a,b,c){var d=this.normalizeToPointerData(a),e=d.length,f=a.target!==this.interactionDOMElement?"outside":"";for(var g=0;g<e;g++){var h=d[g],i=this.getInteractionDataForPointerId(h),j=this.configureInteractionEventForDOMEvent(this.eventData,h,i);j.data.originalEvent=a;this.processInteractive(j,this.renderer._lastObjectRendered,c,b||!f);this.emit(b?"pointercancel":"pointerup"+f,j);if(h.pointerType==="mouse"||h.pointerType==="pen"){var k=h.button===2;this.emit(k?"rightup"+f:"mouseup"+f,j)}else h.pointerType==="touch"&&(this.emit(b?"touchcancel":"touchend"+f,j),this.releaseInteractionDataForPointerId(h.pointerId,i))}};g.prototype.onPointerCancel=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;this.onPointerComplete(a,!0,this.processPointerCancel)};g.prototype.processPointerCancel=function(a,b){var c=a.data,d=a.data.identifier;b.trackedPointers[d]!==void 0&&(delete b.trackedPointers[d],this.dispatchEvent(b,"pointercancel",a),c.pointerType==="touch"&&this.dispatchEvent(b,"touchcancel",a))};g.prototype.onPointerUp=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;this.onPointerComplete(a,!1,this.processPointerUp)};g.prototype.processPointerUp=function(a,b,c){var d=a.data,e=a.data.identifier,g=b.trackedPointers[e],h=d.pointerType==="touch",i=d.pointerType==="mouse"||d.pointerType==="pen",j=!1;if(i){d=d.button===2;var k=f["default"].FLAGS;k=d?k.RIGHT_DOWN:k.LEFT_DOWN;k=g!==void 0&&g.flags&k;c?(this.dispatchEvent(b,d?"rightup":"mouseup",a),k&&(this.dispatchEvent(b,d?"rightclick":"click",a),j=!0)):k&&this.dispatchEvent(b,d?"rightupoutside":"mouseupoutside",a);g&&(d?g.rightDown=!1:g.leftDown=!1)}c?(this.dispatchEvent(b,"pointerup",a),h&&this.dispatchEvent(b,"touchend",a),g&&((!i||j)&&this.dispatchEvent(b,"pointertap",a),h&&(this.dispatchEvent(b,"tap",a),g.over=!1))):g&&(this.dispatchEvent(b,"pointerupoutside",a),h&&this.dispatchEvent(b,"touchendoutside",a));g&&g.none&&delete b.trackedPointers[e]};g.prototype.onPointerMove=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;var b=this.normalizeToPointerData(a);(b[0].pointerType==="mouse"||b[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);var c=b.length;for(var d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e);f=this.configureInteractionEventForDOMEvent(this.eventData,e,f);f.data.originalEvent=a;var g=e.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(f,this.renderer._lastObjectRendered,this.processPointerMove,g);this.emit("pointermove",f);e.pointerType==="touch"&&this.emit("touchmove",f);(e.pointerType==="mouse"||e.pointerType==="pen")&&this.emit("mousemove",f)}b[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)};g.prototype.processPointerMove=function(a,b,c){var d=a.data,e=d.pointerType==="touch";d=d.pointerType==="mouse"||d.pointerType==="pen";d&&this.processPointerOverOut(a,b,c);(!this.moveWhenInside||c)&&(this.dispatchEvent(b,"pointermove",a),e&&this.dispatchEvent(b,"touchmove",a),d&&this.dispatchEvent(b,"mousemove",a))};g.prototype.onPointerOut=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;a=this.normalizeToPointerData(a);a=a[0];a.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var b=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,b);c.data.originalEvent=a;this.processInteractive(c,this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",c);a.pointerType==="mouse"||a.pointerType==="pen"?this.emit("mouseout",c):this.releaseInteractionDataForPointerId(b.identifier)};g.prototype.processPointerOverOut=function(a,b,c){var d=a.data,e=a.data.identifier;d=d.pointerType==="mouse"||d.pointerType==="pen";var g=b.trackedPointers[e];c&&!g&&(g=b.trackedPointers[e]=new f["default"](e));if(g===void 0)return;c&&this.mouseOverRenderer?(g.over||(g.over=!0,this.dispatchEvent(b,"pointerover",a),d&&this.dispatchEvent(b,"mouseover",a)),d&&this.cursor===null&&(this.cursor=b.cursor)):g.over&&(g.over=!1,this.dispatchEvent(b,"pointerout",this.eventData),d&&this.dispatchEvent(b,"mouseout",a),g.none&&delete b.trackedPointers[e])};g.prototype.onPointerOver=function(a){a=this.normalizeToPointerData(a);a=a[0];var b=this.getInteractionDataForPointerId(a);b=this.configureInteractionEventForDOMEvent(this.eventData,a,b);b.data.originalEvent=a;a.pointerType==="mouse"&&(this.mouseOverRenderer=!0);this.emit("pointerover",b);(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mouseover",b)};g.prototype.getInteractionDataForPointerId=function(a){var b=a.pointerId,c=void 0;b===m||a.pointerType==="mouse"?c=this.mouse:this.activeInteractionData[b]?c=this.activeInteractionData[b]:(c=this.interactionDataPool.pop()||new d["default"](),c.identifier=b,this.activeInteractionData[b]=c);c.copyEvent(a);return c};g.prototype.releaseInteractionDataForPointerId=function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b.reset(),this.interactionDataPool.push(b))};g.prototype.configureInteractionEventForDOMEvent=function(a,b,c){a.data=c;this.mapPositionToPoint(c.global,b.clientX,b.clientY);navigator.isCocoonJS&&b.pointerType==="touch"&&(c.global.x=c.global.x/this.resolution,c.global.y=c.global.y/this.resolution);b.pointerType==="touch"&&(b.globalX=c.global.x,b.globalY=c.global.y);c.originalEvent=b;a.reset();return a};g.prototype.normalizeToPointerData=function(a){var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var c=0,d=a.changedTouches.length;c<d;c++){var e=a.changedTouches[c];typeof e.button==="undefined"&&(e.button=a.touches.length?1:0);typeof e.buttons==="undefined"&&(e.buttons=a.touches.length?1:0);typeof e.isPrimary==="undefined"&&(e.isPrimary=a.touches.length===1&&a.type==="touchstart");typeof e.width==="undefined"&&(e.width=e.radiusX||1);typeof e.height==="undefined"&&(e.height=e.radiusY||1);typeof e.tiltX==="undefined"&&(e.tiltX=0);typeof e.tiltY==="undefined"&&(e.tiltY=0);typeof e.pointerType==="undefined"&&(e.pointerType="touch");typeof e.pointerId==="undefined"&&(e.pointerId=e.identifier||0);typeof e.pressure==="undefined"&&(e.pressure=e.force||.5);e.twist=0;e.tangentialPressure=0;typeof e.layerX==="undefined"&&(e.layerX=e.offsetX=e.clientX);typeof e.layerY==="undefined"&&(e.layerY=e.offsetY=e.clientY);e.isNormalized=!0;b.push(e)}else a instanceof MouseEvent&&(!this.supportsPointerEvents||!(a instanceof window.PointerEvent))?(typeof a.isPrimary==="undefined"&&(a.isPrimary=!0),typeof a.width==="undefined"&&(a.width=1),typeof a.height==="undefined"&&(a.height=1),typeof a.tiltX==="undefined"&&(a.tiltX=0),typeof a.tiltY==="undefined"&&(a.tiltY=0),typeof a.pointerType==="undefined"&&(a.pointerType="mouse"),typeof a.pointerId==="undefined"&&(a.pointerId=m),typeof a.pressure==="undefined"&&(a.pressure=.5),a.twist=0,a.tangentialPressure=0,a.isNormalized=!0,b.push(a)):b.push(a);return b};g.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null};return g}(h["default"]);Vk["default"]=b;c.WebGLRenderer.registerPlugin("interaction",b);c.CanvasRenderer.registerPlugin("interaction",b)}var Yk=!1;function Zk(){Yk||(Yk=!0,Xk());return Wk.exports}var $k={},al={exports:$k};function bl(){$k.__esModule=!0;var a=Fk();Object.defineProperty($k,"InteractionData",{enumerable:!0,get:function(){return f(a)["default"]}});var b=Zk();Object.defineProperty($k,"InteractionManager",{enumerable:!0,get:function(){return f(b)["default"]}});var c=Uk();Object.defineProperty($k,"interactiveTarget",{enumerable:!0,get:function(){return f(c)["default"]}});var d=Pk();Object.defineProperty($k,"InteractionTrackingData",{enumerable:!0,get:function(){return f(d)["default"]}});var e=Kk();Object.defineProperty($k,"InteractionEvent",{enumerable:!0,get:function(){return f(e)["default"]}});function f(a){return a&&a.__esModule?a:{"default":a}}}var cl=!1;function dl(){cl||(cl=!0,bl());return al.exports}var el={},fl={exports:el};function gl(){el.__esModule=!0;el.parse=f;el["default"]=function(){return function(a,d){if(!a.data||a.type!==c.Resource.TYPE.XML){d();return}if(a.data.getElementsByTagName("page").length===0||a.data.getElementsByTagName("info").length===0||a.data.getElementsByTagName("info")[0].getAttribute("face")===null){d();return}var e=a.isDataUrl?"":b.dirname(a.url);a.isDataUrl&&(e==="."&&(e=""),this.baseUrl&&e&&(this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(e+="/")));e=e.replace(this.baseUrl,"");e&&e.charAt(e.length-1)!=="/"&&(e+="/");var g=a.data.getElementsByTagName("page"),h={},i=function(b){h[b.metadata.pageFile]=b.texture,Object.keys(h).length===g.length&&(f(a,h),d())};for(var j=0;j<g.length;++j){var k=g[j].getAttribute("file"),l=e+k,m=!1;for(var n in this.resources)if(this.resources[n].url===l){this.resources[n].metadata.pageFile=k;i(this.resources[n]);m=!0;break}if(!m){n={crossOrigin:a.crossOrigin,loadType:c.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:k},a.metadata.imageMetadata),parentResource:a};this.add(l,n,i)}}}};var a={},b=e(a),c=n(),d=uj();function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){a.bitmapFont=d.BitmapText.registerFont(a.data,b)}}var hl=!1;function il(){hl||(hl=!0,gl());return fl.exports}var jl={},kl={exports:jl};function ll(){jl.__esModule=!0;jl["default"]=function(){return function(b,c){var e=b.name+"_image";if(!b.data||b.type!==a.Resource.TYPE.JSON||!b.data.frames||this.resources[e]){c();return}var g={crossOrigin:b.crossOrigin,metadata:b.metadata.imageMetadata,parentResource:b},h=f(b,this.baseUrl);this.add(e,h,g,function(a){if(a.error){c(a.error);return}var e=new d.Spritesheet(a.texture.baseTexture,b.data,b.url);e.parse(function(){b.spritesheet=e,b.textures=e.textures,c()})})}};jl.getResourcePath=f;var a=n(),b={},c=e(b),d=V();function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){return a.isDataUrl?a.data.meta.image:c["default"].resolve(a.url.replace(b,""),a.data.meta.image)}}var ml=!1;function nl(){ml||(ml=!0,ll());return kl.exports}var ol={},pl={exports:ol};function ql(){ol.__esModule=!0;ol["default"]=function(){return function(b,d){b.data&&b.type===a.Resource.TYPE.IMAGE&&(b.texture=c["default"].fromLoader(b.data,b.url,b.name)),d()}};var a=n(),b=T(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}}var rl=!1;function sl(){rl||(rl=!0,ql());return pl.exports}var tl={},ul={exports:tl};function vl(){tl.__esModule=!0;var a=n();a=g(a);var b=n("/lib/middlewares/parsing/blob"),c=i(),d=g(c);c=sl();c=g(c);var e=nl();e=g(e);var f=il();g=g(f);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}f=function(a){k(b,a);function b(c,e){h(this,b);var f=j(this,a.call(this,c,e));d["default"].call(f);for(var c=0;c<b._pixiMiddleware.length;++c)f.use(b._pixiMiddleware[c]());f.onStart.add(function(a){return f.emit("start",a)});f.onProgress.add(function(a,b){return f.emit("progress",a,b)});f.onError.add(function(a,b,c){return f.emit("error",a,b,c)});f.onLoad.add(function(a,b){return f.emit("load",a,b)});f.onComplete.add(function(a,b){return f.emit("complete",a,b)});return f}b.addPixiMiddleware=function(a){b._pixiMiddleware.push(a)};b.prototype.destroy=function(){this.removeAllListeners(),this.reset()};return b}(a["default"]);tl["default"]=f;for(var l in d["default"].prototype)f.prototype[l]=d["default"].prototype[l];f._pixiMiddleware=[b.blobMiddlewareFactory,c["default"],e["default"],g["default"]];l=a["default"].Resource;l.setExtensionXhrType("fnt",l.XHR_RESPONSE_TYPE.DOCUMENT)}var wl=!1;function xl(){wl||(wl=!0,vl());return ul.exports}var Y={},yl={exports:Y};function zl(){Y.__esModule=!0;Y.shared=Y.Resource=Y.textureParser=Y.getResourcePath=Y.spritesheetParser=Y.parseBitmapFontData=Y.bitmapFontParser=Y.Loader=void 0;var a=il();Object.defineProperty(Y,"bitmapFontParser",{enumerable:!0,get:function(){return h(a)["default"]}});Object.defineProperty(Y,"parseBitmapFontData",{enumerable:!0,get:function(){return a.parse}});var b=nl();Object.defineProperty(Y,"spritesheetParser",{enumerable:!0,get:function(){return h(b)["default"]}});Object.defineProperty(Y,"getResourcePath",{enumerable:!0,get:function(){return b.getResourcePath}});var c=sl();Object.defineProperty(Y,"textureParser",{enumerable:!0,get:function(){return h(c)["default"]}});var d=n();Object.defineProperty(Y,"Resource",{enumerable:!0,get:function(){return d.Resource}});var e=$h();e=h(e);var f=xl(),g=h(f);function h(a){return a&&a.__esModule?a:{"default":a}}Y.Loader=g["default"];var i=new g["default"]();i.destroy=function(){};Y.shared=i;f=e["default"].prototype;f._loader=null;Object.defineProperty(f,"loader",{get:function(){if(!this._loader){var a=this._options.sharedLoader;this._loader=a?i:new g["default"]()}return this._loader}});f._parentDestroy=f.destroy;f.destroy=function(a,b){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(a,b)}}var Al=!1;function Bl(){Al||(Al=!0,zl());return yl.exports}var Cl={},Dl={exports:Cl};function El(){Cl.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=f(b);f=T();var d=e(f);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function i(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var j=new c.Point(),k=new c.Polygon();b=function(b){i(e,b);function e(a,f,i,j,k){g(this,e);var l=h(this,b.call(this));l._texture=a||d["default"].EMPTY;l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]);l.vertices=f||new Float32Array([0,0,100,0,100,100,0,100]);l.indices=j||new Uint16Array([0,1,3,2]);l.dirty=0;l.indexDirty=0;l.vertexDirty=0;l.autoUpdate=!0;l.blendMode=c.BLEND_MODES.NORMAL;l.canvasPadding=c.settings.MESH_CANVAS_PADDING;l.drawMode=k||e.DRAW_MODES.TRIANGLE_MESH;l.shader=null;l.tintRgb=new Float32Array([1,1,1]);l._glDatas={};l._uvTransform=new c.TextureMatrix(l._texture);l.uploadUvTransform=!1;l.pluginName="mesh";return l}e.prototype._renderWebGL=function(a){this.refresh(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function(a){this.refresh(),a.plugins[this.pluginName].render(this)};e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()};e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)};e.prototype.refresh=function(a){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(a)&&this._refresh()};e.prototype._refresh=function(){};e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};e.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,j);a=this.vertices;var b=k.points,c=this.indices,d=this.indices.length,f=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1;for(var g=0;g+2<d;g+=f){var h=c[g]*2,i=c[g+1]*2,l=c[g+2]*2;b[0]=a[h];b[1]=a[h+1];b[2]=a[i];b[3]=a[i+1];b[4]=a[l];b[5]=a[l+1];if(k.contains(j.x,j.y))return!0}return!1};e.prototype.destroy=function(a){for(var c in this._glDatas){var d=this._glDatas[c];d.destroy?d.destroy():(d.vertexBuffer&&(d.vertexBuffer.destroy(),d.vertexBuffer=null),d.indexBuffer&&(d.indexBuffer.destroy(),d.indexBuffer=null),d.uvBuffer&&(d.uvBuffer.destroy(),d.uvBuffer=null),d.vao&&(d.vao.destroy(),d.vao=null))}this._glDatas=null;b.prototype.destroy.call(this,a)};a(e,[{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture===a)return;this._texture=a;a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this))}},{key:"tint",get:function(){return c.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=c.utils.hex2rgb(a,this.tintRgb)}}]);return e}(c.Container);Cl["default"]=b;b.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}}var Fl=!1;function Gl(){Fl||(Fl=!0,El());return Dl.exports}var Hl={},Il={exports:Hl};function Jl(){Hl.__esModule=!0;var a=V(),b=f(a);f=m();var c=e(f);a=Gl();var d=e(a);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function i(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var j=b.Matrix.IDENTITY;f=function(a){i(e,a);function e(b){g(this,e);b=h(this,a.call(this,b));b.shader=null;return b}e.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")};e.prototype.render=function(a){var e=this.renderer,f=e.gl,g=a._texture;if(!g.valid)return;var h=a._glDatas[e.CONTEXT_UID];h||(e.bindVao(null),h={shader:this.shader,vertexBuffer:c["default"].GLBuffer.createVertexBuffer(f,a.vertices,f.STREAM_DRAW),uvBuffer:c["default"].GLBuffer.createVertexBuffer(f,a.uvs,f.STREAM_DRAW),indexBuffer:c["default"].GLBuffer.createIndexBuffer(f,a.indices,f.STATIC_DRAW),vao:null,dirty:a.dirty,indexDirty:a.indexDirty,vertexDirty:a.vertexDirty},h.vao=new c["default"].VertexArrayObject(f).addIndex(h.indexBuffer).addAttribute(h.vertexBuffer,h.shader.attributes.aVertexPosition,f.FLOAT,!1,2*4,0).addAttribute(h.uvBuffer,h.shader.attributes.aTextureCoord,f.FLOAT,!1,2*4,0),a._glDatas[e.CONTEXT_UID]=h);e.bindVao(h.vao);a.dirty!==h.dirty&&(h.dirty=a.dirty,h.uvBuffer.upload(a.uvs));a.indexDirty!==h.indexDirty&&(h.indexDirty=a.indexDirty,h.indexBuffer.upload(a.indices));a.vertexDirty!==h.vertexDirty&&(h.vertexDirty=a.vertexDirty,h.vertexBuffer.upload(a.vertices));e.bindShader(h.shader);h.shader.uniforms.uSampler=e.bindTexture(g);e.state.setBlendMode(b.utils.correctBlendMode(a.blendMode,g.baseTexture.premultipliedAlpha));h.shader.uniforms.uTransform&&(a.uploadUvTransform?h.shader.uniforms.uTransform=a._uvTransform.mapCoord.toArray(!0):h.shader.uniforms.uTransform=j.toArray(!0));h.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);h.shader.uniforms.uColor=b.utils.premultiplyRgba(a.tintRgb,a.worldAlpha,h.shader.uniforms.uColor,g.baseTexture.premultipliedAlpha);e=a.drawMode===d["default"].DRAW_MODES.TRIANGLE_MESH?f.TRIANGLE_STRIP:f.TRIANGLES;h.vao.draw(e,a.indices.length,0)};return e}(b.ObjectRenderer);Hl["default"]=f;b.WebGLRenderer.registerPlugin("mesh",f)}var Kl=!1;function Ll(){Kl||(Kl=!0,Jl());return Il.exports}var Ml={},Nl={exports:Ml};function Ol(){Ml.__esModule=!0;var a=V();d=d(a);a=Gl();var b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){function a(b){e(this,a),this.renderer=b}a.prototype.render=function(a){var c=this.renderer,d=c.context,e=a.worldTransform,f=c.resolution;c.roundPixels?d.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f|0,e.ty*f|0):d.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f,e.ty*f);c.context.globalAlpha=a.worldAlpha;c.setBlendMode(a.blendMode);a.drawMode===b["default"].DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(a):this._renderTriangles(a)};a.prototype._renderTriangleMesh=function(a){var b=a.vertices.length/2;for(var c=0;c<b-2;c++){var d=c*2;this._renderDrawTriangle(a,d,d+2,d+4)}};a.prototype._renderTriangles=function(a){var b=a.indices,c=b.length;for(var d=0;d<c;d+=3){var e=b[d]*2,f=b[d+1]*2,g=b[d+2]*2;this._renderDrawTriangle(a,e,f,g)}};a.prototype._renderDrawTriangle=function(a,b,c,d){var e=this.renderer.context,f=a.uvs,g=a.vertices,h=a._texture;if(!h.valid)return;h=h.baseTexture;var i=h.source,j=h.width,k=h.height,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0;if(a.uploadUvTransform){var r=a._uvTransform.mapCoord;l=(f[b]*r.a+f[b+1]*r.c+r.tx)*h.width;m=(f[c]*r.a+f[c+1]*r.c+r.tx)*h.width;n=(f[d]*r.a+f[d+1]*r.c+r.tx)*h.width;o=(f[b]*r.b+f[b+1]*r.d+r.ty)*h.height;p=(f[c]*r.b+f[c+1]*r.d+r.ty)*h.height;q=(f[d]*r.b+f[d+1]*r.d+r.ty)*h.height}else l=f[b]*h.width,m=f[c]*h.width,n=f[d]*h.width,o=f[b+1]*h.height,p=f[c+1]*h.height,q=f[d+1]*h.height;r=g[b];f=g[c];var s=g[d];b=g[b+1];c=g[c+1];g=g[d+1];d=a.canvasPadding/this.renderer.resolution;if(d>0){var t=d/Math.abs(a.worldTransform.a);d=d/Math.abs(a.worldTransform.d);a=(r+f+s)/3;var u=(b+c+g)/3,v=r-a,w=b-u,x=Math.sqrt(v*v+w*w);r=a+v/x*(x+t);b=u+w/x*(x+d);v=f-a;w=c-u;x=Math.sqrt(v*v+w*w);f=a+v/x*(x+t);c=u+w/x*(x+d);v=s-a;w=g-u;x=Math.sqrt(v*v+w*w);s=a+v/x*(x+t);g=u+w/x*(x+d)}e.save();e.beginPath();e.moveTo(r,b);e.lineTo(f,c);e.lineTo(s,g);e.closePath();e.clip();a=l*p+o*n+m*q-p*n-o*m-l*q;v=r*p+o*s+f*q-p*s-o*f-r*q;t=l*f+r*n+m*s-f*n-r*m-l*s;u=l*p*s+o*f*n+r*m*q-r*p*n-o*m*s-l*f*q;w=b*p+o*g+c*q-p*g-o*c-b*q;x=l*c+b*n+m*g-c*n-b*m-l*g;d=l*p*g+o*c*n+b*m*q-b*p*n-o*m*g-l*c*q;e.transform(v/a,w/a,t/a,x/a,u/a,d/a);e.drawImage(i,0,0,j*h.resolution,k*h.resolution,0,0,j,k);e.restore();this.renderer.invalidateBlendMode()};a.prototype.renderMeshFlat=function(a){var b=this.renderer.context;a=a.vertices;var c=a.length/2;b.beginPath();for(var d=1;d<c-2;++d){var e=d*2,f=a[e],g=a[e+1],h=a[e+2],i=a[e+3],j=a[e+4];e=a[e+5];b.moveTo(f,g);b.lineTo(h,i);b.lineTo(j,e)}b.fillStyle="#FF0000";b.fill();b.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();Ml["default"]=c;d.CanvasRenderer.registerPlugin("mesh",c)}var Pl=!1;function Ql(){Pl||(Pl=!0,Ol());return Nl.exports}var Rl={},Sl={exports:Rl};function Tl(){Rl.__esModule=!0;var a=Gl(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){f(c,a);function c(f,g,h){d(this,c);f=e(this,a.call(this,f));f._ready=!0;f.verticesX=g||10;f.verticesY=h||10;f.drawMode=b["default"].DRAW_MODES.TRIANGLES;f.refresh();return f}c.prototype._refresh=function(){var a=this._texture,b=this.verticesX*this.verticesY,c=[],d=[],e=[],f=[],g=this.verticesX-1,h=this.verticesY-1,i=a.width/g;a=a.height/h;for(var j=0;j<b;j++){var k=j%this.verticesX,l=j/this.verticesX|0;c.push(k*i,l*a);e.push(k/g,l/h)}k=g*h;for(var l=0;l<k;l++){j=l%g;i=l/g|0;a=i*this.verticesX+j;b=i*this.verticesX+j+1;h=(i+1)*this.verticesX+j;i=(i+1)*this.verticesX+j+1;f.push(a,b,h);f.push(b,i,h)}this.vertices=new Float32Array(c);this.uvs=new Float32Array(e);this.colors=new Float32Array(d);this.indices=new Uint16Array(f);this.dirty++;this.indexDirty++;this.multiplyUvs()};c.prototype._onTextureUpdate=function(){b["default"].prototype._onTextureUpdate.call(this),this._ready&&this.refresh()};return c}(b["default"]);Rl["default"]=c}var Ul=!1;function Vl(){Ul||(Ul=!0,Tl());return Sl.exports}var Wl={},Xl={exports:Wl};function Yl(){Wl.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Vl();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=10;b=function(b){f(c,b);function c(a,f,h,i,j){d(this,c);var k=e(this,b.call(this,a,4,4));k._origWidth=a.orig.width;k._origHeight=a.orig.height;k._width=k._origWidth;k._height=k._origHeight;k._leftWidth=typeof f!=="undefined"?f:g;k._rightWidth=typeof i!=="undefined"?i:g;k._topHeight=typeof h!=="undefined"?h:g;k._bottomHeight=typeof j!=="undefined"?j:g;k.refresh(!0);return k}c.prototype.updateHorizontalVertices=function(){var a=this.vertices,b=this._topHeight+this._bottomHeight;b=this._height>b?1:this._height/b;a[9]=a[11]=a[13]=a[15]=this._topHeight*b;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight*b;a[25]=a[27]=a[29]=a[31]=this._height};c.prototype.updateVerticalVertices=function(){var a=this.vertices,b=this._leftWidth+this._rightWidth;b=this._width>b?1:this._width/b;a[2]=a[10]=a[18]=a[26]=this._leftWidth*b;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth*b;a[6]=a[14]=a[22]=a[30]=this._width};c.prototype._renderCanvas=function(a){var b=a.context;b.globalAlpha=this.worldAlpha;a.setBlendMode(this.blendMode);var c=this.worldTransform,d=a.resolution;a.roundPixels?b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d|0,c.ty*d|0):b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d,c.ty*d);a=this._texture.baseTexture;c=a.source;d=a.width*a.resolution;a=a.height*a.resolution;this.drawSegment(b,c,d,a,0,1,10,11);this.drawSegment(b,c,d,a,2,3,12,13);this.drawSegment(b,c,d,a,4,5,14,15);this.drawSegment(b,c,d,a,8,9,18,19);this.drawSegment(b,c,d,a,10,11,20,21);this.drawSegment(b,c,d,a,12,13,22,23);this.drawSegment(b,c,d,a,16,17,26,27);this.drawSegment(b,c,d,a,18,19,28,29);this.drawSegment(b,c,d,a,20,21,30,31)};c.prototype.drawSegment=function(a,b,c,d,e,f,g,h){var i=this.uvs,j=this.vertices,k=(i[g]-i[e])*c,l=(i[h]-i[f])*d;g=j[g]-j[e];h=j[h]-j[f];k<1&&(k=1);l<1&&(l=1);g<1&&(g=1);h<1&&(h=1);a.drawImage(b,i[e]*c,i[f]*d,k,l,j[e],j[f],g,h)};c.prototype._refresh=function(){b.prototype._refresh.call(this);var a=this.uvs,c=this._texture;this._origWidth=c.orig.width;this._origHeight=c.orig.height;c=1/this._origWidth;var d=1/this._origHeight;a[0]=a[8]=a[16]=a[24]=0;a[1]=a[3]=a[5]=a[7]=0;a[6]=a[14]=a[22]=a[30]=1;a[25]=a[27]=a[29]=a[31]=1;a[2]=a[10]=a[18]=a[26]=c*this._leftWidth;a[4]=a[12]=a[20]=a[28]=1-c*this._rightWidth;a[9]=a[11]=a[13]=a[15]=d*this._topHeight;a[17]=a[19]=a[21]=a[23]=1-d*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.dirty++;this.multiplyUvs()};a(c,[{key:"width",get:function(){return this._width},set:function(a){this._width=a,this._refresh()}},{key:"height",get:function(){return this._height},set:function(a){this._height=a,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(a){this._leftWidth=a,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(a){this._rightWidth=a,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(a){this._topHeight=a,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a,this._refresh()}}]);return c}(c["default"]);Wl["default"]=b}var Zl=!1;function $l(){Zl||(Zl=!0,Yl());return Xl.exports}var am={},bm={exports:am};function cm(){am.__esModule=!0;var a=Gl();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(e,f){c(this,b);e=d(this,a.call(this,e));e.points=f;e.vertices=new Float32Array(f.length*4);e.uvs=new Float32Array(f.length*4);e.colors=new Float32Array(f.length*2);e.indices=new Uint16Array(f.length*2);e.autoUpdate=!0;e.refresh();return e}b.prototype._refresh=function(){var a=this.points;if(a.length<1||!this._texture._uvs)return;this.vertices.length/4!==a.length&&(this.vertices=new Float32Array(a.length*4),this.uvs=new Float32Array(a.length*4),this.colors=new Float32Array(a.length*2),this.indices=new Uint16Array(a.length*2));var b=this.uvs,c=this.indices,d=this.colors;b[0]=0;b[1]=0;b[2]=0;b[3]=1;d[0]=1;d[1]=1;c[0]=0;c[1]=1;a=a.length;for(var e=1;e<a;e++){var f=e*4,g=e/(a-1);b[f]=g;b[f+1]=0;b[f+2]=g;b[f+3]=1;f=e*2;d[f]=1;d[f+1]=1;f=e*2;c[f]=f;c[f+1]=f+1}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices()};b.prototype.refreshVertices=function(){var a=this.points;if(a.length<1)return;var b=a[0],c,d=0,e=0,f=this.vertices,g=a.length;for(var h=0;h<g;h++){var i=a[h],j=h*4;h<a.length-1?c=a[h+1]:c=i;e=-(c.x-b.x);d=c.y-b.y;c=Math.sqrt(d*d+e*e);var k=this._texture.height/2;d/=c;e/=c;d*=k;e*=k;f[j]=i.x+d;f[j+1]=i.y+e;f[j+2]=i.x-d;f[j+3]=i.y-e;b=i}};b.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()};return b}(b["default"]);am["default"]=a}var dm=!1;function em(){dm||(dm=!0,cm());return bm.exports}var Z={},fm={exports:Z};function gm(){Z.__esModule=!0;var a=Gl();Object.defineProperty(Z,"Mesh",{enumerable:!0,get:function(){return g(a)["default"]}});var b=Ll();Object.defineProperty(Z,"MeshRenderer",{enumerable:!0,get:function(){return g(b)["default"]}});var c=Ql();Object.defineProperty(Z,"CanvasMeshRenderer",{enumerable:!0,get:function(){return g(c)["default"]}});var d=Vl();Object.defineProperty(Z,"Plane",{enumerable:!0,get:function(){return g(d)["default"]}});var e=$l();Object.defineProperty(Z,"NineSlicePlane",{enumerable:!0,get:function(){return g(e)["default"]}});var f=em();Object.defineProperty(Z,"Rope",{enumerable:!0,get:function(){return g(f)["default"]}});function g(a){return a&&a.__esModule?a:{"default":a}}}var hm=!1;function im(){hm||(hm=!0,gm());return fm.exports}var jm={},km={exports:jm};function lm(){jm.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=e(b),d=S();function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function h(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e=function(b){h(e,b);function e(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500,d=arguments[1],h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16384,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;f(this,e);var j=g(this,b.call(this)),k=16384;h>k&&(h=k);h>a&&(h=a);j._properties=[!1,!0,!1,!1,!1];j._maxSize=a;j._batchSize=h;j._glBuffers={};j._bufferUpdateIDs=[];j._updateID=0;j.interactiveChildren=!1;j.blendMode=c.BLEND_MODES.NORMAL;j.autoResize=i;j.roundPixels=!0;j.baseTexture=null;j.setProperties(d);j._tint=0;j.tintRgb=new Float32Array(4);j.tint=16777215;return j}e.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])};e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};e.prototype.renderWebGL=function(a){var b=this;if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)return;this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return b.onChildrenChange(0)}));a.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)};e.prototype.onChildrenChange=function(a){a=Math.floor(a/this._batchSize);while(this._bufferUpdateIDs.length<a)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[a]=++this._updateID};e.prototype.renderCanvas=function(a){if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)return;var b=a.context,c=this.worldTransform,d=!0,e,f,g,h;a.setBlendMode(this.blendMode);b.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var i=0;i<this.children.length;++i){var j=this.children[i];if(!j.visible)continue;var k=j._texture.frame;b.globalAlpha=this.worldAlpha*j.alpha;if(j.rotation%(Math.PI*2)===0)d&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx*a.resolution,c.ty*a.resolution),d=!1),e=j.anchor.x*(-k.width*j.scale.x)+j.position.x+.5,f=j.anchor.y*(-k.height*j.scale.y)+j.position.y+.5,g=k.width*j.scale.x,h=k.height*j.scale.y;else{d||(d=!0);j.displayObjectUpdateTransform();var l=j.worldTransform;a.roundPixels?b.setTransform(l.a,l.b,l.c,l.d,l.tx*a.resolution|0,l.ty*a.resolution|0):b.setTransform(l.a,l.b,l.c,l.d,l.tx*a.resolution,l.ty*a.resolution);e=j.anchor.x*-k.width+.5;f=j.anchor.y*-k.height+.5;g=k.width;h=k.height}l=j._texture.baseTexture.resolution;b.drawImage(j._texture.baseTexture.source,k.x*l,k.y*l,k.width*l,k.height*l,e*a.resolution,f*a.resolution,g*a.resolution,h*a.resolution)}};e.prototype.destroy=function(a){b.prototype.destroy.call(this,a);if(this._buffers)for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._properties=null;this._buffers=null;this._bufferUpdateIDs=null};a(e,[{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a,d.hex2rgb(a,this.tintRgb)}}]);return e}(c.Container);jm["default"]=e}var mm=!1;function nm(){mm||(mm=!0,lm());return km.exports}var om={},pm={exports:om};function qm(){om.__esModule=!0;var a=Ye();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(e){c(this,b);return d(this,a.call(this,e,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return b}(b["default"]);om["default"]=a}var rm=!1;function sm(){rm||(rm=!0,qm());return pm.exports}var tm={},um={exports:tm};function vm(){tm.__esModule=!0;var a=m(),b=d(a);a=Oe();var c=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(b,c,d,f){e(this,a);this.gl=b;this.size=f;this.dynamicProperties=[];this.staticProperties=[];for(var b=0;b<c.length;++b){f=c[b];f={attribute:f.attribute,size:f.size,uploadFunction:f.uploadFunction,unsignedByte:f.unsignedByte,offset:f.offset};d[b]?this.dynamicProperties.push(f):this.staticProperties.push(f)}this.staticStride=0;this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null;this.dynamicStride=0;this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this._updateID=0;this.initBuffers()}a.prototype.initBuffers=function(){var a=this.gl,d=0;this.indices=c["default"](this.size);this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.dynamicStride=0;for(var e=0;e<this.dynamicProperties.length;++e){var f=this.dynamicProperties[e];f.offset=d;d+=f.size;this.dynamicStride+=f.size}f=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(f);this.dynamicDataUint32=new Uint32Array(f);this.dynamicBuffer=b["default"].GLBuffer.createVertexBuffer(a,f,a.STREAM_DRAW);d=0;this.staticStride=0;for(var e=0;e<this.staticProperties.length;++e){f=this.staticProperties[e];f.offset=d;d+=f.size;this.staticStride+=f.size}f=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(f);this.staticDataUint32=new Uint32Array(f);this.staticBuffer=b["default"].GLBuffer.createVertexBuffer(a,f,a.STATIC_DRAW);this.vao=new b["default"].VertexArrayObject(a).addIndex(this.indexBuffer);for(var e=0;e<this.dynamicProperties.length;++e){d=this.dynamicProperties[e];d.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,d.attribute,a.UNSIGNED_BYTE,!0,this.dynamicStride*4,d.offset*4):this.vao.addAttribute(this.dynamicBuffer,d.attribute,a.FLOAT,!1,this.dynamicStride*4,d.offset*4)}for(var f=0;f<this.staticProperties.length;++f){d=this.staticProperties[f];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,a.UNSIGNED_BYTE,!0,this.staticStride*4,d.offset*4):this.vao.addAttribute(this.staticBuffer,d.attribute,a.FLOAT,!1,this.staticStride*4,d.offset*4)}};a.prototype.uploadDynamic=function(a,b,c){for(var d=0;d<this.dynamicProperties.length;d++){var e=this.dynamicProperties[d];e.uploadFunction(a,b,c,e.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer.upload()};a.prototype.uploadStatic=function(a,b,c){for(var d=0;d<this.staticProperties.length;d++){var e=this.staticProperties[d];e.uploadFunction(a,b,c,e.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,e.offset)}this.staticBuffer.upload()};a.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null};return a}();tm["default"]=d}var wm=!1;function xm(){wm||(wm=!0,vm());return um.exports}var ym={},zm={exports:ym};function Am(){ym.__esModule=!0;var a=V(),b=g(a);g=sm();var c=f(g);a=xm();var d=f(a),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(a){j(f,a);function f(c){h(this,f);c=i(this,a.call(this,c));c.shader=null;c.indexBuffer=null;c.properties=null;c.tempMatrix=new b.Matrix();c.CONTEXT_UID=0;return c}f.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new c["default"](a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]};f.prototype.start=function(){this.renderer.bindShader(this.shader)};f.prototype.render=function(a){var c=a.children,d=a._maxSize,e=a._batchSize,f=this.renderer,g=c.length;if(g===0)return;else g>d&&(g=d);d=a._glBuffers[f.CONTEXT_UID];d||(d=a._glBuffers[f.CONTEXT_UID]=this.generateBuffers(a));var h=c[0]._texture.baseTexture;this.renderer.setBlendMode(b.utils.correctBlendMode(a.blendMode,h.premultipliedAlpha));var i=f.gl,j=a.worldTransform.copy(this.tempMatrix);j.prepend(f._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=j.toArray(!0);this.shader.uniforms.uColor=b.utils.premultiplyRgba(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,h.premultipliedAlpha);this.shader.uniforms.uSampler=f.bindTexture(h);j=!1;for(var h=0,k=0;h<g;h+=e,k+=1){var l=g-h;l>e&&(l=e);if(k>=d.length){if(!a.autoResize)break;d.push(this._generateOneMoreBuffer(a))}var m=d[k];m.uploadDynamic(c,h,l);var n=a._bufferUpdateIDs[k]||0;j=j||m._updateID<n;j&&(m._updateID=a._updateID,m.uploadStatic(c,h,l));f.bindVao(m.vao);m.vao.draw(i.TRIANGLES,l*6)}};f.prototype.generateBuffers=function(a){var b=this.renderer.gl,c=[],e=a._maxSize,f=a._batchSize;a=a._properties;for(var g=0;g<e;g+=f)c.push(new d["default"](b,this.properties,a,f));return c};f.prototype._generateOneMoreBuffer=function(a){var b=this.renderer.gl,c=a._batchSize;a=a._properties;return new d["default"](b,this.properties,a,c)};f.prototype.uploadVertices=function(a,b,c,d,e,f){var g,h,i;for(var j=0;j<c;++j){var k=a[b+j],l=k._texture,m=k.scale.x,n=k.scale.y,o=l.trim;l=l.orig;o?(h=o.x-k.anchor.x*l.width,g=h+o.width,i=o.y-k.anchor.y*l.height,o=i+o.height):(g=l.width*(1-k.anchor.x),h=l.width*-k.anchor.x,o=l.height*(1-k.anchor.y),i=l.height*-k.anchor.y);d[f]=h*m;d[f+1]=i*n;d[f+e]=g*m;d[f+e+1]=i*n;d[f+e*2]=g*m;d[f+e*2+1]=o*n;d[f+e*3]=h*m;d[f+e*3+1]=o*n;f+=e*4}};f.prototype.uploadPosition=function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=a[b+g].position;d[f]=h.x;d[f+1]=h.y;d[f+e]=h.x;d[f+e+1]=h.y;d[f+e*2]=h.x;d[f+e*2+1]=h.y;d[f+e*3]=h.x;d[f+e*3+1]=h.y;f+=e*4}};f.prototype.uploadRotation=function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=a[b+g].rotation;d[f]=h;d[f+e]=h;d[f+e*2]=h;d[f+e*3]=h;f+=e*4}};f.prototype.uploadUvs=function(a,b,c,d,e,f){for(var g=0;g<c;++g){var h=a[b+g]._texture._uvs;h?(d[f]=h.x0,d[f+1]=h.y0,d[f+e]=h.x1,d[f+e+1]=h.y1,d[f+e*2]=h.x2,d[f+e*2+1]=h.y2,d[f+e*3]=h.x3,d[f+e*3+1]=h.y3,f+=e*4):(d[f]=0,d[f+1]=0,d[f+e]=0,d[f+e+1]=0,d[f+e*2]=0,d[f+e*2+1]=0,d[f+e*3]=0,d[f+e*3+1]=0,f+=e*4)}};f.prototype.uploadTint=function(a,b,c,d,f,g){for(var h=0;h<c;++h){var i=a[b+h],j=i._texture.baseTexture.premultipliedAlpha,k=i.alpha;j=k<1&&j?e.premultiplyTint(i._tintRGB,k):i._tintRGB+(k*255<<24);d[g]=j;d[g+f]=j;d[g+f*2]=j;d[g+f*3]=j;g+=f*4}};f.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),a.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null};return f}(b.ObjectRenderer);ym["default"]=g;b.WebGLRenderer.registerPlugin("particle",g)}var Bm=!1;function Cm(){Bm||(Bm=!0,Am());return zm.exports}var Dm={},Em={exports:Dm};function Fm(){Dm.__esModule=!0;var a=nm();Object.defineProperty(Dm,"ParticleContainer",{enumerable:!0,get:function(){return c(a)["default"]}});var b=Cm();Object.defineProperty(Dm,"ParticleRenderer",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var Gm=!1;function Hm(){Gm||(Gm=!0,Fm());return Em.exports}var Im={},Jm={exports:Im};function Km(){Im.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.maxItemsPerFrame=c,this.itemsLeft=0}b.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};b.prototype.allowedToUpload=function(){return this.itemsLeft-->0};return b}();Im["default"]=b}var Lm=!1;function Mm(){Lm||(Lm=!0,Km());return Jm.exports}var Nm={},Om={exports:Nm};function Pm(){Nm.__esModule=!0;var a=V(),b=e(a);e=Mm();var c=d(e);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var g=b.ticker.shared;b.settings.UPLOADS_PER_FRAME=4;a=function(){function a(d){var e=this;f(this,a);this.limiter=new c["default"](b.settings.UPLOADS_PER_FRAME);this.renderer=d;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){if(!e.queue)return;e.prepareItems()};this.registerFindHook(m);this.registerFindHook(n);this.registerFindHook(h);this.registerFindHook(i);this.registerFindHook(j);this.registerUploadHook(k);this.registerUploadHook(l)}a.prototype.upload=function(a,c){typeof a==="function"&&(c=a,a=null),a&&this.add(a),this.queue.length?(c&&this.completes.push(c),this.ticking||(this.ticking=!0,g.addOnce(this.tick,this,b.UPDATE_PRIORITY.UTILITY))):c&&c()};a.prototype.tick=function(){setTimeout(this.delayedTick,0)};a.prototype.prepareItems=function(){this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var a=this.queue[0],c=!1;if(a&&!a._destroyed)for(var d=0,e=this.uploadHooks.length;d<e;d++)if(this.uploadHooks[d](this.uploadHookHelper,a)){this.queue.shift();c=!0;break}c||this.queue.shift()}if(!this.queue.length){this.ticking=!1;d=this.completes.slice(0);this.completes.length=0;for(var a=0,e=d.length;a<e;a++)d[a]()}else g.addOnce(this.tick,this,b.UPDATE_PRIORITY.UTILITY)};a.prototype.registerFindHook=function(a){a&&this.addHooks.push(a);return this};a.prototype.registerUploadHook=function(a){a&&this.uploadHooks.push(a);return this};a.prototype.add=function(a){for(var c=0,d=this.addHooks.length;c<d;c++)if(this.addHooks[c](a,this.queue))break;if(a instanceof b.Container)for(var c=a.children.length-1;c>=0;c--)this.add(a.children[c]);return this};a.prototype.destroy=function(){this.ticking&&g.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};return a}();Nm["default"]=a;function h(a,c){var d=!1;if(a&&a._textures&&a._textures.length)for(var e=0;e<a._textures.length;e++)if(a._textures[e]instanceof b.Texture){var f=a._textures[e].baseTexture;c.indexOf(f)===-1&&(c.push(f),d=!0)}return d}function i(a,c){if(a instanceof b.BaseTexture){c.indexOf(a)===-1&&c.push(a);return!0}return!1}function j(a,c){if(a._texture&&a._texture instanceof b.Texture){a=a._texture.baseTexture;c.indexOf(a)===-1&&c.push(a);return!0}return!1}function k(a,c){if(c instanceof b.Text){c.updateText(!0);return!0}return!1}function l(a,c){if(c instanceof b.TextStyle){a=c.toFontString();b.TextMetrics.measureFont(a);return!0}return!1}function m(a,c){if(a instanceof b.Text){c.indexOf(a.style)===-1&&c.push(a.style);c.indexOf(a)===-1&&c.push(a);a=a._texture.baseTexture;c.indexOf(a)===-1&&c.push(a);return!0}return!1}function n(a,c){if(a instanceof b.TextStyle){c.indexOf(a)===-1&&c.push(a);return!0}return!1}}var Qm=!1;function Rm(){Qm||(Qm=!0,Pm());return Om.exports}var Sm={},Tm={exports:Sm};function Um(){Sm.__esModule=!0;var a=V(),b=d(a);d=Rm();a=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.uploadHookHelper=c.renderer;c.registerFindHook(j);c.registerUploadHook(h);c.registerUploadHook(i);return c}return b}(a["default"]);Sm["default"]=c;function h(a,c){if(c instanceof b.BaseTexture){c._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(c);return!0}return!1}function i(a,c){if(c instanceof b.Graphics){(c.dirty||c.clearDirty||!c._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(c);return!0}return!1}function j(a,c){if(a instanceof b.Graphics){c.push(a);return!0}return!1}b.WebGLRenderer.registerPlugin("prepare",c)}var Vm=!1;function Wm(){Vm||(Vm=!0,Um());return Tm.exports}var Xm={},Ym={exports:Xm};function Zm(){Xm.__esModule=!0;var a=V(),b=d(a);d=Rm();a=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=16;c=function(a){g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.uploadHookHelper=c;c.canvas=document.createElement("canvas");c.canvas.width=h;c.canvas.height=h;c.ctx=c.canvas.getContext("2d");c.registerUploadHook(i);return c}b.prototype.destroy=function(){a.prototype.destroy.call(this),this.ctx=null,this.canvas=null};return b}(a["default"]);Xm["default"]=c;function i(a,c){if(c instanceof b.BaseTexture){c=c.source;var d=c.width===0?a.canvas.width:Math.min(a.canvas.width,c.width),e=c.height===0?a.canvas.height:Math.min(a.canvas.height,c.height);a.ctx.drawImage(c,0,0,d,e,0,0,a.canvas.width,a.canvas.height);return!0}return!1}b.CanvasRenderer.registerPlugin("prepare",c)}var $m=!1;function an(){$m||($m=!0,Zm());return Ym.exports}var bn={},cn={exports:bn};function dn(){bn.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.maxMilliseconds=c,this.frameStart=0}b.prototype.beginFrame=function(){this.frameStart=Date.now()};b.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return b}();bn["default"]=b}var en=!1;function fn(){en||(en=!0,dn());return cn.exports}var gn={},hn={exports:gn};function jn(){gn.__esModule=!0;var a=Wm();Object.defineProperty(gn,"webgl",{enumerable:!0,get:function(){return f(a)["default"]}});var b=an();Object.defineProperty(gn,"canvas",{enumerable:!0,get:function(){return f(b)["default"]}});var c=Rm();Object.defineProperty(gn,"BasePrepare",{enumerable:!0,get:function(){return f(c)["default"]}});var d=Mm();Object.defineProperty(gn,"CountLimiter",{enumerable:!0,get:function(){return f(d)["default"]}});var e=fn();Object.defineProperty(gn,"TimeLimiter",{enumerable:!0,get:function(){return f(e)["default"]}});function f(a){return a&&a.__esModule?a:{"default":a}}}var kn=!1;function ln(){kn||(kn=!0,jn());return hn.exports}var $={},mn={exports:$};function nn(){$.__esModule=!0;$.loader=$.prepare=$.particles=$.mesh=$.loaders=$.interaction=$.filters=$.extras=$.extract=$.accessibility=void 0;var b=H();Object.keys(b).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty($,a,{enumerable:!0,get:function(){return b[a]}})});var c=V();Object.keys(c).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty($,a,{enumerable:!0,get:function(){return c[a]}})});var d=hi();n=n(d);d=wi();d=m(d);var e=Li();e=m(e);var f=uj();f=m(f);var g=Ak();g=m(g);var h=dl();h=m(h);var i=Bl();i=m(i);var j=im();j=m(j);var k=Hm();k=m(k);var l=ln();m=m(l);function m(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function n(a){return a&&a.__esModule?a:{"default":a}}c.utils.mixins.performMixins();l=i.shared||null;$.accessibility=d;$.extract=e;$.extras=f;$.filters=g;$.interaction=h;$.loaders=i;$.mesh=j;$.particles=k;$.prepare=m;$.loader=l;typeof n["default"]==="function"&&n["default"]($);a.PIXI=$}var on=!1;function pn(){on||(on=!0,nn());return mn.exports}function d(a){switch(a){case void 0:return pn()}}e.exports=d},null);
__d("pixi-js",["pixi-js-4.8.1"],function(a,b,c,d,e,f){e.exports=b("pixi-js-4.8.1")()},null);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.1",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=b[e]+128>>8,b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];e=d;return e}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(var a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-util-0.15.1",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a,b){typeof g!=="undefined"&&g.exports?g.exports=b():a.nacl?a.nacl.util=b():(a.nacl={},a.nacl.util=b())})(this,function(){var a={};function b(a){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(a))throw new TypeError("invalid encoding")}a.decodeUTF8=function(a){if(typeof a!=="string")throw new TypeError("expected string");var b;a=unescape(encodeURIComponent(a));var c=new Uint8Array(a.length);for(b=0;b<a.length;b++)c[b]=a.charCodeAt(b);return c};a.encodeUTF8=function(a){var b,c=[];for(b=0;b<a.length;b++)c.push(String.fromCharCode(a[b]));return decodeURIComponent(escape(c.join("")))};typeof atob==="undefined"?typeof Buffer.from!=="undefined"?(a.encodeBase64=function(a){return Buffer.from(a).toString("base64")},a.decodeBase64=function(a){b(a);return new Uint8Array(Array.prototype.slice.call(Buffer.from(a,"base64"),0))}):(a.encodeBase64=function(a){return new Buffer(a).toString("base64")},a.decodeBase64=function(a){b(a);return new Uint8Array(Array.prototype.slice.call(new Buffer(a,"base64"),0))}):(a.encodeBase64=function(a){var b,c=[],d=a.length;for(b=0;b<d;b++)c.push(String.fromCharCode(a[b]));return btoa(c.join(""))},a.decodeBase64=function(a){b(a);var c;a=atob(a);var d=new Uint8Array(a.length);for(c=0;c<a.length;c++)d[c]=a.charCodeAt(c);return d});return a})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
__d("tweetnacl-util",["tweetnacl-util-0.15.1"],function(a,b,c,d,e,f){e.exports=b("tweetnacl-util-0.15.1")()},null);