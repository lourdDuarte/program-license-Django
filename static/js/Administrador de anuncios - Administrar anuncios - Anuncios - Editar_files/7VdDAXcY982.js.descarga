if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PlatformVersionReleases",[],function(a,b,c,d,e,f){a=Object.freeze({UNVERSIONED:"unversioned",V5_0:"v5.0",V6_0:"v6.0",V7_0:"v7.0",V8_0:"v8.0",V9_0:"v9.0",V10_0:"v10.0",V11_0:"v11.0",V12_0:"v12.0",V13_0:"v13.0",V14_0:"v14.0",V15_0:"v15.0"});f["default"]=a},66);
__d("AdsManagerGraphQLAPIVersioning",["PlatformVersionReleases"],function(a,b,c,d,e,f,g){"use strict";function a(){return c("PlatformVersionReleases").V12_0}g["default"]=a},98);
__d("AdsManagerRelayProfileHandler",["AdsInterfacesLoggerUtils","PreloadingEvent.flow","adsIsPreloadingDebugModeFromURI","performanceNow"],function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){if(a.usedCache)return;e=a.queryName;var f,g;a.usedPrefetcher===!0?(f=d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_SUCCESS,g=d("PreloadingEvent.flow").PreloadingEventType.PRELOAD_HIT):(f=d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,b!=null?g=d("PreloadingEvent.flow").PreloadingEventType.ERROR_LOADING_PRELOADED_DATA:g=d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_BEAT_JS_EXECUTION);if(c("adsIsPreloadingDebugModeFromURI")()){b=null;if(a.serverTimestamps!=null){var h;b=((h=a.serverTimestamps)==null?void 0:h.endTime)-((h=a.serverTimestamps)==null?void 0:h.startTime)}}a={api_request_source:null,call_name:e,endpoint:"graphql",error_type:g};d("AdsInterfacesLoggerUtils").logPreloading(a,f)}function a(a,b){if(b==null)return function(){};var d=c("performanceNow")();return function(a){var e=c("performanceNow")()-d;b.hasPrefetcher&&h(b,a,e)}}g["default"]=a},98);
__d("createRelayFBNetworkFetchExperiment",["invariant","DTSGParser","RelayAPIConfig","RelayAPIRequest","RelayGraphQLRequestUtils","RelayPrefetchedResponseProvider","RelayRuntime","getAnalyticsTags","getAsyncParams","getCrossOriginTransport","getSameOriginTransport","nullthrows","relay-runtime"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return a.operationKind==="mutation"}function j(a){return a.operationKind==="query"}function k(b,c){a.FormData!=null||h(0,19002);var d=new FormData();for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&d.append(e,b[e]);for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&d.append(e,c[e]);return d}function l(a){var b=a.id;a=a.text;b=(b=b)!=null?b:a;b!=null||h(0,2664);return b}function b(a){var b=a.graphURI,e=a.transportBuilder,f=a.getAdditionalData,g=a.getAdditionalHeaders,h=a.queryResponseCache,i=a.whitelistMutationsForResponseCache,j=a.liveQueryFetchWithWWWInitialFn;a.liveQueryFetchFn;var k=a.wrapObservableFn,l=a.accessToken,r=a.actorID,s=a.customHeaders,t=a.fetchTimeout,u=a.getAnalyticsTags,v=u===void 0?c("getAnalyticsTags"):u,w=a.retryDelays,x=a.userAgent,y=a.xhrEncoding,z=a.useXController;return function(a,u,A,B,C){var D,E,F,G,H,I;D=(D=b)!=null?D:c("RelayAPIConfig").graphURI;var J=h;E=(E=r)!=null?E:c("RelayAPIConfig").actorID;F=(F=l)!=null?F:c("RelayAPIConfig").accessToken;G=(G=z)!=null?G:c("RelayAPIConfig").useXController;H=(H=e)!=null?H:G?c("getSameOriginTransport"):c("RelayAPIConfig").withCredentials?c("getCrossOriginTransport").withCredentials:c("getCrossOriginTransport");G=f?f():G?{av:E}:{access_token:F};I=g?g():c("RelayGraphQLRequestUtils").getRelayAPIConfigHeaders((I=s)!=null?I:c("RelayAPIConfig").customHeaders,(I=y)!=null?I:c("RelayAPIConfig").xhrEncoding,(I=x)!=null?I:c("RelayAPIConfig").userAgent);var K={queryName:a.name,usedCache:!1,usedPrefetcher:!1,serverTimestamps:null,transactionId:A.transactionId,hasPrefetcher:a.id!=null?d("relay-runtime").PreloadableQueryRegistry.get(a.id)!=null:!1};I=q(D,H,I,a,u,B,G,v,(D=w)!=null?D:c("RelayAPIConfig").retryDelays,(H=t)!=null?H:c("RelayAPIConfig").fetchTimeout);J&&(I=p(I,a,u,J,i));B=n(a,u,K,J,A,E,C);G=B;if(J){D=o(a,u,K,A,J,C);G=G.ifEmpty(D)}G=G.ifEmpty(I);A.liveConfigId!=null&&j!=null&&(G=j(a,u,{actor_id:E,access_token:F,config_id:A.liveConfigId},G));H=k!=null?k(G):G;return m(K,H)}}function m(a,b){var c;return b["do"]({start:function(){c=d("RelayRuntime").RelayProfiler.profile("fetchRelayQuery",a)},next:function(b){var d;if(!Array.isArray(b)&&((d=b.extensions)==null?void 0:d.server_metadata)!=null&&((d=b.extensions.server_metadata)==null?void 0:d.request_start_time_ms)!=null&&((d=b.extensions.server_metadata)==null?void 0:d.time_at_flush_ms)!=null){d=b.extensions.server_metadata;b=d.request_start_time_ms;d=d.time_at_flush_ms;a.serverTimestamps={startTime:Number(b),endTime:Number(d)}}c.stop()},error:function(a){c.stop(a)}})}function n(a,b,e,f,g,i,k){if(!j(a))return d("RelayRuntime").Observable.create(function(a){return a.complete()});var m=l(a);g=g!=null&&g.metadata!=null&&g.metadata.prefetchedResponseProvider||void 0;g!=null&&(typeof g.get==="function"||h(0,2666),g=g);g=(g=g)!=null?g:c("RelayPrefetchedResponseProvider");g=g.get(i,m,b,a.name);return g.map(function(a){k!=null&&k({prefetched:!0});e.usedPrefetcher=!0;f&&f.set(m,b,a);return a})}function o(a,b,c,e,f,g){return d("RelayRuntime").Observable.create(function(d){if(j(a)&&!e.force){var h=f.get(l(a),b);h&&(g!=null&&g({cached:!0}),c.usedCache=!0,d.next(h))}d.complete()})}function p(a,b,c,d,e){return a["do"]({next:function(a){if(i(b)){var f=b.name;(e==null||!e[f])&&d.clear()}else Array.isArray(a)||d.set(l(b),c,a)}})}function q(a,b,e,f,g,h,j,l,m,n){return d("RelayRuntime").Observable.create(function(o){(!i(f)||l==null)&&(l=function(){return d("RelayRuntime").Observable.from(null)}),l().subscribe({next:function(l){var p=new(c("RelayAPIRequest"))(a,m,n).setMethod("POST").setSkipRetry(i(f)).setTrackingName("RelayFBNetwork_"+f.name).setTransportBuilder(b).setErrorHandler(function(a){var b;o.error(c("RelayGraphQLRequestUtils").createErrorFromXHR(a,"Network request encountered error "+(((b=a.errorType)!=null?b:"")+" ")+(((b=a.errorCode)!=null?b:"")+": "+((b=a.errorMsg)!=null?b:""))))}).setTimeoutHandler(function(){o.error(d("RelayRuntime").RelayError.createWarning("NetworkTimeoutError","Network request timed out."))}).setResponseChunkHandler(function(a,b,e){var f;try{c("DTSGParser").updateFromAsyncResponse(a),f=c("RelayGraphQLRequestUtils").parsePayload(a)}catch(a){return o.error(a)}if(!f)return o.error(d("RelayRuntime").RelayError.createWarning("EmptyResponseError","Parsed network response is empty"));if(f.errors)for(var b=f.errors,a=Array.isArray(b),g=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(a){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;if(h.severity==="CRITICAL")return o.error(c("RelayGraphQLRequestUtils").createErrorFromPayload(h))}o.next(f);e&&o.complete()}),q=babelHelpers["extends"]({},j,c("getAsyncParams")("POST"),{fb_api_caller_class:"RelayModern",fb_api_req_friendly_name:f.name,variables:JSON.stringify(g),server_timestamps:!0});f.id?q.doc_id=f.id:q.doc=c("nullthrows")(f.text,"RelayFBNetwork: A query should have either an id or text, found neither.");l!=null&&l.length>0&&(q.fb_api_analytics_tags=JSON.stringify(l));h!=null?p.setRawData(k(h,q)):p.setData(q).setRequestHeaders(babelHelpers["extends"]({"Content-Type":"application/x-www-form-urlencoded"},e));return p.send().abort}})})}g["default"]=b},98);
__d("relay-runtime/store/experimental-live-resolvers/LiveResolverCache",["invariant","Promise","relay-runtime/store/ClientID","relay-runtime/store/RelayModernRecord","relay-runtime/store/RelayModernSelector","relay-runtime/store/RelayRecordSource","relay-runtime/store/RelayResponseNormalizer","relay-runtime/store/RelayStoreUtils","relay-runtime/store/experimental-live-resolvers/LiveResolverSuspenseSentinel","relay-runtime/util/RelayConcreteNode","relay-runtime/util/recycleNodesInto","warning"],function(a,b,c,d,e,f,g){"use strict";var h,i=b("relay-runtime/util/RelayConcreteNode").RELAY_LIVE_RESOLVER,j=b("relay-runtime/store/ClientID").generateClientID,k=b("relay-runtime/store/ClientID").generateClientObjectClientID,l=(a=b("relay-runtime/store/RelayStoreUtils")).RELAY_RESOLVER_ERROR_KEY,m=a.RELAY_RESOLVER_INVALIDATION_KEY,n=a.RELAY_RESOLVER_SNAPSHOT_KEY,o=a.RELAY_RESOLVER_VALUE_KEY,p=a.getStorageKey,q=b("relay-runtime/store/experimental-live-resolvers/LiveResolverSuspenseSentinel").isSuspenseSentinel,r=b("relay-runtime/store/RelayModernSelector").createNormalizationSelector,s=b("relay-runtime/store/RelayResponseNormalizer").normalize,t="__resolverLiveStateSubscription",u="__resolverLiveStateValue",v="__resolverLiveStateDirty",w="__RELAY_RESOLVER__";function x(a,b,c){var d=a.get(b);d||(d=new Set(),a.set(b,d));d.add(c)}c=function(){function a(a,b){this.$1=new Map(),this.$2=new Map(),this.$3=a,this.$4=b}var c=a.prototype;c.readFromCacheOrEvaluate=function(a,c,d,e,f,k){var m=this.$3(),o=m.get(a);o!=null||g(0,64311);var r=p(c,d);o=(h||(h=b("relay-runtime/store/RelayModernRecord"))).getLinkedRecordID(o,r);var s=o==null?null:m.get(o);if(s==null||this.$5(s,f)){s!=null&&this.$6(s);o=(f=o)!=null?f:j(a,r);s=(h||(h=b("relay-runtime/store/RelayModernRecord"))).create(o,w);f=e();if(c.kind===i){if(f.resolverResult!=void 0){e=f.resolverResult;this.$7(s,o,e,c.path,d,k)}}else this.$8(s,f.resolverResult,c.path,d,k);h.setValue(s,n,f.snapshot);h.setValue(s,l,f.error);m.set(o,s);e=m.get(a);e!=null||g(0,64256);e=h.clone(e);h.setLinkedRecordID(e,r,o);m.set(a,e);if(c.fragment!=null){e=p(c.fragment,d);e=j(a,e);x(this.$1,e,o);x(this.$2,a,e);f=(f=f.snapshot)==null?void 0:f.seenRecords;if(f!=null)for(var f=f,t=Array.isArray(f),y=0,f=t?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(t){if(y>=f.length)break;z=f[y++]}else{y=f.next();if(y.done)break;z=y.value}z=z;x(this.$2,z,e)}}}else if(c.kind===i&&(h||(h=b("relay-runtime/store/RelayModernRecord"))).getValue(s,v)){o=(z=o)!=null?z:j(a,r);s=(h||(h=b("relay-runtime/store/RelayModernRecord"))).clone(s);y=h.getValue(s,u);A(y)||g(0,64172,c.path,JSON.stringify(s));this.$8(s,y.read(),c.path,d,k);h.setValue(s,v,!1);m.set(o,s)}t=this.$9(s);f=s[n];e=s[l];z=null;if(q(t)){z=(y=o)!=null?y:j(a,r)}return[t,o,e,f,z]};c.getLiveResolverPromise=function(a){var c=this.$3();c=c.get(a);c!=null||g(0,59681);var d=(h||(h=b("relay-runtime/store/RelayModernRecord"))).getValue(c,u);return new(b("Promise"))(function(a){var b=d.subscribe(function(){b(),a()})})};c.$6=function(a){a=(h||(h=b("relay-runtime/store/RelayModernRecord"))).getValue(a,t);a!=null&&a()};c.$7=function(a,c,d,e,f,g){c=this.$10(c);c=d.subscribe(c);(h||(h=b("relay-runtime/store/RelayModernRecord"))).setValue(a,u,d);this.$8(a,d.read(),e,f,g);h.setValue(a,v,!1);h.setValue(a,t,c)};c.$10=function(a){var c=this;return function(){var d=c.$3();d=d.get(a);if(!d)return;if(!(u in d)){b("warning")(!1,"Unexpected callback for a incomplete live resolver record (__id: `%s`). The record has missing live state value. This is a no-op and indicates a memory leak, and possible bug in Relay Live Resolvers. Possible cause: The original record was GC-ed, or was created with the optimistic record source. Record details: `%s`.",a,JSON.stringify(d));return}var e=b("relay-runtime/store/RelayRecordSource").create();d=(h||(h=b("relay-runtime/store/RelayModernRecord"))).clone(d);h.setValue(d,v,!0);e.set(a,d);c.$4.publish(e);c.$4.notify()}};c.$8=function(a,c,d,e,f){if(c!=null&&f!=null){typeof c=="object"||g(0,64694);var i=(h||(h=b("relay-runtime/store/RelayModernRecord"))).getDataID(a),j,l=this.$3();if(f.plural){Array.isArray(c)||g(0,64692,JSON.stringify(c));j=[];var m=[];for(var n=0;n<c.length;n++){var p=k(f.concreteType,i+":"+n),q=y(p,c[n],e,f,this.$4.__getNormalizationOptions([d+"."+n]));l.has(p)?m.push(q):z(l,q);j.push(p)}m.length>0&&this.$4.__publishSourcesAndNotifyOnlyUpdatedIds(m)}else{q=k(f.concreteType,i);p=y(q,c,e,f,this.$4.__getNormalizationOptions([d]));l.has(q)?this.$4.__publishSourcesAndNotifyOnlyUpdatedIds([p]):z(l,p);j=q}h.setValue(a,o,j)}else(h||(h=b("relay-runtime/store/RelayModernRecord"))).setValue(a,o,c)};c.$9=function(a){return(h||(h=b("relay-runtime/store/RelayModernRecord"))).getValue(a,o)};c.invalidateDataIDs=function(a){var b=this.$3(),c=new Set(),d=Array.from(a);while(d.length){var e=d.pop();a.add(e);e=this.$2.get(e);if(e==null)continue;for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;if(!c.has(h)){h=this.$1.get(h);if(h==null)continue;for(var h=h,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;this.$11(k,b);c.has(k)||d.push(k)}}}}};c.$11=function(a,c){var d=c.get(a);if(!d){b("warning")(!1,"Expected a resolver record with ID %s, but it was missing.",a);return}d=(h||(h=b("relay-runtime/store/RelayModernRecord"))).clone(d);h.setValue(d,m,!0);c.set(a,d)};c.$5=function(a,c){if(!(h||(h=b("relay-runtime/store/RelayModernRecord"))).getValue(a,m))return!1;var d=(h||(h=b("relay-runtime/store/RelayModernRecord"))).getValue(a,n),e=d==null?void 0:d.data;d=d==null?void 0:d.selector;if(e==null||d==null){b("warning")(!1,"Expected previous inputs and reader selector on resolver record with ID %s, but they were missing.",(h||(h=b("relay-runtime/store/RelayModernRecord"))).getDataID(a));return!0}a=c(d);c=a.data;d=b("relay-runtime/util/recycleNodesInto")(e,c);return d!==e?!0:!1};c.ensureClientRecord=function(a,c){var d=k(c,a),e=this.$3();if(!e.has(d)){c=(h||(h=b("relay-runtime/store/RelayModernRecord"))).create(d,c);h.setValue(c,"id",a);e.set(d,c)}return d};c.unsubscribeFromLiveResolverRecords=function(a){if(a.size===0)return;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=this.$3().get(e);e!=null&&(h||(h=b("relay-runtime/store/RelayModernRecord"))).getType(e)===w&&this.$6(e)}};c.invalidateResolverRecords=function(a){if(a.size===0)return;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=this.$3().get(e);f!=null&&(h||(h=b("relay-runtime/store/RelayModernRecord"))).getType(f)===w&&this.$3()["delete"](e)}};return a}();function y(a,c,d,e,f){var g=b("relay-runtime/store/RelayRecordSource").create();g.set(a,(h||(h=b("relay-runtime/store/RelayModernRecord"))).create(a,e.concreteType));e=r(e.normalizationNode,a,d);return s(g,e,c,f).source}function z(a,b){var c=b.getRecordIDs();for(var d=0;d<c.length;d++){var e=c[d],f=b.get(e);f&&(a.get(e)==null||g(0,64693,e),a.set(e,f))}}function A(a){return a!=null&&typeof a==="object"&&typeof a.read==="function"&&typeof a.subscribe==="function"}e.exports={LiveResolverCache:c}},null);
__d("relay-runtime/store/experimental-live-resolvers/LiveResolverStore",["invariant","regeneratorRuntime","relay-runtime/multi-actor-environment/ActorIdentifier","relay-runtime/store/DataChecker","relay-runtime/store/RelayModernRecord","relay-runtime/store/RelayOptimisticRecordSource","relay-runtime/store/RelayReader","relay-runtime/store/RelayReferenceMarker","relay-runtime/store/RelayStoreReactFlightUtils","relay-runtime/store/RelayStoreSubscriptions","relay-runtime/store/RelayStoreUtils","relay-runtime/store/defaultGetDataID","relay-runtime/store/experimental-live-resolvers/LiveResolverCache","relay-runtime/util/deepFreeze","relay-runtime/util/resolveImmediate"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("relay-runtime/multi-actor-environment/ActorIdentifier").INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,k=b("relay-runtime/multi-actor-environment/ActorIdentifier").assertInternalActorIdentifier,l=b("relay-runtime/store/RelayStoreUtils").ROOT_ID,m=b("relay-runtime/store/RelayStoreUtils").ROOT_TYPE,n=b("relay-runtime/store/experimental-live-resolvers/LiveResolverCache").LiveResolverCache,o=10;a=function(){function a(a,c){var d=this,e;this.$28=function(){d.$4&&(d.$4.next().done?d.$4=null:d.$5(d.$28))};this.$1=0;this.$2=0;this.$3=(e=c==null?void 0:c.gcReleaseBufferSize)!=null?e:o;this.$4=null;this.$5=(e=c==null?void 0:c.gcScheduler)!=null?e:b("relay-runtime/util/resolveImmediate");this.$6=(e=c==null?void 0:c.getDataID)!=null?e:b("relay-runtime/store/defaultGetDataID");this.$7=null;this.$8=new Set();this.$9=new Set();this.__log=(e=c==null?void 0:c.log)!=null?e:null;this.$10=c==null?void 0:c.queryCacheExpirationTime;this.$11=(e=c==null?void 0:c.operationLoader)!=null?e:null;this.$12=null;this.$13=a;this.$15=[];this.$16=new Map();this.$17=!1;this.$14=new n(function(){return d.$25()},this);this.$18=new(b("relay-runtime/store/RelayStoreSubscriptions"))(c==null?void 0:c.log,this.$14);this.$19=new Set();this.$21=(e=c==null?void 0:c.treatMissingFieldsAsNull)!=null?e:!1;this.$20=c==null?void 0:c.actorIdentifier;this.$22=c==null?void 0:c.reactFlightPayloadDeserializer;this.$23=c==null?void 0:c.reactFlightServerErrorHandler;this.$24=(a=c==null?void 0:c.shouldProcessClientComponents)!=null?a:!1;p(this.$13)}var c=a.prototype;c.getSource=function(){var a;return(a=this.$12)!=null?a:this.$13};c.$25=function(){var a;return(a=this.$12)!=null?a:this.$13};c.getLiveResolverPromise=function(a){return this.$14.getLiveResolverPromise(a)};c.check=function(a,c){var d,e,f=a.root,g=this.$25(),h=this.$7;a=this.$16.get(a.request.identifier);var i=a!=null?a.epoch:null;if(h!=null&&(i==null||i<=h))return{status:"stale"};h=(h=c==null?void 0:c.handlers)!=null?h:[];d=(d=c==null?void 0:c.getSourceForActor)!=null?d:function(a){k(a);return g};e=(e=c==null?void 0:c.getTargetForActor)!=null?e:function(a){k(a);return g};e=b("relay-runtime/store/DataChecker").check(d,e,(d=c==null?void 0:c.defaultActorIdentifier)!=null?d:j,f,h,this.$11,this.$6,this.$24);return r(e,i,a==null?void 0:a.fetchTime,this.$10)};c.retain=function(a){var b=this,c=a.request.identifier,d=!1,e=function(){if(d)return;d=!0;var a=b.$16.get(c);if(a==null)return;a.refCount--;if(a.refCount===0){var e=b.$10;a=a.fetchTime!=null&&e!=null&&a.fetchTime<=Date.now()-e;if(a)b.$16["delete"](c),b.scheduleGC();else{b.$15.push(c);if(b.$15.length>b.$3){e=b.$15.shift();b.$16["delete"](e);b.scheduleGC()}}}},f=this.$16.get(c);f!=null?(f.refCount===0&&(this.$15=this.$15.filter(function(a){return a!==c})),f.refCount+=1):this.$16.set(c,{operation:a,refCount:1,epoch:null,fetchTime:null});return{dispose:e}};c.lookup=function(a){var c=this.getSource();c=b("relay-runtime/store/RelayReader").read(c,a,this.$14);return c};c.__publishSourcesAndNotifyOnlyUpdatedIds=function(a){var b=this.$19;this.$19=new Set();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.publish(e)}this.$19.size>0&&this.notify();this.$19=b};c.notify=function(a,b){var c=this,d=this.__log;d!=null&&d({name:"store.notify.start",sourceOperation:a});this.$1++;b===!0&&(this.$7=this.$1);this.$14.invalidateDataIDs(this.$19);var e=this.getSource(),f=[];this.$18.updateSubscriptions(e,this.$19,f,a);this.$8.forEach(function(a){c.$26(a,b===!0)});d!=null&&d({name:"store.notify.complete",sourceOperation:a,updatedRecordIDs:this.$19,invalidatedRecordIDs:this.$9});this.$19.clear();this.$9.clear();if(a!=null){e=a.request.identifier;d=this.$16.get(e);if(d!=null)d.epoch=this.$1,d.fetchTime=Date.now();else if(a.request.node.params.operationKind==="query"&&this.$3>0&&this.$15.length<this.$3){d={operation:a,refCount:0,epoch:this.$1,fetchTime:Date.now()};this.$15.push(e);this.$16.set(e,d)}}return f};c.publish=function(a,b){var c=this.$25();q(c,a,this.$1+1,b,this.$19,this.$9);b=this.__log;b!=null&&b({name:"store.publish",source:a,optimistic:c===this.$12})};c.subscribe=function(a,b){return this.$18.subscribe(a,b)};c.holdGC=function(){var a=this;this.$4&&(this.$4=null,this.$17=!0);this.$2++;var b=function(){a.$2>0&&(a.$2--,a.$2===0&&a.$17&&(a.scheduleGC(),a.$17=!1))};return{dispose:b}};c.toJSON=function(){return"LiveResolverStore()"};c.getEpoch=function(){return this.$1};c.__getUpdatedRecordIDs=function(){return this.$19};c.lookupInvalidationState=function(a){var c=this,d=new Map();a.forEach(function(a){var e=c.getSource().get(a);d.set(a,(a=(h||(h=b("relay-runtime/store/RelayModernRecord"))).getInvalidationEpoch(e))!=null?a:null)});d.set("global",this.$7);a={dataIDs:a,invalidations:d};return a};c.checkInvalidationState=function(a){var b=this.lookupInvalidationState(a.dataIDs);b=b.invalidations;var c=a.invalidations;if(b.get("global")!==c.get("global"))return!0;for(var a=a.dataIDs,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(b.get(f)!==c.get(f))return!0}return!1};c.subscribeToInvalidationState=function(a,b){var c=this,d={callback:b,invalidationState:a};b=function(){c.$8["delete"](d)};this.$8.add(d);return{dispose:b}};c.$26=function(a,b){var c=this,d=a.callback;a=a.invalidationState;a=a.dataIDs;b=b||a.some(function(a){return c.$9.has(a)});if(!b)return;d()};c.snapshot=function(){this.$12==null||g(0,57727);var a=this.__log;a!=null&&a({name:"store.snapshot"});this.$18.snapshotSubscriptions(this.getSource());this.$4&&(this.$4=null,this.$17=!0);this.$12=b("relay-runtime/store/RelayOptimisticRecordSource").create(this.getSource())};c.restore=function(){var a=this.$12;a||g(0,57728);var c=this.__log;c!=null&&c({name:"store.restore"});c=b("relay-runtime/store/RelayOptimisticRecordSource").getOptimisticRecordIDs(a);this.$14.unsubscribeFromLiveResolverRecords(c);this.$12=null;this.$17&&this.scheduleGC();this.$18.restoreSubscriptions();this.$14.invalidateResolverRecords(c)};c.scheduleGC=function(){if(this.$2>0){this.$17=!0;return}if(this.$4)return;this.$4=this.$27();this.$5(this.$28)};c.__gc=function(){if(this.$12!=null)return;var a=this.$27();while(!a.next().done);};c.$27=b("regeneratorRuntime").mark(function a(){var c,d,e,f,g,h,i,j,k,l,m,n,o;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c=this.$1,d=new Set(),(e=this.$16.values(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 4:if(!f){a.next=10;break}if(!(g>=e.length)){a.next=7;break}return a.abrupt("break",24);case 7:h=e[g++];a.next=14;break;case 10:g=e.next();if(!g.done){a.next=13;break}return a.abrupt("break",24);case 13:h=g.value;case 14:i=h;j=i.operation;k=j.root;b("relay-runtime/store/RelayReferenceMarker").mark(this.$13,k,d,this.$11,this.$24);a.next=20;return;case 20:if(!(c!==this.$1)){a.next=22;break}return a.abrupt("continue",0);case 22:a.next=4;break;case 24:l=this.__log;l!=null&&l({name:"store.gc",references:d});if(d.size===0)this.$13.clear();else{m=this.$13.getRecordIDs();for(n=0;n<m.length;n++)o=m[n],d.has(o)||this.$13.remove(o)}return a.abrupt("return");case 30:case"end":return a.stop()}},a,this)});c.__getNormalizationOptions=function(a){return{path:a,getDataID:this.$6,treatMissingFieldsAsNull:this.$21,reactFlightPayloadDeserializer:this.$22,reactFlightServerErrorHandler:this.$23,shouldProcessClientComponents:this.$24,actorIdentifier:this.$20}};return a}();function p(a){if(!a.has(l)){var c=(h||(h=b("relay-runtime/store/RelayModernRecord"))).create(l,m);a.set(l,c)}}function q(a,c,d,e,f,g){e&&e.forEach(function(e){var i=a.get(e),f=c.get(e);if(f===null)return;i!=null?i=(h||(h=b("relay-runtime/store/RelayModernRecord"))).clone(i):i=f!=null?(h||(h=b("relay-runtime/store/RelayModernRecord"))).clone(f):null;if(!i)return;(h||(h=b("relay-runtime/store/RelayModernRecord"))).setValue(i,b("relay-runtime/store/RelayStoreUtils").INVALIDATED_AT_KEY,d);g.add(e);a.set(e,i)});e=c.getRecordIDs();for(var i=0;i<e.length;i++){var j=e[i],k=c.get(j),l=a.get(j);if(k&&l){var m=(h||(h=b("relay-runtime/store/RelayModernRecord"))).getType(l)===b("relay-runtime/store/RelayStoreReactFlightUtils").REACT_FLIGHT_TYPE_NAME?k:(h||(h=b("relay-runtime/store/RelayModernRecord"))).update(l,k);m!==l&&(f.add(j),a.set(j,m))}else k===null?(a["delete"](j),l!==null&&f.add(j)):k&&(a.set(j,k),f.add(j))}}function r(a,b,c,d){var e=a.mostRecentlyInvalidatedAt;a=a.status;if(typeof e==="number"&&(b==null||e>b))return{status:"stale"};if(a==="missing")return{status:"missing"};if(c!=null&&d!=null){e=c<=Date.now()-d;if(e)return{status:"stale"}}return{status:"available",fetchTime:(b=c)!=null?b:null}}e.exports=a},null);
__d("AdsManagerRelayEnvironment",["AdsManagerGraphQLAPIVersioning","AdsManagerRelayProfileHandler","CometRootInitServerFlag","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBResponseCache","RelayFBScheduler","RelayRequiredFieldLogger","cr:1121434","createRelayFBNetwork","createRelayFBNetworkFetchExperiment","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","gkx","liveQueryFetch","liveQueryFetchWithWWWInitial","relay-runtime","relay-runtime/store/experimental-live-resolvers/LiveResolverStore","relay-runtime/util/RelayProfiler","relayFBGetDataID","resolveImmediate"],function(a,b,c,d,e,f,g){"use strict";d("relay-runtime/util/RelayProfiler").attachProfileHandler("fetchRelayQuery",c("AdsManagerRelayProfileHandler"));a=function(){var a={},b={};for(var d in a)b["logger_properties["+encodeURIComponent(d)+"]"]=encodeURIComponent(a[d]);d=c("AdsManagerGraphQLAPIVersioning")();b.platform_version=encodeURIComponent(d);return b};e=c("createRelayFBNetwork")(c("createRelayFBNetworkFetchExperiment")({getAdditionalData:a,liveQueryFetchFn:c("liveQueryFetch"),liveQueryFetchWithWWWInitialFn:c("liveQueryFetchWithWWWInitial"),queryResponseCache:c("RelayFBResponseCache")}),c("createRelayFBSubscribeFunction")({queryResponseCache:c("RelayFBResponseCache")}));f=new(d("relay-runtime").RecordSource)();a=new(c("relay-runtime/store/experimental-live-resolvers/LiveResolverStore"))(f,{gcReleaseBufferSize:10,gcScheduler:c("resolveImmediate"),getDataID:c("relayFBGetDataID"),operationLoader:c("RelayFBOperationLoader"),queryCacheExpirationTime:1e3*60*5});c("gkx")("2955")&&a.holdGC();f=new(d("relay-runtime").Environment)({configName:"AdsManagerRelayEnvironment",getDataID:c("relayFBGetDataID"),handlerProvider:c("RelayFBHandlerProvider"),isServer:d("CometRootInitServerFlag").isServerEnvironment(),log:b("cr:1121434")!=null?b("cr:1121434")():null,missingFieldHandlers:c("getRelayFBMissingFieldHandlers")(),network:e,operationLoader:c("RelayFBOperationLoader"),requiredFieldLogger:d("RelayRequiredFieldLogger").create(),scheduler:c("RelayFBScheduler"),store:a});b=f;g["default"]=b},98);
__d("AdsBusinessIntegrityAntiAbuseErrorCodesCustomCTA",["errorCode","AdsBIAdgroupPublishFrictionSharedContents","AdsInterfacesLogEvents","AdsInterfacesLogger","Promise","URLSearchParams","immutable","promiseDone","requireDeferred"],function(a,b,c,d,e,f,g,h){var i=c("requireDeferred")("AdsBusinessIntegrityRedirectToXFAC").__setRef("AdsBusinessIntegrityAntiAbuseErrorCodesCustomCTA"),j=c("requireDeferred")("BAPProduct").__setRef("AdsBusinessIntegrityAntiAbuseErrorCodesCustomCTA"),k=c("requireDeferred")("adsBusinessIntegrityUserAdPublishChallengeInfoSelector").__setRef("AdsBusinessIntegrityAntiAbuseErrorCodesCustomCTA");function a(){var a=[i.load(),j.load()],e={cta:d("AdsBIAdgroupPublishFrictionSharedContents").CTA_START_AUTH_FBT,customCTA:function(){c("promiseDone")(b("Promise").all(a),function(a){var b=a[0].redirectToXFAC;a=a[1];var d=new URL(window.location.href),e=new(c("URLSearchParams"))(d.search);e.set("redirected_from_xfac","true");d.search=e.toString();b(d.href,a.ARMS_ABUSE)},function(a){var b;c("AdsInterfacesLogger").log({eventName:"ads_bi_anti_abuse_sync_cta_error",eventCategory:d("AdsInterfacesLogEvents").EventCategory.ERROR,data:(b={},b.message=a,b)})})}},f={cta:d("AdsBIAdgroupPublishFrictionSharedContents").CTA_START_AUTH_FBT,customCTA:function(){c("promiseDone")(b("Promise").all([].concat(a,[k.load()])),function(b){var e=b[0].redirectToXFAC,a=b[1];b=b[2];return b().mapValue(function(b){if(b==null){c("AdsInterfacesLogger").log({eventName:"ads_bi_anti_abuse_async_cta_error_no_user_challenge_info_loaded",eventCategory:d("AdsInterfacesLogEvents").EventCategory.ERROR});return}e(b.XFACAffectedAdgroupsCallbackURI,a.ARMS_ABUSE)})},function(a){var b;c("AdsInterfacesLogger").log({eventName:"ads_bi_anti_abuse_async_cta_error",eventCategory:d("AdsInterfacesLogEvents").EventCategory.ERROR,data:(b={},b.message=a,b)})})}};return c("immutable").Map([[3858009,e],[3858010,e],[2446945,f],[2446980,f]])}g.getDynamicCTAErrorCodesMapForAntiAbuseErrors=a},98);
__d("BAPProduct",[],function(a,b,c,d,e,f){a=Object.freeze({ADVERTISER_VETTING:"advertiser_vetting",ARMS_ABUSE:"arms_abuse",BAP_TEST_PRODUCT:"bap_test_product",BI_IMPERSONATION:"bi_impersonation",COMPROMISE:"compromise",POLITICAL_ADS:"political_ads"});f["default"]=a},66);
__d("ReactXHPContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);c=b;g["default"]=c},98);