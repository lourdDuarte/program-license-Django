if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("BusinessFinancePermissionRole",[],function(a,b,c,d,e,f){e.exports={FINANCE_EDITOR:"FINANCE_EDITOR",FINANCE_ANALYST:"FINANCE_ANALYST"}},null);
__d("BusinessIPPermissionRole",[],function(a,b,c,d,e,f){e.exports={ADS_RIGHTS_REVIEWER:"ADS_RIGHTS_REVIEWER"}},null);
__d("signalsApsectStatsDosTimeBucketOperation",["regeneratorRuntime"],function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a,c){var d,e,f;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d=a.next();if(!d.done){b.next=3;break}return b.abrupt("return");case 3:e=h(d.value.time,c),f=new Array(d.value.counts.length).fill(null);case 5:if(d.done){b.next=15;break}if(!(d.value.time>=e.nextStart)){b.next=11;break}b.next=9;return{counts:f,time:e.start};case 9:e=h(d.value.time,c),f.fill(null);case 11:d.value.counts.forEach(function(a,b){if(a!=null){f[b]=a+((a=f[b])!=null?a:0)}});d=a.next();b.next=5;break;case 15:if(!f.some(Boolean)){b.next=18;break}b.next=18;return{counts:f,time:e.start};case 18:case"end":return b.stop()}},g,this)}function h(a,b){a=Math.floor(a/b)*b;b=a+b;return{nextStart:b,start:a}}a.calcTimeBucket=h;f["default"]=a},66);
__d("signalsAspectStatsDosFilterTimeOperation",["regeneratorRuntime"],function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a,c){var d,e,f,h,i;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!e){b.next=7;break}if(!(f>=d.length)){b.next=4;break}return b.abrupt("break",17);case 4:h=d[f++];b.next=11;break;case 7:f=d.next();if(!f.done){b.next=10;break}return b.abrupt("break",17);case 10:h=f.value;case 11:i=h;if(!(i.time>=c.start&&i.time<=c.end)){b.next=15;break}b.next=15;return i;case 15:b.next=1;break;case 17:case"end":return b.stop()}},g,this)}f["default"]=a},66);
__d("signalsAspectStatsDosIsKeyMatchToSelector",["invariant"],function(a,b,c,d,e,f,g,h){"use strict";var i="__ANY_VALUE__";function a(a,b,c){return Object.keys(c).every(function(d){var e=b.indexOf(d);e!==-1||h(0,21983,d,b);return c[d]===i||a[e]===c[d]})}a.ANY_VALUE=i;g["default"]=a},98);
__d("signalsAspectStatsDosReduceKeysOperation",["regeneratorRuntime","signalsAspectStatsDosIsKeyMatchToSelector"],function(a,b,c,d,e,f,g){"use strict";var h=b("regeneratorRuntime").mark(d);function a(a,b,d){var e=Array(a.length).fill(null),f=Object.keys(d).map(function(a){return{existingIndex:b.indexOf(a),keyName:a}}).sort(function(a,b){return a.existingIndex<b.existingIndex?-1:1}),g=[];a.forEach(function(a,h){var i=c("signalsAspectStatsDosIsKeyMatchToSelector")(a,b,d);if(!i)return;var j=f.map(function(b){b=b.existingIndex;return a[b]});i=g.findIndex(function(a){return a.every(function(a,b){return j[b]===a})});i===-1&&(i=g.length,g.push(j));e[h]=i});return{keyReductionMap:e,outKeyNames:f.map(function(a){a=a.keyName;return a}),outKeys:g}}function d(a,c,d){var e,f,g,i,j,k,l,m;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:e=new Array(c),(f=a,g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!g){b.next=8;break}if(!(i>=f.length)){b.next=5;break}return b.abrupt("break",21);case 5:j=f[i++];b.next=12;break;case 8:i=f.next();if(!i.done){b.next=11;break}return b.abrupt("break",21);case 11:j=i.value;case 12:k=j;l=k.time;m=k.counts;e.fill(null);m.forEach(function(a,b){if(a==null)return;b=d[b];if(b==null)return;e[b]=((b=e[b])!=null?b:0)+a});b.next=19;return{counts:e,time:l};case 19:b.next=2;break;case 21:case"end":return b.stop()}},h,this)}d.getKeyReductionMap=a;g["default"]=d},98);
__d("SignalsAspectStatsDos",["invariant","regeneratorRuntime","signalsApsectStatsDosTimeBucketOperation","signalsAspectStatsDosFilterTimeOperation","signalsAspectStatsDosIsKeyMatchToSelector","signalsAspectStatsDosReduceKeysOperation"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("regeneratorRuntime").mark(n),j=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.$3=function(a){a=a===void 0?{}:a;var b=a.dateRange,d=b===void 0?null:b;b=a.timeBucketLengthSeconds;var e=b===void 0?null:b;b=a.selectKeys;a=b===void 0?null:b;var f=this.getKeys();b=this.$2;var g=n(this.$1),h=[];if(a!=null){var i=c("signalsAspectStatsDosReduceKeysOperation").getKeyReductionMap(this.getKeys(),this.$2.keyNames,a);f=i.outKeys;b=babelHelpers["extends"]({},b,{keyNames:i.outKeyNames});h.push(function(a){return c("signalsAspectStatsDosReduceKeysOperation")(a,f.length,i.keyReductionMap)})}d!=null&&h.push(function(a){return c("signalsAspectStatsDosFilterTimeOperation")(a,d)});e!=null&&h.push(function(a){return c("signalsApsectStatsDosTimeBucketOperation")(a,e)});a=h.filter(Boolean).reduce(function(a,b){return b(a)},g);return{outKeys:f,outMetadata:b,scanItems:a}};b.querySingle=function(a){var b=this.$3(a);b=b.scanItems;return l(b,a)};b.query=function(a){a=this.$3(a);var b=a.outKeys,c=a.outMetadata;a=a.scanItems;return m(b,c,a)};b.toChartData=function(a,b){b=this.$3(b);var c=b.outKeys;b=b.scanItems;return k(a,c,b)};b.getKeys=function(a){if(a===0)return[];var b=a==null?this.$1.map(function(a){return a.keys}):this.$1.map(function(b){return b.keys.slice(0,a)}),c=new Set(),d=[];b.forEach(function(a){var b=a.join("::");c.has(b)||(c.add(b),d.push(a))});return d};b.getValuesForKeyName=function(a){var b=this.$2.keyNames.indexOf(a);return b===-1?null:Array.from(new Set(this.$1.map(function(a){a=a.keys;return a[b]})))};b.getRawData=function(){return this.$1};b.getTimelineData=function(){return this.$1[0].timeline};b.isEmpty=function(){return this.$1.length===0};b.getCoveredDateRange=function(){return{end:Math.max.apply(Math,this.$1.map(function(a){return a.timeline[a.timeline.length-1][0]})),start:Math.min.apply(Math,this.$1.map(function(a){return a.timeline[0][0]}))}};b.getLastFireTime=function(){return Math.max.apply(Math,this.$1.map(function(a){return a.timeline[a.timeline.length-1][0]}))};return a}();j.ANY_VALUE=c("signalsAspectStatsDosIsKeyMatchToSelector").ANY_VALUE;function k(a,b,c){var d=[],e=b.map(function(b){return a(b)});for(var b=c,c=Array.isArray(b),f=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;d.push(g.counts.reduce(function(a,b,c){if(b==null)return a;Object.prototype.hasOwnProperty.call(a,e[c])||(a[e[c]]=0);a[e[c]]+=b;return a},{time:g.time}))}return d}function l(a,b){var c,d=[];c=(c=b==null?void 0:b.selectKeys)!=null?c:{};var e=0;for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;h=[h.time,h.counts.reduce(function(a,b){return b!=null?b+a:a},0)];d.push(h);e+=h[1]}return babelHelpers["extends"]({dateRange:d.length>0?{end:d[d.length-1][0],start:d[0][0]}:void 0,selectKeys:c,timeline:d,total:e},b)}function m(a,b,c){var d=new Array(a.length);a.forEach(function(a,b){return d[b]=[]});var e=function(){if(g){if(h>=f.length)return"break";i=f[h++]}else{h=f.next();if(h.done)return"break";i=h.value}var a=i;a.counts.forEach(function(b,c){b!=null&&d[c].push([a.time,b])})};for(var f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;c=e();if(c==="break")break}return new j(a.map(function(a,b){return{keys:a,timeline:d[b]}}),b)}function n(a){var c,d,e,f,g;return b("regeneratorRuntime").wrap(function(i){while(1)switch(i.prev=i.next){case 0:c=a.map(function(a){a=a.timeline;return a}),d=new Array(c.length).fill(0),e=new Array(c.length).fill(null),f=0,g=b("regeneratorRuntime").mark(function a(){var g;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:g=d.reduce(function(a,b,d){if(b<c[d].length){d=c[d][b];b=d[0];return Math.min(b,a)}return a},Number.MAX_SAFE_INTEGER);d.forEach(function(a,b){var i,j=c[b];e[b]=null;if(a>=j.length)return;i=(i=j[a])!=null?i:[];var k=i[0];i=i[1];a<j.length&&k===g&&(e[b]=i,d[b]++,d[b]===j.length&&f++);i=a<j.length-1?j[a+1][0]:null;i==null||k<i||h(0,21867)});a.next=4;return{counts:e,time:g};case 4:case"end":return a.stop()}},a,this)});case 5:if(!(f<c.length)){i.next=9;break}return i.delegateYield(g(),"t0",7);case 7:i.next=5;break;case 9:case"end":return i.stop()}},i,this)}g["default"]=j},98);
__d("AdsValidator",["invariant","emptyFunction","forEachObject"],function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a){this.propertySpecs=a,this.validators={},this.transforms={},this.nullables={},this.conditionals={},this.defaultErrorMessages={},this._initialize()}var b=a.prototype;b.isDeclaredProperty=function(a){return this.propertySpecs[a]!==void 0};b.validateProperty=function(a,b,c,d){a=this._validate(a,b,!1,c,d);return a};b.validateProperties=function(a,b,c){return this._validateProperties(a,a,c,b,!1)};b.transformAndValidateProperties=function(a,b,c){return this._validateProperties(a,a,c,b,!0)};b.transformAndValidateEditedProperties=function(a,b){return this._validateProperties(a,b,a,!1,!0)};b._validateProperties=function(a,b,c,d,e){var f=this,g={};d=d?Object.keys(this.propertySpecs):Object.keys(a);d.forEach(function(d){if(!f.isDeclaredProperty(d))return;var h=a[d];h=f._validate(d,h,e,b||a,c);(e||!h.isValid||h.hasWarning)&&(g[d]=h)});return Object.keys(g).length?g:null};b.transformAndValidateProperty=function(a,b,c,d){return this._validate(a,b,!0,c,d)};b._initialize=function(){var a=this;function b(a){if(!Array.isArray(a)){typeof a==="function"||h(0,4129);return[a]}return a}c("forEachObject")(this.propertySpecs,function(d,e){d.validators&&(a.validators[e]=b(d.validators)),d.transforms&&(a.transforms[e]=b(d.transforms)),d.isNullable&&(a.nullables[e]=typeof d.isNullable==="function"?d.isNullable:c("emptyFunction").thatReturns(d.isNullable)),d.conditional&&(a.conditionals[e]=d.conditional),d.defaultErrorMessage&&(a.defaultErrorMessages[e]=typeof d.defaultErrorMessage==="function"?d.defaultErrorMessage:c("emptyFunction").thatReturns(d.defaultErrorMessage))},this)};b._validate=function(a,b,c,d,e){this.propertySpecs[a]||h(0,4130,a);if(b===void 0)return{isValid:!1,text:a+" can never be undefined",value:b};var f=this.conditionals[a];if(f&&!f(b,d,e))return this._validResult(b);if(b===null){f=this.defaultErrorMessages[a]?this.defaultErrorMessages[a](d):null;f=f||a+" cannot be null";var g=this.nullables[a];return g&&g(d)?this._validResult(b):{isValid:!1,text:f,value:b}}g=this.validators[a]||[];f=this.transforms[a];c&&f&&(g=f.concat(g));return this._applyValidators(a,b,g,d,e)};b._applyValidators=function(a,b,c,d,e){c=c.reduce(function(a,b){if(!a.isValid||a.hasWarning)return a;b=b(a.value,d,e);Object.prototype.hasOwnProperty.call(b,"value")||(b.value=a.value);return b},this._validResult(b));b=this.defaultErrorMessages[a];!c.isValid&&!c.text&&b&&b(d)&&(c.text=b(d));return c};b._validResult=function(a){return{isValid:!0,value:a,hasWarning:!1}};return a}();g["default"]=a},98);
__d("AdsValidatorTransforms",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=typeof a==="string"?parseFloat(a):a;return{isValid:b==a,text:"is not a floating point number",value:b}}function b(a){var b=typeof a==="string"?parseInt(a,10):a;return{isValid:b==a,text:"is not a number",value:b}}function c(a){a=""+a;return{isValid:!0,value:a}}function d(a){return{isValid:!0,value:a.trim()}}function e(a,b){b=Math.floor(Math.abs(b||0));a&&b>a&&(b=a);return{isValid:!0,value:b}}f.toFloat=a;f.toInteger=b;f.toString=c;f.trim=d;f.toPositiveInteger=e},66);
__d("BrandValidator.brands",["AdsValidator","AdsValidatorTests","AdsValidatorTransforms"],function(a,b,c,d,e,f,g){"use strict";a=new(c("AdsValidator"))({id:{validators:d("AdsValidatorTests").isFBIDString,transforms:d("AdsValidatorTransforms").toString,isNullable:!1},name:{validators:d("AdsValidatorTests").isLengthyString,transforms:d("AdsValidatorTransforms").trim,isNullable:!1},verticalID:{validators:d("AdsValidatorTests").isLengthyString,transforms:d("AdsValidatorTransforms").trim,isNullable:!0},timezoneID:{validators:d("AdsValidatorTests").isValidTimeZoneID,isNullable:!1},picture:{validators:d("AdsValidatorTests").isLengthyString,isNullable:!0},link:{validators:d("AdsValidatorTests").isLengthyString,isNullable:!0},primaryPage:{validators:d("AdsValidatorTests").hasProperties.bind(null,["name","picture","link"]),isNullable:!0},creationTime:{validators:d("AdsValidatorTests").isDate,isNullable:!0},createdBy:{validators:d("AdsValidatorTests").hasProperties.bind(null,["name"]),isNullable:!0},updatedTime:{validators:d("AdsValidatorTests").isDate,isNullable:!0},updatedBy:{validators:d("AdsValidatorTests").hasProperties.bind(null,["name"]),isNullable:!0},extendedUpdatedTime:{validators:d("AdsValidatorTests").isDate,isNullable:!0},twoFactorType:{validators:d("AdsValidatorTests").isLengthyString,isNullable:!0}});b=a;g["default"]=b},98);
__d("AssetRole_DEPRECATED.brands",["AdsConstants","AppConstants.brands","BusinessFinancePermissionRole","BusinessIPPermissionRole"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){return Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk,b)&&Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk[b].role_ids,a)?c("AdsConstants").sdk[b].role_ids[a].toString():null}function i(a,b){switch(b){case c("AppConstants.brands").ASSET_TYPE.AD_ACCOUNT:return c("AdsConstants").adaccount_roles[a];case c("AppConstants.brands").ASSET_TYPE.PAGE:return c("AdsConstants").page_roles[a];case c("AppConstants.brands").ASSET_TYPE.BRAND:return c("AdsConstants").brand_roles[a];case c("AppConstants.brands").ASSET_TYPE.APP:return c("AdsConstants").app_roles[a];case c("AppConstants.brands").ASSET_TYPE.PRODUCT_CATALOG:return c("AdsConstants").productcatalog_roles[a];case c("AppConstants.brands").ASSET_TYPE.OFFLINE_CONVERSION_DATA_SET:return c("AdsConstants").offline_event_set_roles[a];case c("AppConstants.brands").ASSET_TYPE.AD_STUDY:return c("AdsConstants").lift_study_roles[a];case c("AppConstants.brands").ASSET_TYPE.SYSTEM_USER:return c("AdsConstants").system_user_roles[a];case c("AppConstants.brands").ASSET_TYPE.FINANCE:return c("AdsConstants").finance_roles[a];case c("AppConstants.brands").ASSET_TYPE.IP:return c("AdsConstants").ip_roles[a];default:a=h(a,b);if(a!=null&&Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk,b)&&Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk[b].role_labels,a))return c("AdsConstants").sdk[b].role_labels[a]}return"default"}function j(a,b){switch(b){case c("AppConstants.brands").ASSET_TYPE.AD_ACCOUNT:return c("AdsConstants").adaccount_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.PAGE:return c("AdsConstants").page_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.BRAND:return c("AdsConstants").brand_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.APP:return c("AdsConstants").app_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.PRODUCT_CATALOG:return c("AdsConstants").productcatalog_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.OFFLINE_CONVERSION_DATA_SET:return c("AdsConstants").offline_event_set_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.AD_STUDY:return c("AdsConstants").lift_study_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.SYSTEM_USER:return c("AdsConstants").system_user_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.FINANCE:return c("AdsConstants").finance_roles_desc[a];case c("AppConstants.brands").ASSET_TYPE.IP:return c("AdsConstants").ip_roles_desc[a];default:a=h(a,b);if(a!=null&&Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk,b)&&Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk[b].role_descs,a))return c("AdsConstants").sdk[b].role_descs[a]}return"default"}function k(a,b){b===void 0&&(b=[]);return Object.keys(l(a)).filter(function(a){return!b.includes(a)})}function l(a){switch(a){case c("AppConstants.brands").ASSET_TYPE.AD_ACCOUNT:return c("AdsConstants").adaccount_roles;case c("AppConstants.brands").ASSET_TYPE.PAGE:return c("AdsConstants").page_roles;case c("AppConstants.brands").ASSET_TYPE.BRAND:return c("AdsConstants").brand_roles;case c("AppConstants.brands").ASSET_TYPE.OFFLINE_CONVERSION_DATA_SET:return c("AdsConstants").offline_event_set_roles;case c("AppConstants.brands").ASSET_TYPE.APP:var b=JSON.parse(JSON.stringify(c("AdsConstants").app_roles));delete b.PARTNER_USER;return b;case c("AppConstants.brands").ASSET_TYPE.PRODUCT_CATALOG:return c("AdsConstants").productcatalog_roles;case c("AppConstants.brands").ASSET_TYPE.AD_STUDY:return c("AdsConstants").lift_study_roles;case c("AppConstants.brands").ASSET_TYPE.SYSTEM_USER:return c("AdsConstants").system_user_roles;case c("AppConstants.brands").ASSET_TYPE.FINANCE:return c("BusinessFinancePermissionRole");case c("AppConstants.brands").ASSET_TYPE.IP:return c("BusinessIPPermissionRole");default:if(Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk,a)){b=c("AdsConstants").sdk[a];a={};for(var d in b.roles)a[b.roles[d]]=b.role_labels[d];return a}}return{DEFAULT:"default"}}function a(a){switch(a){case c("AppConstants.brands").ASSET_TYPE.AD_ACCOUNT:return"GENERAL_USER";case c("AppConstants.brands").ASSET_TYPE.PAGE:return"ADVERTISER";case c("AppConstants.brands").ASSET_TYPE.PRODUCT_CATALOG:return"ADMIN";case c("AppConstants.brands").ASSET_TYPE.AD_STUDY:return"ADMIN";case c("AppConstants.brands").ASSET_TYPE.OFFLINE_CONVERSION_DATA_SET:return"ADMIN";case c("AppConstants.brands").ASSET_TYPE.SYSTEM_USER:return"SYSTEM_USER";case c("AppConstants.brands").ASSET_TYPE.PROJECT:return"PROJECT";default:if(Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk,a)){var b=String(c("AdsConstants").sdk[a].default_role);return Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk[a].roles,b)?c("AdsConstants").sdk[a].roles[b]:"DEFAULT"}}return"default"}function b(a,b,c){c=k(c);a=c.indexOf(a);c=c.indexOf(b);return a===-1||c===-1?!1:a<=c}function d(a,b){b===void 0&&(b=[]);b=k(a,b);return b.map(function(b){return{roleName:b,title:i(b,a),desc:j(b,a)}})}function e(a,b){var d=[a];switch(b){case c("AppConstants.brands").ASSET_TYPE.AD_ACCOUNT:d=Object.keys(c("AdsConstants").adaccount_roles);break;case c("AppConstants.brands").ASSET_TYPE.PAGE:d=Object.keys(c("AdsConstants").page_roles);break;case c("AppConstants.brands").ASSET_TYPE.PRODUCT_CATALOG:d=Object.keys(c("AdsConstants").productcatalog_roles);break;default:Object.prototype.hasOwnProperty.call(c("AdsConstants").sdk,b)&&(d=k(b))}return d.slice(d.indexOf(a))}g.getRoleID=h;g.getRoleLabel=i;g.getRoleDescription=j;g.getRoleKeys=k;g.getRoles=l;g.getDefaultRole=a;g.isRoleHigherOrEqual=b;g.getRoleData=d;g.getSubordnateRoles=e},98);
__d("AssetRole.brands",["ix","AdsConstants","AdsConstantsMigration","AppConstants.brands","AssetRole_DEPRECATED.brands","BusinessFinancePermissionRole","BusinessIPPermissionRole","immutable","keyMirror","objectValues"],function(a,b,c,d,e,f,g){"use strict";var h=b("AdsConstantsMigration").generic_assets,i=b("AppConstants.brands").ASSET_TYPE,j={getRoleID:function(a,b){return Object.prototype.hasOwnProperty.call(h,b)&&Object.prototype.hasOwnProperty.call(h[b].role_ids,a)?h[b].role_ids[a].toString():null},getRoleIDsFromRoleKeys:function(a,c){c=c?c:j.getRoleKeys(a);return b("immutable").Set(c.map(function(b){return j.getRoleID(b,a)}).filter(function(a){return!!a}))},getRoleIDToTaskIDs:function(a,b){return Object.prototype.hasOwnProperty.call(h,b)&&Object.prototype.hasOwnProperty.call(h[b].role_to_tasks,a)?h[b].role_to_tasks[a]:[a]},getRoleNameByRoleID:function(a,b){return Object.prototype.hasOwnProperty.call(h,b)&&Object.prototype.hasOwnProperty.call(h[b].roles,a)?h[b].roles[a]:"DEFAULT"},getRoleNameSetByRoleIDs:function(a,c){var d=b("immutable").Set();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;Object.prototype.hasOwnProperty.call(h,c)&&Object.prototype.hasOwnProperty.call(h[c].roles,g)&&(d=d.add(h[c].roles[g]))}return d},convertToTaskBasedRoleIDs:function(a,c){var d,e=((d=h)!=null?(d=d[c])!=null?d.role_to_tasks:d:d)||{},f={};a.forEach(function(a){return(Object.prototype.hasOwnProperty.call(e,a)?e[a]:[a]).forEach(function(a){return f[a]=a})});return b("objectValues")(f)},convertToTaskBasedRoleNames:function(a,c){var d,e=((d=h)!=null?(d=d[c])!=null?d.role_to_task_names:d:d)||{},f={};a.forEach(function(a){return(Object.prototype.hasOwnProperty.call(e,a)?e[a]:[a]).forEach(function(a){return f[a]=a})});return b("objectValues")(f)},convertToAllPossibleRolesFromTasks:function(a,c){var d=b("immutable").Set(b("AssetRole_DEPRECATED.brands").getRoleKeys(c)),e=new Set(),f=new Set();a.forEach(function(a){d.contains(a)?f.add(a):e.add(a)});if(e.size===0)return a;var g=this.getImpliedPermissionTaskNames(e,c);c=b("immutable").Map(((a=h)!=null?(a=a[c])!=null?a.role_to_task_names:a:a)||{});c.forEach(function(a,b){g.union(a).equals(g)&&f.add(b)});return Array.from(f)},getAllRolesBelowRoleID:function(a,b){var c=this.getRoleKeys(b);a=c.indexOf(this.getRoleNameByRoleID(a,b));return a>=0?c.slice(a):[]},isRoleHigherOrEqual:function(a,b,c){c=j.getRoleKeys(c);a=c.indexOf(a);c=c.indexOf(b);return a===-1||c===-1?!1:a<=c},getTopRoleFromRoles:function(a,b){b=this.getRoleKeys(b);var c;for(var d in b)if(a.indexOf(b[d])>=0){c=b[d];break}return c},getRoleLabelByID:function(a,b){return this.getRoleLabel(this.getRoleNameByRoleID(a,b),b)},getRoleLabels:function(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d];e=j.getRoleLabelNullable(e,b);e!=null&&c.push(e)}return c},getRoleLabel:function(a,b){a=j.getRoleLabelNullable(a,b);return a==null?"default":a},getRoleLabelNullable:function(a,c){switch(c){case i.BRAND:return b("AdsConstants").brand_roles[a];case i.SYSTEM_USER:return b("AdsConstants").system_user_roles[a];case i.FINANCE:return b("AdsConstants").finance_roles[a];case i.IP:return b("AdsConstants").ip_roles[a];case i.APP:return b("AdsConstants").app_roles[a]}a=j.getRoleID(a,c);if(a!=null&&Object.prototype.hasOwnProperty.call(h,c)&&Object.prototype.hasOwnProperty.call(h[c].role_labels,a))return h[c].role_labels[a];else return null},getRoleDescriptionByID:function(a,b){return this.getRoleDescription(this.getRoleNameByRoleID(a,b),b)},getRoleDescription:function(a,c){switch(c){case i.BRAND:return b("AdsConstants").brand_roles_desc[a];case i.SYSTEM_USER:return b("AdsConstants").system_user_roles_desc[a];case i.FINANCE:return b("AdsConstants").finance_roles_desc[a];case i.IP:return b("AdsConstants").ip_roles_desc[a]}a=this.getRoleID(a,c);if(a!=null&&Object.prototype.hasOwnProperty.call(h,c)&&Object.prototype.hasOwnProperty.call(h[c].role_descs,a))return h[c].role_descs[a];else return"default"},getRoleKeys:function(a,b){b===void 0&&(b=[]);return Object.keys(this.getRoles(a)).filter(function(a){return!b.includes(a)})},getRoleNames:function(a){return b("keyMirror")(this.getRoles(a))},getRoles:function(a){switch(a){case i.BRAND:return b("AdsConstants").brand_roles;case i.SYSTEM_USER:return b("AdsConstants").system_user_roles;case i.FINANCE:return b("BusinessFinancePermissionRole");case i.IP:return b("BusinessIPPermissionRole")}if(Object.prototype.hasOwnProperty.call(h,a)){a=h[a];var c={};for(var d in a.roles)c[a.roles[d]]=a.role_labels[d];return c}else return{DEFAULT:"default"}},getDefaultRole:function(a){switch(a){case i.OFFLINE_CONVERSION_DATA_SET:return"ADMIN";case i.SYSTEM_USER:return"SYSTEM_USER";case i.PROJECT:return"PROJECT";default:if(Object.prototype.hasOwnProperty.call(h,a))return this.getRoleNameByRoleID(String(h[a].default_role),a)}return"default"},getRoleData:function(a,b){b===void 0&&(b=[]);b=this.getRoleKeys(a,b);return b.map(function(b){return{roleName:b,title:j.getRoleLabel(b,a),desc:j.getRoleDescription(b,a)}})},getIcon:function(a,b){b=k[b];return!b?g("403137"):b[a]},sortRoleKeys:function(a,b){var c=this.convertToTaskBasedRoleNames(b,a);return this.getRoleKeys(a).filter(function(a){return b.indexOf(a)!==-1||c.indexOf(a)!==-1})},sortRoleIDs:function(a,b){var c=this,d=this.convertToTaskBasedRoleIDs(b,a);return this.getRoleKeys(a).map(function(b){return c.getRoleID(b,a)}).filter(function(a){return b.indexOf(a)!==-1||d.indexOf(a)!==-1})},getSubordnateRoles:function(a,b){var c=[a];Object.prototype.hasOwnProperty.call(h,b)&&(c=j.getRoleKeys(b));return c.slice(c.indexOf(a))},getImpliedPermissionTasks:function(a,c){if(!Object.prototype.hasOwnProperty.call(h,c)||a.isEmpty())return b("immutable").Set();var d=h[c].role_impl,e=b("immutable").Set();a.forEach(function(a){var b=new Set(d[a]);b.add(a);e=e.union(b)});return e},getImpliedPermissionTaskNames:function(a,c){a=this.getRoleIDsFromRoleKeys(c,Array.from(a));a=this.getImpliedPermissionTasks(a,c);var d=h[c].roles,e=new Set();a.forEach(function(a){a=d[a];e.add(a)});return b("immutable").Set(e)},isUIHiddenRole:function(a,b){a=j.getRoleID(a,b);return a!=null&&Object.prototype.hasOwnProperty.call(h,b)&&Object.prototype.hasOwnProperty.call(h[b].new_hidden_roles,a)?!0:!1}},k={};k[i.AD_ACCOUNT]={ADMIN:g("29122"),GENERAL_USER:g("403137"),REPORTS_ONLY:g("29104")};k[i.PAGE]={MANAGER:g("29122"),CONTENT_CREATOR:g("29163"),MODERATOR:g("29157"),ADVERTISER:g("403137"),INSIGHTS_ANALYST:g("29104")};k[i.PRODUCT_CATALOG]={ADMIN:g("29122")};k[i.OFFLINE_CONVERSION_DATA_SET]={ADMIN:g("29122"),CONSUMER:g("29104")};k[i.AD_STUDY]={ADMIN:g("407008"),CONSUMER:g("406551")};e.exports=j},null);
__d("PageAPIConverter.brands",["fbt","AppConstants.brands","AssetRole.brands"],function(a,b,c,d,e,f,g,h){"use strict";function i(){return b("AssetRole.brands")}function a(a){a=j(a);a.status=c("AppConstants.brands").REQUESTED_ASSET_STATUS.CONFIRMED;a.permittedRoles=i().getRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE);a.permittedTasks=i().getRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE);a.accessType=c("AppConstants.brands").ACCESS_TYPE.OWNER;return a}function d(a){var b=j(a);b.status=c("AppConstants.brands").REQUESTED_ASSET_STATUS.CONFIRMED;b.permittedRoles=i().sortRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE,a.permitted_roles||[]);b.permittedTasks=i().sortRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE,a.permitted_tasks||[]);b.permittedTasksFromBusinessAssetGroups=i().sortRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE,a.permitted_tasks_from_business_asset_groups||[]);b.accessType=c("AppConstants.brands").ACCESS_TYPE.AGENCY;return b}function j(a){var b;b={alias:a.username||"",id:a.id+"",name:a.global_brand_page_name||a.name,business:a.business||null,link:a.link||null,picture:a.picture&&((b=a.picture)==null?void 0:(b=b.data)==null?void 0:b.url)||null,isVerified:!!a.is_verified,category:a.category||null,assetType:c("AppConstants.brands").ASSET_TYPE.PAGE,isDelegatePage:(b=a.has_transitioned_to_new_page_experience)!=null?b:!1,additionalProfileID:(b=a.additional_profile_id)!=null?b:null,useProfilePlusPerms:(b=a.has_updated_profile_plus_perm_management)!=null?b:!1,isLoaded:!0,isPublished:a.is_published===void 0?!0:!!a.is_published,userPermissions:a.userpermissions,hasLocationPages:!!a.locations,location:a.location||null,parentPage:a.parent_page||null,globalPagesRootId:a.global_brand_root_id||null,creationTime:a.page_created_time};b.name||(b.isLoaded=!1,b.name=h._("P\u00e1gina no disponible"));return b}function e(a){return{id:a.id+"",name:a.name,category:a.category,link:a.link,picture:a.picture,loaded:!0}}function f(a){a=j(a.page||{id:a.id});a.status=c("AppConstants.brands").REQUESTED_ASSET_STATUS.PENDING;a.permittedRoles=i().getRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE);a.permittedTasks=i().getRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE);a.accessType=c("AppConstants.brands").ACCESS_TYPE.OWNER;return a}function k(a){var b=j(a.page||{id:a.id});b.businessName=a.business_name;b.status=c("AppConstants.brands").REQUESTED_ASSET_STATUS.PENDING;b.permittedRoles=i().sortRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE,a.permitted_roles||[]);b.permittedTasks=i().sortRoleKeys(c("AppConstants.brands").ASSET_TYPE.PAGE,a.permitted_tasks||[]);b.accessType=c("AppConstants.brands").ACCESS_TYPE.AGENCY;return b}g.fromAPIForOwned=a;g.fromAPIForClient=d;g.fromAPI=j;g.fromPageCreationAPI=e;g.fromAPIForOwnedRequest=f;g.fromAPIForClientRequest=k},98);
__d("BrandAPIConverter.brands",["BrandValidator.brands","FBLogger","PageAPIConverter.brands","UserAPIConverter.brands","forEachObject"],function(a,b,c,d,e,f,g){"use strict";function a(a){a.sharingEligibilityStatus=a.sharing_eligibility_status;a.isBusinessVerificationEligible=a.is_business_verification_eligible;a.isTierRestricted=a.is_tier_restricted;a.isTierPendingCompromiseReview=a.is_tier_pending_compromise_review;a.canShareCustomAudiences=a.can_share_custom_audineces;a.verificationStatus=a.verification_status;a.businessVerificationDirectionalExperimentBucket=a.business_verification_directional_exp_bucket;return a}function b(a){a=h(a);i(a);return a}function e(a,b){return{name:a.name,primary_page:a.primaryPage?a.primaryPage.id:null,two_factor_type:a.twoFactorType,allow_page_management_in_www:a.allowPageManagementInWWW,handleError:b}}function h(a){return{id:a.id+"",name:a.name,verticalID:a.vertical_id?a.vertical_id.toString():null,timezoneID:a.timezone_id,paymentAccountID:a.payment_account_id+"",picture:a.picture&&a.picture.data.url,primaryPage:a.primary_page?d("PageAPIConverter.brands").fromAPI(a.primary_page):null,link:a.link||null,creationTime:a.created_time?new Date(a.created_time*1e3):null,createdBy:a.created_by?d("UserAPIConverter.brands").fromAPI(a.created_by):null,updatedTime:a.updated_time?new Date(a.updated_time*1e3):null,updatedBy:a.updated_by?d("UserAPIConverter.brands").fromAPI(a.updated_by):null,extendedUpdatedTime:a.extended_updated_time?new Date(a.extended_updated_time*1e3):null,twoFactorType:a.two_factor_type||"none",allowPageManagementInWWW:a.allow_page_management_in_www,showAutoECApplicationInitiation:a.show_auto_ec_application_initiation||!1,blockOfflineAnalytics:a.block_offline_analytics,verificationStatus:a.verification_status,sharingEligibilityStatus:a.sharing_eligibility_status,objectStatus:null,canCreateAdAccount:a.can_create_ad_account,isTierRestricted:a.is_tier_restricted,isTierPendingCompromiseReview:a.is_tier_pending_compromise_review,canShareCustomAudiences:a.can_share_custom_audiences,canUseExtendedCredit:a.can_use_extended_credit,isBusinessVerificationEligible:a.is_business_verification_eligible,isNonDiscriminationCertified:a.is_non_discrimination_certified,canAddOrCreatePage:a.can_add_or_create_page,hasOptedOutBusinessVerification:a.has_opted_out_business_verification,businessVerificationDirectionalExperimentBucket:a.business_verification_directional_exp_bucket}}function i(a){var b=c("BrandValidator.brands").validateProperties(a);b&&c("forEachObject")(b,function(b,d){c("FBLogger")("ads").mustfix("brand %s: %s %s: %s",a.id,d,b.text!=null?b.text.toString():"",b.value!=null&&typeof b.value==="object"?b.value.toString():"")})}g.formatSelectedFields=a;g.fromAPI=b;g.getDAOParamsForUpdate=e},98);
__d("XBusinessGetRelationAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/business/async/getRelation/",{business_id:{type:"Int",required:!0},object_id:{type:"Int",required:!0},object_type:{type:"Enum",required:!0,enumType:1}})},null);
__d("BrandDataLoader.brands",["AdsDataAtom","AppConstants.brands","AppLogger.brands","AsyncRequest","BrandAPIConverter.brands","BusinessManagerGraphAPI.brands","XBusinessGetRelationAsyncController","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h=["id","name","picture.type(square)","eligible_app_id_for_ami_initiation","sharing_eligibility_status","timezone_id","is_business_verification_eligible","is_non_discrimination_certified","is_tier_restricted","is_tier_pending_compromise_review","qe_group_for_ami_brazil","business_verification_directional_exp_bucket","verification_status"];function a(a){c("AdsDataAtom").handleUpdateFromViewAction({type:c("AppConstants.brands").BRAND_ACTION.FETCH_START,businessID:a}),c("promiseDone")(d("BusinessManagerGraphAPI.brands").get(f.id).object("brand",a).get({fields:h,date_format:"U"}).then(function(b){c("AdsDataAtom").handleUpdateFromViewAction({type:c("AppConstants.brands").BRAND_ACTION.FETCH_SUCCESS,businessID:a,data:d("BrandAPIConverter.brands").formatSelectedFields(b)})})["catch"](function(b){c("AdsDataAtom").handleUpdateFromViewAction({type:c("AppConstants.brands").BRAND_ACTION.FETCH_ERROR,businessID:a,error:b})}))}function b(a,b){c("AdsDataAtom").handleUpdateFromViewAction({type:c("AppConstants.brands").BRAND_ACTION.VALIDATE_START});a=c("XBusinessGetRelationAsyncController").getURIBuilder().setInt("business_id",a).setInt("object_id",b).setEnum("object_type",c("AppConstants.brands").ASSET_TYPE.BRAND).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){c("AppLogger.brands").logForAnalytics(c("AppLogger.brands").CATEGORY.AGENCIES,"add_new_partner_input_id_validation_success");a=a.payload;a.id=String(a.id);a.picture={data:{url:a.picture}};c("AdsDataAtom").handleUpdateFromViewAction({type:c("AppConstants.brands").BRAND_ACTION.VALIDATE_SUCCESS,businessID:b,data:a})}).setErrorHandler(function(a){c("AppLogger.brands").logForAnalytics(c("AppLogger.brands").CATEGORY.AGENCIES,"add_new_partner_input_id_validation_failure"),c("AdsDataAtom").handleUpdateFromViewAction({type:c("AppConstants.brands").BRAND_ACTION.VALIDATE_FAILURE,errorMessage:a.errorDescription})}).send()}g.getBrandDetails=a;g.validateBusinessID=b},98);
__d("BusinessStore.brands",["AdsDataAtom","AppConstants.brands","BrandDataLoader.brands","FluxLoadObjectStore"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.__getActionTypes=function(){return[this.getActionTypeStartLoad(),c("AppConstants.brands").BRAND_ACTION.FETCH_ERROR,c("AppConstants.brands").BRAND_ACTION.FETCH_START,c("AppConstants.brands").BRAND_ACTION.FETCH_SUCCESS,c("AppConstants.brands").BRAND_ACTION.VALIDATE_SUCCESS]};e.reduce=function(a,b){b=b.action;switch(b.type){case c("AppConstants.brands").BRAND_ACTION.FETCH_START:return this.__setLoading(a,[b.businessID]);case c("AppConstants.brands").BRAND_ACTION.FETCH_SUCCESS:return this.__handleOne(a,b.businessID,b.data);case c("AppConstants.brands").BRAND_ACTION.FETCH_ERROR:return this.__handleOne(a,b.businessID,b.error);case c("AppConstants.brands").BRAND_ACTION.VALIDATE_SUCCESS:return this.__handleOne(a,b.businessID,b.data);default:return a}};e.__load=function(a){d("BrandDataLoader.brands").getBrandDetails(a)};return b}(c("FluxLoadObjectStore"));a.__moduleID=f.id;b=new a(c("AdsDataAtom"));g["default"]=b},98);
__d("XOffsiteSignalsStatsController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/offsite_signals/stats/",{data_source_id:{type:"FBID",required:!0},query_type:{type:"Enum",required:!0,enumType:1},start_time:{type:"Int"},end_time:{type:"Int"},event_name:{type:"String"}})},null);